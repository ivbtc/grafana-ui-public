"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(self["webpackChunkgrafana"] = self["webpackChunkgrafana"] || []).push([["ApiKeysPage"],{

/***/ "./public/app/features/api-keys/ApiKeysActionBar.tsx":
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ApiKeysActionBar: () => (/* binding */ ApiKeysActionBar)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"./.yarn/cache/react-npm-18.2.0-1eae08fee2-88e38092da.zip/node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _grafana_ui__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(\"./.yarn/__virtual__/@grafana-ui-virtual-d722efae30/1/packages/grafana-ui/src/components/Forms/InlineField.tsx\");\n/* harmony import */ var _grafana_ui__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(\"./.yarn/__virtual__/@grafana-ui-virtual-d722efae30/1/packages/grafana-ui/src/components/FilterInput/FilterInput.tsx\");\n\n\n\nconst ApiKeysActionBar = ({ searchQuery, disabled, onSearchChange }) => {\n  return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", { className: \"page-action-bar\" }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_grafana_ui__WEBPACK_IMPORTED_MODULE_1__.InlineField, { grow: true }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_grafana_ui__WEBPACK_IMPORTED_MODULE_2__.FilterInput, { placeholder: \"Search keys\", value: searchQuery, onChange: onSearchChange })));\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9wdWJsaWMvYXBwL2ZlYXR1cmVzL2FwaS1rZXlzL0FwaUtleXNBY3Rpb25CYXIudHN4IiwibWFwcGluZ3MiOiI7Ozs7Ozs7OztBQUFrQjtBQUV1QjtBQVFsQyxNQUFNLG1CQUFtQixDQUFDLEVBQUUsYUFBYSxVQUFVLGVBQWUsTUFBYTtBQUNwRixTQUNFLDJFQUFDLFNBQUksV0FBVSxxQkFDYiwyRUFBQyxvREFBVyxJQUFDLE1BQUksUUFDZiwyRUFBQyxvREFBVyxJQUFDLGFBQVksZUFBYyxPQUFPLGFBQWEsVUFBVSxnQkFBZ0IsQ0FDdkYsQ0FDRjtBQUVKIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZ3JhZmFuYS8uL3B1YmxpYy9hcHAvZmVhdHVyZXMvYXBpLWtleXMvQXBpS2V5c0FjdGlvbkJhci50c3g/MDI0MSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuXG5pbXBvcnQgeyBGaWx0ZXJJbnB1dCwgSW5saW5lRmllbGQgfSBmcm9tICdAZ3JhZmFuYS91aSc7XG5cbmludGVyZmFjZSBQcm9wcyB7XG4gIHNlYXJjaFF1ZXJ5OiBzdHJpbmc7XG4gIGRpc2FibGVkOiBib29sZWFuO1xuICBvblNlYXJjaENoYW5nZTogKHZhbHVlOiBzdHJpbmcpID0+IHZvaWQ7XG59XG5cbmV4cG9ydCBjb25zdCBBcGlLZXlzQWN0aW9uQmFyID0gKHsgc2VhcmNoUXVlcnksIGRpc2FibGVkLCBvblNlYXJjaENoYW5nZSB9OiBQcm9wcykgPT4ge1xuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPVwicGFnZS1hY3Rpb24tYmFyXCI+XG4gICAgICA8SW5saW5lRmllbGQgZ3Jvdz5cbiAgICAgICAgPEZpbHRlcklucHV0IHBsYWNlaG9sZGVyPVwiU2VhcmNoIGtleXNcIiB2YWx1ZT17c2VhcmNoUXVlcnl9IG9uQ2hhbmdlPXtvblNlYXJjaENoYW5nZX0gLz5cbiAgICAgIDwvSW5saW5lRmllbGQ+XG4gICAgPC9kaXY+XG4gICk7XG59O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./public/app/features/api-keys/ApiKeysActionBar.tsx\n");

/***/ }),

/***/ "./public/app/features/api-keys/ApiKeysPage.tsx":
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ApiKeysPageUnconnected: () => (/* binding */ ApiKeysPageUnconnected),\n/* harmony export */   MigrationSummary: () => (/* binding */ MigrationSummary),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"./.yarn/cache/react-npm-18.2.0-1eae08fee2-88e38092da.zip/node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(\"./.yarn/__virtual__/react-redux-virtual-5487a8ab90/0/cache/react-redux-npm-7.2.6-134f5ed64d-0bf142ce0d.zip/node_modules/react-redux/es/index.js\");\n/* harmony import */ var _grafana_ui__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(\"./.yarn/__virtual__/@grafana-ui-virtual-d722efae30/1/packages/grafana-ui/src/components/Layout/Layout.tsx\");\n/* harmony import */ var _grafana_ui__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(\"./.yarn/__virtual__/@grafana-ui-virtual-d722efae30/1/packages/grafana-ui/src/components/Forms/InlineField.tsx\");\n/* harmony import */ var _grafana_ui__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(\"./.yarn/__virtual__/@grafana-ui-virtual-d722efae30/1/packages/grafana-ui/src/components/Switch/Switch.tsx\");\n/* harmony import */ var _grafana_ui__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(\"./.yarn/__virtual__/@grafana-ui-virtual-d722efae30/1/packages/grafana-ui/src/components/Modal/Modal.tsx\");\n/* harmony import */ var _grafana_ui__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(\"./.yarn/__virtual__/@grafana-ui-virtual-d722efae30/1/packages/grafana-ui/src/components/Button/Button.tsx\");\n/* harmony import */ var app_core_components_Page_Page__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(\"./public/app/core/components/Page/Page.tsx\");\n/* harmony import */ var app_core_core__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(\"./public/app/core/core.ts\");\n/* harmony import */ var app_features_profile_state_selectors__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(\"./public/app/features/profile/state/selectors.ts\");\n/* harmony import */ var app_types__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(\"./public/app/types/index.ts\");\n/* harmony import */ var _ApiKeysActionBar__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(\"./public/app/features/api-keys/ApiKeysActionBar.tsx\");\n/* harmony import */ var _ApiKeysTable__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(\"./public/app/features/api-keys/ApiKeysTable.tsx\");\n/* harmony import */ var _MigrateToServiceAccountsCard__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(\"./public/app/features/api-keys/MigrateToServiceAccountsCard.tsx\");\n/* harmony import */ var _state_actions__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(\"./public/app/features/api-keys/state/actions.ts\");\n/* harmony import */ var _state_reducers__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(\"./public/app/features/api-keys/state/reducers.ts\");\n/* harmony import */ var _state_selectors__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(\"./public/app/features/api-keys/state/selectors.ts\");\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nfunction mapStateToProps(state) {\n  const canCreate = app_core_core__WEBPACK_IMPORTED_MODULE_3__.contextSrv.hasAccess(app_types__WEBPACK_IMPORTED_MODULE_5__.AccessControlAction.ActionAPIKeysCreate, true);\n  return {\n    apiKeys: (0,_state_selectors__WEBPACK_IMPORTED_MODULE_11__.getApiKeys)(state.apiKeys),\n    searchQuery: state.apiKeys.searchQuery,\n    apiKeysCount: (0,_state_selectors__WEBPACK_IMPORTED_MODULE_11__.getApiKeysCount)(state.apiKeys),\n    hasFetched: state.apiKeys.hasFetched,\n    timeZone: (0,app_features_profile_state_selectors__WEBPACK_IMPORTED_MODULE_4__.getTimeZone)(state.user),\n    includeExpired: (0,_state_selectors__WEBPACK_IMPORTED_MODULE_11__.getIncludeExpired)(state.apiKeys),\n    includeExpiredDisabled: (0,_state_selectors__WEBPACK_IMPORTED_MODULE_11__.getIncludeExpiredDisabled)(state.apiKeys),\n    canCreate,\n    migrationResult: state.apiKeys.migrationResult\n  };\n}\nconst defaultPageProps = {\n  navId: \"apikeys\"\n};\nconst mapDispatchToProps = {\n  loadApiKeys: _state_actions__WEBPACK_IMPORTED_MODULE_9__.loadApiKeys,\n  deleteApiKey: _state_actions__WEBPACK_IMPORTED_MODULE_9__.deleteApiKey,\n  migrateApiKey: _state_actions__WEBPACK_IMPORTED_MODULE_9__.migrateApiKey,\n  migrateAll: _state_actions__WEBPACK_IMPORTED_MODULE_9__.migrateAll,\n  setSearchQuery: _state_reducers__WEBPACK_IMPORTED_MODULE_10__.setSearchQuery,\n  toggleIncludeExpired: _state_actions__WEBPACK_IMPORTED_MODULE_9__.toggleIncludeExpired\n};\nconst connector = (0,react_redux__WEBPACK_IMPORTED_MODULE_1__.connect)(mapStateToProps, mapDispatchToProps);\nclass ApiKeysPageUnconnected extends react__WEBPACK_IMPORTED_MODULE_0__.PureComponent {\n  constructor(props) {\n    super(props);\n    this.onDeleteApiKey = (key) => {\n      this.props.deleteApiKey(key.id);\n    };\n    this.onMigrateApiKey = (key) => {\n      this.props.migrateApiKey(key.id);\n    };\n    this.onSearchQueryChange = (value) => {\n      this.props.setSearchQuery(value);\n    };\n    this.onIncludeExpiredChange = (event) => {\n      this.props.toggleIncludeExpired();\n    };\n    this.onMigrateApiKeys = async () => {\n      try {\n        await this.props.migrateAll();\n        this.setState({\n          showMigrationResult: true\n        });\n      } catch (err) {\n        console.error(err);\n      }\n    };\n    this.dismissModal = async () => {\n      this.setState({ showMigrationResult: false });\n    };\n    this.state = {\n      showMigrationResult: false\n    };\n  }\n  componentDidMount() {\n    this.fetchApiKeys();\n  }\n  async fetchApiKeys() {\n    await this.props.loadApiKeys();\n  }\n  render() {\n    const {\n      hasFetched,\n      apiKeysCount,\n      apiKeys,\n      searchQuery,\n      timeZone,\n      includeExpired,\n      includeExpiredDisabled,\n      canCreate,\n      migrationResult\n    } = this.props;\n    if (!hasFetched) {\n      return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0___default().createElement(app_core_components_Page_Page__WEBPACK_IMPORTED_MODULE_2__.Page, { ...defaultPageProps }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0___default().createElement(app_core_components_Page_Page__WEBPACK_IMPORTED_MODULE_2__.Page.Contents, { isLoading: true }));\n    }\n    const showTable = apiKeysCount > 0;\n    return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0___default().createElement(app_core_components_Page_Page__WEBPACK_IMPORTED_MODULE_2__.Page, { ...defaultPageProps }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0___default().createElement(app_core_components_Page_Page__WEBPACK_IMPORTED_MODULE_2__.Page.Contents, { isLoading: false }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0___default().createElement((react__WEBPACK_IMPORTED_MODULE_0___default().Fragment), null, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_MigrateToServiceAccountsCard__WEBPACK_IMPORTED_MODULE_8__.MigrateToServiceAccountsCard, { onMigrate: this.onMigrateApiKeys, apikeysCount: apiKeysCount }), showTable ? /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\n      _ApiKeysActionBar__WEBPACK_IMPORTED_MODULE_6__.ApiKeysActionBar,\n      {\n        searchQuery,\n        disabled: !canCreate,\n        onSearchChange: this.onSearchQueryChange\n      }\n    ) : null, showTable ? /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_grafana_ui__WEBPACK_IMPORTED_MODULE_12__.VerticalGroup, null, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_grafana_ui__WEBPACK_IMPORTED_MODULE_13__.InlineField, { disabled: includeExpiredDisabled, label: \"Include expired keys\" }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_grafana_ui__WEBPACK_IMPORTED_MODULE_14__.InlineSwitch, { id: \"showExpired\", value: includeExpired, onChange: this.onIncludeExpiredChange })), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\n      _ApiKeysTable__WEBPACK_IMPORTED_MODULE_7__.ApiKeysTable,\n      {\n        apiKeys,\n        timeZone,\n        onMigrate: this.onMigrateApiKey,\n        onDelete: this.onDeleteApiKey\n      }\n    )) : null)), migrationResult && /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\n      MigrationSummary,\n      {\n        visible: this.state.showMigrationResult,\n        data: migrationResult,\n        onDismiss: this.dismissModal\n      }\n    ));\n  }\n}\nconst styles = {\n  migrationSummary: {\n    padding: \"20px\"\n  },\n  infoText: {\n    color: \"#007bff\"\n  },\n  summaryDetails: {\n    marginTop: \"20px\"\n  },\n  summaryParagraph: {\n    margin: \"10px 0\"\n  }\n};\nconst MigrationSummary = ({ visible, data, onDismiss }) => {\n  return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_grafana_ui__WEBPACK_IMPORTED_MODULE_15__.Modal, { title: \"Migration summary\", isOpen: visible, closeOnBackdropClick: true, onDismiss }, data.failedApikeyIDs.length === 0 && /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", { style: styles.migrationSummary }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"p\", null, \"Migration Successful!\"), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"p\", null, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"strong\", null, \"Total: \"), data.total), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"p\", null, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"strong\", null, \"Migrated: \"), data.migrated)), data.failedApikeyIDs.length !== 0 && /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", { style: styles.migrationSummary }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"p\", null, \"Migration Complete! Please note, while there might be a few API keys flagged as `failed migrations`, rest assured, all of your API keys are fully functional and operational. Please try again or contact support.\"), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"hr\", null), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"p\", null, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"strong\", null, \"Total: \"), data.total), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"p\", null, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"strong\", null, \"Migrated: \"), data.migrated), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"p\", null, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"strong\", null, \"Failed: \"), data.failed), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"p\", null, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"strong\", null, \"Failed Api Key IDs: \"), data.failedApikeyIDs.join(\", \")), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"p\", null, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"strong\", null, \"Failed Details: \"), data.failedDetails.join(\", \"))), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_grafana_ui__WEBPACK_IMPORTED_MODULE_15__.Modal.ButtonRow, null, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_grafana_ui__WEBPACK_IMPORTED_MODULE_16__.Button, { variant: \"secondary\", onClick: onDismiss }, \"Close\")));\n};\nconst ApiKeysPage = connector(ApiKeysPageUnconnected);\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (ApiKeysPage);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9wdWJsaWMvYXBwL2ZlYXR1cmVzL2FwaS1rZXlzL0FwaUtleXNQYWdlLnRzeCIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQXFDO0FBQ0c7QUFHZ0M7QUFDbkQ7QUFDTTtBQUNDO0FBQ21EO0FBRTlDO0FBQ0o7QUFDZ0I7QUFDOEM7QUFDNUQ7QUFDMkQ7QUFFMUYsU0FBUyxnQkFBZ0IsT0FBbUI7QUFDMUMsUUFBTSxZQUFZLHFEQUFVLENBQUMsVUFBVSwwREFBbUIsQ0FBQyxxQkFBcUIsSUFBSTtBQUNwRixTQUFPO0FBQUEsSUFDTCxTQUFTLDZEQUFVLENBQUMsTUFBTSxPQUFPO0FBQUEsSUFDakMsYUFBYSxNQUFNLFFBQVE7QUFBQSxJQUMzQixjQUFjLGtFQUFlLENBQUMsTUFBTSxPQUFPO0FBQUEsSUFDM0MsWUFBWSxNQUFNLFFBQVE7QUFBQSxJQUMxQixVQUFVLGlGQUFXLENBQUMsTUFBTSxJQUFJO0FBQUEsSUFDaEMsZ0JBQWdCLG9FQUFpQixDQUFDLE1BQU0sT0FBTztBQUFBLElBQy9DLHdCQUF3Qiw0RUFBeUIsQ0FBQyxNQUFNLE9BQU87QUFBQSxJQUMvRDtBQUFBLElBQ0EsaUJBQWlCLE1BQU0sUUFBUTtBQUFBLEVBQ2pDO0FBQ0Y7QUFFQSxNQUFNLG1CQUFtQjtBQUFBLEVBQ3ZCLE9BQU87QUFDVDtBQUVBLE1BQU0scUJBQXFCO0FBQUEsRUFDekIsV0FBVztBQUFYLEVBQ0EsWUFBWTtBQUFaLEVBQ0EsYUFBYTtBQUFiLEVBQ0EsVUFBVTtBQUFWLEVBQ0EsY0FBYztBQUFkLEVBQ0Esb0JBQW9CO0FBQ3RCO0FBRUEsTUFBTSxZQUFZLG9EQUFPLENBQUMsaUJBQWlCLGtCQUFrQjtBQVV0RCxNQUFNLCtCQUErQixnREFBYSxDQUFlO0FBQUEsRUFDdEUsWUFBWSxPQUFjO0FBQ3hCLFVBQU0sS0FBSztBQWNiLDBCQUFpQixDQUFDLFFBQWdCO0FBQ2hDLFdBQUssTUFBTSxhQUFhLElBQUksRUFBRztBQUFBLElBQ2pDO0FBRUEsMkJBQWtCLENBQUMsUUFBZ0I7QUFDakMsV0FBSyxNQUFNLGNBQWMsSUFBSSxFQUFHO0FBQUEsSUFDbEM7QUFFQSwrQkFBc0IsQ0FBQyxVQUFrQjtBQUN2QyxXQUFLLE1BQU0sZUFBZSxLQUFLO0FBQUEsSUFDakM7QUFFQSxrQ0FBeUIsQ0FBQyxVQUFrRDtBQUMxRSxXQUFLLE1BQU0scUJBQXFCO0FBQUEsSUFDbEM7QUFFQSw0QkFBbUIsWUFBWTtBQUM3QixVQUFJO0FBQ0YsY0FBTSxLQUFLLE1BQU0sV0FBVztBQUM1QixhQUFLLFNBQVM7QUFBQSxVQUNaLHFCQUFxQjtBQUFBLFFBQ3ZCLENBQUM7QUFBQSxNQUNILFNBQVMsS0FBUDtBQUNBLGdCQUFRLE1BQU0sR0FBRztBQUFBLE1BQ25CO0FBQUEsSUFDRjtBQUVBLHdCQUFlLFlBQVk7QUFDekIsV0FBSyxTQUFTLEVBQUUscUJBQXFCLE1BQU0sQ0FBQztBQUFBLElBQzlDO0FBMUNFLFNBQUssUUFBUTtBQUFBLE1BQ1gscUJBQXFCO0FBQUEsSUFDdkI7QUFBQSxFQUNGO0FBQUEsRUFFQSxvQkFBb0I7QUFDbEIsU0FBSyxhQUFhO0FBQUEsRUFDcEI7QUFBQSxFQUVBLE1BQU0sZUFBZTtBQUNuQixVQUFNLEtBQUssTUFBTSxZQUFZO0FBQUEsRUFDL0I7QUFBQSxFQWlDQSxTQUFTO0FBQ1AsVUFBTTtBQUFBLE1BQ0o7QUFBQSxNQUNBO0FBQUEsTUFDQTtBQUFBLE1BQ0E7QUFBQSxNQUNBO0FBQUEsTUFDQTtBQUFBLE1BQ0E7QUFBQSxNQUNBO0FBQUEsTUFDQTtBQUFBLElBQ0YsSUFBSSxLQUFLO0FBRVQsUUFBSSxDQUFDLFlBQVk7QUFDZixhQUNFLDJFQUFDLCtEQUFJLElBQUUsR0FBRyxvQkFDUiwyRUFBQywrREFBSSxDQUFDLFVBQUwsRUFBYyxXQUFXLE1BQVEsQ0FDcEM7QUFBQSxJQUVKO0FBRUEsVUFBTSxZQUFZLGVBQWU7QUFDakMsV0FDRSwyRUFBQywrREFBSSxJQUFFLEdBQUcsb0JBQ1IsMkVBQUMsK0RBQUksQ0FBQyxVQUFMLEVBQWMsV0FBVyxTQUN4QiwwSUFDRSwyRUFBQyx1RkFBNEIsSUFBQyxXQUFXLEtBQUssa0JBQWtCLGNBQWMsY0FBYyxHQUMzRixZQUNDO0FBQUEsTUFBQywrREFBZ0I7QUFBaEI7QUFBQSxRQUNDO0FBQUEsUUFDQSxVQUFVLENBQUM7QUFBQSxRQUNYLGdCQUFnQixLQUFLO0FBQUE7QUFBQSxJQUN2QixJQUNFLE1BQ0gsWUFDQywyRUFBQyx1REFBYSxRQUNaLDJFQUFDLHFEQUFXLElBQUMsVUFBVSx3QkFBd0IsT0FBTSwwQkFDbkQsMkVBQUMsc0RBQVksSUFBQyxJQUFHLGVBQWMsT0FBTyxnQkFBZ0IsVUFBVSxLQUFLLHdCQUF3QixDQUMvRixHQUNBO0FBQUEsTUFBQyx1REFBWTtBQUFaO0FBQUEsUUFDQztBQUFBLFFBQ0E7QUFBQSxRQUNBLFdBQVcsS0FBSztBQUFBLFFBQ2hCLFVBQVUsS0FBSztBQUFBO0FBQUEsSUFDakIsQ0FDRixJQUNFLElBQ04sQ0FDRixHQUNDLG1CQUNDO0FBQUEsTUFBQztBQUFBO0FBQUEsUUFDQyxTQUFTLEtBQUssTUFBTTtBQUFBLFFBQ3BCLE1BQU07QUFBQSxRQUNOLFdBQVcsS0FBSztBQUFBO0FBQUEsSUFDbEIsQ0FFSjtBQUFBLEVBRUo7QUFDRjtBQU9BLE1BQU0sU0FBaUQ7QUFBQSxFQUNyRCxrQkFBa0I7QUFBQSxJQUNoQixTQUFTO0FBQUEsRUFDWDtBQUFBLEVBQ0EsVUFBVTtBQUFBLElBQ1IsT0FBTztBQUFBLEVBQ1Q7QUFBQSxFQUNBLGdCQUFnQjtBQUFBLElBQ2QsV0FBVztBQUFBLEVBQ2I7QUFBQSxFQUNBLGtCQUFrQjtBQUFBLElBQ2hCLFFBQVE7QUFBQSxFQUNWO0FBQ0Y7QUFFTyxNQUFNLG1CQUFvRCxDQUFDLEVBQUUsU0FBUyxNQUFNLFVBQVUsTUFBTTtBQUNqRyxTQUNFLDJFQUFDLCtDQUFLLElBQUMsT0FBTSxxQkFBb0IsUUFBUSxTQUFTLHNCQUFzQixNQUFNLGFBQzNFLEtBQUssZ0JBQWdCLFdBQVcsS0FDL0IsMkVBQUMsU0FBSSxPQUFPLE9BQU8sb0JBQ2pCLDJFQUFDLFdBQUUsdUJBQXFCLEdBQ3hCLDJFQUFDLFdBQ0MsMkVBQUMsZ0JBQU8sU0FBTyxHQUNkLEtBQUssS0FDUixHQUNBLDJFQUFDLFdBQ0MsMkVBQUMsZ0JBQU8sWUFBVSxHQUNqQixLQUFLLFFBQ1IsQ0FDRixHQUVELEtBQUssZ0JBQWdCLFdBQVcsS0FDL0IsMkVBQUMsU0FBSSxPQUFPLE9BQU8sb0JBQ2pCLDJFQUFDLFdBQUUsb05BR0gsR0FDQSwyRUFBQyxVQUFHLEdBQ0osMkVBQUMsV0FDQywyRUFBQyxnQkFBTyxTQUFPLEdBQ2QsS0FBSyxLQUNSLEdBQ0EsMkVBQUMsV0FDQywyRUFBQyxnQkFBTyxZQUFVLEdBQ2pCLEtBQUssUUFDUixHQUNBLDJFQUFDLFdBQ0MsMkVBQUMsZ0JBQU8sVUFBUSxHQUNmLEtBQUssTUFDUixHQUNBLDJFQUFDLFdBQ0MsMkVBQUMsZ0JBQU8sc0JBQW9CLEdBQzNCLEtBQUssZ0JBQWdCLEtBQUssSUFBSSxDQUNqQyxHQUNBLDJFQUFDLFdBQ0MsMkVBQUMsZ0JBQU8sa0JBQWdCLEdBQ3ZCLEtBQUssY0FBYyxLQUFLLElBQUksQ0FDL0IsQ0FDRixHQUVGLDJFQUFDLCtDQUFLLENBQUMsV0FBTixNQUNDLDJFQUFDLGdEQUFNLElBQUMsU0FBUSxhQUFZLFNBQVMsYUFBVyxPQUVoRCxDQUNGLENBQ0Y7QUFFSjtBQUVBLE1BQU0sY0FBYyxVQUFVLHNCQUFzQjtBQUNwRCxpRUFBZSxXQUFXLEVBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9ncmFmYW5hLy4vcHVibGljL2FwcC9mZWF0dXJlcy9hcGkta2V5cy9BcGlLZXlzUGFnZS50c3g/YTUyMiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUmVhY3QsIHsgUHVyZUNvbXBvbmVudCB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IGNvbm5lY3QsIENvbm5lY3RlZFByb3BzIH0gZnJvbSAncmVhY3QtcmVkdXgnO1xuXG4vLyBVdGlsc1xuaW1wb3J0IHsgSW5saW5lRmllbGQsIElubGluZVN3aXRjaCwgVmVydGljYWxHcm91cCwgTW9kYWwsIEJ1dHRvbiB9IGZyb20gJ0BncmFmYW5hL3VpJztcbmltcG9ydCB7IFBhZ2UgfSBmcm9tICdhcHAvY29yZS9jb21wb25lbnRzL1BhZ2UvUGFnZSc7XG5pbXBvcnQgeyBjb250ZXh0U3J2IH0gZnJvbSAnYXBwL2NvcmUvY29yZSc7XG5pbXBvcnQgeyBnZXRUaW1lWm9uZSB9IGZyb20gJ2FwcC9mZWF0dXJlcy9wcm9maWxlL3N0YXRlL3NlbGVjdG9ycyc7XG5pbXBvcnQgeyBBY2Nlc3NDb250cm9sQWN0aW9uLCBBcGlLZXksIEFwaWtleU1pZ3JhdGlvblJlc3VsdCwgU3RvcmVTdGF0ZSB9IGZyb20gJ2FwcC90eXBlcyc7XG5cbmltcG9ydCB7IEFwaUtleXNBY3Rpb25CYXIgfSBmcm9tICcuL0FwaUtleXNBY3Rpb25CYXInO1xuaW1wb3J0IHsgQXBpS2V5c1RhYmxlIH0gZnJvbSAnLi9BcGlLZXlzVGFibGUnO1xuaW1wb3J0IHsgTWlncmF0ZVRvU2VydmljZUFjY291bnRzQ2FyZCB9IGZyb20gJy4vTWlncmF0ZVRvU2VydmljZUFjY291bnRzQ2FyZCc7XG5pbXBvcnQgeyBkZWxldGVBcGlLZXksIG1pZ3JhdGVBcGlLZXksIG1pZ3JhdGVBbGwsIGxvYWRBcGlLZXlzLCB0b2dnbGVJbmNsdWRlRXhwaXJlZCB9IGZyb20gJy4vc3RhdGUvYWN0aW9ucyc7XG5pbXBvcnQgeyBzZXRTZWFyY2hRdWVyeSB9IGZyb20gJy4vc3RhdGUvcmVkdWNlcnMnO1xuaW1wb3J0IHsgZ2V0QXBpS2V5cywgZ2V0QXBpS2V5c0NvdW50LCBnZXRJbmNsdWRlRXhwaXJlZCwgZ2V0SW5jbHVkZUV4cGlyZWREaXNhYmxlZCB9IGZyb20gJy4vc3RhdGUvc2VsZWN0b3JzJztcblxuZnVuY3Rpb24gbWFwU3RhdGVUb1Byb3BzKHN0YXRlOiBTdG9yZVN0YXRlKSB7XG4gIGNvbnN0IGNhbkNyZWF0ZSA9IGNvbnRleHRTcnYuaGFzQWNjZXNzKEFjY2Vzc0NvbnRyb2xBY3Rpb24uQWN0aW9uQVBJS2V5c0NyZWF0ZSwgdHJ1ZSk7XG4gIHJldHVybiB7XG4gICAgYXBpS2V5czogZ2V0QXBpS2V5cyhzdGF0ZS5hcGlLZXlzKSxcbiAgICBzZWFyY2hRdWVyeTogc3RhdGUuYXBpS2V5cy5zZWFyY2hRdWVyeSxcbiAgICBhcGlLZXlzQ291bnQ6IGdldEFwaUtleXNDb3VudChzdGF0ZS5hcGlLZXlzKSxcbiAgICBoYXNGZXRjaGVkOiBzdGF0ZS5hcGlLZXlzLmhhc0ZldGNoZWQsXG4gICAgdGltZVpvbmU6IGdldFRpbWVab25lKHN0YXRlLnVzZXIpLFxuICAgIGluY2x1ZGVFeHBpcmVkOiBnZXRJbmNsdWRlRXhwaXJlZChzdGF0ZS5hcGlLZXlzKSxcbiAgICBpbmNsdWRlRXhwaXJlZERpc2FibGVkOiBnZXRJbmNsdWRlRXhwaXJlZERpc2FibGVkKHN0YXRlLmFwaUtleXMpLFxuICAgIGNhbkNyZWF0ZTogY2FuQ3JlYXRlLFxuICAgIG1pZ3JhdGlvblJlc3VsdDogc3RhdGUuYXBpS2V5cy5taWdyYXRpb25SZXN1bHQsXG4gIH07XG59XG5cbmNvbnN0IGRlZmF1bHRQYWdlUHJvcHMgPSB7XG4gIG5hdklkOiAnYXBpa2V5cycsXG59O1xuXG5jb25zdCBtYXBEaXNwYXRjaFRvUHJvcHMgPSB7XG4gIGxvYWRBcGlLZXlzLFxuICBkZWxldGVBcGlLZXksXG4gIG1pZ3JhdGVBcGlLZXksXG4gIG1pZ3JhdGVBbGwsXG4gIHNldFNlYXJjaFF1ZXJ5LFxuICB0b2dnbGVJbmNsdWRlRXhwaXJlZCxcbn07XG5cbmNvbnN0IGNvbm5lY3RvciA9IGNvbm5lY3QobWFwU3RhdGVUb1Byb3BzLCBtYXBEaXNwYXRjaFRvUHJvcHMpO1xuXG5pbnRlcmZhY2UgT3duUHJvcHMge31cblxuZXhwb3J0IHR5cGUgUHJvcHMgPSBPd25Qcm9wcyAmIENvbm5lY3RlZFByb3BzPHR5cGVvZiBjb25uZWN0b3I+O1xuXG5pbnRlcmZhY2UgU3RhdGUge1xuICBzaG93TWlncmF0aW9uUmVzdWx0OiBib29sZWFuO1xufVxuXG5leHBvcnQgY2xhc3MgQXBpS2V5c1BhZ2VVbmNvbm5lY3RlZCBleHRlbmRzIFB1cmVDb21wb25lbnQ8UHJvcHMsIFN0YXRlPiB7XG4gIGNvbnN0cnVjdG9yKHByb3BzOiBQcm9wcykge1xuICAgIHN1cGVyKHByb3BzKTtcbiAgICB0aGlzLnN0YXRlID0ge1xuICAgICAgc2hvd01pZ3JhdGlvblJlc3VsdDogZmFsc2UsXG4gICAgfTtcbiAgfVxuXG4gIGNvbXBvbmVudERpZE1vdW50KCkge1xuICAgIHRoaXMuZmV0Y2hBcGlLZXlzKCk7XG4gIH1cblxuICBhc3luYyBmZXRjaEFwaUtleXMoKSB7XG4gICAgYXdhaXQgdGhpcy5wcm9wcy5sb2FkQXBpS2V5cygpO1xuICB9XG5cbiAgb25EZWxldGVBcGlLZXkgPSAoa2V5OiBBcGlLZXkpID0+IHtcbiAgICB0aGlzLnByb3BzLmRlbGV0ZUFwaUtleShrZXkuaWQhKTtcbiAgfTtcblxuICBvbk1pZ3JhdGVBcGlLZXkgPSAoa2V5OiBBcGlLZXkpID0+IHtcbiAgICB0aGlzLnByb3BzLm1pZ3JhdGVBcGlLZXkoa2V5LmlkISk7XG4gIH07XG5cbiAgb25TZWFyY2hRdWVyeUNoYW5nZSA9ICh2YWx1ZTogc3RyaW5nKSA9PiB7XG4gICAgdGhpcy5wcm9wcy5zZXRTZWFyY2hRdWVyeSh2YWx1ZSk7XG4gIH07XG5cbiAgb25JbmNsdWRlRXhwaXJlZENoYW5nZSA9IChldmVudDogUmVhY3QuU3ludGhldGljRXZlbnQ8SFRNTElucHV0RWxlbWVudD4pID0+IHtcbiAgICB0aGlzLnByb3BzLnRvZ2dsZUluY2x1ZGVFeHBpcmVkKCk7XG4gIH07XG5cbiAgb25NaWdyYXRlQXBpS2V5cyA9IGFzeW5jICgpID0+IHtcbiAgICB0cnkge1xuICAgICAgYXdhaXQgdGhpcy5wcm9wcy5taWdyYXRlQWxsKCk7XG4gICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgc2hvd01pZ3JhdGlvblJlc3VsdDogdHJ1ZSxcbiAgICAgIH0pO1xuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgY29uc29sZS5lcnJvcihlcnIpO1xuICAgIH1cbiAgfTtcblxuICBkaXNtaXNzTW9kYWwgPSBhc3luYyAoKSA9PiB7XG4gICAgdGhpcy5zZXRTdGF0ZSh7IHNob3dNaWdyYXRpb25SZXN1bHQ6IGZhbHNlIH0pO1xuICB9O1xuXG4gIHJlbmRlcigpIHtcbiAgICBjb25zdCB7XG4gICAgICBoYXNGZXRjaGVkLFxuICAgICAgYXBpS2V5c0NvdW50LFxuICAgICAgYXBpS2V5cyxcbiAgICAgIHNlYXJjaFF1ZXJ5LFxuICAgICAgdGltZVpvbmUsXG4gICAgICBpbmNsdWRlRXhwaXJlZCxcbiAgICAgIGluY2x1ZGVFeHBpcmVkRGlzYWJsZWQsXG4gICAgICBjYW5DcmVhdGUsXG4gICAgICBtaWdyYXRpb25SZXN1bHQsXG4gICAgfSA9IHRoaXMucHJvcHM7XG5cbiAgICBpZiAoIWhhc0ZldGNoZWQpIHtcbiAgICAgIHJldHVybiAoXG4gICAgICAgIDxQYWdlIHsuLi5kZWZhdWx0UGFnZVByb3BzfT5cbiAgICAgICAgICA8UGFnZS5Db250ZW50cyBpc0xvYWRpbmc9e3RydWV9Pnt9PC9QYWdlLkNvbnRlbnRzPlxuICAgICAgICA8L1BhZ2U+XG4gICAgICApO1xuICAgIH1cblxuICAgIGNvbnN0IHNob3dUYWJsZSA9IGFwaUtleXNDb3VudCA+IDA7XG4gICAgcmV0dXJuIChcbiAgICAgIDxQYWdlIHsuLi5kZWZhdWx0UGFnZVByb3BzfT5cbiAgICAgICAgPFBhZ2UuQ29udGVudHMgaXNMb2FkaW5nPXtmYWxzZX0+XG4gICAgICAgICAgPD5cbiAgICAgICAgICAgIDxNaWdyYXRlVG9TZXJ2aWNlQWNjb3VudHNDYXJkIG9uTWlncmF0ZT17dGhpcy5vbk1pZ3JhdGVBcGlLZXlzfSBhcGlrZXlzQ291bnQ9e2FwaUtleXNDb3VudH0gLz5cbiAgICAgICAgICAgIHtzaG93VGFibGUgPyAoXG4gICAgICAgICAgICAgIDxBcGlLZXlzQWN0aW9uQmFyXG4gICAgICAgICAgICAgICAgc2VhcmNoUXVlcnk9e3NlYXJjaFF1ZXJ5fVxuICAgICAgICAgICAgICAgIGRpc2FibGVkPXshY2FuQ3JlYXRlfVxuICAgICAgICAgICAgICAgIG9uU2VhcmNoQ2hhbmdlPXt0aGlzLm9uU2VhcmNoUXVlcnlDaGFuZ2V9XG4gICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICApIDogbnVsbH1cbiAgICAgICAgICAgIHtzaG93VGFibGUgPyAoXG4gICAgICAgICAgICAgIDxWZXJ0aWNhbEdyb3VwPlxuICAgICAgICAgICAgICAgIDxJbmxpbmVGaWVsZCBkaXNhYmxlZD17aW5jbHVkZUV4cGlyZWREaXNhYmxlZH0gbGFiZWw9XCJJbmNsdWRlIGV4cGlyZWQga2V5c1wiPlxuICAgICAgICAgICAgICAgICAgPElubGluZVN3aXRjaCBpZD1cInNob3dFeHBpcmVkXCIgdmFsdWU9e2luY2x1ZGVFeHBpcmVkfSBvbkNoYW5nZT17dGhpcy5vbkluY2x1ZGVFeHBpcmVkQ2hhbmdlfSAvPlxuICAgICAgICAgICAgICAgIDwvSW5saW5lRmllbGQ+XG4gICAgICAgICAgICAgICAgPEFwaUtleXNUYWJsZVxuICAgICAgICAgICAgICAgICAgYXBpS2V5cz17YXBpS2V5c31cbiAgICAgICAgICAgICAgICAgIHRpbWVab25lPXt0aW1lWm9uZX1cbiAgICAgICAgICAgICAgICAgIG9uTWlncmF0ZT17dGhpcy5vbk1pZ3JhdGVBcGlLZXl9XG4gICAgICAgICAgICAgICAgICBvbkRlbGV0ZT17dGhpcy5vbkRlbGV0ZUFwaUtleX1cbiAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICA8L1ZlcnRpY2FsR3JvdXA+XG4gICAgICAgICAgICApIDogbnVsbH1cbiAgICAgICAgICA8Lz5cbiAgICAgICAgPC9QYWdlLkNvbnRlbnRzPlxuICAgICAgICB7bWlncmF0aW9uUmVzdWx0ICYmIChcbiAgICAgICAgICA8TWlncmF0aW9uU3VtbWFyeVxuICAgICAgICAgICAgdmlzaWJsZT17dGhpcy5zdGF0ZS5zaG93TWlncmF0aW9uUmVzdWx0fVxuICAgICAgICAgICAgZGF0YT17bWlncmF0aW9uUmVzdWx0fVxuICAgICAgICAgICAgb25EaXNtaXNzPXt0aGlzLmRpc21pc3NNb2RhbH1cbiAgICAgICAgICAvPlxuICAgICAgICApfVxuICAgICAgPC9QYWdlPlxuICAgICk7XG4gIH1cbn1cbmV4cG9ydCB0eXBlIE1pZ3JhdGlvblN1bW1hcnlQcm9wcyA9IHtcbiAgdmlzaWJsZTogYm9vbGVhbjtcbiAgZGF0YTogQXBpa2V5TWlncmF0aW9uUmVzdWx0O1xuICBvbkRpc21pc3M6ICgpID0+IHZvaWQ7XG59O1xuXG5jb25zdCBzdHlsZXM6IHsgW2tleTogc3RyaW5nXTogUmVhY3QuQ1NTUHJvcGVydGllcyB9ID0ge1xuICBtaWdyYXRpb25TdW1tYXJ5OiB7XG4gICAgcGFkZGluZzogJzIwcHgnLFxuICB9LFxuICBpbmZvVGV4dDoge1xuICAgIGNvbG9yOiAnIzAwN2JmZicsXG4gIH0sXG4gIHN1bW1hcnlEZXRhaWxzOiB7XG4gICAgbWFyZ2luVG9wOiAnMjBweCcsXG4gIH0sXG4gIHN1bW1hcnlQYXJhZ3JhcGg6IHtcbiAgICBtYXJnaW46ICcxMHB4IDAnLFxuICB9LFxufTtcblxuZXhwb3J0IGNvbnN0IE1pZ3JhdGlvblN1bW1hcnk6IFJlYWN0LkZDPE1pZ3JhdGlvblN1bW1hcnlQcm9wcz4gPSAoeyB2aXNpYmxlLCBkYXRhLCBvbkRpc21pc3MgfSkgPT4ge1xuICByZXR1cm4gKFxuICAgIDxNb2RhbCB0aXRsZT1cIk1pZ3JhdGlvbiBzdW1tYXJ5XCIgaXNPcGVuPXt2aXNpYmxlfSBjbG9zZU9uQmFja2Ryb3BDbGljaz17dHJ1ZX0gb25EaXNtaXNzPXtvbkRpc21pc3N9PlxuICAgICAge2RhdGEuZmFpbGVkQXBpa2V5SURzLmxlbmd0aCA9PT0gMCAmJiAoXG4gICAgICAgIDxkaXYgc3R5bGU9e3N0eWxlcy5taWdyYXRpb25TdW1tYXJ5fT5cbiAgICAgICAgICA8cD5NaWdyYXRpb24gU3VjY2Vzc2Z1bCE8L3A+XG4gICAgICAgICAgPHA+XG4gICAgICAgICAgICA8c3Ryb25nPlRvdGFsOiA8L3N0cm9uZz5cbiAgICAgICAgICAgIHtkYXRhLnRvdGFsfVxuICAgICAgICAgIDwvcD5cbiAgICAgICAgICA8cD5cbiAgICAgICAgICAgIDxzdHJvbmc+TWlncmF0ZWQ6IDwvc3Ryb25nPlxuICAgICAgICAgICAge2RhdGEubWlncmF0ZWR9XG4gICAgICAgICAgPC9wPlxuICAgICAgICA8L2Rpdj5cbiAgICAgICl9XG4gICAgICB7ZGF0YS5mYWlsZWRBcGlrZXlJRHMubGVuZ3RoICE9PSAwICYmIChcbiAgICAgICAgPGRpdiBzdHlsZT17c3R5bGVzLm1pZ3JhdGlvblN1bW1hcnl9PlxuICAgICAgICAgIDxwPlxuICAgICAgICAgICAgTWlncmF0aW9uIENvbXBsZXRlISBQbGVhc2Ugbm90ZSwgd2hpbGUgdGhlcmUgbWlnaHQgYmUgYSBmZXcgQVBJIGtleXMgZmxhZ2dlZCBhcyBgZmFpbGVkIG1pZ3JhdGlvbnNgLCByZXN0XG4gICAgICAgICAgICBhc3N1cmVkLCBhbGwgb2YgeW91ciBBUEkga2V5cyBhcmUgZnVsbHkgZnVuY3Rpb25hbCBhbmQgb3BlcmF0aW9uYWwuIFBsZWFzZSB0cnkgYWdhaW4gb3IgY29udGFjdCBzdXBwb3J0LlxuICAgICAgICAgIDwvcD5cbiAgICAgICAgICA8aHIgLz5cbiAgICAgICAgICA8cD5cbiAgICAgICAgICAgIDxzdHJvbmc+VG90YWw6IDwvc3Ryb25nPlxuICAgICAgICAgICAge2RhdGEudG90YWx9XG4gICAgICAgICAgPC9wPlxuICAgICAgICAgIDxwPlxuICAgICAgICAgICAgPHN0cm9uZz5NaWdyYXRlZDogPC9zdHJvbmc+XG4gICAgICAgICAgICB7ZGF0YS5taWdyYXRlZH1cbiAgICAgICAgICA8L3A+XG4gICAgICAgICAgPHA+XG4gICAgICAgICAgICA8c3Ryb25nPkZhaWxlZDogPC9zdHJvbmc+XG4gICAgICAgICAgICB7ZGF0YS5mYWlsZWR9XG4gICAgICAgICAgPC9wPlxuICAgICAgICAgIDxwPlxuICAgICAgICAgICAgPHN0cm9uZz5GYWlsZWQgQXBpIEtleSBJRHM6IDwvc3Ryb25nPlxuICAgICAgICAgICAge2RhdGEuZmFpbGVkQXBpa2V5SURzLmpvaW4oJywgJyl9XG4gICAgICAgICAgPC9wPlxuICAgICAgICAgIDxwPlxuICAgICAgICAgICAgPHN0cm9uZz5GYWlsZWQgRGV0YWlsczogPC9zdHJvbmc+XG4gICAgICAgICAgICB7ZGF0YS5mYWlsZWREZXRhaWxzLmpvaW4oJywgJyl9XG4gICAgICAgICAgPC9wPlxuICAgICAgICA8L2Rpdj5cbiAgICAgICl9XG4gICAgICA8TW9kYWwuQnV0dG9uUm93PlxuICAgICAgICA8QnV0dG9uIHZhcmlhbnQ9XCJzZWNvbmRhcnlcIiBvbkNsaWNrPXtvbkRpc21pc3N9PlxuICAgICAgICAgIENsb3NlXG4gICAgICAgIDwvQnV0dG9uPlxuICAgICAgPC9Nb2RhbC5CdXR0b25Sb3c+XG4gICAgPC9Nb2RhbD5cbiAgKTtcbn07XG5cbmNvbnN0IEFwaUtleXNQYWdlID0gY29ubmVjdG9yKEFwaUtleXNQYWdlVW5jb25uZWN0ZWQpO1xuZXhwb3J0IGRlZmF1bHQgQXBpS2V5c1BhZ2U7XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./public/app/features/api-keys/ApiKeysPage.tsx\n");

/***/ }),

/***/ "./public/app/features/api-keys/ApiKeysTable.tsx":
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ApiKeysTable: () => (/* binding */ ApiKeysTable)\n/* harmony export */ });\n/* harmony import */ var _emotion_css__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"./.yarn/cache/@emotion-css-npm-11.11.2-dbfa42cf83-1edea109df.zip/node_modules/@emotion/css/dist/emotion-css.esm.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(\"./.yarn/cache/react-npm-18.2.0-1eae08fee2-88e38092da.zip/node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _grafana_data__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(\"./.yarn/__virtual__/@grafana-data-virtual-0996183232/1/packages/grafana-data/src/datetime/formatter.ts\");\n/* harmony import */ var _grafana_ui__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(\"./.yarn/__virtual__/@grafana-ui-virtual-d722efae30/1/packages/grafana-ui/src/themes/ThemeContext.tsx\");\n/* harmony import */ var _grafana_ui__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(\"./.yarn/__virtual__/@grafana-ui-virtual-d722efae30/1/packages/grafana-ui/src/components/Tooltip/Tooltip.tsx\");\n/* harmony import */ var _grafana_ui__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(\"./.yarn/__virtual__/@grafana-ui-virtual-d722efae30/1/packages/grafana-ui/src/components/Icon/Icon.tsx\");\n/* harmony import */ var _grafana_ui__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(\"./.yarn/__virtual__/@grafana-ui-virtual-d722efae30/1/packages/grafana-ui/src/components/Layout/Layout.tsx\");\n/* harmony import */ var _grafana_ui__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(\"./.yarn/__virtual__/@grafana-ui-virtual-d722efae30/1/packages/grafana-ui/src/components/Button/Button.tsx\");\n/* harmony import */ var _grafana_ui__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(\"./.yarn/__virtual__/@grafana-ui-virtual-d722efae30/1/packages/grafana-ui/src/components/ConfirmButton/DeleteButton.tsx\");\n/* harmony import */ var app_core_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(\"./public/app/core/core.ts\");\n/* harmony import */ var app_types__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(\"./public/app/types/index.ts\");\n\n\n\n\n\n\n\nconst ApiKeysTable = ({ apiKeys, timeZone, onDelete, onMigrate }) => {\n  const theme = (0,_grafana_ui__WEBPACK_IMPORTED_MODULE_4__.useTheme2)();\n  const styles = getStyles(theme);\n  return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_1___default().createElement(\"table\", { className: \"filter-table\" }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_1___default().createElement(\"thead\", null, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_1___default().createElement(\"tr\", null, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_1___default().createElement(\"th\", null, \"Name\"), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_1___default().createElement(\"th\", null, \"Role\"), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_1___default().createElement(\"th\", null, \"Expires\"), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_1___default().createElement(\"th\", null, \"Last used at\"), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_1___default().createElement(\"th\", { style: { width: \"34px\" } }))), apiKeys.length > 0 ? /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_1___default().createElement(\"tbody\", null, apiKeys.map((key) => {\n    const isExpired = Boolean(key.expiration && Date.now() > new Date(key.expiration).getTime());\n    return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_1___default().createElement(\"tr\", { key: key.id, className: styles.tableRow(isExpired) }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_1___default().createElement(\"td\", null, key.name), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_1___default().createElement(\"td\", null, key.role), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_1___default().createElement(\"td\", null, formatDate(key.expiration, timeZone), isExpired && /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_1___default().createElement(\"span\", { className: styles.tooltipContainer }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_grafana_ui__WEBPACK_IMPORTED_MODULE_5__.Tooltip, { content: \"This API key has expired.\" }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_grafana_ui__WEBPACK_IMPORTED_MODULE_6__.Icon, { name: \"exclamation-triangle\" })))), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_1___default().createElement(\"td\", null, formatLastUsedAtDate(timeZone, key.lastUsedAt)), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_1___default().createElement(\"td\", null, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_grafana_ui__WEBPACK_IMPORTED_MODULE_7__.HorizontalGroup, { justify: \"flex-end\" }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_grafana_ui__WEBPACK_IMPORTED_MODULE_8__.Button, { size: \"sm\", onClick: () => onMigrate(key) }, \"Migrate to service account\"), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_1___default().createElement(\n      _grafana_ui__WEBPACK_IMPORTED_MODULE_9__.DeleteButton,\n      {\n        \"aria-label\": \"Delete API key\",\n        size: \"sm\",\n        onConfirm: () => onDelete(key),\n        disabled: !app_core_core__WEBPACK_IMPORTED_MODULE_2__.contextSrv.hasPermissionInMetadata(app_types__WEBPACK_IMPORTED_MODULE_3__.AccessControlAction.ActionAPIKeysDelete, key)\n      }\n    ))));\n  })) : null);\n};\nfunction formatLastUsedAtDate(timeZone, lastUsedAt) {\n  if (!lastUsedAt) {\n    return \"Never\";\n  }\n  return (0,_grafana_data__WEBPACK_IMPORTED_MODULE_10__.dateTimeFormat)(lastUsedAt, { timeZone });\n}\nfunction formatDate(expiration, timeZone) {\n  if (!expiration) {\n    return \"No expiration date\";\n  }\n  return (0,_grafana_data__WEBPACK_IMPORTED_MODULE_10__.dateTimeFormat)(expiration, { timeZone });\n}\nconst getStyles = (theme) => ({\n  tableRow: (isExpired) => (0,_emotion_css__WEBPACK_IMPORTED_MODULE_0__.css)`\n    color: ${isExpired ? theme.colors.text.secondary : theme.colors.text.primary};\n  `,\n  tooltipContainer: (0,_emotion_css__WEBPACK_IMPORTED_MODULE_0__.css)`\n    margin-left: ${theme.spacing(1)};\n  `\n});\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9wdWJsaWMvYXBwL2ZlYXR1cmVzL2FwaS1rZXlzL0FwaUtleXNUYWJsZS50c3giLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBb0I7QUFDRjtBQUVzQztBQUN3QjtBQUNyRDtBQUNTO0FBVzdCLE1BQU0sZUFBZSxDQUFDLEVBQUUsU0FBUyxVQUFVLFVBQVUsVUFBVSxNQUFhO0FBQ2pGLFFBQU0sUUFBUSxzREFBUyxDQUFDO0FBQ3hCLFFBQU0sU0FBUyxVQUFVLEtBQUs7QUFFOUIsU0FDRSwyRUFBQyxXQUFNLFdBQVUsa0JBQ2YsMkVBQUMsZUFDQywyRUFBQyxZQUNDLDJFQUFDLFlBQUcsTUFBSSxHQUNSLDJFQUFDLFlBQUcsTUFBSSxHQUNSLDJFQUFDLFlBQUcsU0FBTyxHQUNYLDJFQUFDLFlBQUcsY0FBWSxHQUNoQiwyRUFBQyxRQUFHLE9BQU8sRUFBRSxPQUFPLE9BQU8sR0FBRyxDQUNoQyxDQUNGLEdBQ0MsUUFBUSxTQUFTLElBQ2hCLDJFQUFDLGVBQ0UsUUFBUSxJQUFJLENBQUMsUUFBUTtBQUNwQixVQUFNLFlBQVksUUFBUSxJQUFJLGNBQWMsS0FBSyxJQUFJLElBQUksSUFBSSxLQUFLLElBQUksVUFBVSxFQUFFLFFBQVEsQ0FBQztBQUMzRixXQUNFLDJFQUFDLFFBQUcsS0FBSyxJQUFJLElBQUksV0FBVyxPQUFPLFNBQVMsU0FBUyxLQUNuRCwyRUFBQyxZQUFJLElBQUksSUFBSyxHQUNkLDJFQUFDLFlBQUksSUFBSSxJQUFLLEdBQ2QsMkVBQUMsWUFDRSxXQUFXLElBQUksWUFBWSxRQUFRLEdBQ25DLGFBQ0MsMkVBQUMsVUFBSyxXQUFXLE9BQU8sb0JBQ3RCLDJFQUFDLGdEQUFPLElBQUMsU0FBUSwrQkFDZiwyRUFBQyw2Q0FBSSxJQUFDLE1BQUssd0JBQXVCLENBQ3BDLENBQ0YsQ0FFSixHQUNBLDJFQUFDLFlBQUkscUJBQXFCLFVBQVUsSUFBSSxVQUFVLENBQUUsR0FDcEQsMkVBQUMsWUFDQywyRUFBQyx3REFBZSxJQUFDLFNBQVEsY0FDdkIsMkVBQUMsK0NBQU0sSUFBQyxNQUFLLE1BQUssU0FBUyxNQUFNLFVBQVUsR0FBRyxLQUFHLDRCQUVqRCxHQUNBO0FBQUEsTUFBQyxxREFBWTtBQUFaO0FBQUEsUUFDQyxjQUFXO0FBQUEsUUFDWCxNQUFLO0FBQUEsUUFDTCxXQUFXLE1BQU0sU0FBUyxHQUFHO0FBQUEsUUFDN0IsVUFBVSxDQUFDLHFEQUFVLENBQUMsd0JBQXdCLDBEQUFtQixDQUFDLHFCQUFxQixHQUFHO0FBQUE7QUFBQSxJQUM1RixDQUNGLENBQ0YsQ0FDRjtBQUFBLEVBRUosQ0FBQyxDQUNILElBQ0UsSUFDTjtBQUVKO0FBRUEsU0FBUyxxQkFBcUIsVUFBb0IsWUFBNkI7QUFDN0UsTUFBSSxDQUFDLFlBQVk7QUFDZixXQUFPO0FBQUEsRUFDVDtBQUNBLFNBQU8sOERBQWMsQ0FBQyxZQUFZLEVBQUUsU0FBUyxDQUFDO0FBQ2hEO0FBRUEsU0FBUyxXQUFXLFlBQWdDLFVBQTRCO0FBQzlFLE1BQUksQ0FBQyxZQUFZO0FBQ2YsV0FBTztBQUFBLEVBQ1Q7QUFDQSxTQUFPLDhEQUFjLENBQUMsWUFBWSxFQUFFLFNBQVMsQ0FBQztBQUNoRDtBQUVBLE1BQU0sWUFBWSxDQUFDLFdBQTBCO0FBQUEsRUFDM0MsVUFBVSxDQUFDLGNBQXVCLGlEQUFHO0FBQUgsYUFDdkIsWUFBWSxNQUFNLE9BQU8sS0FBSyxZQUFZLE1BQU0sT0FBTyxLQUFLO0FBQUE7QUFBQSxFQUV2RSxrQkFBa0IsaURBQUc7QUFBSCxtQkFDRCxNQUFNLFFBQVEsQ0FBQztBQUFBO0FBRWxDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZ3JhZmFuYS8uL3B1YmxpYy9hcHAvZmVhdHVyZXMvYXBpLWtleXMvQXBpS2V5c1RhYmxlLnRzeD8wNmVkIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGNzcyB9IGZyb20gJ0BlbW90aW9uL2Nzcyc7XG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuXG5pbXBvcnQgeyBkYXRlVGltZUZvcm1hdCwgR3JhZmFuYVRoZW1lMiwgVGltZVpvbmUgfSBmcm9tICdAZ3JhZmFuYS9kYXRhJztcbmltcG9ydCB7IEJ1dHRvbiwgRGVsZXRlQnV0dG9uLCBIb3Jpem9udGFsR3JvdXAsIEljb24sIFRvb2x0aXAsIHVzZVRoZW1lMiB9IGZyb20gJ0BncmFmYW5hL3VpJztcbmltcG9ydCB7IGNvbnRleHRTcnYgfSBmcm9tICdhcHAvY29yZS9jb3JlJztcbmltcG9ydCB7IEFjY2Vzc0NvbnRyb2xBY3Rpb24gfSBmcm9tICdhcHAvdHlwZXMnO1xuXG5pbXBvcnQgeyBBcGlLZXkgfSBmcm9tICcuLi8uLi90eXBlcyc7XG5cbmludGVyZmFjZSBQcm9wcyB7XG4gIGFwaUtleXM6IEFwaUtleVtdO1xuICB0aW1lWm9uZTogVGltZVpvbmU7XG4gIG9uRGVsZXRlOiAoYXBpS2V5OiBBcGlLZXkpID0+IHZvaWQ7XG4gIG9uTWlncmF0ZTogKGFwaUtleTogQXBpS2V5KSA9PiB2b2lkO1xufVxuXG5leHBvcnQgY29uc3QgQXBpS2V5c1RhYmxlID0gKHsgYXBpS2V5cywgdGltZVpvbmUsIG9uRGVsZXRlLCBvbk1pZ3JhdGUgfTogUHJvcHMpID0+IHtcbiAgY29uc3QgdGhlbWUgPSB1c2VUaGVtZTIoKTtcbiAgY29uc3Qgc3R5bGVzID0gZ2V0U3R5bGVzKHRoZW1lKTtcblxuICByZXR1cm4gKFxuICAgIDx0YWJsZSBjbGFzc05hbWU9XCJmaWx0ZXItdGFibGVcIj5cbiAgICAgIDx0aGVhZD5cbiAgICAgICAgPHRyPlxuICAgICAgICAgIDx0aD5OYW1lPC90aD5cbiAgICAgICAgICA8dGg+Um9sZTwvdGg+XG4gICAgICAgICAgPHRoPkV4cGlyZXM8L3RoPlxuICAgICAgICAgIDx0aD5MYXN0IHVzZWQgYXQ8L3RoPlxuICAgICAgICAgIDx0aCBzdHlsZT17eyB3aWR0aDogJzM0cHgnIH19IC8+XG4gICAgICAgIDwvdHI+XG4gICAgICA8L3RoZWFkPlxuICAgICAge2FwaUtleXMubGVuZ3RoID4gMCA/IChcbiAgICAgICAgPHRib2R5PlxuICAgICAgICAgIHthcGlLZXlzLm1hcCgoa2V5KSA9PiB7XG4gICAgICAgICAgICBjb25zdCBpc0V4cGlyZWQgPSBCb29sZWFuKGtleS5leHBpcmF0aW9uICYmIERhdGUubm93KCkgPiBuZXcgRGF0ZShrZXkuZXhwaXJhdGlvbikuZ2V0VGltZSgpKTtcbiAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgIDx0ciBrZXk9e2tleS5pZH0gY2xhc3NOYW1lPXtzdHlsZXMudGFibGVSb3coaXNFeHBpcmVkKX0+XG4gICAgICAgICAgICAgICAgPHRkPntrZXkubmFtZX08L3RkPlxuICAgICAgICAgICAgICAgIDx0ZD57a2V5LnJvbGV9PC90ZD5cbiAgICAgICAgICAgICAgICA8dGQ+XG4gICAgICAgICAgICAgICAgICB7Zm9ybWF0RGF0ZShrZXkuZXhwaXJhdGlvbiwgdGltZVpvbmUpfVxuICAgICAgICAgICAgICAgICAge2lzRXhwaXJlZCAmJiAoXG4gICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT17c3R5bGVzLnRvb2x0aXBDb250YWluZXJ9PlxuICAgICAgICAgICAgICAgICAgICAgIDxUb29sdGlwIGNvbnRlbnQ9XCJUaGlzIEFQSSBrZXkgaGFzIGV4cGlyZWQuXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8SWNvbiBuYW1lPVwiZXhjbGFtYXRpb24tdHJpYW5nbGVcIiAvPlxuICAgICAgICAgICAgICAgICAgICAgIDwvVG9vbHRpcD5cbiAgICAgICAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICA8L3RkPlxuICAgICAgICAgICAgICAgIDx0ZD57Zm9ybWF0TGFzdFVzZWRBdERhdGUodGltZVpvbmUsIGtleS5sYXN0VXNlZEF0KX08L3RkPlxuICAgICAgICAgICAgICAgIDx0ZD5cbiAgICAgICAgICAgICAgICAgIDxIb3Jpem9udGFsR3JvdXAganVzdGlmeT1cImZsZXgtZW5kXCI+XG4gICAgICAgICAgICAgICAgICAgIDxCdXR0b24gc2l6ZT1cInNtXCIgb25DbGljaz17KCkgPT4gb25NaWdyYXRlKGtleSl9PlxuICAgICAgICAgICAgICAgICAgICAgIE1pZ3JhdGUgdG8gc2VydmljZSBhY2NvdW50XG4gICAgICAgICAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICA8RGVsZXRlQnV0dG9uXG4gICAgICAgICAgICAgICAgICAgICAgYXJpYS1sYWJlbD1cIkRlbGV0ZSBBUEkga2V5XCJcbiAgICAgICAgICAgICAgICAgICAgICBzaXplPVwic21cIlxuICAgICAgICAgICAgICAgICAgICAgIG9uQ29uZmlybT17KCkgPT4gb25EZWxldGUoa2V5KX1cbiAgICAgICAgICAgICAgICAgICAgICBkaXNhYmxlZD17IWNvbnRleHRTcnYuaGFzUGVybWlzc2lvbkluTWV0YWRhdGEoQWNjZXNzQ29udHJvbEFjdGlvbi5BY3Rpb25BUElLZXlzRGVsZXRlLCBrZXkpfVxuICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgPC9Ib3Jpem9udGFsR3JvdXA+XG4gICAgICAgICAgICAgICAgPC90ZD5cbiAgICAgICAgICAgICAgPC90cj5cbiAgICAgICAgICAgICk7XG4gICAgICAgICAgfSl9XG4gICAgICAgIDwvdGJvZHk+XG4gICAgICApIDogbnVsbH1cbiAgICA8L3RhYmxlPlxuICApO1xufTtcblxuZnVuY3Rpb24gZm9ybWF0TGFzdFVzZWRBdERhdGUodGltZVpvbmU6IFRpbWVab25lLCBsYXN0VXNlZEF0Pzogc3RyaW5nKTogc3RyaW5nIHtcbiAgaWYgKCFsYXN0VXNlZEF0KSB7XG4gICAgcmV0dXJuICdOZXZlcic7XG4gIH1cbiAgcmV0dXJuIGRhdGVUaW1lRm9ybWF0KGxhc3RVc2VkQXQsIHsgdGltZVpvbmUgfSk7XG59XG5cbmZ1bmN0aW9uIGZvcm1hdERhdGUoZXhwaXJhdGlvbjogc3RyaW5nIHwgdW5kZWZpbmVkLCB0aW1lWm9uZTogVGltZVpvbmUpOiBzdHJpbmcge1xuICBpZiAoIWV4cGlyYXRpb24pIHtcbiAgICByZXR1cm4gJ05vIGV4cGlyYXRpb24gZGF0ZSc7XG4gIH1cbiAgcmV0dXJuIGRhdGVUaW1lRm9ybWF0KGV4cGlyYXRpb24sIHsgdGltZVpvbmUgfSk7XG59XG5cbmNvbnN0IGdldFN0eWxlcyA9ICh0aGVtZTogR3JhZmFuYVRoZW1lMikgPT4gKHtcbiAgdGFibGVSb3c6IChpc0V4cGlyZWQ6IGJvb2xlYW4pID0+IGNzc2BcbiAgICBjb2xvcjogJHtpc0V4cGlyZWQgPyB0aGVtZS5jb2xvcnMudGV4dC5zZWNvbmRhcnkgOiB0aGVtZS5jb2xvcnMudGV4dC5wcmltYXJ5fTtcbiAgYCxcbiAgdG9vbHRpcENvbnRhaW5lcjogY3NzYFxuICAgIG1hcmdpbi1sZWZ0OiAke3RoZW1lLnNwYWNpbmcoMSl9O1xuICBgLFxufSk7XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./public/app/features/api-keys/ApiKeysTable.tsx\n");

/***/ }),

/***/ "./public/app/features/api-keys/MigrateToServiceAccountsCard.tsx":
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   MigrateToServiceAccountsCard: () => (/* binding */ MigrateToServiceAccountsCard),\n/* harmony export */   getStyles: () => (/* binding */ getStyles)\n/* harmony export */ });\n/* harmony import */ var _emotion_css__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"./.yarn/cache/@emotion-css-npm-11.11.2-dbfa42cf83-1edea109df.zip/node_modules/@emotion/css/dist/emotion-css.esm.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(\"./.yarn/cache/react-npm-18.2.0-1eae08fee2-88e38092da.zip/node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _grafana_ui__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(\"./.yarn/__virtual__/@grafana-ui-virtual-d722efae30/1/packages/grafana-ui/src/themes/ThemeContext.tsx\");\n/* harmony import */ var _grafana_ui__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(\"./.yarn/__virtual__/@grafana-ui-virtual-d722efae30/1/packages/grafana-ui/src/components/Alert/Alert.tsx\");\n/* harmony import */ var _grafana_ui__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(\"./.yarn/__virtual__/@grafana-ui-virtual-d722efae30/1/packages/grafana-ui/src/components/Button/Button.tsx\");\n/* harmony import */ var _grafana_ui__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(\"./.yarn/__virtual__/@grafana-ui-virtual-d722efae30/1/packages/grafana-ui/src/components/ConfirmModal/ConfirmModal.tsx\");\n\n\n\n\nconst MigrateToServiceAccountsCard = ({ onMigrate, apikeysCount, disabled }) => {\n  const [isModalOpen, setIsModalOpen] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n  const styles = (0,_grafana_ui__WEBPACK_IMPORTED_MODULE_2__.useStyles2)(getStyles);\n  const docsLink = /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_1___default().createElement(\n    \"a\",\n    {\n      className: \"external-link\",\n      href: \"https://grafana.com/docs/grafana/latest/administration/api-keys/#migrate-api-keys-to-grafana-service-accounts\",\n      target: \"_blank\",\n      rel: \"noopener noreferrer\"\n    },\n    \"Find out more about the migration here.\"\n  );\n  const migrationBoxDesc = /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_1___default().createElement(\"span\", null, \"Migrating all API keys will hide the API keys tab.\", /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_1___default().createElement(\"br\", null), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_1___default().createElement(\"br\", null), \"The API keys API will remain available for you to create new API keys, but we strongly encourage you to use Service accounts instead.\");\n  return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_1___default().createElement((react__WEBPACK_IMPORTED_MODULE_1___default().Fragment), null, apikeysCount > 0 && /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_grafana_ui__WEBPACK_IMPORTED_MODULE_3__.Alert, { title: \"Switch from API keys to service accounts\", severity: \"warning\" }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_1___default().createElement(\"div\", { className: styles.text }, \"We will soon deprecate API keys. Each API key will be migrated into a service account with a token and will continue to work as they were. We encourage you to migrate your API keys to service accounts now. \", docsLink), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_1___default().createElement(\"div\", { className: styles.actionRow }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_grafana_ui__WEBPACK_IMPORTED_MODULE_4__.Button, { className: styles.actionButton, onClick: () => setIsModalOpen(true) }, \"Migrate all service accounts\"), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_1___default().createElement(\n    _grafana_ui__WEBPACK_IMPORTED_MODULE_5__.ConfirmModal,\n    {\n      title: \"Migrate API keys to Service accounts\",\n      isOpen: isModalOpen,\n      body: migrationBoxDesc,\n      confirmText: \"Yes, migrate now\",\n      onConfirm: onMigrate,\n      onDismiss: () => setIsModalOpen(false),\n      confirmVariant: \"primary\",\n      confirmButtonVariant: \"primary\"\n    }\n  ))), apikeysCount === 0 && /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_1___default().createElement((react__WEBPACK_IMPORTED_MODULE_1___default().Fragment), null, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_grafana_ui__WEBPACK_IMPORTED_MODULE_3__.Alert, { title: \"No API keys found\", severity: \"warning\" }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_1___default().createElement(\"div\", { className: styles.text }, \"No API keys were found. If you reload the browser, this tab will be not available. If any API keys are created, this tab will appear again.\"))));\n};\nconst getStyles = (theme) => ({\n  text: (0,_emotion_css__WEBPACK_IMPORTED_MODULE_0__.css)`\n    margin-bottom: ${theme.spacing(2)};\n  `,\n  actionRow: (0,_emotion_css__WEBPACK_IMPORTED_MODULE_0__.css)`\n    display: flex;\n    align-items: center;\n  `,\n  actionButton: (0,_emotion_css__WEBPACK_IMPORTED_MODULE_0__.css)`\n    margin-right: ${theme.spacing(2)};\n  `\n});\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9wdWJsaWMvYXBwL2ZlYXR1cmVzL2FwaS1rZXlzL01pZ3JhdGVUb1NlcnZpY2VBY2NvdW50c0NhcmQudHN4IiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7QUFBb0I7QUFDWTtBQUd3QjtBQVFqRCxNQUFNLCtCQUErQixDQUFDLEVBQUUsV0FBVyxjQUFjLFNBQVMsTUFBMEI7QUFDekcsUUFBTSxDQUFDLGFBQWEsY0FBYyxJQUFJLCtDQUFRLENBQUMsS0FBSztBQUNwRCxRQUFNLFNBQVMsdURBQVUsQ0FBQyxTQUFTO0FBRW5DLFFBQU0sV0FDSjtBQUFBLElBQUM7QUFBQTtBQUFBLE1BQ0MsV0FBVTtBQUFBLE1BQ1YsTUFBSztBQUFBLE1BQ0wsUUFBTztBQUFBLE1BQ1AsS0FBSTtBQUFBO0FBQUEsSUFDTDtBQUFBLEVBRUQ7QUFFRixRQUFNLG1CQUNKLDJFQUFDLGNBQUssc0RBRUosMkVBQUMsVUFBRyxHQUNKLDJFQUFDLFVBQUcsR0FBSyx1SUFHWDtBQUdGLFNBQ0UsMElBQ0csZUFBZSxLQUNkLDJFQUFDLDhDQUFLLElBQUMsT0FBTSw0Q0FBMkMsVUFBUyxhQUMvRCwyRUFBQyxTQUFJLFdBQVcsT0FBTyxRQUFNLGtOQUV3RSxRQUNyRyxHQUNBLDJFQUFDLFNBQUksV0FBVyxPQUFPLGFBQ3JCLDJFQUFDLCtDQUFNLElBQUMsV0FBVyxPQUFPLGNBQWMsU0FBUyxNQUFNLGVBQWUsSUFBSSxLQUFHLDhCQUU3RSxHQUNBO0FBQUEsSUFBQyxxREFBWTtBQUFaO0FBQUEsTUFDQyxPQUFPO0FBQUEsTUFDUCxRQUFRO0FBQUEsTUFDUixNQUFNO0FBQUEsTUFDTixhQUFhO0FBQUEsTUFDYixXQUFXO0FBQUEsTUFDWCxXQUFXLE1BQU0sZUFBZSxLQUFLO0FBQUEsTUFDckMsZ0JBQWU7QUFBQSxNQUNmLHNCQUFxQjtBQUFBO0FBQUEsRUFDdkIsQ0FDRixDQUNGLEdBRUQsaUJBQWlCLEtBQ2hCLDBJQUNFLDJFQUFDLDhDQUFLLElBQUMsT0FBTSxxQkFBb0IsVUFBUyxhQUN4QywyRUFBQyxTQUFJLFdBQVcsT0FBTyxRQUFNLDZJQUc3QixDQUNGLENBQ0YsQ0FFSjtBQUVKO0FBRU8sTUFBTSxZQUFZLENBQUMsV0FBMEI7QUFBQSxFQUNsRCxNQUFNLGlEQUFHO0FBQUgscUJBQ2EsTUFBTSxRQUFRLENBQUM7QUFBQTtBQUFBLEVBRWxDLFdBQVcsaURBQUc7QUFBSDtBQUFBO0FBQUE7QUFBQSxFQUlYLGNBQWMsaURBQUc7QUFBSCxvQkFDSSxNQUFNLFFBQVEsQ0FBQztBQUFBO0FBRW5DIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZ3JhZmFuYS8uL3B1YmxpYy9hcHAvZmVhdHVyZXMvYXBpLWtleXMvTWlncmF0ZVRvU2VydmljZUFjY291bnRzQ2FyZC50c3g/Mjc0OSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBjc3MgfSBmcm9tICdAZW1vdGlvbi9jc3MnO1xuaW1wb3J0IFJlYWN0LCB7IHVzZVN0YXRlIH0gZnJvbSAncmVhY3QnO1xuXG5pbXBvcnQgeyBHcmFmYW5hVGhlbWUyIH0gZnJvbSAnQGdyYWZhbmEvZGF0YSc7XG5pbXBvcnQgeyBBbGVydCwgQnV0dG9uLCBDb25maXJtTW9kYWwsIHVzZVN0eWxlczIgfSBmcm9tICdAZ3JhZmFuYS91aSc7XG5cbmludGVyZmFjZSBQcm9wcyB7XG4gIG9uTWlncmF0ZTogKCkgPT4gdm9pZDtcbiAgYXBpa2V5c0NvdW50OiBudW1iZXI7XG4gIGRpc2FibGVkPzogYm9vbGVhbjtcbn1cblxuZXhwb3J0IGNvbnN0IE1pZ3JhdGVUb1NlcnZpY2VBY2NvdW50c0NhcmQgPSAoeyBvbk1pZ3JhdGUsIGFwaWtleXNDb3VudCwgZGlzYWJsZWQgfTogUHJvcHMpOiBKU1guRWxlbWVudCA9PiB7XG4gIGNvbnN0IFtpc01vZGFsT3Blbiwgc2V0SXNNb2RhbE9wZW5dID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBzdHlsZXMgPSB1c2VTdHlsZXMyKGdldFN0eWxlcyk7XG5cbiAgY29uc3QgZG9jc0xpbmsgPSAoXG4gICAgPGFcbiAgICAgIGNsYXNzTmFtZT1cImV4dGVybmFsLWxpbmtcIlxuICAgICAgaHJlZj1cImh0dHBzOi8vZ3JhZmFuYS5jb20vZG9jcy9ncmFmYW5hL2xhdGVzdC9hZG1pbmlzdHJhdGlvbi9hcGkta2V5cy8jbWlncmF0ZS1hcGkta2V5cy10by1ncmFmYW5hLXNlcnZpY2UtYWNjb3VudHNcIlxuICAgICAgdGFyZ2V0PVwiX2JsYW5rXCJcbiAgICAgIHJlbD1cIm5vb3BlbmVyIG5vcmVmZXJyZXJcIlxuICAgID5cbiAgICAgIEZpbmQgb3V0IG1vcmUgYWJvdXQgdGhlIG1pZ3JhdGlvbiBoZXJlLlxuICAgIDwvYT5cbiAgKTtcbiAgY29uc3QgbWlncmF0aW9uQm94RGVzYyA9IChcbiAgICA8c3Bhbj5cbiAgICAgIE1pZ3JhdGluZyBhbGwgQVBJIGtleXMgd2lsbCBoaWRlIHRoZSBBUEkga2V5cyB0YWIuXG4gICAgICA8YnI+PC9icj5cbiAgICAgIDxicj48L2JyPlxuICAgICAgVGhlIEFQSSBrZXlzIEFQSSB3aWxsIHJlbWFpbiBhdmFpbGFibGUgZm9yIHlvdSB0byBjcmVhdGUgbmV3IEFQSSBrZXlzLCBidXQgd2Ugc3Ryb25nbHkgZW5jb3VyYWdlIHlvdSB0byB1c2VcbiAgICAgIFNlcnZpY2UgYWNjb3VudHMgaW5zdGVhZC5cbiAgICA8L3NwYW4+XG4gICk7XG5cbiAgcmV0dXJuIChcbiAgICA8PlxuICAgICAge2FwaWtleXNDb3VudCA+IDAgJiYgKFxuICAgICAgICA8QWxlcnQgdGl0bGU9XCJTd2l0Y2ggZnJvbSBBUEkga2V5cyB0byBzZXJ2aWNlIGFjY291bnRzXCIgc2V2ZXJpdHk9XCJ3YXJuaW5nXCI+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9e3N0eWxlcy50ZXh0fT5cbiAgICAgICAgICAgIFdlIHdpbGwgc29vbiBkZXByZWNhdGUgQVBJIGtleXMuIEVhY2ggQVBJIGtleSB3aWxsIGJlIG1pZ3JhdGVkIGludG8gYSBzZXJ2aWNlIGFjY291bnQgd2l0aCBhIHRva2VuIGFuZCB3aWxsXG4gICAgICAgICAgICBjb250aW51ZSB0byB3b3JrIGFzIHRoZXkgd2VyZS4gV2UgZW5jb3VyYWdlIHlvdSB0byBtaWdyYXRlIHlvdXIgQVBJIGtleXMgdG8gc2VydmljZSBhY2NvdW50cyBub3cuIHtkb2NzTGlua31cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT17c3R5bGVzLmFjdGlvblJvd30+XG4gICAgICAgICAgICA8QnV0dG9uIGNsYXNzTmFtZT17c3R5bGVzLmFjdGlvbkJ1dHRvbn0gb25DbGljaz17KCkgPT4gc2V0SXNNb2RhbE9wZW4odHJ1ZSl9PlxuICAgICAgICAgICAgICBNaWdyYXRlIGFsbCBzZXJ2aWNlIGFjY291bnRzXG4gICAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICAgIDxDb25maXJtTW9kYWxcbiAgICAgICAgICAgICAgdGl0bGU9eydNaWdyYXRlIEFQSSBrZXlzIHRvIFNlcnZpY2UgYWNjb3VudHMnfVxuICAgICAgICAgICAgICBpc09wZW49e2lzTW9kYWxPcGVufVxuICAgICAgICAgICAgICBib2R5PXttaWdyYXRpb25Cb3hEZXNjfVxuICAgICAgICAgICAgICBjb25maXJtVGV4dD17J1llcywgbWlncmF0ZSBub3cnfVxuICAgICAgICAgICAgICBvbkNvbmZpcm09e29uTWlncmF0ZX1cbiAgICAgICAgICAgICAgb25EaXNtaXNzPXsoKSA9PiBzZXRJc01vZGFsT3BlbihmYWxzZSl9XG4gICAgICAgICAgICAgIGNvbmZpcm1WYXJpYW50PVwicHJpbWFyeVwiXG4gICAgICAgICAgICAgIGNvbmZpcm1CdXR0b25WYXJpYW50PVwicHJpbWFyeVwiXG4gICAgICAgICAgICAvPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L0FsZXJ0PlxuICAgICAgKX1cbiAgICAgIHthcGlrZXlzQ291bnQgPT09IDAgJiYgKFxuICAgICAgICA8PlxuICAgICAgICAgIDxBbGVydCB0aXRsZT1cIk5vIEFQSSBrZXlzIGZvdW5kXCIgc2V2ZXJpdHk9XCJ3YXJuaW5nXCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT17c3R5bGVzLnRleHR9PlxuICAgICAgICAgICAgICBObyBBUEkga2V5cyB3ZXJlIGZvdW5kLiBJZiB5b3UgcmVsb2FkIHRoZSBicm93c2VyLCB0aGlzIHRhYiB3aWxsIGJlIG5vdCBhdmFpbGFibGUuIElmIGFueSBBUEkga2V5cyBhcmVcbiAgICAgICAgICAgICAgY3JlYXRlZCwgdGhpcyB0YWIgd2lsbCBhcHBlYXIgYWdhaW4uXG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L0FsZXJ0PlxuICAgICAgICA8Lz5cbiAgICAgICl9XG4gICAgPC8+XG4gICk7XG59O1xuXG5leHBvcnQgY29uc3QgZ2V0U3R5bGVzID0gKHRoZW1lOiBHcmFmYW5hVGhlbWUyKSA9PiAoe1xuICB0ZXh0OiBjc3NgXG4gICAgbWFyZ2luLWJvdHRvbTogJHt0aGVtZS5zcGFjaW5nKDIpfTtcbiAgYCxcbiAgYWN0aW9uUm93OiBjc3NgXG4gICAgZGlzcGxheTogZmxleDtcbiAgICBhbGlnbi1pdGVtczogY2VudGVyO1xuICBgLFxuICBhY3Rpb25CdXR0b246IGNzc2BcbiAgICBtYXJnaW4tcmlnaHQ6ICR7dGhlbWUuc3BhY2luZygyKX07XG4gIGAsXG59KTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./public/app/features/api-keys/MigrateToServiceAccountsCard.tsx\n");

/***/ }),

/***/ "./public/app/features/api-keys/state/actions.ts":
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   deleteApiKey: () => (/* binding */ deleteApiKey),\n/* harmony export */   loadApiKeys: () => (/* binding */ loadApiKeys),\n/* harmony export */   migrateAll: () => (/* binding */ migrateAll),\n/* harmony export */   migrateApiKey: () => (/* binding */ migrateApiKey),\n/* harmony export */   toggleIncludeExpired: () => (/* binding */ toggleIncludeExpired)\n/* harmony export */ });\n/* harmony import */ var app_core_services_backend_srv__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"./public/app/core/services/backend_srv.ts\");\n/* harmony import */ var _reducers__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(\"./public/app/features/api-keys/state/reducers.ts\");\n\n\n\nfunction loadApiKeys() {\n  return async (dispatch) => {\n    dispatch((0,_reducers__WEBPACK_IMPORTED_MODULE_1__.isFetching)());\n    const [keys, keysIncludingExpired] = await Promise.all([\n      (0,app_core_services_backend_srv__WEBPACK_IMPORTED_MODULE_0__.getBackendSrv)().get(\"/api/auth/keys?includeExpired=false&accesscontrol=true\"),\n      (0,app_core_services_backend_srv__WEBPACK_IMPORTED_MODULE_0__.getBackendSrv)().get(\"/api/auth/keys?includeExpired=true&accesscontrol=true\")\n    ]);\n    dispatch((0,_reducers__WEBPACK_IMPORTED_MODULE_1__.apiKeysLoaded)({ keys, keysIncludingExpired }));\n  };\n}\nfunction deleteApiKey(id) {\n  return async (dispatch) => {\n    (0,app_core_services_backend_srv__WEBPACK_IMPORTED_MODULE_0__.getBackendSrv)().delete(`/api/auth/keys/${id}`).then(() => dispatch(loadApiKeys()));\n  };\n}\nfunction migrateApiKey(id) {\n  return async (dispatch) => {\n    try {\n      await (0,app_core_services_backend_srv__WEBPACK_IMPORTED_MODULE_0__.getBackendSrv)().post(`/api/serviceaccounts/migrate/${id}`);\n    } finally {\n      dispatch(loadApiKeys());\n    }\n  };\n}\nfunction migrateAll() {\n  return async (dispatch) => {\n    try {\n      const payload = await (0,app_core_services_backend_srv__WEBPACK_IMPORTED_MODULE_0__.getBackendSrv)().post(\"/api/serviceaccounts/migrate\");\n      dispatch((0,_reducers__WEBPACK_IMPORTED_MODULE_1__.setMigrationResult)(payload));\n    } finally {\n      dispatch(loadApiKeys());\n    }\n  };\n}\nfunction toggleIncludeExpired() {\n  return (dispatch) => {\n    dispatch((0,_reducers__WEBPACK_IMPORTED_MODULE_1__.includeExpiredToggled)());\n  };\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9wdWJsaWMvYXBwL2ZlYXR1cmVzL2FwaS1rZXlzL3N0YXRlL2FjdGlvbnMudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7QUFBOEI7QUFHdUQ7QUFFOUUsU0FBUyxjQUFpQztBQUMvQyxTQUFPLE9BQU8sYUFBYTtBQUN6QixhQUFTLHFEQUFVLENBQUMsQ0FBQztBQUNyQixVQUFNLENBQUMsTUFBTSxvQkFBb0IsSUFBSSxNQUFNLFFBQVEsSUFBSTtBQUFBLE1BQ3JELDRFQUFhLENBQUMsRUFBRSxJQUFJLHdEQUF3RDtBQUFBLE1BQzVFLDRFQUFhLENBQUMsRUFBRSxJQUFJLHVEQUF1RDtBQUFBLElBQzdFLENBQUM7QUFDRCxhQUFTLHdEQUFhLENBQUMsRUFBRSxNQUFNLHFCQUFxQixDQUFDLENBQUM7QUFBQSxFQUN4RDtBQUNGO0FBRU8sU0FBUyxhQUFhLElBQStCO0FBQzFELFNBQU8sT0FBTyxhQUFhO0FBQ3pCLGdGQUFhLENBQUMsRUFDWCxPQUFPLGtCQUFrQixJQUFJLEVBQzdCLEtBQUssTUFBTSxTQUFTLFlBQVksQ0FBQyxDQUFDO0FBQUEsRUFDdkM7QUFDRjtBQUVPLFNBQVMsY0FBYyxJQUErQjtBQUMzRCxTQUFPLE9BQU8sYUFBYTtBQUN6QixRQUFJO0FBQ0YsWUFBTSw0RUFBYSxDQUFDLEVBQUUsS0FBSyxnQ0FBZ0MsSUFBSTtBQUFBLElBQ2pFLFVBQUU7QUFDQSxlQUFTLFlBQVksQ0FBQztBQUFBLElBQ3hCO0FBQUEsRUFDRjtBQUNGO0FBRU8sU0FBUyxhQUFnQztBQUM5QyxTQUFPLE9BQU8sYUFBYTtBQUN6QixRQUFJO0FBQ0YsWUFBTSxVQUFVLE1BQU0sNEVBQWEsQ0FBQyxFQUFFLEtBQUssOEJBQThCO0FBQ3pFLGVBQVMsNkRBQWtCLENBQUMsT0FBTyxDQUFDO0FBQUEsSUFDdEMsVUFBRTtBQUNBLGVBQVMsWUFBWSxDQUFDO0FBQUEsSUFDeEI7QUFBQSxFQUNGO0FBQ0Y7QUFFTyxTQUFTLHVCQUEwQztBQUN4RCxTQUFPLENBQUMsYUFBYTtBQUNuQixhQUFTLGdFQUFxQixDQUFDLENBQUM7QUFBQSxFQUNsQztBQUNGIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZ3JhZmFuYS8uL3B1YmxpYy9hcHAvZmVhdHVyZXMvYXBpLWtleXMvc3RhdGUvYWN0aW9ucy50cz85YjRiIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGdldEJhY2tlbmRTcnYgfSBmcm9tICdhcHAvY29yZS9zZXJ2aWNlcy9iYWNrZW5kX3Nydic7XG5pbXBvcnQgeyBUaHVua1Jlc3VsdCB9IGZyb20gJ2FwcC90eXBlcyc7XG5cbmltcG9ydCB7IGFwaUtleXNMb2FkZWQsIGluY2x1ZGVFeHBpcmVkVG9nZ2xlZCwgaXNGZXRjaGluZywgc2V0TWlncmF0aW9uUmVzdWx0IH0gZnJvbSAnLi9yZWR1Y2Vycyc7XG5cbmV4cG9ydCBmdW5jdGlvbiBsb2FkQXBpS2V5cygpOiBUaHVua1Jlc3VsdDx2b2lkPiB7XG4gIHJldHVybiBhc3luYyAoZGlzcGF0Y2gpID0+IHtcbiAgICBkaXNwYXRjaChpc0ZldGNoaW5nKCkpO1xuICAgIGNvbnN0IFtrZXlzLCBrZXlzSW5jbHVkaW5nRXhwaXJlZF0gPSBhd2FpdCBQcm9taXNlLmFsbChbXG4gICAgICBnZXRCYWNrZW5kU3J2KCkuZ2V0KCcvYXBpL2F1dGgva2V5cz9pbmNsdWRlRXhwaXJlZD1mYWxzZSZhY2Nlc3Njb250cm9sPXRydWUnKSxcbiAgICAgIGdldEJhY2tlbmRTcnYoKS5nZXQoJy9hcGkvYXV0aC9rZXlzP2luY2x1ZGVFeHBpcmVkPXRydWUmYWNjZXNzY29udHJvbD10cnVlJyksXG4gICAgXSk7XG4gICAgZGlzcGF0Y2goYXBpS2V5c0xvYWRlZCh7IGtleXMsIGtleXNJbmNsdWRpbmdFeHBpcmVkIH0pKTtcbiAgfTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGRlbGV0ZUFwaUtleShpZDogbnVtYmVyKTogVGh1bmtSZXN1bHQ8dm9pZD4ge1xuICByZXR1cm4gYXN5bmMgKGRpc3BhdGNoKSA9PiB7XG4gICAgZ2V0QmFja2VuZFNydigpXG4gICAgICAuZGVsZXRlKGAvYXBpL2F1dGgva2V5cy8ke2lkfWApXG4gICAgICAudGhlbigoKSA9PiBkaXNwYXRjaChsb2FkQXBpS2V5cygpKSk7XG4gIH07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBtaWdyYXRlQXBpS2V5KGlkOiBudW1iZXIpOiBUaHVua1Jlc3VsdDx2b2lkPiB7XG4gIHJldHVybiBhc3luYyAoZGlzcGF0Y2gpID0+IHtcbiAgICB0cnkge1xuICAgICAgYXdhaXQgZ2V0QmFja2VuZFNydigpLnBvc3QoYC9hcGkvc2VydmljZWFjY291bnRzL21pZ3JhdGUvJHtpZH1gKTtcbiAgICB9IGZpbmFsbHkge1xuICAgICAgZGlzcGF0Y2gobG9hZEFwaUtleXMoKSk7XG4gICAgfVxuICB9O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gbWlncmF0ZUFsbCgpOiBUaHVua1Jlc3VsdDx2b2lkPiB7XG4gIHJldHVybiBhc3luYyAoZGlzcGF0Y2gpID0+IHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgcGF5bG9hZCA9IGF3YWl0IGdldEJhY2tlbmRTcnYoKS5wb3N0KCcvYXBpL3NlcnZpY2VhY2NvdW50cy9taWdyYXRlJyk7XG4gICAgICBkaXNwYXRjaChzZXRNaWdyYXRpb25SZXN1bHQocGF5bG9hZCkpO1xuICAgIH0gZmluYWxseSB7XG4gICAgICBkaXNwYXRjaChsb2FkQXBpS2V5cygpKTtcbiAgICB9XG4gIH07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB0b2dnbGVJbmNsdWRlRXhwaXJlZCgpOiBUaHVua1Jlc3VsdDx2b2lkPiB7XG4gIHJldHVybiAoZGlzcGF0Y2gpID0+IHtcbiAgICBkaXNwYXRjaChpbmNsdWRlRXhwaXJlZFRvZ2dsZWQoKSk7XG4gIH07XG59XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./public/app/features/api-keys/state/actions.ts\n");

/***/ }),

/***/ "./public/app/features/api-keys/state/selectors.ts":
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   getApiKeys: () => (/* binding */ getApiKeys),\n/* harmony export */   getApiKeysCount: () => (/* binding */ getApiKeysCount),\n/* harmony export */   getIncludeExpired: () => (/* binding */ getIncludeExpired),\n/* harmony export */   getIncludeExpiredDisabled: () => (/* binding */ getIncludeExpiredDisabled)\n/* harmony export */ });\n\nconst getApiKeysCount = (state) => state.includeExpired ? state.keysIncludingExpired.length : state.keys.length;\nconst getApiKeys = (state) => {\n  const regex = RegExp(state.searchQuery, \"i\");\n  const keysToFilter = state.includeExpired ? state.keysIncludingExpired : state.keys;\n  return keysToFilter.filter((key) => {\n    return regex.test(key.name) || regex.test(key.role);\n  });\n};\nconst getIncludeExpired = (state) => state.includeExpired;\nconst getIncludeExpiredDisabled = (state) => state.keys.length === 0 && state.keysIncludingExpired.length > 0;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9wdWJsaWMvYXBwL2ZlYXR1cmVzL2FwaS1rZXlzL3N0YXRlL3NlbGVjdG9ycy50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUVPLE1BQU0sa0JBQWtCLENBQUMsVUFDOUIsTUFBTSxpQkFBaUIsTUFBTSxxQkFBcUIsU0FBUyxNQUFNLEtBQUs7QUFFakUsTUFBTSxhQUFhLENBQUMsVUFBd0I7QUFDakQsUUFBTSxRQUFRLE9BQU8sTUFBTSxhQUFhLEdBQUc7QUFDM0MsUUFBTSxlQUFlLE1BQU0saUJBQWlCLE1BQU0sdUJBQXVCLE1BQU07QUFFL0UsU0FBTyxhQUFhLE9BQU8sQ0FBQyxRQUFRO0FBQ2xDLFdBQU8sTUFBTSxLQUFLLElBQUksSUFBSSxLQUFLLE1BQU0sS0FBSyxJQUFJLElBQUk7QUFBQSxFQUNwRCxDQUFDO0FBQ0g7QUFFTyxNQUFNLG9CQUFvQixDQUFDLFVBQXdCLE1BQU07QUFFekQsTUFBTSw0QkFBNEIsQ0FBQyxVQUN4QyxNQUFNLEtBQUssV0FBVyxLQUFLLE1BQU0scUJBQXFCLFNBQVMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9ncmFmYW5hLy4vcHVibGljL2FwcC9mZWF0dXJlcy9hcGkta2V5cy9zdGF0ZS9zZWxlY3RvcnMudHM/NDM1YyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBBcGlLZXlzU3RhdGUgfSBmcm9tICdhcHAvdHlwZXMnO1xuXG5leHBvcnQgY29uc3QgZ2V0QXBpS2V5c0NvdW50ID0gKHN0YXRlOiBBcGlLZXlzU3RhdGUpID0+XG4gIHN0YXRlLmluY2x1ZGVFeHBpcmVkID8gc3RhdGUua2V5c0luY2x1ZGluZ0V4cGlyZWQubGVuZ3RoIDogc3RhdGUua2V5cy5sZW5ndGg7XG5cbmV4cG9ydCBjb25zdCBnZXRBcGlLZXlzID0gKHN0YXRlOiBBcGlLZXlzU3RhdGUpID0+IHtcbiAgY29uc3QgcmVnZXggPSBSZWdFeHAoc3RhdGUuc2VhcmNoUXVlcnksICdpJyk7XG4gIGNvbnN0IGtleXNUb0ZpbHRlciA9IHN0YXRlLmluY2x1ZGVFeHBpcmVkID8gc3RhdGUua2V5c0luY2x1ZGluZ0V4cGlyZWQgOiBzdGF0ZS5rZXlzO1xuXG4gIHJldHVybiBrZXlzVG9GaWx0ZXIuZmlsdGVyKChrZXkpID0+IHtcbiAgICByZXR1cm4gcmVnZXgudGVzdChrZXkubmFtZSkgfHwgcmVnZXgudGVzdChrZXkucm9sZSk7XG4gIH0pO1xufTtcblxuZXhwb3J0IGNvbnN0IGdldEluY2x1ZGVFeHBpcmVkID0gKHN0YXRlOiBBcGlLZXlzU3RhdGUpID0+IHN0YXRlLmluY2x1ZGVFeHBpcmVkO1xuXG5leHBvcnQgY29uc3QgZ2V0SW5jbHVkZUV4cGlyZWREaXNhYmxlZCA9IChzdGF0ZTogQXBpS2V5c1N0YXRlKSA9PlxuICBzdGF0ZS5rZXlzLmxlbmd0aCA9PT0gMCAmJiBzdGF0ZS5rZXlzSW5jbHVkaW5nRXhwaXJlZC5sZW5ndGggPiAwO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./public/app/features/api-keys/state/selectors.ts\n");

/***/ })

}]);