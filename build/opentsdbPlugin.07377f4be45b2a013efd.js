"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(self["webpackChunkgrafana"] = self["webpackChunkgrafana"] || []).push([["opentsdbPlugin"],{

/***/ "./public/app/plugins/datasource/opentsdb/components/AnnotationEditor.tsx":
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AnnotationEditor: () => (/* binding */ AnnotationEditor)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"./.yarn/cache/react-npm-18.2.0-1eae08fee2-88e38092da.zip/node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _grafana_ui__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(\"./.yarn/__virtual__/@grafana-ui-virtual-d722efae30/1/packages/grafana-ui/src/components/FormLabel/FormLabel.tsx\");\n/* harmony import */ var _grafana_ui__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(\"./.yarn/__virtual__/@grafana-ui-virtual-d722efae30/1/packages/grafana-ui/src/components/Input/Input.tsx\");\n/* harmony import */ var _grafana_ui__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(\"./.yarn/__virtual__/@grafana-ui-virtual-d722efae30/1/packages/grafana-ui/src/components/Switch/Switch.tsx\");\n\n\n\nconst AnnotationEditor = (props) => {\n  const { query, onChange } = props;\n  const [target, setTarget] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(query.target ?? \"\");\n  const [isGlobal, setIsGlobal] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(query.isGlobal ?? false);\n  const updateValue = (key, val) => {\n    onChange({\n      ...query,\n      [key]: val,\n      fromAnnotations: true\n    });\n  };\n  const updateIsGlobal = (isGlobal2) => {\n    isGlobal2 = !isGlobal2;\n    setIsGlobal(isGlobal2);\n    updateValue(\"isGlobal\", isGlobal2);\n  };\n  return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", { className: \"gf-form-group\" }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", { className: \"gf-form\" }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_grafana_ui__WEBPACK_IMPORTED_MODULE_1__.InlineFormLabel, { width: 12 }, \"OpenTSDB metrics query\"), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\n    _grafana_ui__WEBPACK_IMPORTED_MODULE_2__.Input,\n    {\n      value: target,\n      onChange: (e) => setTarget(e.currentTarget.value ?? \"\"),\n      onBlur: () => updateValue(\"target\", target),\n      placeholder: \"events.eventname\"\n    }\n  )), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", { className: \"gf-form\" }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_grafana_ui__WEBPACK_IMPORTED_MODULE_1__.InlineFormLabel, { width: 12 }, \"Show Global Annotations?\"), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_grafana_ui__WEBPACK_IMPORTED_MODULE_3__.InlineSwitch, { value: isGlobal, onChange: (e) => updateIsGlobal(isGlobal) })));\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9wdWJsaWMvYXBwL3BsdWdpbnMvZGF0YXNvdXJjZS9vcGVudHNkYi9jb21wb25lbnRzL0Fubm90YXRpb25FZGl0b3IudHN4IiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7QUFBZ0M7QUFHcUI7QUFLOUMsTUFBTSxtQkFBbUIsQ0FBQyxVQUE4RTtBQUM3RyxRQUFNLEVBQUUsT0FBTyxTQUFTLElBQUk7QUFDNUIsUUFBTSxDQUFDLFFBQVEsU0FBUyxJQUFJLCtDQUFRLENBQVMsTUFBTSxVQUFVLEVBQUU7QUFDL0QsUUFBTSxDQUFDLFVBQVUsV0FBVyxJQUFJLCtDQUFRLENBQVUsTUFBTSxZQUFZLEtBQUs7QUFFekUsUUFBTSxjQUFjLENBQTRELEtBQVEsUUFBVztBQUNqRyxhQUFTO0FBQUEsTUFDUCxHQUFHO0FBQUEsTUFDSCxDQUFDLEdBQUcsR0FBRztBQUFBLE1BQ1AsaUJBQWlCO0FBQUEsSUFDbkIsQ0FBQztBQUFBLEVBQ0g7QUFFQSxRQUFNLGlCQUFpQixDQUFDQSxjQUFzQjtBQUM1QyxJQUFBQSxZQUFXLENBQUNBO0FBQ1osZ0JBQVlBLFNBQVE7QUFDcEIsZ0JBQVksWUFBWUEsU0FBUTtBQUFBLEVBQ2xDO0FBRUEsU0FDRSwyRUFBQyxTQUFJLFdBQVUsbUJBQ2IsMkVBQUMsU0FBSSxXQUFVLGFBQ2IsMkVBQUMsd0RBQWUsSUFBQyxPQUFPLE1BQUksd0JBQXNCLEdBQ2xEO0FBQUEsSUFBQyw4Q0FBSztBQUFMO0FBQUEsTUFDQyxPQUFPO0FBQUEsTUFDUCxVQUFVLENBQUMsTUFBTSxVQUFVLEVBQUUsY0FBYyxTQUFTLEVBQUU7QUFBQSxNQUN0RCxRQUFRLE1BQU0sWUFBWSxVQUFVLE1BQU07QUFBQSxNQUMxQyxhQUFZO0FBQUE7QUFBQSxFQUNkLENBQ0YsR0FDQSwyRUFBQyxTQUFJLFdBQVUsYUFDYiwyRUFBQyx3REFBZSxJQUFDLE9BQU8sTUFBSSwwQkFBd0IsR0FDcEQsMkVBQUMscURBQVksSUFBQyxPQUFPLFVBQVUsVUFBVSxDQUFDLE1BQU0sZUFBZSxRQUFRLEdBQUcsQ0FDNUUsQ0FDRjtBQUVKIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZ3JhZmFuYS8uL3B1YmxpYy9hcHAvcGx1Z2lucy9kYXRhc291cmNlL29wZW50c2RiL2NvbXBvbmVudHMvQW5ub3RhdGlvbkVkaXRvci50c3g/YzMyZiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUmVhY3QsIHsgdXNlU3RhdGUgfSBmcm9tICdyZWFjdCc7XG5cbmltcG9ydCB7IFF1ZXJ5RWRpdG9yUHJvcHMgfSBmcm9tICdAZ3JhZmFuYS9kYXRhJztcbmltcG9ydCB7IElubGluZUZvcm1MYWJlbCwgSW5wdXQsIElubGluZVN3aXRjaCB9IGZyb20gJ0BncmFmYW5hL3VpJztcblxuaW1wb3J0IE9wZW5Uc0RhdGFzb3VyY2UgZnJvbSAnLi4vZGF0YXNvdXJjZSc7XG5pbXBvcnQgeyBPcGVuVHNkYlF1ZXJ5LCBPcGVuVHNkYk9wdGlvbnMgfSBmcm9tICcuLi90eXBlcyc7XG5cbmV4cG9ydCBjb25zdCBBbm5vdGF0aW9uRWRpdG9yID0gKHByb3BzOiBRdWVyeUVkaXRvclByb3BzPE9wZW5Uc0RhdGFzb3VyY2UsIE9wZW5Uc2RiUXVlcnksIE9wZW5Uc2RiT3B0aW9ucz4pID0+IHtcbiAgY29uc3QgeyBxdWVyeSwgb25DaGFuZ2UgfSA9IHByb3BzO1xuICBjb25zdCBbdGFyZ2V0LCBzZXRUYXJnZXRdID0gdXNlU3RhdGU8c3RyaW5nPihxdWVyeS50YXJnZXQgPz8gJycpO1xuICBjb25zdCBbaXNHbG9iYWwsIHNldElzR2xvYmFsXSA9IHVzZVN0YXRlPGJvb2xlYW4+KHF1ZXJ5LmlzR2xvYmFsID8/IGZhbHNlKTtcblxuICBjb25zdCB1cGRhdGVWYWx1ZSA9IDxLIGV4dGVuZHMga2V5b2YgT3BlblRzZGJRdWVyeSwgViBleHRlbmRzIE9wZW5Uc2RiUXVlcnlbS10+KGtleTogSywgdmFsOiBWKSA9PiB7XG4gICAgb25DaGFuZ2Uoe1xuICAgICAgLi4ucXVlcnksXG4gICAgICBba2V5XTogdmFsLFxuICAgICAgZnJvbUFubm90YXRpb25zOiB0cnVlLFxuICAgIH0pO1xuICB9O1xuXG4gIGNvbnN0IHVwZGF0ZUlzR2xvYmFsID0gKGlzR2xvYmFsOiBib29sZWFuKSA9PiB7XG4gICAgaXNHbG9iYWwgPSAhaXNHbG9iYWw7XG4gICAgc2V0SXNHbG9iYWwoaXNHbG9iYWwpO1xuICAgIHVwZGF0ZVZhbHVlKCdpc0dsb2JhbCcsIGlzR2xvYmFsKTtcbiAgfTtcblxuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPVwiZ2YtZm9ybS1ncm91cFwiPlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJnZi1mb3JtXCI+XG4gICAgICAgIDxJbmxpbmVGb3JtTGFiZWwgd2lkdGg9ezEyfT5PcGVuVFNEQiBtZXRyaWNzIHF1ZXJ5PC9JbmxpbmVGb3JtTGFiZWw+XG4gICAgICAgIDxJbnB1dFxuICAgICAgICAgIHZhbHVlPXt0YXJnZXR9XG4gICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiBzZXRUYXJnZXQoZS5jdXJyZW50VGFyZ2V0LnZhbHVlID8/ICcnKX1cbiAgICAgICAgICBvbkJsdXI9eygpID0+IHVwZGF0ZVZhbHVlKCd0YXJnZXQnLCB0YXJnZXQpfVxuICAgICAgICAgIHBsYWNlaG9sZGVyPVwiZXZlbnRzLmV2ZW50bmFtZVwiXG4gICAgICAgIC8+XG4gICAgICA8L2Rpdj5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZ2YtZm9ybVwiPlxuICAgICAgICA8SW5saW5lRm9ybUxhYmVsIHdpZHRoPXsxMn0+U2hvdyBHbG9iYWwgQW5ub3RhdGlvbnM/PC9JbmxpbmVGb3JtTGFiZWw+XG4gICAgICAgIDxJbmxpbmVTd2l0Y2ggdmFsdWU9e2lzR2xvYmFsfSBvbkNoYW5nZT17KGUpID0+IHVwZGF0ZUlzR2xvYmFsKGlzR2xvYmFsKX0gLz5cbiAgICAgIDwvZGl2PlxuICAgIDwvZGl2PlxuICApO1xufTtcbiJdLCJuYW1lcyI6WyJpc0dsb2JhbCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./public/app/plugins/datasource/opentsdb/components/AnnotationEditor.tsx\n");

/***/ }),

/***/ "./public/app/plugins/datasource/opentsdb/components/ConfigEditor.tsx":
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ConfigEditor: () => (/* binding */ ConfigEditor)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"./.yarn/cache/react-npm-18.2.0-1eae08fee2-88e38092da.zip/node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _grafana_runtime__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(\"./.yarn/__virtual__/@grafana-runtime-virtual-68c57d4c0c/1/packages/grafana-runtime/src/config.ts\");\n/* harmony import */ var _grafana_ui__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(\"./.yarn/__virtual__/@grafana-ui-virtual-d722efae30/1/packages/grafana-ui/src/components/DataSourceSettings/DataSourceHttpSettings.tsx\");\n/* harmony import */ var _OpenTsdbDetails__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(\"./public/app/plugins/datasource/opentsdb/components/OpenTsdbDetails.tsx\");\n\n\n\n\n\nconst ConfigEditor = (props) => {\n  const { options, onOptionsChange } = props;\n  return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0___default().createElement((react__WEBPACK_IMPORTED_MODULE_0___default().Fragment), null, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\n    _grafana_ui__WEBPACK_IMPORTED_MODULE_2__.DataSourceHttpSettings,\n    {\n      defaultUrl: \"http://localhost:4242\",\n      dataSourceConfig: options,\n      onChange: onOptionsChange,\n      secureSocksDSProxyEnabled: _grafana_runtime__WEBPACK_IMPORTED_MODULE_3__.config.secureSocksDSProxyEnabled\n    }\n  ), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_OpenTsdbDetails__WEBPACK_IMPORTED_MODULE_1__.OpenTsdbDetails, { value: options, onChange: onOptionsChange }));\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9wdWJsaWMvYXBwL3BsdWdpbnMvZGF0YXNvdXJjZS9vcGVudHNkYi9jb21wb25lbnRzL0NvbmZpZ0VkaXRvci50c3giLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7OztBQUFrQjtBQUdLO0FBQ2dCO0FBSVA7QUFFekIsTUFBTSxlQUFlLENBQUMsVUFBK0Q7QUFDMUYsUUFBTSxFQUFFLFNBQVMsZ0JBQWdCLElBQUk7QUFFckMsU0FDRSwwSUFDRTtBQUFBLElBQUMsK0RBQXNCO0FBQXRCO0FBQUEsTUFDQyxZQUFXO0FBQUEsTUFDWCxrQkFBa0I7QUFBQSxNQUNsQixVQUFVO0FBQUEsTUFDViwyQkFBMkIsb0RBQU0sQ0FBQztBQUFBO0FBQUEsRUFDcEMsR0FDQSwyRUFBQyw2REFBZSxJQUFDLE9BQU8sU0FBUyxVQUFVLGlCQUFpQixDQUM5RDtBQUVKIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZ3JhZmFuYS8uL3B1YmxpYy9hcHAvcGx1Z2lucy9kYXRhc291cmNlL29wZW50c2RiL2NvbXBvbmVudHMvQ29uZmlnRWRpdG9yLnRzeD8zZDI4Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5cbmltcG9ydCB7IERhdGFTb3VyY2VQbHVnaW5PcHRpb25zRWRpdG9yUHJvcHMgfSBmcm9tICdAZ3JhZmFuYS9kYXRhJztcbmltcG9ydCB7IGNvbmZpZyB9IGZyb20gJ0BncmFmYW5hL3J1bnRpbWUnO1xuaW1wb3J0IHsgRGF0YVNvdXJjZUh0dHBTZXR0aW5ncyB9IGZyb20gJ0BncmFmYW5hL3VpJztcblxuaW1wb3J0IHsgT3BlblRzZGJPcHRpb25zIH0gZnJvbSAnLi4vdHlwZXMnO1xuXG5pbXBvcnQgeyBPcGVuVHNkYkRldGFpbHMgfSBmcm9tICcuL09wZW5Uc2RiRGV0YWlscyc7XG5cbmV4cG9ydCBjb25zdCBDb25maWdFZGl0b3IgPSAocHJvcHM6IERhdGFTb3VyY2VQbHVnaW5PcHRpb25zRWRpdG9yUHJvcHM8T3BlblRzZGJPcHRpb25zPikgPT4ge1xuICBjb25zdCB7IG9wdGlvbnMsIG9uT3B0aW9uc0NoYW5nZSB9ID0gcHJvcHM7XG5cbiAgcmV0dXJuIChcbiAgICA8PlxuICAgICAgPERhdGFTb3VyY2VIdHRwU2V0dGluZ3NcbiAgICAgICAgZGVmYXVsdFVybD1cImh0dHA6Ly9sb2NhbGhvc3Q6NDI0MlwiXG4gICAgICAgIGRhdGFTb3VyY2VDb25maWc9e29wdGlvbnN9XG4gICAgICAgIG9uQ2hhbmdlPXtvbk9wdGlvbnNDaGFuZ2V9XG4gICAgICAgIHNlY3VyZVNvY2tzRFNQcm94eUVuYWJsZWQ9e2NvbmZpZy5zZWN1cmVTb2Nrc0RTUHJveHlFbmFibGVkfVxuICAgICAgLz5cbiAgICAgIDxPcGVuVHNkYkRldGFpbHMgdmFsdWU9e29wdGlvbnN9IG9uQ2hhbmdlPXtvbk9wdGlvbnNDaGFuZ2V9IC8+XG4gICAgPC8+XG4gICk7XG59O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./public/app/plugins/datasource/opentsdb/components/ConfigEditor.tsx\n");

/***/ }),

/***/ "./public/app/plugins/datasource/opentsdb/components/DownSample.tsx":
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   DownSample: () => (/* binding */ DownSample),\n/* harmony export */   testIds: () => (/* binding */ testIds)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"./.yarn/cache/react-npm-18.2.0-1eae08fee2-88e38092da.zip/node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _grafana_data__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(\"./.yarn/__virtual__/@grafana-data-virtual-0996183232/1/packages/grafana-data/src/utils/selectUtils.ts\");\n/* harmony import */ var _grafana_ui__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(\"./.yarn/__virtual__/@grafana-ui-virtual-d722efae30/1/packages/grafana-ui/src/components/FormLabel/FormLabel.tsx\");\n/* harmony import */ var _grafana_ui__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(\"./.yarn/__virtual__/@grafana-ui-virtual-d722efae30/1/packages/grafana-ui/src/components/Input/Input.tsx\");\n/* harmony import */ var _grafana_ui__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(\"./.yarn/__virtual__/@grafana-ui-virtual-d722efae30/1/packages/grafana-ui/src/components/Select/Select.tsx\");\n/* harmony import */ var _grafana_ui__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(\"./.yarn/__virtual__/@grafana-ui-virtual-d722efae30/1/packages/grafana-ui/src/components/Forms/InlineLabel.tsx\");\n/* harmony import */ var _grafana_ui__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(\"./.yarn/__virtual__/@grafana-ui-virtual-d722efae30/1/packages/grafana-ui/src/components/Switch/Switch.tsx\");\n/* harmony import */ var _styles__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(\"./public/app/plugins/datasource/opentsdb/components/styles.ts\");\n\n\n\n\n\nfunction DownSample({ query, onChange, onRunQuery, aggregators, fillPolicies, tsdbVersion }) {\n  const aggregatorOptions = aggregators.map((value) => (0,_grafana_data__WEBPACK_IMPORTED_MODULE_2__.toOption)(value));\n  const fillPolicyOptions = fillPolicies.map((value) => (0,_grafana_data__WEBPACK_IMPORTED_MODULE_2__.toOption)(value));\n  return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", { className: \"gf-form-inline\", \"data-testid\": testIds.section }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", { className: \"gf-form\" }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\n    _grafana_ui__WEBPACK_IMPORTED_MODULE_3__.InlineFormLabel,\n    {\n      className: \"query-keyword\",\n      width: 8,\n      tooltip: /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", null, \"Leave interval blank for auto or for example use \", /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"code\", null, \"1m\"))\n    },\n    \"Down sample\"\n  ), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\n    _grafana_ui__WEBPACK_IMPORTED_MODULE_4__.Input,\n    {\n      width: 25,\n      className: _styles__WEBPACK_IMPORTED_MODULE_1__.paddingRightClass,\n      \"data-testid\": testIds.interval,\n      placeholder: \"interval\",\n      value: query.downsampleInterval ?? \"\",\n      onChange: (e) => {\n        const value = e.currentTarget.value;\n        onChange({ ...query, downsampleInterval: value });\n      },\n      onBlur: () => onRunQuery()\n    }\n  )), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", { className: \"gf-form\" }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_grafana_ui__WEBPACK_IMPORTED_MODULE_3__.InlineFormLabel, { width: \"auto\", className: \"query-keyword\" }, \"Aggregator\"), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\n    _grafana_ui__WEBPACK_IMPORTED_MODULE_5__.Select,\n    {\n      className: \"gf-form-input\",\n      value: query.downsampleAggregator ? (0,_grafana_data__WEBPACK_IMPORTED_MODULE_2__.toOption)(query.downsampleAggregator) : void 0,\n      options: aggregatorOptions,\n      onChange: ({ value }) => {\n        if (value) {\n          onChange({ ...query, downsampleAggregator: value });\n          onRunQuery();\n        }\n      }\n    }\n  )), tsdbVersion >= 2 && /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", { className: \"gf-form\" }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_grafana_ui__WEBPACK_IMPORTED_MODULE_6__.InlineLabel, { className: \"width-6 query-keyword\" }, \"Fill\"), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\n    _grafana_ui__WEBPACK_IMPORTED_MODULE_5__.Select,\n    {\n      inputId: \"opentsdb-fillpolicy-select\",\n      value: query.downsampleFillPolicy ? (0,_grafana_data__WEBPACK_IMPORTED_MODULE_2__.toOption)(query.downsampleFillPolicy) : void 0,\n      options: fillPolicyOptions,\n      onChange: ({ value }) => {\n        if (value) {\n          onChange({ ...query, downsampleFillPolicy: value });\n          onRunQuery();\n        }\n      }\n    }\n  )), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", { className: \"gf-form\" }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_grafana_ui__WEBPACK_IMPORTED_MODULE_3__.InlineFormLabel, { className: \"query-keyword\" }, \"Disable downsampling\"), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\n    _grafana_ui__WEBPACK_IMPORTED_MODULE_7__.InlineSwitch,\n    {\n      value: query.disableDownsampling ?? false,\n      onChange: () => {\n        const disableDownsampling = query.disableDownsampling ?? false;\n        onChange({ ...query, disableDownsampling: !disableDownsampling });\n        onRunQuery();\n      }\n    }\n  )), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", { className: \"gf-form gf-form--grow\" }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", { className: \"gf-form-label gf-form-label--grow\" })));\n}\nconst testIds = {\n  section: \"opentsdb-downsample\",\n  interval: \"downsample-interval\"\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9wdWJsaWMvYXBwL3BsdWdpbnMvZGF0YXNvdXJjZS9vcGVudHNkYi9jb21wb25lbnRzL0Rvd25TYW1wbGUudHN4IiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7OztBQUFrQjtBQUVPO0FBQ2lEO0FBSXhDO0FBVzNCLFNBQVMsV0FBVyxFQUFFLE9BQU8sVUFBVSxZQUFZLGFBQWEsY0FBYyxZQUFZLEdBQW9CO0FBQ25ILFFBQU0sb0JBQW9CLFlBQVksSUFBSSxDQUFDLFVBQWtCLHVEQUFRLENBQUMsS0FBSyxDQUFDO0FBQzVFLFFBQU0sb0JBQW9CLGFBQWEsSUFBSSxDQUFDLFVBQWtCLHVEQUFRLENBQUMsS0FBSyxDQUFDO0FBRTdFLFNBQ0UsMkVBQUMsU0FBSSxXQUFVLGtCQUFpQixlQUFhLFFBQVEsV0FDbkQsMkVBQUMsU0FBSSxXQUFVLGFBQ2I7QUFBQSxJQUFDLHdEQUFlO0FBQWY7QUFBQSxNQUNDLFdBQVU7QUFBQSxNQUNWLE9BQU87QUFBQSxNQUNQLFNBQ0UsMkVBQUMsYUFBSSxxREFDOEMsMkVBQUMsY0FBSyxJQUFFLENBQzNEO0FBQUE7QUFBQSxJQUVIO0FBQUEsRUFFRCxHQUNBO0FBQUEsSUFBQyw4Q0FBSztBQUFMO0FBQUEsTUFDQyxPQUFPO0FBQUEsTUFDUCxXQUFXLHNEQUFpQjtBQUFqQixNQUNYLGVBQWEsUUFBUTtBQUFBLE1BQ3JCLGFBQVk7QUFBQSxNQUNaLE9BQU8sTUFBTSxzQkFBc0I7QUFBQSxNQUNuQyxVQUFVLENBQUMsTUFBTTtBQUNmLGNBQU0sUUFBUSxFQUFFLGNBQWM7QUFDOUIsaUJBQVMsRUFBRSxHQUFHLE9BQU8sb0JBQW9CLE1BQU0sQ0FBQztBQUFBLE1BQ2xEO0FBQUEsTUFDQSxRQUFRLE1BQU0sV0FBVztBQUFBO0FBQUEsRUFDM0IsQ0FDRixHQUNBLDJFQUFDLFNBQUksV0FBVSxhQUNiLDJFQUFDLHdEQUFlLElBQUMsT0FBTyxRQUFRLFdBQVUsbUJBQWdCLFlBRTFELEdBQ0E7QUFBQSxJQUFDLCtDQUFNO0FBQU47QUFBQSxNQUNDLFdBQVU7QUFBQSxNQUNWLE9BQU8sTUFBTSx1QkFBdUIsdURBQVEsQ0FBQyxNQUFNLG9CQUFvQixJQUFJO0FBQUEsTUFDM0UsU0FBUztBQUFBLE1BQ1QsVUFBVSxDQUFDLEVBQUUsTUFBTSxNQUFNO0FBQ3ZCLFlBQUksT0FBTztBQUNULG1CQUFTLEVBQUUsR0FBRyxPQUFPLHNCQUFzQixNQUFNLENBQUM7QUFDbEQscUJBQVc7QUFBQSxRQUNiO0FBQUEsTUFDRjtBQUFBO0FBQUEsRUFDRixDQUNGLEdBQ0MsZUFBZSxLQUNkLDJFQUFDLFNBQUksV0FBVSxhQUNiLDJFQUFDLG9EQUFXLElBQUMsV0FBVSwyQkFBd0IsTUFBSSxHQUNuRDtBQUFBLElBQUMsK0NBQU07QUFBTjtBQUFBLE1BQ0MsU0FBUTtBQUFBLE1BQ1IsT0FBTyxNQUFNLHVCQUF1Qix1REFBUSxDQUFDLE1BQU0sb0JBQW9CLElBQUk7QUFBQSxNQUMzRSxTQUFTO0FBQUEsTUFDVCxVQUFVLENBQUMsRUFBRSxNQUFNLE1BQU07QUFDdkIsWUFBSSxPQUFPO0FBQ1QsbUJBQVMsRUFBRSxHQUFHLE9BQU8sc0JBQXNCLE1BQU0sQ0FBQztBQUNsRCxxQkFBVztBQUFBLFFBQ2I7QUFBQSxNQUNGO0FBQUE7QUFBQSxFQUNGLENBQ0YsR0FFRiwyRUFBQyxTQUFJLFdBQVUsYUFDYiwyRUFBQyx3REFBZSxJQUFDLFdBQVUsbUJBQWdCLHNCQUFvQixHQUMvRDtBQUFBLElBQUMscURBQVk7QUFBWjtBQUFBLE1BQ0MsT0FBTyxNQUFNLHVCQUF1QjtBQUFBLE1BQ3BDLFVBQVUsTUFBTTtBQUNkLGNBQU0sc0JBQXNCLE1BQU0sdUJBQXVCO0FBQ3pELGlCQUFTLEVBQUUsR0FBRyxPQUFPLHFCQUFxQixDQUFDLG9CQUFvQixDQUFDO0FBQ2hFLG1CQUFXO0FBQUEsTUFDYjtBQUFBO0FBQUEsRUFDRixDQUNGLEdBQ0EsMkVBQUMsU0FBSSxXQUFVLDJCQUNiLDJFQUFDLFNBQUksV0FBVSxxQ0FBb0MsQ0FDckQsQ0FDRjtBQUVKO0FBRU8sTUFBTSxVQUFVO0FBQUEsRUFDckIsU0FBUztBQUFBLEVBQ1QsVUFBVTtBQUNaIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZ3JhZmFuYS8uL3B1YmxpYy9hcHAvcGx1Z2lucy9kYXRhc291cmNlL29wZW50c2RiL2NvbXBvbmVudHMvRG93blNhbXBsZS50c3g/N2NlZSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuXG5pbXBvcnQgeyB0b09wdGlvbiB9IGZyb20gJ0BncmFmYW5hL2RhdGEnO1xuaW1wb3J0IHsgSW5saW5lTGFiZWwsIFNlbGVjdCwgSW5wdXQsIElubGluZUZvcm1MYWJlbCwgSW5saW5lU3dpdGNoIH0gZnJvbSAnQGdyYWZhbmEvdWknO1xuXG5pbXBvcnQgeyBPcGVuVHNkYlF1ZXJ5IH0gZnJvbSAnLi4vdHlwZXMnO1xuXG5pbXBvcnQgeyBwYWRkaW5nUmlnaHRDbGFzcyB9IGZyb20gJy4vc3R5bGVzJztcblxuZXhwb3J0IGludGVyZmFjZSBEb3duU2FtcGxlUHJvcHMge1xuICBxdWVyeTogT3BlblRzZGJRdWVyeTtcbiAgb25DaGFuZ2U6IChxdWVyeTogT3BlblRzZGJRdWVyeSkgPT4gdm9pZDtcbiAgb25SdW5RdWVyeTogKCkgPT4gdm9pZDtcbiAgYWdncmVnYXRvcnM6IHN0cmluZ1tdO1xuICBmaWxsUG9saWNpZXM6IHN0cmluZ1tdO1xuICB0c2RiVmVyc2lvbjogbnVtYmVyO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gRG93blNhbXBsZSh7IHF1ZXJ5LCBvbkNoYW5nZSwgb25SdW5RdWVyeSwgYWdncmVnYXRvcnMsIGZpbGxQb2xpY2llcywgdHNkYlZlcnNpb24gfTogRG93blNhbXBsZVByb3BzKSB7XG4gIGNvbnN0IGFnZ3JlZ2F0b3JPcHRpb25zID0gYWdncmVnYXRvcnMubWFwKCh2YWx1ZTogc3RyaW5nKSA9PiB0b09wdGlvbih2YWx1ZSkpO1xuICBjb25zdCBmaWxsUG9saWN5T3B0aW9ucyA9IGZpbGxQb2xpY2llcy5tYXAoKHZhbHVlOiBzdHJpbmcpID0+IHRvT3B0aW9uKHZhbHVlKSk7XG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT1cImdmLWZvcm0taW5saW5lXCIgZGF0YS10ZXN0aWQ9e3Rlc3RJZHMuc2VjdGlvbn0+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImdmLWZvcm1cIj5cbiAgICAgICAgPElubGluZUZvcm1MYWJlbFxuICAgICAgICAgIGNsYXNzTmFtZT1cInF1ZXJ5LWtleXdvcmRcIlxuICAgICAgICAgIHdpZHRoPXs4fVxuICAgICAgICAgIHRvb2x0aXA9e1xuICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgTGVhdmUgaW50ZXJ2YWwgYmxhbmsgZm9yIGF1dG8gb3IgZm9yIGV4YW1wbGUgdXNlIDxjb2RlPjFtPC9jb2RlPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgfVxuICAgICAgICA+XG4gICAgICAgICAgRG93biBzYW1wbGVcbiAgICAgICAgPC9JbmxpbmVGb3JtTGFiZWw+XG4gICAgICAgIDxJbnB1dFxuICAgICAgICAgIHdpZHRoPXsyNX1cbiAgICAgICAgICBjbGFzc05hbWU9e3BhZGRpbmdSaWdodENsYXNzfVxuICAgICAgICAgIGRhdGEtdGVzdGlkPXt0ZXN0SWRzLmludGVydmFsfVxuICAgICAgICAgIHBsYWNlaG9sZGVyPVwiaW50ZXJ2YWxcIlxuICAgICAgICAgIHZhbHVlPXtxdWVyeS5kb3duc2FtcGxlSW50ZXJ2YWwgPz8gJyd9XG4gICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiB7XG4gICAgICAgICAgICBjb25zdCB2YWx1ZSA9IGUuY3VycmVudFRhcmdldC52YWx1ZTtcbiAgICAgICAgICAgIG9uQ2hhbmdlKHsgLi4ucXVlcnksIGRvd25zYW1wbGVJbnRlcnZhbDogdmFsdWUgfSk7XG4gICAgICAgICAgfX1cbiAgICAgICAgICBvbkJsdXI9eygpID0+IG9uUnVuUXVlcnkoKX1cbiAgICAgICAgLz5cbiAgICAgIDwvZGl2PlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJnZi1mb3JtXCI+XG4gICAgICAgIDxJbmxpbmVGb3JtTGFiZWwgd2lkdGg9eydhdXRvJ30gY2xhc3NOYW1lPVwicXVlcnkta2V5d29yZFwiPlxuICAgICAgICAgIEFnZ3JlZ2F0b3JcbiAgICAgICAgPC9JbmxpbmVGb3JtTGFiZWw+XG4gICAgICAgIDxTZWxlY3RcbiAgICAgICAgICBjbGFzc05hbWU9XCJnZi1mb3JtLWlucHV0XCJcbiAgICAgICAgICB2YWx1ZT17cXVlcnkuZG93bnNhbXBsZUFnZ3JlZ2F0b3IgPyB0b09wdGlvbihxdWVyeS5kb3duc2FtcGxlQWdncmVnYXRvcikgOiB1bmRlZmluZWR9XG4gICAgICAgICAgb3B0aW9ucz17YWdncmVnYXRvck9wdGlvbnN9XG4gICAgICAgICAgb25DaGFuZ2U9eyh7IHZhbHVlIH0pID0+IHtcbiAgICAgICAgICAgIGlmICh2YWx1ZSkge1xuICAgICAgICAgICAgICBvbkNoYW5nZSh7IC4uLnF1ZXJ5LCBkb3duc2FtcGxlQWdncmVnYXRvcjogdmFsdWUgfSk7XG4gICAgICAgICAgICAgIG9uUnVuUXVlcnkoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9fVxuICAgICAgICAvPlxuICAgICAgPC9kaXY+XG4gICAgICB7dHNkYlZlcnNpb24gPj0gMiAmJiAoXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZ2YtZm9ybVwiPlxuICAgICAgICAgIDxJbmxpbmVMYWJlbCBjbGFzc05hbWU9XCJ3aWR0aC02IHF1ZXJ5LWtleXdvcmRcIj5GaWxsPC9JbmxpbmVMYWJlbD5cbiAgICAgICAgICA8U2VsZWN0XG4gICAgICAgICAgICBpbnB1dElkPVwib3BlbnRzZGItZmlsbHBvbGljeS1zZWxlY3RcIlxuICAgICAgICAgICAgdmFsdWU9e3F1ZXJ5LmRvd25zYW1wbGVGaWxsUG9saWN5ID8gdG9PcHRpb24ocXVlcnkuZG93bnNhbXBsZUZpbGxQb2xpY3kpIDogdW5kZWZpbmVkfVxuICAgICAgICAgICAgb3B0aW9ucz17ZmlsbFBvbGljeU9wdGlvbnN9XG4gICAgICAgICAgICBvbkNoYW5nZT17KHsgdmFsdWUgfSkgPT4ge1xuICAgICAgICAgICAgICBpZiAodmFsdWUpIHtcbiAgICAgICAgICAgICAgICBvbkNoYW5nZSh7IC4uLnF1ZXJ5LCBkb3duc2FtcGxlRmlsbFBvbGljeTogdmFsdWUgfSk7XG4gICAgICAgICAgICAgICAgb25SdW5RdWVyeSgpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9fVxuICAgICAgICAgIC8+XG4gICAgICAgIDwvZGl2PlxuICAgICAgKX1cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZ2YtZm9ybVwiPlxuICAgICAgICA8SW5saW5lRm9ybUxhYmVsIGNsYXNzTmFtZT1cInF1ZXJ5LWtleXdvcmRcIj5EaXNhYmxlIGRvd25zYW1wbGluZzwvSW5saW5lRm9ybUxhYmVsPlxuICAgICAgICA8SW5saW5lU3dpdGNoXG4gICAgICAgICAgdmFsdWU9e3F1ZXJ5LmRpc2FibGVEb3duc2FtcGxpbmcgPz8gZmFsc2V9XG4gICAgICAgICAgb25DaGFuZ2U9eygpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGRpc2FibGVEb3duc2FtcGxpbmcgPSBxdWVyeS5kaXNhYmxlRG93bnNhbXBsaW5nID8/IGZhbHNlO1xuICAgICAgICAgICAgb25DaGFuZ2UoeyAuLi5xdWVyeSwgZGlzYWJsZURvd25zYW1wbGluZzogIWRpc2FibGVEb3duc2FtcGxpbmcgfSk7XG4gICAgICAgICAgICBvblJ1blF1ZXJ5KCk7XG4gICAgICAgICAgfX1cbiAgICAgICAgLz5cbiAgICAgIDwvZGl2PlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJnZi1mb3JtIGdmLWZvcm0tLWdyb3dcIj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJnZi1mb3JtLWxhYmVsIGdmLWZvcm0tbGFiZWwtLWdyb3dcIj48L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgIDwvZGl2PlxuICApO1xufVxuXG5leHBvcnQgY29uc3QgdGVzdElkcyA9IHtcbiAgc2VjdGlvbjogJ29wZW50c2RiLWRvd25zYW1wbGUnLFxuICBpbnRlcnZhbDogJ2Rvd25zYW1wbGUtaW50ZXJ2YWwnLFxufTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./public/app/plugins/datasource/opentsdb/components/DownSample.tsx\n");

/***/ }),

/***/ "./public/app/plugins/datasource/opentsdb/components/FilterSection.tsx":
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   FilterSection: () => (/* binding */ FilterSection),\n/* harmony export */   testIds: () => (/* binding */ testIds)\n/* harmony export */ });\n/* harmony import */ var debounce_promise__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"./.yarn/cache/debounce-promise-npm-3.1.2-3c185da0c7-29bac4524c.zip/node_modules/debounce-promise/dist/index.js\");\n/* harmony import */ var debounce_promise__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(debounce_promise__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(\"./.yarn/cache/lodash-npm-4.17.21-6382451519-eb835a2e51.zip/node_modules/lodash/lodash.js\");\n/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(\"./.yarn/cache/react-npm-18.2.0-1eae08fee2-88e38092da.zip/node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _grafana_data__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(\"./.yarn/__virtual__/@grafana-data-virtual-0996183232/1/packages/grafana-data/src/utils/selectUtils.ts\");\n/* harmony import */ var _grafana_ui__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(\"./.yarn/__virtual__/@grafana-ui-virtual-d722efae30/1/packages/grafana-ui/src/themes/ThemeContext.tsx\");\n/* harmony import */ var _grafana_ui__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(\"./.yarn/__virtual__/@grafana-ui-virtual-d722efae30/1/packages/grafana-ui/src/components/Button/Button.tsx\");\n/* harmony import */ var _grafana_ui__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(\"./.yarn/__virtual__/@grafana-ui-virtual-d722efae30/1/packages/grafana-ui/src/components/FormLabel/FormLabel.tsx\");\n/* harmony import */ var _grafana_ui__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(\"./.yarn/__virtual__/@grafana-ui-virtual-d722efae30/1/packages/grafana-ui/src/components/Icon/Icon.tsx\");\n/* harmony import */ var _grafana_ui__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(\"./.yarn/__virtual__/@grafana-ui-virtual-d722efae30/1/packages/grafana-ui/src/components/Select/Select.tsx\");\n/* harmony import */ var _grafana_ui__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(\"./.yarn/__virtual__/@grafana-ui-virtual-d722efae30/1/packages/grafana-ui/src/components/Forms/InlineLabel.tsx\");\n/* harmony import */ var _grafana_ui__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(\"./.yarn/__virtual__/@grafana-ui-virtual-d722efae30/1/packages/grafana-ui/src/components/Switch/Switch.tsx\");\n\n\n\n\n\n\nfunction FilterSection({\n  query,\n  onChange,\n  onRunQuery,\n  suggestTagKeys,\n  filterTypes,\n  suggestTagValues\n}) {\n  const buttonStyles = (0,_grafana_ui__WEBPACK_IMPORTED_MODULE_3__.useStyles2)(_grafana_ui__WEBPACK_IMPORTED_MODULE_4__.clearButtonStyles);\n  const [tagKeys, updTagKeys] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)();\n  const [keyIsLoading, updKeyIsLoading] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)();\n  const [addFilterMode, updAddFilterMode] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(false);\n  const [curFilterType, updCurFilterType] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(\"iliteral_or\");\n  const [curFilterKey, updCurFilterKey] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(\"\");\n  const [curFilterValue, updCurFilterValue] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(\"\");\n  const [curFilterGroupBy, updCurFilterGroupBy] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(false);\n  const [errors, setErrors] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(\"\");\n  const filterTypesOptions = filterTypes.map((value) => (0,_grafana_data__WEBPACK_IMPORTED_MODULE_5__.toOption)(value));\n  function changeAddFilterMode() {\n    updAddFilterMode(!addFilterMode);\n  }\n  function addFilter() {\n    if (query.tags && (0,lodash__WEBPACK_IMPORTED_MODULE_1__.size)(query.tags) > 0) {\n      const err = \"Please remove tags to use filters, tags and filters are mutually exclusive.\";\n      setErrors(err);\n      return;\n    }\n    if (!addFilterMode) {\n      updAddFilterMode(true);\n      return;\n    }\n    const currentFilter = {\n      type: curFilterType,\n      tagk: curFilterKey,\n      filter: curFilterValue,\n      groupBy: curFilterGroupBy\n    };\n    query.filters = query.filters ? query.filters.concat([currentFilter]) : [currentFilter];\n    updCurFilterType(\"literal_or\");\n    updCurFilterKey(\"\");\n    updCurFilterValue(\"\");\n    updCurFilterGroupBy(false);\n    onChange(query);\n    onRunQuery();\n    changeAddFilterMode();\n  }\n  function removeFilter(index) {\n    query.filters?.splice(index, 1);\n    onChange(query);\n    onRunQuery();\n  }\n  function editFilter(fil, idx) {\n    removeFilter(idx);\n    updCurFilterKey(fil.tagk);\n    updCurFilterValue(fil.filter);\n    updCurFilterType(fil.type);\n    updCurFilterGroupBy(fil.groupBy);\n    addFilter();\n  }\n  const splitSeparator = \" \";\n  const customFilterOption = (0,react__WEBPACK_IMPORTED_MODULE_2__.useCallback)((option, searchQuery) => {\n    const label = option.value ?? \"\";\n    const searchWords = searchQuery.split(splitSeparator);\n    return searchWords.reduce((acc, cur) => acc && label.toLowerCase().includes(cur.toLowerCase()), true);\n  }, []);\n  const tagValueSearch = debounce_promise__WEBPACK_IMPORTED_MODULE_0___default()((query2) => suggestTagValues(query2), 350);\n  return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_2___default().createElement(\"div\", { className: \"gf-form-inline\", \"data-testid\": testIds.section }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_2___default().createElement(\"div\", { className: \"gf-form\" }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_2___default().createElement(\n    _grafana_ui__WEBPACK_IMPORTED_MODULE_6__.InlineFormLabel,\n    {\n      className: \"query-keyword\",\n      width: 8,\n      tooltip: /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_2___default().createElement(\"div\", null, \"Filters does not work with tags, either of the two will work but not both.\")\n    },\n    \"Filters\"\n  ), query.filters && query.filters.map((fil, idx) => {\n    return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_2___default().createElement(_grafana_ui__WEBPACK_IMPORTED_MODULE_6__.InlineFormLabel, { key: idx, width: \"auto\", \"data-testid\": testIds.list + idx }, fil.tagk, \" = \", fil.type, \"(\", fil.filter, \"), groupBy = \", \"\" + fil.groupBy, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_2___default().createElement(\"button\", { type: \"button\", className: buttonStyles, onClick: () => editFilter(fil, idx) }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_2___default().createElement(_grafana_ui__WEBPACK_IMPORTED_MODULE_7__.Icon, { name: \"pen\" })), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_2___default().createElement(\n      \"button\",\n      {\n        type: \"button\",\n        className: buttonStyles,\n        onClick: () => removeFilter(idx),\n        \"data-testid\": testIds.remove\n      },\n      /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_2___default().createElement(_grafana_ui__WEBPACK_IMPORTED_MODULE_7__.Icon, { name: \"times\" })\n    ));\n  }), !addFilterMode && /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_2___default().createElement(\"button\", { className: \"gf-form-label\", type: \"button\", onClick: changeAddFilterMode, \"aria-label\": \"Add filter\" }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_2___default().createElement(_grafana_ui__WEBPACK_IMPORTED_MODULE_7__.Icon, { name: \"plus\" }))), addFilterMode && /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_2___default().createElement(\"div\", { className: \"gf-form-inline\" }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_2___default().createElement(\"div\", { className: \"gf-form\" }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_2___default().createElement(\n    _grafana_ui__WEBPACK_IMPORTED_MODULE_8__.Select,\n    {\n      inputId: \"opentsdb-suggested-tagk-select\",\n      className: \"gf-form-input\",\n      value: curFilterKey ? (0,_grafana_data__WEBPACK_IMPORTED_MODULE_5__.toOption)(curFilterKey) : void 0,\n      placeholder: \"key\",\n      allowCustomValue: true,\n      filterOption: customFilterOption,\n      onOpenMenu: async () => {\n        updKeyIsLoading(true);\n        const tKs = await suggestTagKeys(query);\n        const tKsOptions = tKs.map((value) => (0,_grafana_data__WEBPACK_IMPORTED_MODULE_5__.toOption)(value));\n        updTagKeys(tKsOptions);\n        updKeyIsLoading(false);\n      },\n      isLoading: keyIsLoading,\n      options: tagKeys,\n      onChange: ({ value }) => {\n        if (value) {\n          updCurFilterKey(value);\n        }\n      }\n    }\n  )), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_2___default().createElement(\"div\", { className: \"gf-form\" }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_2___default().createElement(_grafana_ui__WEBPACK_IMPORTED_MODULE_9__.InlineLabel, { className: \"width-4 query-keyword\" }, \"Type\"), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_2___default().createElement(\n    _grafana_ui__WEBPACK_IMPORTED_MODULE_8__.Select,\n    {\n      inputId: \"opentsdb-aggregator-select\",\n      value: curFilterType ? (0,_grafana_data__WEBPACK_IMPORTED_MODULE_5__.toOption)(curFilterType) : void 0,\n      options: filterTypesOptions,\n      onChange: ({ value }) => {\n        if (value) {\n          updCurFilterType(value);\n        }\n      }\n    }\n  )), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_2___default().createElement(\"div\", { className: \"gf-form\" }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_2___default().createElement(\n    _grafana_ui__WEBPACK_IMPORTED_MODULE_8__.AsyncSelect,\n    {\n      inputId: \"opentsdb-suggested-tagv-select\",\n      className: \"gf-form-input\",\n      value: curFilterValue ? (0,_grafana_data__WEBPACK_IMPORTED_MODULE_5__.toOption)(curFilterValue) : void 0,\n      placeholder: \"filter\",\n      allowCustomValue: true,\n      loadOptions: tagValueSearch,\n      defaultOptions: [],\n      onChange: ({ value }) => {\n        if (value) {\n          updCurFilterValue(value);\n        }\n      }\n    }\n  )), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_2___default().createElement(_grafana_ui__WEBPACK_IMPORTED_MODULE_6__.InlineFormLabel, { width: 5, className: \"query-keyword\" }, \"Group by\"), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_2___default().createElement(\n    _grafana_ui__WEBPACK_IMPORTED_MODULE_10__.InlineSwitch,\n    {\n      value: curFilterGroupBy,\n      onChange: () => {\n        updCurFilterGroupBy(!curFilterGroupBy);\n      }\n    }\n  ), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_2___default().createElement(\"div\", { className: \"gf-form\" }, errors && /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_2___default().createElement(\"div\", { className: \"gf-form-label\", title: errors, \"data-testid\": testIds.error }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_2___default().createElement(_grafana_ui__WEBPACK_IMPORTED_MODULE_7__.Icon, { name: \"exclamation-triangle\", color: \"rgb(229, 189, 28)\" })), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_2___default().createElement(\"div\", { className: \"gf-form-label\" }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_2___default().createElement(\"button\", { type: \"button\", className: buttonStyles, onClick: addFilter }, \"add filter\"), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_2___default().createElement(\"button\", { type: \"button\", className: buttonStyles, onClick: changeAddFilterMode }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_2___default().createElement(_grafana_ui__WEBPACK_IMPORTED_MODULE_7__.Icon, { name: \"times\" }))))), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_2___default().createElement(\"div\", { className: \"gf-form gf-form--grow\" }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_2___default().createElement(\"div\", { className: \"gf-form-label gf-form-label--grow\" })));\n}\nconst testIds = {\n  section: \"opentsdb-filter\",\n  list: \"opentsdb-filter-list\",\n  error: \"opentsdb-filter-error\",\n  remove: \"opentsdb-filter-remove\"\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9wdWJsaWMvYXBwL3BsdWdpbnMvZGF0YXNvdXJjZS9vcGVudHNkYi9jb21wb25lbnRzL0ZpbHRlclNlY3Rpb24udHN4IiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQXFCO0FBQ0E7QUFDd0I7QUFFSDtBQVVuQztBQWFBLFNBQVMsY0FBYztBQUFBLEVBQzVCO0FBQUEsRUFDQTtBQUFBLEVBQ0E7QUFBQSxFQUNBO0FBQUEsRUFDQTtBQUFBLEVBQ0E7QUFDRixHQUF1QjtBQUNyQixRQUFNLGVBQWUsdURBQVUsQ0FBQywwREFBaUI7QUFFakQsUUFBTSxDQUFDLFNBQVMsVUFBVSxJQUFJLCtDQUFRLENBQWlDO0FBQ3ZFLFFBQU0sQ0FBQyxjQUFjLGVBQWUsSUFBSSwrQ0FBUSxDQUFVO0FBRTFELFFBQU0sQ0FBQyxlQUFlLGdCQUFnQixJQUFJLCtDQUFRLENBQVUsS0FBSztBQUVqRSxRQUFNLENBQUMsZUFBZSxnQkFBZ0IsSUFBSSwrQ0FBUSxDQUFTLGFBQWE7QUFDeEUsUUFBTSxDQUFDLGNBQWMsZUFBZSxJQUFJLCtDQUFRLENBQVMsRUFBRTtBQUMzRCxRQUFNLENBQUMsZ0JBQWdCLGlCQUFpQixJQUFJLCtDQUFRLENBQVMsRUFBRTtBQUMvRCxRQUFNLENBQUMsa0JBQWtCLG1CQUFtQixJQUFJLCtDQUFRLENBQVUsS0FBSztBQUV2RSxRQUFNLENBQUMsUUFBUSxTQUFTLElBQUksK0NBQVEsQ0FBUyxFQUFFO0FBRS9DLFFBQU0scUJBQXFCLFlBQVksSUFBSSxDQUFDLFVBQWtCLHVEQUFRLENBQUMsS0FBSyxDQUFDO0FBRTdFLFdBQVMsc0JBQXNCO0FBQzdCLHFCQUFpQixDQUFDLGFBQWE7QUFBQSxFQUNqQztBQUVBLFdBQVMsWUFBWTtBQUNuQixRQUFJLE1BQU0sUUFBUSw0Q0FBSSxDQUFDLE1BQU0sSUFBSSxJQUFJLEdBQUc7QUFDdEMsWUFBTSxNQUFNO0FBQ1osZ0JBQVUsR0FBRztBQUNiO0FBQUEsSUFDRjtBQUVBLFFBQUksQ0FBQyxlQUFlO0FB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V0FBVSxtQkFBZ0IsVUFFckQsR0FDQTtBQUFBLElBQUMsc0RBQVk7QUFBWjtBQUFBLE1BQ0MsT0FBTztBQUFBLE1BQ1AsVUFBVSxNQUFNO0FBR2QsNEJBQW9CLENBQUMsZ0JBQWdCO0FBQUEsTUFDdkM7QUFBQTtBQUFBLEVBQ0YsR0FDQSwyRUFBQyxTQUFJLFdBQVUsYUFDWixVQUNDLDJFQUFDLFNBQUksV0FBVSxpQkFBZ0IsT0FBTyxRQUFRLGVBQWEsUUFBUSxTQUNqRSwyRUFBQyw2Q0FBSSxJQUFDLE1BQU0sd0JBQXdCLE9BQU8scUJBQXFCLENBQ2xFLEdBRUYsMkVBQUMsU0FBSSxXQUFVLG1CQUNiLDJFQUFDLFlBQU8sTUFBSyxVQUFTLFdBQVcsY0FBYyxTQUFTLGFBQVcsWUFFbkUsR0FDQSwyRUFBQyxZQUFPLE1BQUssVUFBUyxXQUFXLGNBQWMsU0FBUyx1QkFDdEQsMkVBQUMsNkNBQUksSUFBQyxNQUFNLFNBQVMsQ0FDdkIsQ0FDRixDQUNGLENBQ0YsR0FFRiwyRUFBQyxTQUFJLFdBQVUsMkJBQ2IsMkVBQUMsU0FBSSxXQUFVLHFDQUFvQyxDQUNyRCxDQUNGO0FBRUo7QUFFTyxNQUFNLFVBQVU7QUFBQSxFQUNyQixTQUFTO0FBQUEsRUFDVCxNQUFNO0FBQUEsRUFDTixPQUFPO0FBQUEsRUFDUCxRQUFRO0FBQ1YiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9ncmFmYW5hLy4vcHVibGljL2FwcC9wbHVnaW5zL2RhdGFzb3VyY2Uvb3BlbnRzZGIvY29tcG9uZW50cy9GaWx0ZXJTZWN0aW9uLnRzeD8wZGNlIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBkZWJvdW5jZSBmcm9tICdkZWJvdW5jZS1wcm9taXNlJztcbmltcG9ydCB7IHNpemUgfSBmcm9tICdsb2Rhc2gnO1xuaW1wb3J0IFJlYWN0LCB7IHVzZUNhbGxiYWNrLCB1c2VTdGF0ZSB9IGZyb20gJ3JlYWN0JztcblxuaW1wb3J0IHsgU2VsZWN0YWJsZVZhbHVlLCB0b09wdGlvbiB9IGZyb20gJ0BncmFmYW5hL2RhdGEnO1xuaW1wb3J0IHtcbiAgSW5saW5lTGFiZWwsXG4gIFNlbGVjdCxcbiAgSW5saW5lRm9ybUxhYmVsLFxuICBJbmxpbmVTd2l0Y2gsXG4gIEljb24sXG4gIGNsZWFyQnV0dG9uU3R5bGVzLFxuICB1c2VTdHlsZXMyLFxuICBBc3luY1NlbGVjdCxcbn0gZnJvbSAnQGdyYWZhbmEvdWknO1xuXG5pbXBvcnQgeyBPcGVuVHNkYkZpbHRlciwgT3BlblRzZGJRdWVyeSB9IGZyb20gJy4uL3R5cGVzJztcblxuZXhwb3J0IGludGVyZmFjZSBGaWx0ZXJTZWN0aW9uUHJvcHMge1xuICBxdWVyeTogT3BlblRzZGJRdWVyeTtcbiAgb25DaGFuZ2U6IChxdWVyeTogT3BlblRzZGJRdWVyeSkgPT4gdm9pZDtcbiAgb25SdW5RdWVyeTogKCkgPT4gdm9pZDtcbiAgc3VnZ2VzdFRhZ0tleXM6IChxdWVyeTogT3BlblRzZGJRdWVyeSkgPT4gUHJvbWlzZTxzdHJpbmdbXT47XG4gIGZpbHRlclR5cGVzOiBzdHJpbmdbXTtcbiAgc3VnZ2VzdFRhZ1ZhbHVlczogKHZhbHVlOiBzdHJpbmcpID0+IFByb21pc2U8U2VsZWN0YWJsZVZhbHVlW10+O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gRmlsdGVyU2VjdGlvbih7XG4gIHF1ZXJ5LFxuICBvbkNoYW5nZSxcbiAgb25SdW5RdWVyeSxcbiAgc3VnZ2VzdFRhZ0tleXMsXG4gIGZpbHRlclR5cGVzLFxuICBzdWdnZXN0VGFnVmFsdWVzLFxufTogRmlsdGVyU2VjdGlvblByb3BzKSB7XG4gIGNvbnN0IGJ1dHRvblN0eWxlcyA9IHVzZVN0eWxlczIoY2xlYXJCdXR0b25TdHlsZXMpO1xuXG4gIGNvbnN0IFt0YWdLZXlzLCB1cGRUYWdLZXlzXSA9IHVzZVN0YXRlPEFycmF5PFNlbGVjdGFibGVWYWx1ZTxzdHJpbmc+Pj4oKTtcbiAgY29uc3QgW2tleUlzTG9hZGluZywgdXBkS2V5SXNMb2FkaW5nXSA9IHVzZVN0YXRlPGJvb2xlYW4+KCk7XG5cbiAgY29uc3QgW2FkZEZpbHRlck1vZGUsIHVwZEFkZEZpbHRlck1vZGVdID0gdXNlU3RhdGU8Ym9vbGVhbj4oZmFsc2UpO1xuXG4gIGNvbnN0IFtjdXJGaWx0ZXJUeXBlLCB1cGRDdXJGaWx0ZXJUeXBlXSA9IHVzZVN0YXRlPHN0cmluZz4oJ2lsaXRlcmFsX29yJyk7XG4gIGNvbnN0IFtjdXJGaWx0ZXJLZXksIHVwZEN1ckZpbHRlcktleV0gPSB1c2VTdGF0ZTxzdHJpbmc+KCcnKTtcbiAgY29uc3QgW2N1ckZpbHRlclZhbHVlLCB1cGRDdXJGaWx0ZXJWYWx1ZV0gPSB1c2VTdGF0ZTxzdHJpbmc+KCcnKTtcbiAgY29uc3QgW2N1ckZpbHRlckdyb3VwQnksIHVwZEN1ckZpbHRlckdyb3VwQnldID0gdXNlU3RhdGU8Ym9vbGVhbj4oZmFsc2UpO1xuXG4gIGNvbnN0IFtlcnJvcnMsIHNldEVycm9yc10gPSB1c2VTdGF0ZTxzdHJpbmc+KCcnKTtcblxuICBjb25zdCBmaWx0ZXJUeXBlc09wdGlvbnMgPSBmaWx0ZXJUeXBlcy5tYXAoKHZhbHVlOiBzdHJpbmcpID0+IHRvT3B0aW9uKHZhbHVlKSk7XG5cbiAgZnVuY3Rpb24gY2hhbmdlQWRkRmlsdGVyTW9kZSgpIHtcbiAgICB1cGRBZGRGaWx0ZXJNb2RlKCFhZGRGaWx0ZXJNb2RlKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGFkZEZpbHRlcigpIHtcbiAgICBpZiAocXVlcnkudGFncyAmJiBzaXplKHF1ZXJ5LnRhZ3MpID4gMCkge1xuICAgICAgY29uc3QgZXJyID0gJ1BsZWFzZSByZW1vdmUgdGFncyB0byB1c2UgZmlsdGVycywgdGFncyBhbmQgZmlsdGVycyBhcmUgbXV0dWFsbHkgZXhjbHVzaXZlLic7XG4gICAgICBzZXRFcnJvcnMoZXJyKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAoIWFkZEZpbHRlck1vZGUpIHtcbiAgICAgIHVwZEFkZEZpbHRlck1vZGUodHJ1ZSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gQWRkIHRoZSBmaWx0ZXIgdG8gdGhlIHF1ZXJ5XG4gICAgY29uc3QgY3VycmVudEZpbHRlciA9IHtcbiAgICAgIHR5cGU6IGN1ckZpbHRlclR5cGUsXG4gICAgICB0YWdrOiBjdXJGaWx0ZXJLZXksXG4gICAgICBmaWx0ZXI6IGN1ckZpbHRlclZhbHVlLFxuICAgICAgZ3JvdXBCeTogY3VyRmlsdGVyR3JvdXBCeSxcbiAgICB9O1xuXG4gICAgLy8gZmlsdGVycyBtYXkgYmUgdW5kZWZpbmVkXG4gICAgcXVlcnkuZmlsdGVycyA9IHF1ZXJ5LmZpbHRlcnMgPyBxdWVyeS5maWx0ZXJzLmNvbmNhdChbY3VycmVudEZpbHRlcl0pIDogW2N1cnJlbnRGaWx0ZXJdO1xuXG4gICAgLy8gcmVzZXQgdGhlIGlucHV0c1xuICAgIHVwZEN1ckZpbHRlclR5cGUoJ2xpdGVyYWxfb3InKTtcbiAgICB1cGRDdXJGaWx0ZXJLZXkoJycpO1xuICAgIHVwZEN1ckZpbHRlclZhbHVlKCcnKTtcbiAgICB1cGRDdXJGaWx0ZXJHcm91cEJ5KGZhbHNlKTtcblxuICAgIC8vIGZpcmUgdGhlIHF1ZXJ5XG4gICAgb25DaGFuZ2UocXVlcnkpO1xuICAgIG9uUnVuUXVlcnkoKTtcblxuICAgIC8vIGNsb3NlIHRoZSBmaWx0ZXIgZGl0b3JcbiAgICBjaGFuZ2VBZGRGaWx0ZXJNb2RlKCk7XG4gIH1cblxuICBmdW5jdGlvbiByZW1vdmVGaWx0ZXIoaW5kZXg6IG51bWJlcikge1xuICAgIHF1ZXJ5LmZpbHRlcnM/LnNwbGljZShpbmRleCwgMSk7XG4gICAgLy8gZmlyZSB0aGUgcXVlcnlcbiAgICBvbkNoYW5nZShxdWVyeSk7XG4gICAgb25SdW5RdWVyeSgpO1xuICB9XG5cbiAgZnVuY3Rpb24gZWRpdEZpbHRlcihmaWw6IE9wZW5Uc2RiRmlsdGVyLCBpZHg6IG51bWJlcikge1xuICAgIHJlbW92ZUZpbHRlcihpZHgpO1xuICAgIHVwZEN1ckZpbHRlcktleShmaWwudGFnayk7XG4gICAgdXBkQ3VyRmlsdGVyVmFsdWUoZmlsLmZpbHRlcik7XG4gICAgdXBkQ3VyRmlsdGVyVHlwZShmaWwudHlwZSk7XG4gICAgdXBkQ3VyRmlsdGVyR3JvdXBCeShmaWwuZ3JvdXBCeSk7XG4gICAgYWRkRmlsdGVyKCk7XG4gIH1cblxuICAvLyBXZSBhcmUgbWF0Y2hpbmcgd29yZHMgc3BsaXQgd2l0aCBzcGFjZVxuICBjb25zdCBzcGxpdFNlcGFyYXRvciA9ICcgJztcbiAgY29uc3QgY3VzdG9tRmlsdGVyT3B0aW9uID0gdXNlQ2FsbGJhY2soKG9wdGlvbjogU2VsZWN0YWJsZVZhbHVlPHN0cmluZz4sIHNlYXJjaFF1ZXJ5OiBzdHJpbmcpID0+IHtcbiAgICBjb25zdCBsYWJlbCA9IG9wdGlvbi52YWx1ZSA/PyAnJztcblxuICAgIGNvbnN0IHNlYXJjaFdvcmRzID0gc2VhcmNoUXVlcnkuc3BsaXQoc3BsaXRTZXBhcmF0b3IpO1xuICAgIHJldHVybiBzZWFyY2hXb3Jkcy5yZWR1Y2UoKGFjYywgY3VyKSA9PiBhY2MgJiYgbGFiZWwudG9Mb3dlckNhc2UoKS5pbmNsdWRlcyhjdXIudG9Mb3dlckNhc2UoKSksIHRydWUpO1xuICB9LCBbXSk7XG5cbiAgY29uc3QgdGFnVmFsdWVTZWFyY2ggPSBkZWJvdW5jZSgocXVlcnk6IHN0cmluZykgPT4gc3VnZ2VzdFRhZ1ZhbHVlcyhxdWVyeSksIDM1MCk7XG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT1cImdmLWZvcm0taW5saW5lXCIgZGF0YS10ZXN0aWQ9e3Rlc3RJZHMuc2VjdGlvbn0+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImdmLWZvcm1cIj5cbiAgICAgICAgPElubGluZUZvcm1MYWJlbFxuICAgICAgICAgIGNsYXNzTmFtZT1cInF1ZXJ5LWtleXdvcmRcIlxuICAgICAgICAgIHdpZHRoPXs4fVxuICAgICAgICAgIHRvb2x0aXA9ezxkaXY+RmlsdGVycyBkb2VzIG5vdCB3b3JrIHdpdGggdGFncywgZWl0aGVyIG9mIHRoZSB0d28gd2lsbCB3b3JrIGJ1dCBub3QgYm90aC48L2Rpdj59XG4gICAgICAgID5cbiAgICAgICAgICBGaWx0ZXJzXG4gICAgICAgIDwvSW5saW5lRm9ybUxhYmVsPlxuICAgICAgICB7cXVlcnkuZmlsdGVycyAmJlxuICAgICAgICAgIHF1ZXJ5LmZpbHRlcnMubWFwKChmaWw6IE9wZW5Uc2RiRmlsdGVyLCBpZHg6IG51bWJlcikgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgPElubGluZUZvcm1MYWJlbCBrZXk9e2lkeH0gd2lkdGg9XCJhdXRvXCIgZGF0YS10ZXN0aWQ9e3Rlc3RJZHMubGlzdCArIGlkeH0+XG4gICAgICAgICAgICAgICAge2ZpbC50YWdrfSA9IHtmaWwudHlwZX0oe2ZpbC5maWx0ZXJ9KSwgZ3JvdXBCeSA9IHsnJyArIGZpbC5ncm91cEJ5fVxuICAgICAgICAgICAgICAgIDxidXR0b24gdHlwZT1cImJ1dHRvblwiIGNsYXNzTmFtZT17YnV0dG9uU3R5bGVzfSBvbkNsaWNrPXsoKSA9PiBlZGl0RmlsdGVyKGZpbCwgaWR4KX0+XG4gICAgICAgICAgICAgICAgICA8SWNvbiBuYW1lPXsncGVuJ30gLz5cbiAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAgICB0eXBlPVwiYnV0dG9uXCJcbiAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17YnV0dG9uU3R5bGVzfVxuICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gcmVtb3ZlRmlsdGVyKGlkeCl9XG4gICAgICAgICAgICAgICAgICBkYXRhLXRlc3RpZD17dGVzdElkcy5yZW1vdmV9XG4gICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgPEljb24gbmFtZT17J3RpbWVzJ30gLz5cbiAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgPC9JbmxpbmVGb3JtTGFiZWw+XG4gICAgICAgICAgICApO1xuICAgICAgICAgIH0pfVxuICAgICAgICB7IWFkZEZpbHRlck1vZGUgJiYgKFxuICAgICAgICAgIDxidXR0b24gY2xhc3NOYW1lPVwiZ2YtZm9ybS1sYWJlbFwiIHR5cGU9XCJidXR0b25cIiBvbkNsaWNrPXtjaGFuZ2VBZGRGaWx0ZXJNb2RlfSBhcmlhLWxhYmVsPVwiQWRkIGZpbHRlclwiPlxuICAgICAgICAgICAgPEljb24gbmFtZT17J3BsdXMnfSAvPlxuICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICApfVxuICAgICAgPC9kaXY+XG4gICAgICB7YWRkRmlsdGVyTW9kZSAmJiAoXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZ2YtZm9ybS1pbmxpbmVcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImdmLWZvcm1cIj5cbiAgICAgICAgICAgIDxTZWxlY3RcbiAgICAgICAgICAgICAgaW5wdXRJZD1cIm9wZW50c2RiLXN1Z2dlc3RlZC10YWdrLXNlbGVjdFwiXG4gICAgICAgICAgICAgIGNsYXNzTmFtZT1cImdmLWZvcm0taW5wdXRcIlxuICAgICAgICAgICAgICB2YWx1ZT17Y3VyRmlsdGVyS2V5ID8gdG9PcHRpb24oY3VyRmlsdGVyS2V5KSA6IHVuZGVmaW5lZH1cbiAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCJrZXlcIlxuICAgICAgICAgICAgICBhbGxvd0N1c3RvbVZhbHVlXG4gICAgICAgICAgICAgIGZpbHRlck9wdGlvbj17Y3VzdG9tRmlsdGVyT3B0aW9ufVxuICAgICAgICAgICAgICBvbk9wZW5NZW51PXthc3luYyAoKSA9PiB7XG4gICAgICAgICAgICAgICAgdXBkS2V5SXNMb2FkaW5nKHRydWUpO1xuICAgICAgICAgICAgICAgIGNvbnN0IHRLcyA9IGF3YWl0IHN1Z2dlc3RUYWdLZXlzKHF1ZXJ5KTtcbiAgICAgICAgICAgICAgICBjb25zdCB0S3NPcHRpb25zID0gdEtzLm1hcCgodmFsdWU6IHN0cmluZykgPT4gdG9PcHRpb24odmFsdWUpKTtcbiAgICAgICAgICAgICAgICB1cGRUYWdLZXlzKHRLc09wdGlvbnMpO1xuICAgICAgICAgICAgICAgIHVwZEtleUlzTG9hZGluZyhmYWxzZSk7XG4gICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgIGlzTG9hZGluZz17a2V5SXNMb2FkaW5nfVxuICAgICAgICAgICAgICBvcHRpb25zPXt0YWdLZXlzfVxuICAgICAgICAgICAgICBvbkNoYW5nZT17KHsgdmFsdWUgfSkgPT4ge1xuICAgICAgICAgICAgICAgIGlmICh2YWx1ZSkge1xuICAgICAgICAgICAgICAgICAgdXBkQ3VyRmlsdGVyS2V5KHZhbHVlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAvPlxuICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJnZi1mb3JtXCI+XG4gICAgICAgICAgICA8SW5saW5lTGFiZWwgY2xhc3NOYW1lPVwid2lkdGgtNCBxdWVyeS1rZXl3b3JkXCI+VHlwZTwvSW5saW5lTGFiZWw+XG4gICAgICAgICAgICA8U2VsZWN0XG4gICAgICAgICAgICAgIGlucHV0SWQ9XCJvcGVudHNkYi1hZ2dyZWdhdG9yLXNlbGVjdFwiXG4gICAgICAgICAgICAgIHZhbHVlPXtjdXJGaWx0ZXJUeXBlID8gdG9PcHRpb24oY3VyRmlsdGVyVHlwZSkgOiB1bmRlZmluZWR9XG4gICAgICAgICAgICAgIG9wdGlvbnM9e2ZpbHRlclR5cGVzT3B0aW9uc31cbiAgICAgICAgICAgICAgb25DaGFuZ2U9eyh7IHZhbHVlIH0pID0+IHtcbiAgICAgICAgICAgICAgICBpZiAodmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgIHVwZEN1ckZpbHRlclR5cGUodmFsdWUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgIC8+XG4gICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImdmLWZvcm1cIj5cbiAgICAgICAgICAgIDxBc3luY1NlbGVjdFxuICAgICAgICAgICAgICBpbnB1dElkPVwib3BlbnRzZGItc3VnZ2VzdGVkLXRhZ3Ytc2VsZWN0XCJcbiAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiZ2YtZm9ybS1pbnB1dFwiXG4gICAgICAgICAgICAgIHZhbHVlPXtjdXJGaWx0ZXJWYWx1ZSA/IHRvT3B0aW9uKGN1ckZpbHRlclZhbHVlKSA6IHVuZGVmaW5lZH1cbiAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCJmaWx0ZXJcIlxuICAgICAgICAgICAgICBhbGxvd0N1c3RvbVZhbHVlXG4gICAgICAgICAgICAgIGxvYWRPcHRpb25zPXt0YWdWYWx1ZVNlYXJjaH1cbiAgICAgICAgICAgICAgZGVmYXVsdE9wdGlvbnM9e1tdfVxuICAgICAgICAgICAgICBvbkNoYW5nZT17KHsgdmFsdWUgfSkgPT4ge1xuICAgICAgICAgICAgICAgIGlmICh2YWx1ZSkge1xuICAgICAgICAgICAgICAgICAgdXBkQ3VyRmlsdGVyVmFsdWUodmFsdWUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgIC8+XG4gICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICA8SW5saW5lRm9ybUxhYmVsIHdpZHRoPXs1fSBjbGFzc05hbWU9XCJxdWVyeS1rZXl3b3JkXCI+XG4gICAgICAgICAgICBHcm91cCBieVxuICAgICAgICAgIDwvSW5saW5lRm9ybUxhYmVsPlxuICAgICAgICAgIDxJbmxpbmVTd2l0Y2hcbiAgICAgICAgICAgIHZhbHVlPXtjdXJGaWx0ZXJHcm91cEJ5fVxuICAgICAgICAgICAgb25DaGFuZ2U9eygpID0+IHtcbiAgICAgICAgICAgICAgLy8gRE8gTk9UIFJVTiBUSEUgUVVFUlkgSEVSRVxuICAgICAgICAgICAgICAvLyBPTEQgRlVOQ1RJT05BTElUWSBSQU4gVEhFIFFVRVJZXG4gICAgICAgICAgICAgIHVwZEN1ckZpbHRlckdyb3VwQnkoIWN1ckZpbHRlckdyb3VwQnkpO1xuICAgICAgICAgICAgfX1cbiAgICAgICAgICAvPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZ2YtZm9ybVwiPlxuICAgICAgICAgICAge2Vycm9ycyAmJiAoXG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZ2YtZm9ybS1sYWJlbFwiIHRpdGxlPXtlcnJvcnN9IGRhdGEtdGVzdGlkPXt0ZXN0SWRzLmVycm9yfT5cbiAgICAgICAgICAgICAgICA8SWNvbiBuYW1lPXsnZXhjbGFtYXRpb24tdHJpYW5nbGUnfSBjb2xvcj17J3JnYigyMjksIDE4OSwgMjgpJ30gLz5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICApfVxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJnZi1mb3JtLWxhYmVsXCI+XG4gICAgICAgICAgICAgIDxidXR0b24gdHlwZT1cImJ1dHRvblwiIGNsYXNzTmFtZT17YnV0dG9uU3R5bGVzfSBvbkNsaWNrPXthZGRGaWx0ZXJ9PlxuICAgICAgICAgICAgICAgIGFkZCBmaWx0ZXJcbiAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgIDxidXR0b24gdHlwZT1cImJ1dHRvblwiIGNsYXNzTmFtZT17YnV0dG9uU3R5bGVzfSBvbkNsaWNrPXtjaGFuZ2VBZGRGaWx0ZXJNb2RlfT5cbiAgICAgICAgICAgICAgICA8SWNvbiBuYW1lPXsndGltZXMnfSAvPlxuICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgICl9XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImdmLWZvcm0gZ2YtZm9ybS0tZ3Jvd1wiPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImdmLWZvcm0tbGFiZWwgZ2YtZm9ybS1sYWJlbC0tZ3Jvd1wiPjwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgPC9kaXY+XG4gICk7XG59XG5cbmV4cG9ydCBjb25zdCB0ZXN0SWRzID0ge1xuICBzZWN0aW9uOiAnb3BlbnRzZGItZmlsdGVyJyxcbiAgbGlzdDogJ29wZW50c2RiLWZpbHRlci1saXN0JyxcbiAgZXJyb3I6ICdvcGVudHNkYi1maWx0ZXItZXJyb3InLFxuICByZW1vdmU6ICdvcGVudHNkYi1maWx0ZXItcmVtb3ZlJyxcbn07XG4iXSwibmFtZXMiOlsicXVlcnkiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./public/app/plugins/datasource/opentsdb/components/FilterSection.tsx\n");

/***/ }),

/***/ "./public/app/plugins/datasource/opentsdb/components/MetricSection.tsx":
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   MetricSection: () => (/* binding */ MetricSection),\n/* harmony export */   testIds: () => (/* binding */ testIds)\n/* harmony export */ });\n/* harmony import */ var debounce_promise__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"./.yarn/cache/debounce-promise-npm-3.1.2-3c185da0c7-29bac4524c.zip/node_modules/debounce-promise/dist/index.js\");\n/* harmony import */ var debounce_promise__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(debounce_promise__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(\"./.yarn/cache/react-npm-18.2.0-1eae08fee2-88e38092da.zip/node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _grafana_data__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(\"./.yarn/__virtual__/@grafana-data-virtual-0996183232/1/packages/grafana-data/src/utils/selectUtils.ts\");\n/* harmony import */ var _grafana_ui__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(\"./.yarn/__virtual__/@grafana-ui-virtual-d722efae30/1/packages/grafana-ui/src/components/FormLabel/FormLabel.tsx\");\n/* harmony import */ var _grafana_ui__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(\"./.yarn/__virtual__/@grafana-ui-virtual-d722efae30/1/packages/grafana-ui/src/components/Select/Select.tsx\");\n/* harmony import */ var _grafana_ui__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(\"./.yarn/__virtual__/@grafana-ui-virtual-d722efae30/1/packages/grafana-ui/src/components/Input/Input.tsx\");\n\n\n\n\n\nfunction MetricSection({ query, onChange, onRunQuery, suggestMetrics, aggregators }) {\n  const aggregatorOptions = aggregators.map((value) => (0,_grafana_data__WEBPACK_IMPORTED_MODULE_2__.toOption)(value));\n  const metricSearch = debounce_promise__WEBPACK_IMPORTED_MODULE_0___default()((query2) => suggestMetrics(query2), 350);\n  return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_1___default().createElement(\"div\", { className: \"gf-form-inline\", \"data-testid\": testIds.section }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_1___default().createElement(\"div\", { className: \"gf-form\" }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_grafana_ui__WEBPACK_IMPORTED_MODULE_3__.InlineFormLabel, { width: 8, className: \"query-keyword\" }, \"Metric\"), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_1___default().createElement(\n    _grafana_ui__WEBPACK_IMPORTED_MODULE_4__.AsyncSelect,\n    {\n      width: 25,\n      inputId: \"opentsdb-metric-select\",\n      className: \"gf-form-input\",\n      value: query.metric ? (0,_grafana_data__WEBPACK_IMPORTED_MODULE_2__.toOption)(query.metric) : void 0,\n      placeholder: \"Metric name\",\n      allowCustomValue: true,\n      loadOptions: metricSearch,\n      defaultOptions: [],\n      onChange: ({ value }) => {\n        if (value) {\n          onChange({ ...query, metric: value });\n          onRunQuery();\n        }\n      }\n    }\n  )), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_1___default().createElement(\"div\", { className: \"gf-form\" }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_grafana_ui__WEBPACK_IMPORTED_MODULE_3__.InlineFormLabel, { width: \"auto\", className: \"query-keyword\" }, \"Aggregator\"), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_1___default().createElement(\n    _grafana_ui__WEBPACK_IMPORTED_MODULE_4__.Select,\n    {\n      inputId: \"opentsdb-aggregator-select\",\n      className: \"gf-form-input\",\n      value: query.aggregator ? (0,_grafana_data__WEBPACK_IMPORTED_MODULE_2__.toOption)(query.aggregator) : void 0,\n      options: aggregatorOptions,\n      onChange: ({ value }) => {\n        if (value) {\n          onChange({ ...query, aggregator: value });\n          onRunQuery();\n        }\n      }\n    }\n  )), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_1___default().createElement(\"div\", { className: \"gf-form max-width-20\" }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_1___default().createElement(\n    _grafana_ui__WEBPACK_IMPORTED_MODULE_3__.InlineFormLabel,\n    {\n      className: \"query-keyword\",\n      width: 6,\n      tooltip: /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_1___default().createElement(\"div\", null, \"Use patterns like $tag_tagname to replace part of the alias for a tag value\")\n    },\n    \"Alias\"\n  ), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_1___default().createElement(\n    _grafana_ui__WEBPACK_IMPORTED_MODULE_5__.Input,\n    {\n      \"data-testid\": testIds.alias,\n      placeholder: \"series alias\",\n      value: query.alias ?? \"\",\n      onChange: (e) => {\n        const value = e.currentTarget.value;\n        onChange({ ...query, alias: value });\n      },\n      onBlur: () => onRunQuery()\n    }\n  )), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_1___default().createElement(\"div\", { className: \"gf-form gf-form--grow\" }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_1___default().createElement(\"div\", { className: \"gf-form-label gf-form-label--grow\" })));\n}\nconst testIds = {\n  section: \"opentsdb-metricsection\",\n  alias: \"metric-alias\"\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9wdWJsaWMvYXBwL3BsdWdpbnMvZGF0YXNvdXJjZS9vcGVudHNkYi9jb21wb25lbnRzL01ldHJpY1NlY3Rpb24udHN4IiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7O0FBQXFCO0FBQ0g7QUFFd0I7QUFDa0I7QUFZckQsU0FBUyxjQUFjLEVBQUUsT0FBTyxVQUFVLFlBQVksZ0JBQWdCLFlBQVksR0FBdUI7QUFDOUcsUUFBTSxvQkFBb0IsWUFBWSxJQUFJLENBQUMsVUFBa0IsdURBQVEsQ0FBQyxLQUFLLENBQUM7QUFDNUUsUUFBTSxlQUFlLHVEQUFRLENBQUMsQ0FBQ0EsV0FBa0IsZUFBZUEsTUFBSyxHQUFHLEdBQUc7QUFFM0UsU0FDRSwyRUFBQyxTQUFJLFdBQVUsa0JBQWlCLGVBQWEsUUFBUSxXQUNuRCwyRUFBQyxTQUFJLFdBQVUsYUFDYiwyRUFBQyx3REFBZSxJQUFDLE9BQU8sR0FBRyxXQUFVLG1CQUFnQixRQUVyRCxHQUVBO0FBQUEsSUFBQyxvREFBVztBQUFYO0FBQUEsTUFDQyxPQUFPO0FBQUEsTUFDUCxTQUFRO0FBQUEsTUFDUixXQUFVO0FBQUEsTUFDVixPQUFPLE1BQU0sU0FBUyx1REFBUSxDQUFDLE1BQU0sTUFBTSxJQUFJO0FBQUEsTUFDL0MsYUFBWTtBQUFBLE1BQ1osa0JBQWdCO0FBQUEsTUFDaEIsYUFBYTtBQUFBLE1BQ2IsZ0JBQWdCLENBQUM7QUFBQSxNQUNqQixVQUFVLENBQUMsRUFBRSxNQUFNLE1BQU07QUFDdkIsWUFBSSxPQUFPO0FBQ1QsbUJBQVMsRUFBRSxHQUFHLE9BQU8sUUFBUSxNQUFNLENBQUM7QUFDcEMscUJBQVc7QUFBQSxRQUNiO0FBQUEsTUFDRjtBQUFBO0FBQUEsRUFDRixDQUNGLEdBQ0EsMkVBQUMsU0FBSSxXQUFVLGFBQ2IsMkVBQUMsd0RBQWUsSUFBQyxPQUFPLFFBQVEsV0FBVSxtQkFBZ0IsWUFFMUQsR0FDQTtBQUFBLElBQUMsK0NBQU07QUFBTjtBQUFBLE1BQ0MsU0FBUTtBQUFBLE1BQ1IsV0FBVTtBQUFBLE1BQ1YsT0FBTyxNQUFNLGFBQWEsdURBQVEsQ0FBQyxNQUFNLFVBQVUsSUFBSTtBQUFBLE1BQ3ZELFNBQVM7QUFBQSxNQUNULFVBQVUsQ0FBQyxFQUFFLE1BQU0sTUFBTTtBQUN2QixZQUFJLE9BQU87QUFDVCxtQkFBUyxFQUFFLEdBQUcsT0FBTyxZQUFZLE1BQU0sQ0FBQztBQUN4QyxxQkFBVztBQUFBLFFBQ2I7QUFBQSxNQUNGO0FBQUE7QUFBQSxFQUNGLENBQ0YsR0FDQSwyRUFBQyxTQUFJLFdBQVUsMEJBQ2I7QUFBQSxJQUFDLHdEQUFlO0FBQWY7QUFBQSxNQUNDLFdBQVU7QUFBQSxNQUNWLE9BQU87QUFBQSxNQUNQLFNBQVMsMkVBQUMsYUFBSSw2RUFBMkU7QUFBQTtBQUFBLElBQzFGO0FBQUEsRUFFRCxHQUNBO0FBQUEsSUFBQyw4Q0FBSztBQUFMO0FBQUEsTUFDQyxlQUFhLFFBQVE7QUFBQSxNQUNyQixhQUFZO0FBQUEsTUFDWixPQUFPLE1BQU0sU0FBUztBQUFBLE1BQ3RCLFVBQVUsQ0FBQyxNQUFNO0FBQ2YsY0FBTSxRQUFRLEVBQUUsY0FBYztBQUM5QixpQkFBUyxFQUFFLEdBQUcsT0FBTyxPQUFPLE1BQU0sQ0FBQztBQUFBLE1BQ3JDO0FBQUEsTUFDQSxRQUFRLE1BQU0sV0FBVztBQUFBO0FBQUEsRUFDM0IsQ0FDRixHQUNBLDJFQUFDLFNBQUksV0FBVSwyQkFDYiwyRUFBQyxTQUFJLFdBQVUscUNBQW9DLENBQ3JELENBQ0Y7QUFFSjtBQUVPLE1BQU0sVUFBVTtBQUFBLEVBQ3JCLFNBQVM7QUFBQSxFQUNULE9BQU87QUFDVCIsInNvdXJjZXMiOlsid2VicGFjazovL2dyYWZhbmEvLi9wdWJsaWMvYXBwL3BsdWdpbnMvZGF0YXNvdXJjZS9vcGVudHNkYi9jb21wb25lbnRzL01ldHJpY1NlY3Rpb24udHN4P2ViYjEiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGRlYm91bmNlIGZyb20gJ2RlYm91bmNlLXByb21pc2UnO1xuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcblxuaW1wb3J0IHsgU2VsZWN0YWJsZVZhbHVlLCB0b09wdGlvbiB9IGZyb20gJ0BncmFmYW5hL2RhdGEnO1xuaW1wb3J0IHsgU2VsZWN0LCBJbnB1dCwgSW5saW5lRm9ybUxhYmVsLCBBc3luY1NlbGVjdCB9IGZyb20gJ0BncmFmYW5hL3VpJztcblxuaW1wb3J0IHsgT3BlblRzZGJRdWVyeSB9IGZyb20gJy4uL3R5cGVzJztcblxuZXhwb3J0IGludGVyZmFjZSBNZXRyaWNTZWN0aW9uUHJvcHMge1xuICBxdWVyeTogT3BlblRzZGJRdWVyeTtcbiAgb25DaGFuZ2U6IChxdWVyeTogT3BlblRzZGJRdWVyeSkgPT4gdm9pZDtcbiAgb25SdW5RdWVyeTogKCkgPT4gdm9pZDtcbiAgc3VnZ2VzdE1ldHJpY3M6ICh2YWx1ZTogc3RyaW5nKSA9PiBQcm9taXNlPFNlbGVjdGFibGVWYWx1ZVtdPjtcbiAgYWdncmVnYXRvcnM6IHN0cmluZ1tdO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gTWV0cmljU2VjdGlvbih7IHF1ZXJ5LCBvbkNoYW5nZSwgb25SdW5RdWVyeSwgc3VnZ2VzdE1ldHJpY3MsIGFnZ3JlZ2F0b3JzIH06IE1ldHJpY1NlY3Rpb25Qcm9wcykge1xuICBjb25zdCBhZ2dyZWdhdG9yT3B0aW9ucyA9IGFnZ3JlZ2F0b3JzLm1hcCgodmFsdWU6IHN0cmluZykgPT4gdG9PcHRpb24odmFsdWUpKTtcbiAgY29uc3QgbWV0cmljU2VhcmNoID0gZGVib3VuY2UoKHF1ZXJ5OiBzdHJpbmcpID0+IHN1Z2dlc3RNZXRyaWNzKHF1ZXJ5KSwgMzUwKTtcblxuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPVwiZ2YtZm9ybS1pbmxpbmVcIiBkYXRhLXRlc3RpZD17dGVzdElkcy5zZWN0aW9ufT5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZ2YtZm9ybVwiPlxuICAgICAgICA8SW5saW5lRm9ybUxhYmVsIHdpZHRoPXs4fSBjbGFzc05hbWU9XCJxdWVyeS1rZXl3b3JkXCI+XG4gICAgICAgICAgTWV0cmljXG4gICAgICAgIDwvSW5saW5lRm9ybUxhYmVsPlxuICAgICAgICB7LyogbWV0cmljIGFzeW5jIHNlbGVjdDogYXV0b2NvbXBsZXRlIGNhbGxzIG9wZW50c2RiIHN1Z2dlc3QgQVBJICovfVxuICAgICAgICA8QXN5bmNTZWxlY3RcbiAgICAgICAgICB3aWR0aD17MjV9XG4gICAgICAgICAgaW5wdXRJZD1cIm9wZW50c2RiLW1ldHJpYy1zZWxlY3RcIlxuICAgICAgICAgIGNsYXNzTmFtZT1cImdmLWZvcm0taW5wdXRcIlxuICAgICAgICAgIHZhbHVlPXtxdWVyeS5tZXRyaWMgPyB0b09wdGlvbihxdWVyeS5tZXRyaWMpIDogdW5kZWZpbmVkfVxuICAgICAgICAgIHBsYWNlaG9sZGVyPVwiTWV0cmljIG5hbWVcIlxuICAgICAgICAgIGFsbG93Q3VzdG9tVmFsdWVcbiAgICAgICAgICBsb2FkT3B0aW9ucz17bWV0cmljU2VhcmNofVxuICAgICAgICAgIGRlZmF1bHRPcHRpb25zPXtbXX1cbiAgICAgICAgICBvbkNoYW5nZT17KHsgdmFsdWUgfSkgPT4ge1xuICAgICAgICAgICAgaWYgKHZhbHVlKSB7XG4gICAgICAgICAgICAgIG9uQ2hhbmdlKHsgLi4ucXVlcnksIG1ldHJpYzogdmFsdWUgfSk7XG4gICAgICAgICAgICAgIG9uUnVuUXVlcnkoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9fVxuICAgICAgICAvPlxuICAgICAgPC9kaXY+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImdmLWZvcm1cIj5cbiAgICAgICAgPElubGluZUZvcm1MYWJlbCB3aWR0aD17J2F1dG8nfSBjbGFzc05hbWU9XCJxdWVyeS1rZXl3b3JkXCI+XG4gICAgICAgICAgQWdncmVnYXRvclxuICAgICAgICA8L0lubGluZUZvcm1MYWJlbD5cbiAgICAgICAgPFNlbGVjdFxuICAgICAgICAgIGlucHV0SWQ9XCJvcGVudHNkYi1hZ2dyZWdhdG9yLXNlbGVjdFwiXG4gICAgICAgICAgY2xhc3NOYW1lPVwiZ2YtZm9ybS1pbnB1dFwiXG4gICAgICAgICAgdmFsdWU9e3F1ZXJ5LmFnZ3JlZ2F0b3IgPyB0b09wdGlvbihxdWVyeS5hZ2dyZWdhdG9yKSA6IHVuZGVmaW5lZH1cbiAgICAgICAgICBvcHRpb25zPXthZ2dyZWdhdG9yT3B0aW9uc31cbiAgICAgICAgICBvbkNoYW5nZT17KHsgdmFsdWUgfSkgPT4ge1xuICAgICAgICAgICAgaWYgKHZhbHVlKSB7XG4gICAgICAgICAgICAgIG9uQ2hhbmdlKHsgLi4ucXVlcnksIGFnZ3JlZ2F0b3I6IHZhbHVlIH0pO1xuICAgICAgICAgICAgICBvblJ1blF1ZXJ5KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfX1cbiAgICAgICAgLz5cbiAgICAgIDwvZGl2PlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJnZi1mb3JtIG1heC13aWR0aC0yMFwiPlxuICAgICAgICA8SW5saW5lRm9ybUxhYmVsXG4gICAgICAgICAgY2xhc3NOYW1lPVwicXVlcnkta2V5d29yZFwiXG4gICAgICAgICAgd2lkdGg9ezZ9XG4gICAgICAgICAgdG9vbHRpcD17PGRpdj5Vc2UgcGF0dGVybnMgbGlrZSAkdGFnX3RhZ25hbWUgdG8gcmVwbGFjZSBwYXJ0IG9mIHRoZSBhbGlhcyBmb3IgYSB0YWcgdmFsdWU8L2Rpdj59XG4gICAgICAgID5cbiAgICAgICAgICBBbGlhc1xuICAgICAgICA8L0lubGluZUZvcm1MYWJlbD5cbiAgICAgICAgPElucHV0XG4gICAgICAgICAgZGF0YS10ZXN0aWQ9e3Rlc3RJZHMuYWxpYXN9XG4gICAgICAgICAgcGxhY2Vob2xkZXI9XCJzZXJpZXMgYWxpYXNcIlxuICAgICAgICAgIHZhbHVlPXtxdWVyeS5hbGlhcyA/PyAnJ31cbiAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHZhbHVlID0gZS5jdXJyZW50VGFyZ2V0LnZhbHVlO1xuICAgICAgICAgICAgb25DaGFuZ2UoeyAuLi5xdWVyeSwgYWxpYXM6IHZhbHVlIH0pO1xuICAgICAgICAgIH19XG4gICAgICAgICAgb25CbHVyPXsoKSA9PiBvblJ1blF1ZXJ5KCl9XG4gICAgICAgIC8+XG4gICAgICA8L2Rpdj5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZ2YtZm9ybSBnZi1mb3JtLS1ncm93XCI+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZ2YtZm9ybS1sYWJlbCBnZi1mb3JtLWxhYmVsLS1ncm93XCI+PC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbiAgKTtcbn1cblxuZXhwb3J0IGNvbnN0IHRlc3RJZHMgPSB7XG4gIHNlY3Rpb246ICdvcGVudHNkYi1tZXRyaWNzZWN0aW9uJyxcbiAgYWxpYXM6ICdtZXRyaWMtYWxpYXMnLFxufTtcbiJdLCJuYW1lcyI6WyJxdWVyeSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./public/app/plugins/datasource/opentsdb/components/MetricSection.tsx\n");

/***/ }),

/***/ "./public/app/plugins/datasource/opentsdb/components/OpenTsdbDetails.tsx":
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   OpenTsdbDetails: () => (/* binding */ OpenTsdbDetails)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"./.yarn/cache/react-npm-18.2.0-1eae08fee2-88e38092da.zip/node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _grafana_ui__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(\"./.yarn/__virtual__/@grafana-ui-virtual-d722efae30/1/packages/grafana-ui/src/components/index.ts\");\n/* harmony import */ var _grafana_ui__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(\"./.yarn/__virtual__/@grafana-ui-virtual-d722efae30/1/packages/grafana-ui/src/components/FormLabel/FormLabel.tsx\");\n\n\n\nconst { Select, Input } = _grafana_ui__WEBPACK_IMPORTED_MODULE_1__.LegacyForms;\nconst tsdbVersions = [\n  { label: \"<=2.1\", value: 1 },\n  { label: \"==2.2\", value: 2 },\n  { label: \"==2.3\", value: 3 }\n];\nconst tsdbResolutions = [\n  { label: \"second\", value: 1 },\n  { label: \"millisecond\", value: 2 }\n];\nconst OpenTsdbDetails = (props) => {\n  const { onChange, value } = props;\n  const idSuffix = (0,react__WEBPACK_IMPORTED_MODULE_0__.useId)();\n  return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0___default().createElement((react__WEBPACK_IMPORTED_MODULE_0___default().Fragment), null, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"h5\", null, \"OpenTSDB settings\"), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", { className: \"gf-form\" }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_grafana_ui__WEBPACK_IMPORTED_MODULE_2__.InlineFormLabel, { width: 7, htmlFor: `select-version-${idSuffix}` }, \"Version\"), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\n    Select,\n    {\n      inputId: `select-version-${idSuffix}`,\n      options: tsdbVersions,\n      value: tsdbVersions.find((version) => version.value === value.jsonData.tsdbVersion) ?? tsdbVersions[0],\n      onChange: onSelectChangeHandler(\"tsdbVersion\", value, onChange)\n    }\n  )), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", { className: \"gf-form\" }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_grafana_ui__WEBPACK_IMPORTED_MODULE_2__.InlineFormLabel, { width: 7, htmlFor: `select-resolution-${idSuffix}` }, \"Resolution\"), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\n    Select,\n    {\n      inputId: `select-resolution-${idSuffix}`,\n      options: tsdbResolutions,\n      value: tsdbResolutions.find((resolution) => resolution.value === value.jsonData.tsdbResolution) ?? tsdbResolutions[0],\n      onChange: onSelectChangeHandler(\"tsdbResolution\", value, onChange)\n    }\n  )), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", { className: \"gf-form\" }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_grafana_ui__WEBPACK_IMPORTED_MODULE_2__.InlineFormLabel, { width: 7, htmlFor: `lookup-input-${idSuffix}` }, \"Lookup limit\"), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\n    Input,\n    {\n      id: `lookup-input-${idSuffix}`,\n      type: \"number\",\n      value: value.jsonData.lookupLimit ?? 1e3,\n      onChange: onInputChangeHandler(\"lookupLimit\", value, onChange)\n    }\n  )));\n};\nconst onSelectChangeHandler = (key, value, onChange) => (newValue) => {\n  onChange({\n    ...value,\n    jsonData: {\n      ...value.jsonData,\n      [key]: newValue.value\n    }\n  });\n};\nconst onInputChangeHandler = (key, value, onChange) => (event) => {\n  onChange({\n    ...value,\n    jsonData: {\n      ...value.jsonData,\n      [key]: event.currentTarget.value\n    }\n  });\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9wdWJsaWMvYXBwL3BsdWdpbnMvZGF0YXNvdXJjZS9vcGVudHNkYi9jb21wb25lbnRzL09wZW5Uc2RiRGV0YWlscy50c3giLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBQTZDO0FBR0E7QUFJN0MsTUFBTSxFQUFFLFFBQVEsTUFBTSxJQUFJLG9EQUFXO0FBRXJDLE1BQU0sZUFBZTtBQUFBLEVBQ25CLEVBQUUsT0FBTyxTQUFTLE9BQU8sRUFBRTtBQUFBLEVBQzNCLEVBQUUsT0FBTyxTQUFTLE9BQU8sRUFBRTtBQUFBLEVBQzNCLEVBQUUsT0FBTyxTQUFTLE9BQU8sRUFBRTtBQUM3QjtBQUVBLE1BQU0sa0JBQWtCO0FBQUEsRUFDdEIsRUFBRSxPQUFPLFVBQVUsT0FBTyxFQUFFO0FBQUEsRUFDNUIsRUFBRSxPQUFPLGVBQWUsT0FBTyxFQUFFO0FBQ25DO0FBT08sTUFBTSxrQkFBa0IsQ0FBQyxVQUFpQjtBQUMvQyxRQUFNLEVBQUUsVUFBVSxNQUFNLElBQUk7QUFFNUIsUUFBTSxXQUFXLDRDQUFLLENBQUM7QUFFdkIsU0FDRSwwSUFDRSwyRUFBQyxZQUFHLG1CQUFpQixHQUNyQiwyRUFBQyxTQUFJLFdBQVUsYUFDYiwyRUFBQyx3REFBZSxJQUFDLE9BQU8sR0FBRyxTQUFTLGtCQUFrQixjQUFZLFNBRWxFLEdBQ0E7QUFBQSxJQUFDO0FBQUE7QUFBQSxNQUNDLFNBQVMsa0JBQWtCO0FBQUEsTUFDM0IsU0FBUztBQUFBLE1BQ1QsT0FBTyxhQUFhLEtBQUssQ0FBQyxZQUFZLFFBQVEsVUFBVSxNQUFNLFNBQVMsV0FBVyxLQUFLLGFBQWEsQ0FBQztBQUFBLE1BQ3JHLFVBQVUsc0JBQXNCLGVBQWUsT0FBTyxRQUFRO0FBQUE7QUFBQSxFQUNoRSxDQUNGLEdBQ0EsMkVBQUMsU0FBSSxXQUFVLGFBQ2IsMkVBQUMsd0RBQWUsSUFBQyxPQUFPLEdBQUcsU0FBUyxxQkFBcUIsY0FBWSxZQUVyRSxHQUNBO0FBQUEsSUFBQztBQUFBO0FBQUEsTUFDQyxTQUFTLHFCQUFxQjtBQUFBLE1BQzlCLFNBQVM7QUFBQSxNQUNULE9BQ0UsZ0JBQWdCLEtBQUssQ0FBQyxlQUFlLFdBQVcsVUFBVSxNQUFNLFNBQVMsY0FBYyxLQUN2RixnQkFBZ0IsQ0FBQztBQUFBLE1BRW5CLFVBQVUsc0JBQXNCLGtCQUFrQixPQUFPLFFBQVE7QUFBQTtBQUFBLEVBQ25FLENBQ0YsR0FDQSwyRUFBQyxTQUFJLFdBQVUsYUFDYiwyRUFBQyx3REFBZSxJQUFDLE9BQU8sR0FBRyxTQUFTLGdCQUFnQixjQUFZLGNBRWhFLEdBQ0E7QUFBQSxJQUFDO0FBQUE7QUFBQSxNQUNDLElBQUksZ0JBQWdCO0FBQUEsTUFDcEIsTUFBSztBQUFBLE1BQ0wsT0FBTyxNQUFNLFNBQVMsZUFBZTtBQUFBLE1BQ3JDLFVBQVUscUJBQXFCLGVBQWUsT0FBTyxRQUFRO0FBQUE7QUFBQSxFQUMvRCxDQUNGLENBQ0Y7QUFFSjtBQUVBLE1BQU0sd0JBQ0osQ0FBQyxLQUE0QixPQUF1QixhQUFnQyxDQUFDLGFBQThCO0FBQ2pILFdBQVM7QUFBQSxJQUNQLEdBQUc7QUFBQSxJQUNILFVBQVU7QUFBQSxNQUNSLEdBQUcsTUFBTTtBQUFBLE1BQ1QsQ0FBQyxHQUFHLEdBQUcsU0FBUztBQUFBLElBQ2xCO0FBQUEsRUFDRixDQUFDO0FBQ0g7QUFFRixNQUFNLHVCQUNKLENBQUMsS0FBNEIsT0FBdUIsYUFDcEQsQ0FBQyxVQUE0QztBQUMzQyxXQUFTO0FBQUEsSUFDUCxHQUFHO0FBQUEsSUFDSCxVQUFVO0FBQUEsTUFDUixHQUFHLE1BQU07QUFBQSxNQUNULENBQUMsR0FBRyxHQUFHLE1BQU0sY0FBYztBQUFBLElBQzdCO0FBQUEsRUFDRixDQUFDO0FBQ0giLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9ncmFmYW5hLy4vcHVibGljL2FwcC9wbHVnaW5zL2RhdGFzb3VyY2Uvb3BlbnRzZGIvY29tcG9uZW50cy9PcGVuVHNkYkRldGFpbHMudHN4PzkzODYiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFJlYWN0LCB7IFN5bnRoZXRpY0V2ZW50LCB1c2VJZCB9IGZyb20gJ3JlYWN0JztcblxuaW1wb3J0IHsgRGF0YVNvdXJjZVNldHRpbmdzLCBTZWxlY3RhYmxlVmFsdWUgfSBmcm9tICdAZ3JhZmFuYS9kYXRhJztcbmltcG9ydCB7IElubGluZUZvcm1MYWJlbCwgTGVnYWN5Rm9ybXMgfSBmcm9tICdAZ3JhZmFuYS91aSc7XG5cbmltcG9ydCB7IE9wZW5Uc2RiT3B0aW9ucyB9IGZyb20gJy4uL3R5cGVzJztcblxuY29uc3QgeyBTZWxlY3QsIElucHV0IH0gPSBMZWdhY3lGb3JtcztcblxuY29uc3QgdHNkYlZlcnNpb25zID0gW1xuICB7IGxhYmVsOiAnPD0yLjEnLCB2YWx1ZTogMSB9LFxuICB7IGxhYmVsOiAnPT0yLjInLCB2YWx1ZTogMiB9LFxuICB7IGxhYmVsOiAnPT0yLjMnLCB2YWx1ZTogMyB9LFxuXTtcblxuY29uc3QgdHNkYlJlc29sdXRpb25zID0gW1xuICB7IGxhYmVsOiAnc2Vjb25kJywgdmFsdWU6IDEgfSxcbiAgeyBsYWJlbDogJ21pbGxpc2Vjb25kJywgdmFsdWU6IDIgfSxcbl07XG5cbmludGVyZmFjZSBQcm9wcyB7XG4gIHZhbHVlOiBEYXRhU291cmNlU2V0dGluZ3M8T3BlblRzZGJPcHRpb25zPjtcbiAgb25DaGFuZ2U6ICh2YWx1ZTogRGF0YVNvdXJjZVNldHRpbmdzPE9wZW5Uc2RiT3B0aW9ucz4pID0+IHZvaWQ7XG59XG5cbmV4cG9ydCBjb25zdCBPcGVuVHNkYkRldGFpbHMgPSAocHJvcHM6IFByb3BzKSA9PiB7XG4gIGNvbnN0IHsgb25DaGFuZ2UsIHZhbHVlIH0gPSBwcm9wcztcblxuICBjb25zdCBpZFN1ZmZpeCA9IHVzZUlkKCk7XG5cbiAgcmV0dXJuIChcbiAgICA8PlxuICAgICAgPGg1Pk9wZW5UU0RCIHNldHRpbmdzPC9oNT5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZ2YtZm9ybVwiPlxuICAgICAgICA8SW5saW5lRm9ybUxhYmVsIHdpZHRoPXs3fSBodG1sRm9yPXtgc2VsZWN0LXZlcnNpb24tJHtpZFN1ZmZpeH1gfT5cbiAgICAgICAgICBWZXJzaW9uXG4gICAgICAgIDwvSW5saW5lRm9ybUxhYmVsPlxuICAgICAgICA8U2VsZWN0XG4gICAgICAgICAgaW5wdXRJZD17YHNlbGVjdC12ZXJzaW9uLSR7aWRTdWZmaXh9YH1cbiAgICAgICAgICBvcHRpb25zPXt0c2RiVmVyc2lvbnN9XG4gICAgICAgICAgdmFsdWU9e3RzZGJWZXJzaW9ucy5maW5kKCh2ZXJzaW9uKSA9PiB2ZXJzaW9uLnZhbHVlID09PSB2YWx1ZS5qc29uRGF0YS50c2RiVmVyc2lvbikgPz8gdHNkYlZlcnNpb25zWzBdfVxuICAgICAgICAgIG9uQ2hhbmdlPXtvblNlbGVjdENoYW5nZUhhbmRsZXIoJ3RzZGJWZXJzaW9uJywgdmFsdWUsIG9uQ2hhbmdlKX1cbiAgICAgICAgLz5cbiAgICAgIDwvZGl2PlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJnZi1mb3JtXCI+XG4gICAgICAgIDxJbmxpbmVGb3JtTGFiZWwgd2lkdGg9ezd9IGh0bWxGb3I9e2BzZWxlY3QtcmVzb2x1dGlvbi0ke2lkU3VmZml4fWB9PlxuICAgICAgICAgIFJlc29sdXRpb25cbiAgICAgICAgPC9JbmxpbmVGb3JtTGFiZWw+XG4gICAgICAgIDxTZWxlY3RcbiAgICAgICAgICBpbnB1dElkPXtgc2VsZWN0LXJlc29sdXRpb24tJHtpZFN1ZmZpeH1gfVxuICAgICAgICAgIG9wdGlvbnM9e3RzZGJSZXNvbHV0aW9uc31cbiAgICAgICAgICB2YWx1ZT17XG4gICAgICAgICAgICB0c2RiUmVzb2x1dGlvbnMuZmluZCgocmVzb2x1dGlvbikgPT4gcmVzb2x1dGlvbi52YWx1ZSA9PT0gdmFsdWUuanNvbkRhdGEudHNkYlJlc29sdXRpb24pID8/XG4gICAgICAgICAgICB0c2RiUmVzb2x1dGlvbnNbMF1cbiAgICAgICAgICB9XG4gICAgICAgICAgb25DaGFuZ2U9e29uU2VsZWN0Q2hhbmdlSGFuZGxlcigndHNkYlJlc29sdXRpb24nLCB2YWx1ZSwgb25DaGFuZ2UpfVxuICAgICAgICAvPlxuICAgICAgPC9kaXY+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImdmLWZvcm1cIj5cbiAgICAgICAgPElubGluZUZvcm1MYWJlbCB3aWR0aD17N30gaHRtbEZvcj17YGxvb2t1cC1pbnB1dC0ke2lkU3VmZml4fWB9PlxuICAgICAgICAgIExvb2t1cCBsaW1pdFxuICAgICAgICA8L0lubGluZUZvcm1MYWJlbD5cbiAgICAgICAgPElucHV0XG4gICAgICAgICAgaWQ9e2Bsb29rdXAtaW5wdXQtJHtpZFN1ZmZpeH1gfVxuICAgICAgICAgIHR5cGU9XCJudW1iZXJcIlxuICAgICAgICAgIHZhbHVlPXt2YWx1ZS5qc29uRGF0YS5sb29rdXBMaW1pdCA/PyAxMDAwfVxuICAgICAgICAgIG9uQ2hhbmdlPXtvbklucHV0Q2hhbmdlSGFuZGxlcignbG9va3VwTGltaXQnLCB2YWx1ZSwgb25DaGFuZ2UpfVxuICAgICAgICAvPlxuICAgICAgPC9kaXY+XG4gICAgPC8+XG4gICk7XG59O1xuXG5jb25zdCBvblNlbGVjdENoYW5nZUhhbmRsZXIgPVxuICAoa2V5OiBrZXlvZiBPcGVuVHNkYk9wdGlvbnMsIHZhbHVlOiBQcm9wc1sndmFsdWUnXSwgb25DaGFuZ2U6IFByb3BzWydvbkNoYW5nZSddKSA9PiAobmV3VmFsdWU6IFNlbGVjdGFibGVWYWx1ZSkgPT4ge1xuICAgIG9uQ2hhbmdlKHtcbiAgICAgIC4uLnZhbHVlLFxuICAgICAganNvbkRhdGE6IHtcbiAgICAgICAgLi4udmFsdWUuanNvbkRhdGEsXG4gICAgICAgIFtrZXldOiBuZXdWYWx1ZS52YWx1ZSxcbiAgICAgIH0sXG4gICAgfSk7XG4gIH07XG5cbmNvbnN0IG9uSW5wdXRDaGFuZ2VIYW5kbGVyID1cbiAgKGtleToga2V5b2YgT3BlblRzZGJPcHRpb25zLCB2YWx1ZTogUHJvcHNbJ3ZhbHVlJ10sIG9uQ2hhbmdlOiBQcm9wc1snb25DaGFuZ2UnXSkgPT5cbiAgKGV2ZW50OiBTeW50aGV0aWNFdmVudDxIVE1MSW5wdXRFbGVtZW50PikgPT4ge1xuICAgIG9uQ2hhbmdlKHtcbiAgICAgIC4uLnZhbHVlLFxuICAgICAganNvbkRhdGE6IHtcbiAgICAgICAgLi4udmFsdWUuanNvbkRhdGEsXG4gICAgICAgIFtrZXldOiBldmVudC5jdXJyZW50VGFyZ2V0LnZhbHVlLFxuICAgICAgfSxcbiAgICB9KTtcbiAgfTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./public/app/plugins/datasource/opentsdb/components/OpenTsdbDetails.tsx\n");

/***/ }),

/***/ "./public/app/plugins/datasource/opentsdb/components/OpenTsdbQueryEditor.tsx":
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   OpenTsdbQueryEditor: () => (/* binding */ OpenTsdbQueryEditor),\n/* harmony export */   testIds: () => (/* binding */ testIds)\n/* harmony export */ });\n/* harmony import */ var _emotion_css__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"./.yarn/cache/@emotion-css-npm-11.11.2-dbfa42cf83-1edea109df.zip/node_modules/@emotion/css/dist/emotion-css.esm.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(\"./.yarn/cache/react-npm-18.2.0-1eae08fee2-88e38092da.zip/node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _grafana_data__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(\"./.yarn/__virtual__/@grafana-data-virtual-0996183232/1/packages/grafana-data/src/text/index.ts\");\n/* harmony import */ var _grafana_ui__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(\"./.yarn/__virtual__/@grafana-ui-virtual-d722efae30/1/packages/grafana-ui/src/themes/ThemeContext.tsx\");\n/* harmony import */ var _DownSample__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(\"./public/app/plugins/datasource/opentsdb/components/DownSample.tsx\");\n/* harmony import */ var _FilterSection__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(\"./public/app/plugins/datasource/opentsdb/components/FilterSection.tsx\");\n/* harmony import */ var _MetricSection__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(\"./public/app/plugins/datasource/opentsdb/components/MetricSection.tsx\");\n/* harmony import */ var _RateSection__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(\"./public/app/plugins/datasource/opentsdb/components/RateSection.tsx\");\n/* harmony import */ var _TagSection__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(\"./public/app/plugins/datasource/opentsdb/components/TagSection.tsx\");\n\n\n\n\n\n\n\n\n\n\nfunction OpenTsdbQueryEditor({\n  datasource,\n  onRunQuery,\n  onChange,\n  query,\n  range,\n  queries\n}) {\n  const styles = (0,_grafana_ui__WEBPACK_IMPORTED_MODULE_7__.useStyles2)(getStyles);\n  const [aggregators, setAggregators] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([\n    \"avg\",\n    \"sum\",\n    \"min\",\n    \"max\",\n    \"dev\",\n    \"zimsum\",\n    \"mimmin\",\n    \"mimmax\"\n  ]);\n  const fillPolicies = [\"none\", \"nan\", \"null\", \"zero\"];\n  const [filterTypes, setFilterTypes] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([\n    \"wildcard\",\n    \"iliteral_or\",\n    \"not_iliteral_or\",\n    \"not_literal_or\",\n    \"iwildcard\",\n    \"literal_or\",\n    \"regexp\"\n  ]);\n  const tsdbVersion = datasource.tsdbVersion;\n  if (!query.aggregator) {\n    query.aggregator = \"sum\";\n  }\n  if (!query.downsampleAggregator) {\n    query.downsampleAggregator = \"avg\";\n  }\n  if (!query.downsampleFillPolicy) {\n    query.downsampleFillPolicy = \"none\";\n  }\n  (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(() => {\n    datasource.getAggregators().then((aggs) => {\n      if (aggs.length !== 0) {\n        setAggregators(aggs);\n      }\n    });\n  }, [datasource]);\n  (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(() => {\n    datasource.getFilterTypes().then((newFilterTypes) => {\n      if (newFilterTypes.length !== 0) {\n        setFilterTypes(newFilterTypes);\n      }\n    });\n  }, [datasource]);\n  async function suggestMetrics(value) {\n    return datasource.metricFindQuery(`metrics(${value})`).then(getTextValues);\n  }\n  async function suggestTagValues(value) {\n    return datasource.metricFindQuery(`suggest_tagv(${value})`).then(getTextValues);\n  }\n  async function suggestTagKeys(query2) {\n    return datasource.suggestTagKeys(query2);\n  }\n  function getTextValues(metrics) {\n    return metrics.map((value) => {\n      return {\n        value: _grafana_data__WEBPACK_IMPORTED_MODULE_8__.textUtil.escapeHtml(value.text),\n        description: value.text\n      };\n    });\n  }\n  return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_1___default().createElement(\"div\", { className: styles.container, \"data-testid\": testIds.editor }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_1___default().createElement(\"div\", { className: styles.visualEditor }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_1___default().createElement(\n    _MetricSection__WEBPACK_IMPORTED_MODULE_4__.MetricSection,\n    {\n      query,\n      onChange,\n      onRunQuery,\n      suggestMetrics,\n      aggregators\n    }\n  ), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_1___default().createElement(\n    _DownSample__WEBPACK_IMPORTED_MODULE_2__.DownSample,\n    {\n      query,\n      onChange,\n      onRunQuery,\n      aggregators,\n      fillPolicies,\n      tsdbVersion\n    }\n  ), tsdbVersion >= 2 && /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_1___default().createElement(\n    _FilterSection__WEBPACK_IMPORTED_MODULE_3__.FilterSection,\n    {\n      query,\n      onChange,\n      onRunQuery,\n      filterTypes,\n      suggestTagValues,\n      suggestTagKeys\n    }\n  ), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_1___default().createElement(\n    _TagSection__WEBPACK_IMPORTED_MODULE_6__.TagSection,\n    {\n      query,\n      onChange,\n      onRunQuery,\n      suggestTagValues,\n      suggestTagKeys,\n      tsdbVersion\n    }\n  ), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_RateSection__WEBPACK_IMPORTED_MODULE_5__.RateSection, { query, onChange, onRunQuery, tsdbVersion })));\n}\nfunction getStyles(theme) {\n  return {\n    container: (0,_emotion_css__WEBPACK_IMPORTED_MODULE_0__.css)`\n      display: flex;\n    `,\n    visualEditor: (0,_emotion_css__WEBPACK_IMPORTED_MODULE_0__.css)`\n      flex-grow: 1;\n    `,\n    toggleButton: (0,_emotion_css__WEBPACK_IMPORTED_MODULE_0__.css)`\n      margin-left: ${theme.spacing(0.5)};\n    `\n  };\n}\nconst testIds = {\n  editor: \"opentsdb-editor\"\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9wdWJsaWMvYXBwL3BsdWdpbnMvZGF0YXNvdXJjZS9vcGVudHNkYi9jb21wb25lbnRzL09wZW5Uc2RiUXVlcnlFZGl0b3IudHN4IiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBb0I7QUFDdUI7QUFFZTtBQUMvQjtBQUtBO0FBQ0c7QUFDQTtBQUNGO0FBQ0Q7QUFJcEIsU0FBUyxvQkFBb0I7QUFBQSxFQUNsQztBQUFBLEVBQ0E7QUFBQSxFQUNBO0FBQUEsRUFDQTtBQUFBLEVBQ0E7QUFBQSxFQUNBO0FBQ0YsR0FBNkI7QUFDM0IsUUFBTSxTQUFTLHVEQUFVLENBQUMsU0FBUztBQUVuQyxRQUFNLENBQUMsYUFBYSxjQUFjLElBQUksK0NBQVEsQ0FBVztBQUFBLElBQ3ZEO0FBQUEsSUFDQTtBQUFBLElBQ0E7QUFBQSxJQUNBO0FBQUEsSUFDQTtBQUFBLElBQ0E7QUFBQSxJQUNBO0FBQUEsSUFDQTtBQUFBLEVBQ0YsQ0FBQztBQUVELFFBQU0sZUFBeUIsQ0FBQyxRQUFRLE9BQU8sUUFBUSxNQUFNO0FBRTdELFFBQU0sQ0FBQyxhQUFhLGNBQWMsSUFBSSwrQ0FBUSxDQUFXO0FBQUEsSUFDdkQ7QUFBQSxJQUNBO0FBQUEsSUFDQTtBQUFBLElBQ0E7QUFBQSxJQUNBO0FBQUEsSUFDQTtBQUFBLElBQ0E7QUFBQSxFQUNGLENBQUM7QUFFRCxRQUFNLGNBQXNCLFdBQVc7QUFFdkMsTUFBSSxDQUFDLE1BQU0sWUFBWTtBQUNyQixVQUFNLGFBQWE7QUFBQSxFQUNyQjtBQUVBLE1BQUksQ0FBQyxNQUFNLHNCQUFzQjtBQUMvQixVQUFNLHVCQUF1QjtBQUFBLEVBQy9CO0FBRUEsTUFBSSxDQUFDLE1BQU0sc0JBQXNCO0FBQy9CLFVBQU0sdUJBQXVCO0FBQUEsRUFDL0I7QUFFQSxrREFBUyxDQUFDLE1BQU07QUFDZCxlQUFXLGVBQWUsRUFBRSxLQUFLLENBQUMsU0FBbUI7QUFDbkQsVUFBSSxLQUFLLFdBQVcsR0FBRztBQUNyQix1QkFBZSxJQUFJO0FBQUEsTUFDckI7QUFBQSxJQUNGLENBQUM7QUFBQSxFQUNILEdBQUcsQ0FBQyxVQUFVLENBQUM7QUFFZixrREFBUyxDQUFDLE1BQU07QUFDZCxlQUFXLGVBQWUsRUFBRSxLQUFLLENBQUMsbUJBQTZCO0FBQzdELFVBQUksZUFBZSxXQUFXLEdBQUc7QUFDL0IsdUJBQWUsY0FBYztBQUFBLE1BQy9CO0FBQUEsSUFDRixDQUFDO0FBQUEsRUFDSCxHQUFHLENBQUMsVUFBVSxDQUFDO0FBRWYsaUJBQWUsZUFBZSxPQUF1RTtBQUNuRyxXQUFPLFdBQVcsZ0JBQWdCLFdBQVcsUUFBUSxFQUFFLEtBQUssYUFBYTtBQUFBLEVBQzNFO0FBSUEsaUJBQWUsaUJBQWlCLE9BQXVFO0FBQ3JHLFdBQU8sV0FBVyxnQkFBZ0IsZ0JBQWdCLFFBQVEsRUFBRSxLQUFLLGFBQWE7QUFBQSxFQUNoRjtBQUVBLGlCQUFlLGVBQWVBLFFBQXlDO0FBQ3JFLFdBQU8sV0FBVyxlQUFlQSxNQUFLO0FBQUEsRUFDeEM7QUFFQSxXQUFTLGNBQWMsU0FBa0M7QUFDdkQsV0FBTyxRQUFRLElBQUksQ0FBQyxVQUE0QjtBQUM5QyxhQUFPO0FBQUEsUUFDTCxPQUFPLG1EQUFRLENBQUMsV0FBVyxNQUFNLElBQUk7QUFBQSxRQUNyQyxhQUFhLE1BQU07QUFBQSxNQUNyQjtBQUFBLElBQ0YsQ0FBQztBQUFBLEVBQ0g7QUFFQSxTQUNFLDJFQUFDLFNBQUksV0FBVyxPQUFPLFdBQVcsZUFBYSxRQUFRLFVBQ3JELDJFQUFDLFNBQUksV0FBVyxPQUFPLGdCQUNyQjtBQUFBLElBQUMseURBQWE7QUFBYjtBQUFBLE1BQ0M7QUFBQSxNQUNBO0FBQUEsTUFDQTtBQUFBLE1BQ0E7QUFBQSxNQUNBO0FBQUE7QUFBQSxFQUNGLEdBQ0E7QUFBQSxJQUFDLG1EQUFVO0FBQVY7QUFBQSxNQUNDO0FBQUEsTUFDQTtBQUFBLE1BQ0E7QUFBQSxNQUNBO0FBQUEsTUFDQTtBQUFBLE1BQ0E7QUFBQTtBQUFBLEVBQ0YsR0FDQyxlQUFlLEtBQ2Q7QUFBQSxJQUFDLHlEQUFhO0FBQWI7QUFBQSxNQUNDO0FBQUEsTUFDQTtBQUFBLE1BQ0E7QUFBQSxNQUNBO0FBQUEsTUFDQTtBQUFBLE1BQ0E7QUFBQTtBQUFBLEVBQ0YsR0FFRjtBQUFBLElBQUMsbURBQVU7QUFBVjtBQUFBLE1BQ0M7QUFBQSxNQUNBO0FBQUEsTUFDQTtBQUFBLE1BQ0E7QUFBQSxNQUNBO0FBQUEsTUFDQTtBQUFBO0FBQUEsRUFDRixHQUNBLDJFQUFDLHFEQUFXLElBQUMsT0FBYyxVQUFvQixZQUF3QixhQUEwQixDQUNuRyxDQUNGO0FBRUo7QUFFQSxTQUFTLFVBQVUsT0FBc0I7QUFDdkMsU0FBTztBQUFBLElBQ0wsV0FBVyxpREFBRztBQUFIO0FBQUE7QUFBQSxJQUdYLGNBQWMsaURBQUc7QUFBSDtBQUFBO0FBQUEsSUFHZCxjQUFjLGlEQUFHO0FBQUgscUJBQ0csTUFBTSxRQUFRLEdBQUc7QUFBQTtBQUFBLEVBRXBDO0FBQ0Y7QUFFTyxNQUFNLFVBQVU7QUFBQSxFQUNyQixRQUFRO0FBQ1YiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9ncmFmYW5hLy4vcHVibGljL2FwcC9wbHVnaW5zL2RhdGFzb3VyY2Uvb3BlbnRzZGIvY29tcG9uZW50cy9PcGVuVHNkYlF1ZXJ5RWRpdG9yLnRzeD8xOWM3Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGNzcyB9IGZyb20gJ0BlbW90aW9uL2Nzcyc7XG5pbXBvcnQgUmVhY3QsIHsgdXNlRWZmZWN0LCB1c2VTdGF0ZSB9IGZyb20gJ3JlYWN0JztcblxuaW1wb3J0IHsgR3JhZmFuYVRoZW1lMiwgUXVlcnlFZGl0b3JQcm9wcywgdGV4dFV0aWwgfSBmcm9tICdAZ3JhZmFuYS9kYXRhJztcbmltcG9ydCB7IHVzZVN0eWxlczIgfSBmcm9tICdAZ3JhZmFuYS91aSc7XG5cbmltcG9ydCBPcGVuVHNEYXRhc291cmNlIGZyb20gJy4uL2RhdGFzb3VyY2UnO1xuaW1wb3J0IHsgT3BlblRzZGJPcHRpb25zLCBPcGVuVHNkYlF1ZXJ5IH0gZnJvbSAnLi4vdHlwZXMnO1xuXG5pbXBvcnQgeyBEb3duU2FtcGxlIH0gZnJvbSAnLi9Eb3duU2FtcGxlJztcbmltcG9ydCB7IEZpbHRlclNlY3Rpb24gfSBmcm9tICcuL0ZpbHRlclNlY3Rpb24nO1xuaW1wb3J0IHsgTWV0cmljU2VjdGlvbiB9IGZyb20gJy4vTWV0cmljU2VjdGlvbic7XG5pbXBvcnQgeyBSYXRlU2VjdGlvbiB9IGZyb20gJy4vUmF0ZVNlY3Rpb24nO1xuaW1wb3J0IHsgVGFnU2VjdGlvbiB9IGZyb20gJy4vVGFnU2VjdGlvbic7XG5cbmV4cG9ydCB0eXBlIE9wZW5Uc2RiUXVlcnlFZGl0b3JQcm9wcyA9IFF1ZXJ5RWRpdG9yUHJvcHM8T3BlblRzRGF0YXNvdXJjZSwgT3BlblRzZGJRdWVyeSwgT3BlblRzZGJPcHRpb25zPjtcblxuZXhwb3J0IGZ1bmN0aW9uIE9wZW5Uc2RiUXVlcnlFZGl0b3Ioe1xuICBkYXRhc291cmNlLFxuICBvblJ1blF1ZXJ5LFxuICBvbkNoYW5nZSxcbiAgcXVlcnksXG4gIHJhbmdlLFxuICBxdWVyaWVzLFxufTogT3BlblRzZGJRdWVyeUVkaXRvclByb3BzKSB7XG4gIGNvbnN0IHN0eWxlcyA9IHVzZVN0eWxlczIoZ2V0U3R5bGVzKTtcblxuICBjb25zdCBbYWdncmVnYXRvcnMsIHNldEFnZ3JlZ2F0b3JzXSA9IHVzZVN0YXRlPHN0cmluZ1tdPihbXG4gICAgJ2F2ZycsXG4gICAgJ3N1bScsXG4gICAgJ21pbicsXG4gICAgJ21heCcsXG4gICAgJ2RldicsXG4gICAgJ3ppbXN1bScsXG4gICAgJ21pbW1pbicsXG4gICAgJ21pbW1heCcsXG4gIF0pO1xuXG4gIGNvbnN0IGZpbGxQb2xpY2llczogc3RyaW5nW10gPSBbJ25vbmUnLCAnbmFuJywgJ251bGwnLCAnemVybyddO1xuXG4gIGNvbnN0IFtmaWx0ZXJUeXBlcywgc2V0RmlsdGVyVHlwZXNdID0gdXNlU3RhdGU8c3RyaW5nW10+KFtcbiAgICAnd2lsZGNhcmQnLFxuICAgICdpbGl0ZXJhbF9vcicsXG4gICAgJ25vdF9pbGl0ZXJhbF9vcicsXG4gICAgJ25vdF9saXRlcmFsX29yJyxcbiAgICAnaXdpbGRjYXJkJyxcbiAgICAnbGl0ZXJhbF9vcicsXG4gICAgJ3JlZ2V4cCcsXG4gIF0pO1xuXG4gIGNvbnN0IHRzZGJWZXJzaW9uOiBudW1iZXIgPSBkYXRhc291cmNlLnRzZGJWZXJzaW9uO1xuXG4gIGlmICghcXVlcnkuYWdncmVnYXRvcikge1xuICAgIHF1ZXJ5LmFnZ3JlZ2F0b3IgPSAnc3VtJztcbiAgfVxuXG4gIGlmICghcXVlcnkuZG93bnNhbXBsZUFnZ3JlZ2F0b3IpIHtcbiAgICBxdWVyeS5kb3duc2FtcGxlQWdncmVnYXRvciA9ICdhdmcnO1xuICB9XG5cbiAgaWYgKCFxdWVyeS5kb3duc2FtcGxlRmlsbFBvbGljeSkge1xuICAgIHF1ZXJ5LmRvd25zYW1wbGVGaWxsUG9saWN5ID0gJ25vbmUnO1xuICB9XG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBkYXRhc291cmNlLmdldEFnZ3JlZ2F0b3JzKCkudGhlbigoYWdnczogc3RyaW5nW10pID0+IHtcbiAgICAgIGlmIChhZ2dzLmxlbmd0aCAhPT0gMCkge1xuICAgICAgICBzZXRBZ2dyZWdhdG9ycyhhZ2dzKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfSwgW2RhdGFzb3VyY2VdKTtcblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGRhdGFzb3VyY2UuZ2V0RmlsdGVyVHlwZXMoKS50aGVuKChuZXdGaWx0ZXJUeXBlczogc3RyaW5nW10pID0+IHtcbiAgICAgIGlmIChuZXdGaWx0ZXJUeXBlcy5sZW5ndGggIT09IDApIHtcbiAgICAgICAgc2V0RmlsdGVyVHlwZXMobmV3RmlsdGVyVHlwZXMpO1xuICAgICAgfVxuICAgIH0pO1xuICB9LCBbZGF0YXNvdXJjZV0pO1xuXG4gIGFzeW5jIGZ1bmN0aW9uIHN1Z2dlc3RNZXRyaWNzKHZhbHVlOiBzdHJpbmcpOiBQcm9taXNlPEFycmF5PHsgdmFsdWU6IHN0cmluZzsgZGVzY3JpcHRpb246IHN0cmluZyB9Pj4ge1xuICAgIHJldHVybiBkYXRhc291cmNlLm1ldHJpY0ZpbmRRdWVyeShgbWV0cmljcygke3ZhbHVlfSlgKS50aGVuKGdldFRleHRWYWx1ZXMpO1xuICB9XG5cbiAgLy8gcHJldmlvdXNseSBjYWxsZWQgYXMgYW4gYXV0b2NvbXBsZXRlIG9uIGV2ZXJ5IGlucHV0LFxuICAvLyBpbiB0aGlzIHdlIGNhbGwgaXQgb25jZSBvbiBpbml0IGFuZCBmaWx0ZXIgaW4gdGhlIE1ldHJpY1NlY3Rpb24gY29tcG9uZW50XG4gIGFzeW5jIGZ1bmN0aW9uIHN1Z2dlc3RUYWdWYWx1ZXModmFsdWU6IHN0cmluZyk6IFByb21pc2U8QXJyYXk8eyB2YWx1ZTogc3RyaW5nOyBkZXNjcmlwdGlvbjogc3RyaW5nIH0+PiB7XG4gICAgcmV0dXJuIGRhdGFzb3VyY2UubWV0cmljRmluZFF1ZXJ5KGBzdWdnZXN0X3RhZ3YoJHt2YWx1ZX0pYCkudGhlbihnZXRUZXh0VmFsdWVzKTtcbiAgfVxuXG4gIGFzeW5jIGZ1bmN0aW9uIHN1Z2dlc3RUYWdLZXlzKHF1ZXJ5OiBPcGVuVHNkYlF1ZXJ5KTogUHJvbWlzZTxzdHJpbmdbXT4ge1xuICAgIHJldHVybiBkYXRhc291cmNlLnN1Z2dlc3RUYWdLZXlzKHF1ZXJ5KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGdldFRleHRWYWx1ZXMobWV0cmljczogQXJyYXk8eyB0ZXh0OiBzdHJpbmcgfT4pIHtcbiAgICByZXR1cm4gbWV0cmljcy5tYXAoKHZhbHVlOiB7IHRleHQ6IHN0cmluZyB9KSA9PiB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICB2YWx1ZTogdGV4dFV0aWwuZXNjYXBlSHRtbCh2YWx1ZS50ZXh0KSxcbiAgICAgICAgZGVzY3JpcHRpb246IHZhbHVlLnRleHQsXG4gICAgICB9O1xuICAgIH0pO1xuICB9XG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT17c3R5bGVzLmNvbnRhaW5lcn0gZGF0YS10ZXN0aWQ9e3Rlc3RJZHMuZWRpdG9yfT5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPXtzdHlsZXMudmlzdWFsRWRpdG9yfT5cbiAgICAgICAgPE1ldHJpY1NlY3Rpb25cbiAgICAgICAgICBxdWVyeT17cXVlcnl9XG4gICAgICAgICAgb25DaGFuZ2U9e29uQ2hhbmdlfVxuICAgICAgICAgIG9uUnVuUXVlcnk9e29uUnVuUXVlcnl9XG4gICAgICAgICAgc3VnZ2VzdE1ldHJpY3M9e3N1Z2dlc3RNZXRyaWNzfVxuICAgICAgICAgIGFnZ3JlZ2F0b3JzPXthZ2dyZWdhdG9yc31cbiAgICAgICAgLz5cbiAgICAgICAgPERvd25TYW1wbGVcbiAgICAgICAgICBxdWVyeT17cXVlcnl9XG4gICAgICAgICAgb25DaGFuZ2U9e29uQ2hhbmdlfVxuICAgICAgICAgIG9uUnVuUXVlcnk9e29uUnVuUXVlcnl9XG4gICAgICAgICAgYWdncmVnYXRvcnM9e2FnZ3JlZ2F0b3JzfVxuICAgICAgICAgIGZpbGxQb2xpY2llcz17ZmlsbFBvbGljaWVzfVxuICAgICAgICAgIHRzZGJWZXJzaW9uPXt0c2RiVmVyc2lvbn1cbiAgICAgICAgLz5cbiAgICAgICAge3RzZGJWZXJzaW9uID49IDIgJiYgKFxuICAgICAgICAgIDxGaWx0ZXJTZWN0aW9uXG4gICAgICAgICAgICBxdWVyeT17cXVlcnl9XG4gICAgICAgICAgICBvbkNoYW5nZT17b25DaGFuZ2V9XG4gICAgICAgICAgICBvblJ1blF1ZXJ5PXtvblJ1blF1ZXJ5fVxuICAgICAgICAgICAgZmlsdGVyVHlwZXM9e2ZpbHRlclR5cGVzfVxuICAgICAgICAgICAgc3VnZ2VzdFRhZ1ZhbHVlcz17c3VnZ2VzdFRhZ1ZhbHVlc31cbiAgICAgICAgICAgIHN1Z2dlc3RUYWdLZXlzPXtzdWdnZXN0VGFnS2V5c31cbiAgICAgICAgICAvPlxuICAgICAgICApfVxuICAgICAgICA8VGFnU2VjdGlvblxuICAgICAgICAgIHF1ZXJ5PXtxdWVyeX1cbiAgICAgICAgICBvbkNoYW5nZT17b25DaGFuZ2V9XG4gICAgICAgICAgb25SdW5RdWVyeT17b25SdW5RdWVyeX1cbiAgICAgICAgICBzdWdnZXN0VGFnVmFsdWVzPXtzdWdnZXN0VGFnVmFsdWVzfVxuICAgICAgICAgIHN1Z2dlc3RUYWdLZXlzPXtzdWdnZXN0VGFnS2V5c31cbiAgICAgICAgICB0c2RiVmVyc2lvbj17dHNkYlZlcnNpb259XG4gICAgICAgIC8+XG4gICAgICAgIDxSYXRlU2VjdGlvbiBxdWVyeT17cXVlcnl9IG9uQ2hhbmdlPXtvbkNoYW5nZX0gb25SdW5RdWVyeT17b25SdW5RdWVyeX0gdHNkYlZlcnNpb249e3RzZGJWZXJzaW9ufSAvPlxuICAgICAgPC9kaXY+XG4gICAgPC9kaXY+XG4gICk7XG59XG5cbmZ1bmN0aW9uIGdldFN0eWxlcyh0aGVtZTogR3JhZmFuYVRoZW1lMikge1xuICByZXR1cm4ge1xuICAgIGNvbnRhaW5lcjogY3NzYFxuICAgICAgZGlzcGxheTogZmxleDtcbiAgICBgLFxuICAgIHZpc3VhbEVkaXRvcjogY3NzYFxuICAgICAgZmxleC1ncm93OiAxO1xuICAgIGAsXG4gICAgdG9nZ2xlQnV0dG9uOiBjc3NgXG4gICAgICBtYXJnaW4tbGVmdDogJHt0aGVtZS5zcGFjaW5nKDAuNSl9O1xuICAgIGAsXG4gIH07XG59XG5cbmV4cG9ydCBjb25zdCB0ZXN0SWRzID0ge1xuICBlZGl0b3I6ICdvcGVudHNkYi1lZGl0b3InLFxufTtcbiJdLCJuYW1lcyI6WyJxdWVyeSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./public/app/plugins/datasource/opentsdb/components/OpenTsdbQueryEditor.tsx\n");

/***/ }),

/***/ "./public/app/plugins/datasource/opentsdb/components/RateSection.tsx":
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   RateSection: () => (/* binding */ RateSection),\n/* harmony export */   testIds: () => (/* binding */ testIds)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"./.yarn/cache/react-npm-18.2.0-1eae08fee2-88e38092da.zip/node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _grafana_ui__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(\"./.yarn/__virtual__/@grafana-ui-virtual-d722efae30/1/packages/grafana-ui/src/components/FormLabel/FormLabel.tsx\");\n/* harmony import */ var _grafana_ui__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(\"./.yarn/__virtual__/@grafana-ui-virtual-d722efae30/1/packages/grafana-ui/src/components/Switch/Switch.tsx\");\n/* harmony import */ var _grafana_ui__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(\"./.yarn/__virtual__/@grafana-ui-virtual-d722efae30/1/packages/grafana-ui/src/components/Forms/InlineLabel.tsx\");\n/* harmony import */ var _grafana_ui__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(\"./.yarn/__virtual__/@grafana-ui-virtual-d722efae30/1/packages/grafana-ui/src/components/Input/Input.tsx\");\n\n\n\nfunction RateSection({ query, onChange, onRunQuery, tsdbVersion }) {\n  return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", { className: \"gf-form-inline\", \"data-testid\": testIds.section }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", { className: \"gf-form\" }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_grafana_ui__WEBPACK_IMPORTED_MODULE_1__.InlineFormLabel, { className: \"query-keyword\", width: 8 }, \"Rate\"), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\n    _grafana_ui__WEBPACK_IMPORTED_MODULE_2__.InlineSwitch,\n    {\n      \"data-testid\": testIds.shouldComputeRate,\n      value: query.shouldComputeRate ?? false,\n      onChange: () => {\n        const shouldComputeRate = query.shouldComputeRate ?? false;\n        onChange({ ...query, shouldComputeRate: !shouldComputeRate });\n        onRunQuery();\n      }\n    }\n  )), query.shouldComputeRate && /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", { className: \"gf-form\" }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_grafana_ui__WEBPACK_IMPORTED_MODULE_1__.InlineFormLabel, { className: \"query-keyword\", width: \"auto\" }, \"Counter\"), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\n    _grafana_ui__WEBPACK_IMPORTED_MODULE_2__.InlineSwitch,\n    {\n      \"data-testid\": testIds.isCounter,\n      value: query.isCounter ?? false,\n      onChange: () => {\n        const isCounter = query.isCounter ?? false;\n        onChange({ ...query, isCounter: !isCounter });\n        onRunQuery();\n      }\n    }\n  )), query.shouldComputeRate && query.isCounter && /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", { className: \"gf-form\" }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_grafana_ui__WEBPACK_IMPORTED_MODULE_3__.InlineLabel, { width: \"auto\", className: \"query-keyword\" }, \"Counter max\"), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\n    _grafana_ui__WEBPACK_IMPORTED_MODULE_4__.Input,\n    {\n      \"data-testid\": testIds.counterMax,\n      placeholder: \"max value\",\n      value: query.counterMax ?? \"\",\n      onChange: (e) => {\n        const value = e.currentTarget.value;\n        onChange({ ...query, counterMax: value });\n      },\n      onBlur: () => onRunQuery()\n    }\n  ), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_grafana_ui__WEBPACK_IMPORTED_MODULE_3__.InlineLabel, { width: \"auto\", className: \"query-keyword\" }, \"Reset value\"), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\n    _grafana_ui__WEBPACK_IMPORTED_MODULE_4__.Input,\n    {\n      \"data-testid\": testIds.counterResetValue,\n      placeholder: \"reset value\",\n      value: query.counterResetValue ?? \"\",\n      onChange: (e) => {\n        const value = e.currentTarget.value;\n        onChange({ ...query, counterResetValue: value });\n      },\n      onBlur: () => onRunQuery()\n    }\n  )), tsdbVersion > 2 && /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", { className: \"gf-form\" }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_grafana_ui__WEBPACK_IMPORTED_MODULE_1__.InlineFormLabel, { className: \"query-keyword\", width: \"auto\" }, \"Explicit tags\"), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\n    _grafana_ui__WEBPACK_IMPORTED_MODULE_2__.InlineSwitch,\n    {\n      \"data-testid\": testIds.explicitTags,\n      value: query.explicitTags ?? false,\n      onChange: () => {\n        const explicitTags = query.explicitTags ?? false;\n        onChange({ ...query, explicitTags: !explicitTags });\n        onRunQuery();\n      }\n    }\n  )), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", { className: \"gf-form gf-form--grow\" }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", { className: \"gf-form-label gf-form-label--grow\" })));\n}\nconst testIds = {\n  section: \"opentsdb-rate\",\n  shouldComputeRate: \"opentsdb-shouldComputeRate\",\n  isCounter: \"opentsdb-is-counter\",\n  counterMax: \"opentsdb-counter-max\",\n  counterResetValue: \"opentsdb-counter-reset-value\",\n  explicitTags: \"opentsdb-explicit-tags\"\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9wdWJsaWMvYXBwL3BsdWdpbnMvZGF0YXNvdXJjZS9vcGVudHNkYi9jb21wb25lbnRzL1JhdGVTZWN0aW9uLnRzeCIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7QUFBa0I7QUFFZ0Q7QUFXM0QsU0FBUyxZQUFZLEVBQUUsT0FBTyxVQUFVLFlBQVksWUFBWSxHQUFxQjtBQUMxRixTQUNFLDJFQUFDLFNBQUksV0FBVSxrQkFBaUIsZUFBYSxRQUFRLFdBQ25ELDJFQUFDLFNBQUksV0FBVSxhQUNiLDJFQUFDLHdEQUFlLElBQUMsV0FBVSxpQkFBZ0IsT0FBTyxLQUFHLE1BRXJELEdBQ0E7QUFBQSxJQUFDLHFEQUFZO0FBQVo7QUFBQSxNQUNDLGVBQWEsUUFBUTtBQUFBLE1BQ3JCLE9BQU8sTUFBTSxxQkFBcUI7QUFBQSxNQUNsQyxVQUFVLE1BQU07QUFDZCxjQUFNLG9CQUFvQixNQUFNLHFCQUFxQjtBQUNyRCxpQkFBUyxFQUFFLEdBQUcsT0FBTyxtQkFBbUIsQ0FBQyxrQkFBa0IsQ0FBQztBQUM1RCxtQkFBVztBQUFBLE1BQ2I7QUFBQTtBQUFBLEVBQ0YsQ0FDRixHQUNDLE1BQU0scUJBQ0wsMkVBQUMsU0FBSSxXQUFVLGFBQ2IsMkVBQUMsd0RBQWUsSUFBQyxXQUFVLGlCQUFnQixPQUFPLFVBQVEsU0FFMUQsR0FDQTtBQUFBLElBQUMscURBQVk7QUFBWjtBQUFBLE1BQ0MsZUFBYSxRQUFRO0FBQUEsTUFDckIsT0FBTyxNQUFNLGFBQWE7QUFBQSxNQUMxQixVQUFVLE1BQU07QUFDZCxjQUFNLFlBQVksTUFBTSxhQUFhO0FBQ3JDLGlCQUFTLEVBQUUsR0FBRyxPQUFPLFdBQVcsQ0FBQyxVQUFVLENBQUM7QUFDNUMsbUJBQVc7QUFBQSxNQUNiO0FBQUE7QUFBQSxFQUNGLENBQ0YsR0FFRCxNQUFNLHFCQUFxQixNQUFNLGFBQ2hDLDJFQUFDLFNBQUksV0FBVSxhQUNiLDJFQUFDLG9EQUFXLElBQUMsT0FBTyxRQUFRLFdBQVUsbUJBQWdCLGFBRXRELEdBQ0E7QUFBQSxJQUFDLDhDQUFLO0FBQUw7QUFBQSxNQUNDLGVBQWEsUUFBUTtBQUFBLE1BQ3JCLGFBQVk7QUFBQSxNQUNaLE9BQU8sTUFBTSxjQUFjO0FBQUEsTUFDM0IsVUFBVSxDQUFDLE1BQU07QUFDZixjQUFNLFFBQVEsRUFBRSxjQUFjO0FBQzlCLGlCQUFTLEVBQUUsR0FBRyxPQUFPLFlBQVksTUFBTSxDQUFDO0FBQUEsTUFDMUM7QUFBQSxNQUNBLFFBQVEsTUFBTSxXQUFXO0FBQUE7QUFBQSxFQUMzQixHQUNBLDJFQUFDLG9EQUFXLElBQUMsT0FBTyxRQUFRLFdBQVUsbUJBQWdCLGFBRXRELEdBQ0E7QUFBQSxJQUFDLDhDQUFLO0FBQUw7QUFBQSxNQUNDLGVBQWEsUUFBUTtBQUFBLE1BQ3JCLGFBQVk7QUFBQSxNQUNaLE9BQU8sTUFBTSxxQkFBcUI7QUFBQSxNQUNsQyxVQUFVLENBQUMsTUFBTTtBQUNmLGNBQU0sUUFBUSxFQUFFLGNBQWM7QUFDOUIsaUJBQVMsRUFBRSxHQUFHLE9BQU8sbUJBQW1CLE1BQU0sQ0FBQztBQUFBLE1BQ2pEO0FBQUEsTUFDQSxRQUFRLE1BQU0sV0FBVztBQUFBO0FBQUEsRUFDM0IsQ0FDRixHQUVELGNBQWMsS0FDYiwyRUFBQyxTQUFJLFdBQVUsYUFDYiwyRUFBQyx3REFBZSxJQUFDLFdBQVUsaUJBQWdCLE9BQU8sVUFBUSxlQUUxRCxHQUNBO0FBQUEsSUFBQyxxREFBWTtBQUFaO0FBQUEsTUFDQyxlQUFhLFFBQVE7QUFBQSxNQUNyQixPQUFPLE1BQU0sZ0JBQWdCO0FBQUEsTUFDN0IsVUFBVSxNQUFNO0FBQ2QsY0FBTSxlQUFlLE1BQU0sZ0JBQWdCO0FBQzNDLGlCQUFTLEVBQUUsR0FBRyxPQUFPLGNBQWMsQ0FBQyxhQUFhLENBQUM7QUFDbEQsbUJBQVc7QUFBQSxNQUNiO0FBQUE7QUFBQSxFQUNGLENBQ0YsR0FFRiwyRUFBQyxTQUFJLFdBQVUsMkJBQ2IsMkVBQUMsU0FBSSxXQUFVLHFDQUFvQyxDQUNyRCxDQUNGO0FBRUo7QUFFTyxNQUFNLFVBQVU7QUFBQSxFQUNyQixTQUFTO0FBQUEsRUFDVCxtQkFBbUI7QUFBQSxFQUNuQixXQUFXO0FBQUEsRUFDWCxZQUFZO0FBQUEsRUFDWixtQkFBbUI7QUFBQSxFQUNuQixjQUFjO0FBQ2hCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZ3JhZmFuYS8uL3B1YmxpYy9hcHAvcGx1Z2lucy9kYXRhc291cmNlL29wZW50c2RiL2NvbXBvbmVudHMvUmF0ZVNlY3Rpb24udHN4PzM0YTgiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcblxuaW1wb3J0IHsgSW5saW5lTGFiZWwsIElucHV0LCBJbmxpbmVGb3JtTGFiZWwsIElubGluZVN3aXRjaCB9IGZyb20gJ0BncmFmYW5hL3VpJztcblxuaW1wb3J0IHsgT3BlblRzZGJRdWVyeSB9IGZyb20gJy4uL3R5cGVzJztcblxuZXhwb3J0IGludGVyZmFjZSBSYXRlU2VjdGlvblByb3BzIHtcbiAgcXVlcnk6IE9wZW5Uc2RiUXVlcnk7XG4gIG9uQ2hhbmdlOiAocXVlcnk6IE9wZW5Uc2RiUXVlcnkpID0+IHZvaWQ7XG4gIG9uUnVuUXVlcnk6ICgpID0+IHZvaWQ7XG4gIHRzZGJWZXJzaW9uOiBudW1iZXI7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBSYXRlU2VjdGlvbih7IHF1ZXJ5LCBvbkNoYW5nZSwgb25SdW5RdWVyeSwgdHNkYlZlcnNpb24gfTogUmF0ZVNlY3Rpb25Qcm9wcykge1xuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPVwiZ2YtZm9ybS1pbmxpbmVcIiBkYXRhLXRlc3RpZD17dGVzdElkcy5zZWN0aW9ufT5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZ2YtZm9ybVwiPlxuICAgICAgICA8SW5saW5lRm9ybUxhYmVsIGNsYXNzTmFtZT1cInF1ZXJ5LWtleXdvcmRcIiB3aWR0aD17OH0+XG4gICAgICAgICAgUmF0ZVxuICAgICAgICA8L0lubGluZUZvcm1MYWJlbD5cbiAgICAgICAgPElubGluZVN3aXRjaFxuICAgICAgICAgIGRhdGEtdGVzdGlkPXt0ZXN0SWRzLnNob3VsZENvbXB1dGVSYXRlfVxuICAgICAgICAgIHZhbHVlPXtxdWVyeS5zaG91bGRDb21wdXRlUmF0ZSA/PyBmYWxzZX1cbiAgICAgICAgICBvbkNoYW5nZT17KCkgPT4ge1xuICAgICAgICAgICAgY29uc3Qgc2hvdWxkQ29tcHV0ZVJhdGUgPSBxdWVyeS5zaG91bGRDb21wdXRlUmF0ZSA/PyBmYWxzZTtcbiAgICAgICAgICAgIG9uQ2hhbmdlKHsgLi4ucXVlcnksIHNob3VsZENvbXB1dGVSYXRlOiAhc2hvdWxkQ29tcHV0ZVJhdGUgfSk7XG4gICAgICAgICAgICBvblJ1blF1ZXJ5KCk7XG4gICAgICAgICAgfX1cbiAgICAgICAgLz5cbiAgICAgIDwvZGl2PlxuICAgICAge3F1ZXJ5LnNob3VsZENvbXB1dGVSYXRlICYmIChcbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJnZi1mb3JtXCI+XG4gICAgICAgICAgPElubGluZUZvcm1MYWJlbCBjbGFzc05hbWU9XCJxdWVyeS1rZXl3b3JkXCIgd2lkdGg9eydhdXRvJ30+XG4gICAgICAgICAgICBDb3VudGVyXG4gICAgICAgICAgPC9JbmxpbmVGb3JtTGFiZWw+XG4gICAgICAgICAgPElubGluZVN3aXRjaFxuICAgICAgICAgICAgZGF0YS10ZXN0aWQ9e3Rlc3RJZHMuaXNDb3VudGVyfVxuICAgICAgICAgICAgdmFsdWU9e3F1ZXJ5LmlzQ291bnRlciA/PyBmYWxzZX1cbiAgICAgICAgICAgIG9uQ2hhbmdlPXsoKSA9PiB7XG4gICAgICAgICAgICAgIGNvbnN0IGlzQ291bnRlciA9IHF1ZXJ5LmlzQ291bnRlciA/PyBmYWxzZTtcbiAgICAgICAgICAgICAgb25DaGFuZ2UoeyAuLi5xdWVyeSwgaXNDb3VudGVyOiAhaXNDb3VudGVyIH0pO1xuICAgICAgICAgICAgICBvblJ1blF1ZXJ5KCk7XG4gICAgICAgICAgICB9fVxuICAgICAgICAgIC8+XG4gICAgICAgIDwvZGl2PlxuICAgICAgKX1cbiAgICAgIHtxdWVyeS5zaG91bGRDb21wdXRlUmF0ZSAmJiBxdWVyeS5pc0NvdW50ZXIgJiYgKFxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImdmLWZvcm1cIj5cbiAgICAgICAgICA8SW5saW5lTGFiZWwgd2lkdGg9eydhdXRvJ30gY2xhc3NOYW1lPVwicXVlcnkta2V5d29yZFwiPlxuICAgICAgICAgICAgQ291bnRlciBtYXhcbiAgICAgICAgICA8L0lubGluZUxhYmVsPlxuICAgICAgICAgIDxJbnB1dFxuICAgICAgICAgICAgZGF0YS10ZXN0aWQ9e3Rlc3RJZHMuY291bnRlck1heH1cbiAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwibWF4IHZhbHVlXCJcbiAgICAgICAgICAgIHZhbHVlPXtxdWVyeS5jb3VudGVyTWF4ID8/ICcnfVxuICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiB7XG4gICAgICAgICAgICAgIGNvbnN0IHZhbHVlID0gZS5jdXJyZW50VGFyZ2V0LnZhbHVlO1xuICAgICAgICAgICAgICBvbkNoYW5nZSh7IC4uLnF1ZXJ5LCBjb3VudGVyTWF4OiB2YWx1ZSB9KTtcbiAgICAgICAgICAgIH19XG4gICAgICAgICAgICBvbkJsdXI9eygpID0+IG9uUnVuUXVlcnkoKX1cbiAgICAgICAgICAvPlxuICAgICAgICAgIDxJbmxpbmVMYWJlbCB3aWR0aD17J2F1dG8nfSBjbGFzc05hbWU9XCJxdWVyeS1rZXl3b3JkXCI+XG4gICAgICAgICAgICBSZXNldCB2YWx1ZVxuICAgICAgICAgIDwvSW5saW5lTGFiZWw+XG4gICAgICAgICAgPElucHV0XG4gICAgICAgICAgICBkYXRhLXRlc3RpZD17dGVzdElkcy5jb3VudGVyUmVzZXRWYWx1ZX1cbiAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwicmVzZXQgdmFsdWVcIlxuICAgICAgICAgICAgdmFsdWU9e3F1ZXJ5LmNvdW50ZXJSZXNldFZhbHVlID8/ICcnfVxuICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiB7XG4gICAgICAgICAgICAgIGNvbnN0IHZhbHVlID0gZS5jdXJyZW50VGFyZ2V0LnZhbHVlO1xuICAgICAgICAgICAgICBvbkNoYW5nZSh7IC4uLnF1ZXJ5LCBjb3VudGVyUmVzZXRWYWx1ZTogdmFsdWUgfSk7XG4gICAgICAgICAgICB9fVxuICAgICAgICAgICAgb25CbHVyPXsoKSA9PiBvblJ1blF1ZXJ5KCl9XG4gICAgICAgICAgLz5cbiAgICAgICAgPC9kaXY+XG4gICAgICApfVxuICAgICAge3RzZGJWZXJzaW9uID4gMiAmJiAoXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZ2YtZm9ybVwiPlxuICAgICAgICAgIDxJbmxpbmVGb3JtTGFiZWwgY2xhc3NOYW1lPVwicXVlcnkta2V5d29yZFwiIHdpZHRoPXsnYXV0byd9PlxuICAgICAgICAgICAgRXhwbGljaXQgdGFnc1xuICAgICAgICAgIDwvSW5saW5lRm9ybUxhYmVsPlxuICAgICAgICAgIDxJbmxpbmVTd2l0Y2hcbiAgICAgICAgICAgIGRhdGEtdGVzdGlkPXt0ZXN0SWRzLmV4cGxpY2l0VGFnc31cbiAgICAgICAgICAgIHZhbHVlPXtxdWVyeS5leHBsaWNpdFRhZ3MgPz8gZmFsc2V9XG4gICAgICAgICAgICBvbkNoYW5nZT17KCkgPT4ge1xuICAgICAgICAgICAgICBjb25zdCBleHBsaWNpdFRhZ3MgPSBxdWVyeS5leHBsaWNpdFRhZ3MgPz8gZmFsc2U7XG4gICAgICAgICAgICAgIG9uQ2hhbmdlKHsgLi4ucXVlcnksIGV4cGxpY2l0VGFnczogIWV4cGxpY2l0VGFncyB9KTtcbiAgICAgICAgICAgICAgb25SdW5RdWVyeSgpO1xuICAgICAgICAgICAgfX1cbiAgICAgICAgICAvPlxuICAgICAgICA8L2Rpdj5cbiAgICAgICl9XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImdmLWZvcm0gZ2YtZm9ybS0tZ3Jvd1wiPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImdmLWZvcm0tbGFiZWwgZ2YtZm9ybS1sYWJlbC0tZ3Jvd1wiPjwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgPC9kaXY+XG4gICk7XG59XG5cbmV4cG9ydCBjb25zdCB0ZXN0SWRzID0ge1xuICBzZWN0aW9uOiAnb3BlbnRzZGItcmF0ZScsXG4gIHNob3VsZENvbXB1dGVSYXRlOiAnb3BlbnRzZGItc2hvdWxkQ29tcHV0ZVJhdGUnLFxuICBpc0NvdW50ZXI6ICdvcGVudHNkYi1pcy1jb3VudGVyJyxcbiAgY291bnRlck1heDogJ29wZW50c2RiLWNvdW50ZXItbWF4JyxcbiAgY291bnRlclJlc2V0VmFsdWU6ICdvcGVudHNkYi1jb3VudGVyLXJlc2V0LXZhbHVlJyxcbiAgZXhwbGljaXRUYWdzOiAnb3BlbnRzZGItZXhwbGljaXQtdGFncycsXG59O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./public/app/plugins/datasource/opentsdb/components/RateSection.tsx\n");

/***/ }),

/***/ "./public/app/plugins/datasource/opentsdb/components/TagSection.tsx":
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   TagSection: () => (/* binding */ TagSection),\n/* harmony export */   testIds: () => (/* binding */ testIds)\n/* harmony export */ });\n/* harmony import */ var debounce_promise__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"./.yarn/cache/debounce-promise-npm-3.1.2-3c185da0c7-29bac4524c.zip/node_modules/debounce-promise/dist/index.js\");\n/* harmony import */ var debounce_promise__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(debounce_promise__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(\"./.yarn/cache/lodash-npm-4.17.21-6382451519-eb835a2e51.zip/node_modules/lodash/lodash.js\");\n/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(\"./.yarn/cache/react-npm-18.2.0-1eae08fee2-88e38092da.zip/node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _grafana_data__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(\"./.yarn/__virtual__/@grafana-data-virtual-0996183232/1/packages/grafana-data/src/utils/selectUtils.ts\");\n/* harmony import */ var _grafana_ui__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(\"./.yarn/__virtual__/@grafana-ui-virtual-d722efae30/1/packages/grafana-ui/src/themes/ThemeContext.tsx\");\n/* harmony import */ var _grafana_ui__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(\"./.yarn/__virtual__/@grafana-ui-virtual-d722efae30/1/packages/grafana-ui/src/components/Button/Button.tsx\");\n/* harmony import */ var _grafana_ui__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(\"./.yarn/__virtual__/@grafana-ui-virtual-d722efae30/1/packages/grafana-ui/src/components/FormLabel/FormLabel.tsx\");\n/* harmony import */ var _grafana_ui__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(\"./.yarn/__virtual__/@grafana-ui-virtual-d722efae30/1/packages/grafana-ui/src/components/Icon/Icon.tsx\");\n/* harmony import */ var _grafana_ui__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(\"./.yarn/__virtual__/@grafana-ui-virtual-d722efae30/1/packages/grafana-ui/src/components/Select/Select.tsx\");\n\n\n\n\n\n\nfunction TagSection({\n  query,\n  onChange,\n  onRunQuery,\n  suggestTagKeys,\n  suggestTagValues,\n  tsdbVersion\n}) {\n  const buttonStyles = (0,_grafana_ui__WEBPACK_IMPORTED_MODULE_3__.useStyles2)(_grafana_ui__WEBPACK_IMPORTED_MODULE_4__.clearButtonStyles);\n  const [tagKeys, updTagKeys] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)();\n  const [keyIsLoading, updKeyIsLoading] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)();\n  const [addTagMode, updAddTagMode] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(false);\n  const [curTagKey, updCurTagKey] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(\"\");\n  const [curTagValue, updCurTagValue] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(\"\");\n  const [errors, setErrors] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(\"\");\n  function changeAddTagMode() {\n    updAddTagMode(!addTagMode);\n  }\n  function addTag() {\n    if (query.filters && (0,lodash__WEBPACK_IMPORTED_MODULE_1__.size)(query.filters) > 0) {\n      const err = \"Please remove filters to use tags, tags and filters are mutually exclusive.\";\n      setErrors(err);\n      return;\n    }\n    if (!addTagMode) {\n      updAddTagMode(true);\n      return;\n    }\n    if (query.tags && (0,lodash__WEBPACK_IMPORTED_MODULE_1__.has)(query.tags, curTagKey)) {\n      const err = \"Duplicate tag key '\" + curTagKey + \"'.\";\n      setErrors(err);\n      return;\n    }\n    if (!query.tags) {\n      query.tags = {};\n    }\n    query.tags[curTagKey] = curTagValue;\n    updCurTagKey(\"\");\n    updCurTagValue(\"\");\n    onChange(query);\n    onRunQuery();\n    changeAddTagMode();\n  }\n  function removeTag(key) {\n    delete query.tags[key];\n    onChange(query);\n    onRunQuery();\n  }\n  function editTag(key, value) {\n    removeTag(key);\n    updCurTagKey(key);\n    updCurTagValue(value);\n    addTag();\n  }\n  const tagValueSearch = debounce_promise__WEBPACK_IMPORTED_MODULE_0___default()((query2) => suggestTagValues(query2), 350);\n  return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_2___default().createElement(\"div\", { className: \"gf-form-inline\", \"data-testid\": testIds.section }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_2___default().createElement(\"div\", { className: \"gf-form\" }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_2___default().createElement(\n    _grafana_ui__WEBPACK_IMPORTED_MODULE_5__.InlineFormLabel,\n    {\n      className: \"query-keyword\",\n      width: 8,\n      tooltip: tsdbVersion >= 2 ? /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_2___default().createElement(\"div\", null, \"Please use filters, tags are deprecated in opentsdb 2.2\") : void 0\n    },\n    \"Tags\"\n  ), query.tags && Object.keys(query.tags).map((tagKey, idx) => {\n    const tagValue = query.tags[tagKey];\n    return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_2___default().createElement(_grafana_ui__WEBPACK_IMPORTED_MODULE_5__.InlineFormLabel, { key: idx, width: \"auto\", \"data-testid\": testIds.list + idx }, tagKey, \"=\", tagValue, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_2___default().createElement(\"button\", { type: \"button\", className: buttonStyles, onClick: () => editTag(tagKey, tagValue) }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_2___default().createElement(_grafana_ui__WEBPACK_IMPORTED_MODULE_6__.Icon, { name: \"pen\" })), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_2___default().createElement(\n      \"button\",\n      {\n        type: \"button\",\n        className: buttonStyles,\n        onClick: () => removeTag(tagKey),\n        \"data-testid\": testIds.remove\n      },\n      /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_2___default().createElement(_grafana_ui__WEBPACK_IMPORTED_MODULE_6__.Icon, { name: \"times\" })\n    ));\n  }), !addTagMode && /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_2___default().createElement(\"button\", { className: \"gf-form-label\", type: \"button\", onClick: changeAddTagMode, \"aria-label\": \"Add tag\" }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_2___default().createElement(_grafana_ui__WEBPACK_IMPORTED_MODULE_6__.Icon, { name: \"plus\" }))), addTagMode && /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_2___default().createElement(\"div\", { className: \"gf-form-inline\" }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_2___default().createElement(\"div\", { className: \"gf-form\" }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_2___default().createElement(\n    _grafana_ui__WEBPACK_IMPORTED_MODULE_7__.Select,\n    {\n      inputId: \"opentsdb-suggested-tagk-select\",\n      className: \"gf-form-input\",\n      value: curTagKey ? (0,_grafana_data__WEBPACK_IMPORTED_MODULE_8__.toOption)(\"\" + curTagKey) : void 0,\n      placeholder: \"key\",\n      allowCustomValue: true,\n      onOpenMenu: async () => {\n        updKeyIsLoading(true);\n        const tKs = await suggestTagKeys(query);\n        const tKsOptions = tKs.map((value) => (0,_grafana_data__WEBPACK_IMPORTED_MODULE_8__.toOption)(value));\n        updTagKeys(tKsOptions);\n        updKeyIsLoading(false);\n      },\n      isLoading: keyIsLoading,\n      options: tagKeys,\n      onChange: ({ value }) => {\n        if (value) {\n          updCurTagKey(value);\n        }\n      }\n    }\n  )), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_2___default().createElement(\"div\", { className: \"gf-form\" }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_2___default().createElement(\n    _grafana_ui__WEBPACK_IMPORTED_MODULE_7__.AsyncSelect,\n    {\n      inputId: \"opentsdb-suggested-tagv-select\",\n      className: \"gf-form-input\",\n      value: curTagValue ? (0,_grafana_data__WEBPACK_IMPORTED_MODULE_8__.toOption)(curTagValue) : void 0,\n      placeholder: \"value\",\n      allowCustomValue: true,\n      loadOptions: tagValueSearch,\n      defaultOptions: [],\n      onChange: ({ value }) => {\n        if (value) {\n          updCurTagValue(value);\n        }\n      }\n    }\n  )), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_2___default().createElement(\"div\", { className: \"gf-form\" }, errors && /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_2___default().createElement(\"div\", { className: \"gf-form-label\", title: errors, \"data-testid\": testIds.error }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_2___default().createElement(_grafana_ui__WEBPACK_IMPORTED_MODULE_6__.Icon, { name: \"exclamation-triangle\", color: \"rgb(229, 189, 28)\" })), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_2___default().createElement(\"div\", { className: \"gf-form-label\" }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_2___default().createElement(\"button\", { type: \"button\", className: buttonStyles, onClick: addTag }, \"add tag\"), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_2___default().createElement(\"button\", { type: \"button\", className: buttonStyles, onClick: changeAddTagMode }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_2___default().createElement(_grafana_ui__WEBPACK_IMPORTED_MODULE_6__.Icon, { name: \"times\" }))))), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_2___default().createElement(\"div\", { className: \"gf-form gf-form--grow\" }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_2___default().createElement(\"div\", { className: \"gf-form-label gf-form-label--grow\" })));\n}\nconst testIds = {\n  section: \"opentsdb-tag\",\n  list: \"opentsdb-tag-list\",\n  error: \"opentsdb-tag-error\",\n  remove: \"opentsdb-tag-remove\"\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9wdWJsaWMvYXBwL3BsdWdpbnMvZGF0YXNvdXJjZS9vcGVudHNkYi9jb21wb25lbnRzL1RhZ1NlY3Rpb24udHN4IiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFxQjtBQUNLO0FBQ007QUFFVTtBQUNnRDtBQWFuRixTQUFTLFdBQVc7QUFBQSxFQUN6QjtBQUFBLEVBQ0E7QUFBQSxFQUNBO0FBQUEsRUFDQTtBQUFBLEVBQ0E7QUFBQSxFQUNBO0FBQ0YsR0FBb0I7QUFDbEIsUUFBTSxlQUFlLHVEQUFVLENBQUMsMERBQWlCO0FBRWpELFFBQU0sQ0FBQyxTQUFTLFVBQVUsSUFBSSwrQ0FBUSxDQUFpQztBQUN2RSxRQUFNLENBQUMsY0FBYyxlQUFlLElBQUksK0NBQVEsQ0FBVTtBQUUxRCxRQUFNLENBQUMsWUFBWSxhQUFhLElBQUksK0NBQVEsQ0FBVSxLQUFLO0FBRTNELFFBQU0sQ0FBQyxXQUFXLFlBQVksSUFBSSwrQ0FBUSxDQUFrQixFQUFFO0FBQzlELFFBQU0sQ0FBQyxhQUFhLGNBQWMsSUFBSSwrQ0FBUSxDQUFTLEVBQUU7QUFFekQsUUFBTSxDQUFDLFFBQVEsU0FBUyxJQUFJLCtDQUFRLENBQVMsRUFBRTtBQUUvQyxXQUFTLG1CQUFtQjtBQUMxQixrQkFBYyxDQUFDLFVBQVU7QUFBQSxFQUMzQjtBQUVBLFdBQVMsU0FBUztBQUNoQixRQUFJLE1BQU0sV0FBVyw0Q0FBSSxDQUFDLE1BQU0sT0FBTyxJQUFJLEdBQUc7QUFDNUMsWUFBTSxNQUFNO0FBQ1osZ0JBQVUsR0FBRztBQUNiO0FBQUEsSUFDRjtBQUVBLFFBQUksQ0FBQyxZQUFZO0FBQ2Ysb0JBQWMsSUFBSTtBQUNsQjtBQUFBLElBQ0Y7QUFHQSxRQUFJLE1BQU0sUUFBUSwyQ0FBRyxDQUFDLE1BQU0sTUFBTSxTQUFTLEdBQUc7QUFDNUMsWUFBTSxNQUFNLHdCQUF3QixZQUFZO0FBQ2hELGdCQUFVLEdBQUc7QUFDYjtBQUFBLElBQ0Y7QUFHQSxRQUFJLENBQUMsTUFBTSxNQUFNO0FBQ2YsWUFBTSxPQUFPLENBQUM7QUFBQSxJQUNoQjtBQUdBLFVBQU0sS0FBSyxTQUFTLElBQUk7QUFHeEIsaUJBQWEsRUFBRTtBQUNmLG1CQUFlLEVBQUU7QUFHakIsYUFBUyxLQUFLO0FBQ2QsZUFBVztBQUdYLHFCQUFpQjtBQUFBLEVBQ25CO0FBRUEsV0FBUyxVQUFVLEtBQXNCO0FBQ3ZDLFdBQU8sTUFBTSxLQUFLLEdBQUc7QUFHckIsYUFBUyxLQUFLO0FBQ2QsZUFBVztBQUFBLEVBQ2I7QUFFQSxXQUFTLFFBQVEsS0FBc0IsT0FBZTtBQUNwRCxjQUFVLEdBQUc7QUFDYixpQkFBYSxHQUFHO0FBQ2hCLG1CQUFlLEtBQUs7QUFDcEIsV0FBTztBQUFBLEVBQ1Q7QUFFQSxRQUFNLGlCQUFpQix1REFBUSxDQUFDLENBQUNBLFdBQWtCLGlCQUFpQkEsTUFBSyxHQUFHLEdBQUc7QUFFL0UsU0FDRSwyRUFBQyxTQUFJLFdBQVUsa0JBQWlCLGVBQWEsUUFBUSxXQUNuRCwyRUFBQyxTQUFJLFdBQVUsYUFDYjtBQUFBLElBQUMsd0RBQWU7QUFBZjtBQUFBLE1BQ0MsV0FBVTtBQUFBLE1BQ1YsT0FBTztBQUFBLE1BQ1AsU0FBUyxlQUFlLElBQUksMkVBQUMsYUFBSSx5REFBdUQsSUFBUztBQUFBO0FBQUEsSUFDbEc7QUFBQSxFQUVELEdBQ0MsTUFBTSxRQUNMLE9BQU8sS0FBSyxNQUFNLElBQUksRUFBRSxJQUFJLENBQUMsUUFBeUIsUUFBZ0I7QUFDcEUsVUFBTSxXQUFXLE1BQU0sS0FBSyxNQUFNO0FBQ2xDLFdBQ0UsMkVBQUMsd0RBQWUsSUFBQyxLQUFLLEtBQUssT0FBTSxRQUFPLGVBQWEsUUFBUSxPQUFPLE9BQ2pFLFFBQU8sS0FBRSxVQUNWLDJFQUFDLFlBQU8sTUFBSyxVQUFTLFdBQVcsY0FBYyxTQUFTLE1BQU0sUUFBUSxRQUFRLFFBQVEsS0FDcEYsMkVBQUMsNkNBQUksSUFBQyxNQUFNLE9BQU8sQ0FDckIsR0FDQTtBQUFBLE1BQUM7QUFBQTtBQUFBLFFBQ0MsTUFBSztBQUFBLFFBQ0wsV0FBVztBQUFBLFFBQ1gsU0FBUyxNQUFNLFVBQVUsTUFBTTtBQUFBLFFBQy9CLGVBQWEsUUFBUTtBQUFBO0FBQUEsTUFFckIsMkVBQUMsNkNBQUksSUFBQyxNQUFNLFNBQVM7QUFBQSxJQUN2QixDQUNGO0FBQUEsRUFFSixDQUFDLEdBQ0YsQ0FBQyxjQUNBLDJFQUFDLFlBQU8sV0FBVSxpQkFBZ0IsTUFBSyxVQUFTLFNBQVMsa0JBQWtCLGNBQVcsYUFDcEYsMkVBQUMsNkNBQUksSUFBQyxNQUFNLFFBQVEsQ0FDdEIsQ0FFSixHQUNDLGNBQ0MsMkVBQUMsU0FBSSxXQUFVLG9CQUNiLDJFQUFDLFNBQUksV0FBVSxhQUNiO0FBQUEsSUFBQywrQ0FBTTtBQUFOO0FBQUEsTUFDQyxTQUFRO0FBQUEsTUFDUixXQUFVO0FBQUEsTUFDVixPQUFPLFlBQVksdURBQVEsQ0FBQyxLQUFLLFNBQVMsSUFBSTtBQUFBLE1BQzlDLGFBQVk7QUFBQSxNQUNaLGtCQUFnQjtBQUFBLE1BQ2hCLFlBQVksWUFBWTtBQUN0Qix3QkFBZ0IsSUFBSTtBQUNwQixjQUFNLE1BQU0sTUFBTSxlQUFlLEtBQUs7QUFDdEMsY0FBTSxhQUFhLElBQUksSUFBSSxDQUFDLFVBQWtCLHVEQUFRLENBQUMsS0FBSyxDQUFDO0FBQzdELG1CQUFXLFVBQVU7QUFDckIsd0JBQWdCLEtBQUs7QUFBQSxNQUN2QjtBQUFBLE1BQ0EsV0FBVztBQUFBLE1BQ1gsU0FBUztBQUFBLE1BQ1QsVUFBVSxDQUFDLEVBQUUsTUFBTSxNQUFNO0FBQ3ZCLFlBQUksT0FBTztBQUNULHVCQUFhLEtBQUs7QUFBQSxRQUNwQjtBQUFBLE1BQ0Y7QUFBQTtBQUFBLEVBQ0YsQ0FDRixHQUVBLDJFQUFDLFNBQUksV0FBVSxhQUNiO0FBQUEsSUFBQyxvREFBVztBQUFYO0FBQUEsTUFDQyxTQUFRO0FBQUEsTUFDUixXQUFVO0FBQUEsTUFDVixPQUFPLGNBQWMsdURBQVEsQ0FBQyxXQUFXLElBQUk7QUFBQSxNQUM3QyxhQUFZO0FBQUEsTUFDWixrQkFBZ0I7QUFBQSxNQUNoQixhQUFhO0FBQUEsTUFDYixnQkFBZ0IsQ0FBQztBQUFBLE1BQ2pCLFVBQVUsQ0FBQyxFQUFFLE1BQU0sTUFBTTtBQUN2QixZQUFJLE9BQU87QUFDVCx5QkFBZSxLQUFLO0FBQUEsUUFDdEI7QUFBQSxNQUNGO0FBQUE7QUFBQSxFQUNGLENBQ0YsR0FFQSwyRUFBQyxTQUFJLFdBQVUsYUFDWixVQUNDLDJFQUFDLFNBQUksV0FBVSxpQkFBZ0IsT0FBTyxRQUFRLGVBQWEsUUFBUSxTQUNqRSwyRUFBQyw2Q0FBSSxJQUFDLE1BQU0sd0JBQXdCLE9BQU8scUJBQXFCLENBQ2xFLEdBR0YsMkVBQUMsU0FBSSxXQUFVLG1CQUNiLDJFQUFDLFlBQU8sTUFBSyxVQUFTLFdBQVcsY0FBYyxTQUFTLFVBQVEsU0FFaEUsR0FDQSwyRUFBQyxZQUFPLE1BQUssVUFBUyxXQUFXLGNBQWMsU0FBUyxvQkFDdEQsMkVBQUMsNkNBQUksSUFBQyxNQUFNLFNBQVMsQ0FDdkIsQ0FDRixDQUNGLENBQ0YsR0FFRiwyRUFBQyxTQUFJLFdBQVUsMkJBQ2IsMkVBQUMsU0FBSSxXQUFVLHFDQUFvQyxDQUNyRCxDQUNGO0FBRUo7QUFFTyxNQUFNLFVBQVU7QUFBQSxFQUNyQixTQUFTO0FBQUEsRUFDVCxNQUFNO0FBQUEsRUFDTixPQUFPO0FBQUEsRUFDUCxRQUFRO0FBQ1YiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9ncmFmYW5hLy4vcHVibGljL2FwcC9wbHVnaW5zL2RhdGFzb3VyY2Uvb3BlbnRzZGIvY29tcG9uZW50cy9UYWdTZWN0aW9uLnRzeD8yYjNmIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBkZWJvdW5jZSBmcm9tICdkZWJvdW5jZS1wcm9taXNlJztcbmltcG9ydCB7IGhhcywgc2l6ZSB9IGZyb20gJ2xvZGFzaCc7XG5pbXBvcnQgUmVhY3QsIHsgdXNlU3RhdGUgfSBmcm9tICdyZWFjdCc7XG5cbmltcG9ydCB7IFNlbGVjdGFibGVWYWx1ZSwgdG9PcHRpb24gfSBmcm9tICdAZ3JhZmFuYS9kYXRhJztcbmltcG9ydCB7IFNlbGVjdCwgSW5saW5lRm9ybUxhYmVsLCBJY29uLCBjbGVhckJ1dHRvblN0eWxlcywgdXNlU3R5bGVzMiwgQXN5bmNTZWxlY3QgfSBmcm9tICdAZ3JhZmFuYS91aSc7XG5cbmltcG9ydCB7IE9wZW5Uc2RiUXVlcnkgfSBmcm9tICcuLi90eXBlcyc7XG5cbmV4cG9ydCBpbnRlcmZhY2UgVGFnU2VjdGlvblByb3BzIHtcbiAgcXVlcnk6IE9wZW5Uc2RiUXVlcnk7XG4gIG9uQ2hhbmdlOiAocXVlcnk6IE9wZW5Uc2RiUXVlcnkpID0+IHZvaWQ7XG4gIG9uUnVuUXVlcnk6ICgpID0+IHZvaWQ7XG4gIHN1Z2dlc3RUYWdLZXlzOiAocXVlcnk6IE9wZW5Uc2RiUXVlcnkpID0+IFByb21pc2U8c3RyaW5nW10+O1xuICBzdWdnZXN0VGFnVmFsdWVzOiAodmFsdWU6IHN0cmluZykgPT4gUHJvbWlzZTxTZWxlY3RhYmxlVmFsdWVbXT47XG4gIHRzZGJWZXJzaW9uOiBudW1iZXI7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBUYWdTZWN0aW9uKHtcbiAgcXVlcnksXG4gIG9uQ2hhbmdlLFxuICBvblJ1blF1ZXJ5LFxuICBzdWdnZXN0VGFnS2V5cyxcbiAgc3VnZ2VzdFRhZ1ZhbHVlcyxcbiAgdHNkYlZlcnNpb24sXG59OiBUYWdTZWN0aW9uUHJvcHMpIHtcbiAgY29uc3QgYnV0dG9uU3R5bGVzID0gdXNlU3R5bGVzMihjbGVhckJ1dHRvblN0eWxlcyk7XG5cbiAgY29uc3QgW3RhZ0tleXMsIHVwZFRhZ0tleXNdID0gdXNlU3RhdGU8QXJyYXk8U2VsZWN0YWJsZVZhbHVlPHN0cmluZz4+PigpO1xuICBjb25zdCBba2V5SXNMb2FkaW5nLCB1cGRLZXlJc0xvYWRpbmddID0gdXNlU3RhdGU8Ym9vbGVhbj4oKTtcblxuICBjb25zdCBbYWRkVGFnTW9kZSwgdXBkQWRkVGFnTW9kZV0gPSB1c2VTdGF0ZTxib29sZWFuPihmYWxzZSk7XG5cbiAgY29uc3QgW2N1clRhZ0tleSwgdXBkQ3VyVGFnS2V5XSA9IHVzZVN0YXRlPHN0cmluZyB8IG51bWJlcj4oJycpO1xuICBjb25zdCBbY3VyVGFnVmFsdWUsIHVwZEN1clRhZ1ZhbHVlXSA9IHVzZVN0YXRlPHN0cmluZz4oJycpO1xuXG4gIGNvbnN0IFtlcnJvcnMsIHNldEVycm9yc10gPSB1c2VTdGF0ZTxzdHJpbmc+KCcnKTtcblxuICBmdW5jdGlvbiBjaGFuZ2VBZGRUYWdNb2RlKCkge1xuICAgIHVwZEFkZFRhZ01vZGUoIWFkZFRhZ01vZGUpO1xuICB9XG5cbiAgZnVuY3Rpb24gYWRkVGFnKCkge1xuICAgIGlmIChxdWVyeS5maWx0ZXJzICYmIHNpemUocXVlcnkuZmlsdGVycykgPiAwKSB7XG4gICAgICBjb25zdCBlcnIgPSAnUGxlYXNlIHJlbW92ZSBmaWx0ZXJzIHRvIHVzZSB0YWdzLCB0YWdzIGFuZCBmaWx0ZXJzIGFyZSBtdXR1YWxseSBleGNsdXNpdmUuJztcbiAgICAgIHNldEVycm9ycyhlcnIpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmICghYWRkVGFnTW9kZSkge1xuICAgICAgdXBkQWRkVGFnTW9kZSh0cnVlKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyBjaGVjayBmb3IgZHVwbGljYXRlIHRhZ3NcbiAgICBpZiAocXVlcnkudGFncyAmJiBoYXMocXVlcnkudGFncywgY3VyVGFnS2V5KSkge1xuICAgICAgY29uc3QgZXJyID0gXCJEdXBsaWNhdGUgdGFnIGtleSAnXCIgKyBjdXJUYWdLZXkgKyBcIicuXCI7XG4gICAgICBzZXRFcnJvcnMoZXJyKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyB0YWdzIG1heSBiZSB1bmRlZmluZWRcbiAgICBpZiAoIXF1ZXJ5LnRhZ3MpIHtcbiAgICAgIHF1ZXJ5LnRhZ3MgPSB7fTtcbiAgICB9XG5cbiAgICAvLyBhZGQgdGFnIHRvIHF1ZXJ5XG4gICAgcXVlcnkudGFnc1tjdXJUYWdLZXldID0gY3VyVGFnVmFsdWU7XG5cbiAgICAvLyByZXNldCB0aGUgaW5wdXRzXG4gICAgdXBkQ3VyVGFnS2V5KCcnKTtcbiAgICB1cGRDdXJUYWdWYWx1ZSgnJyk7XG5cbiAgICAvLyBmaXJlIHRoZSBxdWVyeVxuICAgIG9uQ2hhbmdlKHF1ZXJ5KTtcbiAgICBvblJ1blF1ZXJ5KCk7XG5cbiAgICAvLyBjbG9zZSB0aGUgdGFnIGRpdG9yXG4gICAgY2hhbmdlQWRkVGFnTW9kZSgpO1xuICB9XG5cbiAgZnVuY3Rpb24gcmVtb3ZlVGFnKGtleTogc3RyaW5nIHwgbnVtYmVyKSB7XG4gICAgZGVsZXRlIHF1ZXJ5LnRhZ3Nba2V5XTtcblxuICAgIC8vIGZpcmUgb2ZmIHRoZSBxdWVyeVxuICAgIG9uQ2hhbmdlKHF1ZXJ5KTtcbiAgICBvblJ1blF1ZXJ5KCk7XG4gIH1cblxuICBmdW5jdGlvbiBlZGl0VGFnKGtleTogc3RyaW5nIHwgbnVtYmVyLCB2YWx1ZTogc3RyaW5nKSB7XG4gICAgcmVtb3ZlVGFnKGtleSk7XG4gICAgdXBkQ3VyVGFnS2V5KGtleSk7XG4gICAgdXBkQ3VyVGFnVmFsdWUodmFsdWUpO1xuICAgIGFkZFRhZygpO1xuICB9XG5cbiAgY29uc3QgdGFnVmFsdWVTZWFyY2ggPSBkZWJvdW5jZSgocXVlcnk6IHN0cmluZykgPT4gc3VnZ2VzdFRhZ1ZhbHVlcyhxdWVyeSksIDM1MCk7XG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT1cImdmLWZvcm0taW5saW5lXCIgZGF0YS10ZXN0aWQ9e3Rlc3RJZHMuc2VjdGlvbn0+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImdmLWZvcm1cIj5cbiAgICAgICAgPElubGluZUZvcm1MYWJlbFxuICAgICAgICAgIGNsYXNzTmFtZT1cInF1ZXJ5LWtleXdvcmRcIlxuICAgICAgICAgIHdpZHRoPXs4fVxuICAgICAgICAgIHRvb2x0aXA9e3RzZGJWZXJzaW9uID49IDIgPyA8ZGl2PlBsZWFzZSB1c2UgZmlsdGVycywgdGFncyBhcmUgZGVwcmVjYXRlZCBpbiBvcGVudHNkYiAyLjI8L2Rpdj4gOiB1bmRlZmluZWR9XG4gICAgICAgID5cbiAgICAgICAgICBUYWdzXG4gICAgICAgIDwvSW5saW5lRm9ybUxhYmVsPlxuICAgICAgICB7cXVlcnkudGFncyAmJlxuICAgICAgICAgIE9iamVjdC5rZXlzKHF1ZXJ5LnRhZ3MpLm1hcCgodGFnS2V5OiBzdHJpbmcgfCBudW1iZXIsIGlkeDogbnVtYmVyKSA9PiB7XG4gICAgICAgICAgICBjb25zdCB0YWdWYWx1ZSA9IHF1ZXJ5LnRhZ3NbdGFnS2V5XTtcbiAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgIDxJbmxpbmVGb3JtTGFiZWwga2V5PXtpZHh9IHdpZHRoPVwiYXV0b1wiIGRhdGEtdGVzdGlkPXt0ZXN0SWRzLmxpc3QgKyBpZHh9PlxuICAgICAgICAgICAgICAgIHt0YWdLZXl9PXt0YWdWYWx1ZX1cbiAgICAgICAgICAgICAgICA8YnV0dG9uIHR5cGU9XCJidXR0b25cIiBjbGFzc05hbWU9e2J1dHRvblN0eWxlc30gb25DbGljaz17KCkgPT4gZWRpdFRhZyh0YWdLZXksIHRhZ1ZhbHVlKX0+XG4gICAgICAgICAgICAgICAgICA8SWNvbiBuYW1lPXsncGVuJ30gLz5cbiAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAgICB0eXBlPVwiYnV0dG9uXCJcbiAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17YnV0dG9uU3R5bGVzfVxuICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gcmVtb3ZlVGFnKHRhZ0tleSl9XG4gICAgICAgICAgICAgICAgICBkYXRhLXRlc3RpZD17dGVzdElkcy5yZW1vdmV9XG4gICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgPEljb24gbmFtZT17J3RpbWVzJ30gLz5cbiAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgPC9JbmxpbmVGb3JtTGFiZWw+XG4gICAgICAgICAgICApO1xuICAgICAgICAgIH0pfVxuICAgICAgICB7IWFkZFRhZ01vZGUgJiYgKFxuICAgICAgICAgIDxidXR0b24gY2xhc3NOYW1lPVwiZ2YtZm9ybS1sYWJlbFwiIHR5cGU9XCJidXR0b25cIiBvbkNsaWNrPXtjaGFuZ2VBZGRUYWdNb2RlfSBhcmlhLWxhYmVsPVwiQWRkIHRhZ1wiPlxuICAgICAgICAgICAgPEljb24gbmFtZT17J3BsdXMnfSAvPlxuICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICApfVxuICAgICAgPC9kaXY+XG4gICAgICB7YWRkVGFnTW9kZSAmJiAoXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZ2YtZm9ybS1pbmxpbmVcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImdmLWZvcm1cIj5cbiAgICAgICAgICAgIDxTZWxlY3RcbiAgICAgICAgICAgICAgaW5wdXRJZD1cIm9wZW50c2RiLXN1Z2dlc3RlZC10YWdrLXNlbGVjdFwiXG4gICAgICAgICAgICAgIGNsYXNzTmFtZT1cImdmLWZvcm0taW5wdXRcIlxuICAgICAgICAgICAgICB2YWx1ZT17Y3VyVGFnS2V5ID8gdG9PcHRpb24oJycgKyBjdXJUYWdLZXkpIDogdW5kZWZpbmVkfVxuICAgICAgICAgICAgICBwbGFjZWhvbGRlcj1cImtleVwiXG4gICAgICAgICAgICAgIGFsbG93Q3VzdG9tVmFsdWVcbiAgICAgICAgICAgICAgb25PcGVuTWVudT17YXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgICAgIHVwZEtleUlzTG9hZGluZyh0cnVlKTtcbiAgICAgICAgICAgICAgICBjb25zdCB0S3MgPSBhd2FpdCBzdWdnZXN0VGFnS2V5cyhxdWVyeSk7XG4gICAgICAgICAgICAgICAgY29uc3QgdEtzT3B0aW9ucyA9IHRLcy5tYXAoKHZhbHVlOiBzdHJpbmcpID0+IHRvT3B0aW9uKHZhbHVlKSk7XG4gICAgICAgICAgICAgICAgdXBkVGFnS2V5cyh0S3NPcHRpb25zKTtcbiAgICAgICAgICAgICAgICB1cGRLZXlJc0xvYWRpbmcoZmFsc2UpO1xuICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICBpc0xvYWRpbmc9e2tleUlzTG9hZGluZ31cbiAgICAgICAgICAgICAgb3B0aW9ucz17dGFnS2V5c31cbiAgICAgICAgICAgICAgb25DaGFuZ2U9eyh7IHZhbHVlIH0pID0+IHtcbiAgICAgICAgICAgICAgICBpZiAodmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgIHVwZEN1clRhZ0tleSh2YWx1ZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgLz5cbiAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZ2YtZm9ybVwiPlxuICAgICAgICAgICAgPEFzeW5jU2VsZWN0XG4gICAgICAgICAgICAgIGlucHV0SWQ9XCJvcGVudHNkYi1zdWdnZXN0ZWQtdGFndi1zZWxlY3RcIlxuICAgICAgICAgICAgICBjbGFzc05hbWU9XCJnZi1mb3JtLWlucHV0XCJcbiAgICAgICAgICAgICAgdmFsdWU9e2N1clRhZ1ZhbHVlID8gdG9PcHRpb24oY3VyVGFnVmFsdWUpIDogdW5kZWZpbmVkfVxuICAgICAgICAgICAgICBwbGFjZWhvbGRlcj1cInZhbHVlXCJcbiAgICAgICAgICAgICAgYWxsb3dDdXN0b21WYWx1ZVxuICAgICAgICAgICAgICBsb2FkT3B0aW9ucz17dGFnVmFsdWVTZWFyY2h9XG4gICAgICAgICAgICAgIGRlZmF1bHRPcHRpb25zPXtbXX1cbiAgICAgICAgICAgICAgb25DaGFuZ2U9eyh7IHZhbHVlIH0pID0+IHtcbiAgICAgICAgICAgICAgICBpZiAodmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgIHVwZEN1clRhZ1ZhbHVlKHZhbHVlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAvPlxuICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJnZi1mb3JtXCI+XG4gICAgICAgICAgICB7ZXJyb3JzICYmIChcbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJnZi1mb3JtLWxhYmVsXCIgdGl0bGU9e2Vycm9yc30gZGF0YS10ZXN0aWQ9e3Rlc3RJZHMuZXJyb3J9PlxuICAgICAgICAgICAgICAgIDxJY29uIG5hbWU9eydleGNsYW1hdGlvbi10cmlhbmdsZSd9IGNvbG9yPXsncmdiKDIyOSwgMTg5LCAyOCknfSAvPlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICl9XG5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZ2YtZm9ybS1sYWJlbFwiPlxuICAgICAgICAgICAgICA8YnV0dG9uIHR5cGU9XCJidXR0b25cIiBjbGFzc05hbWU9e2J1dHRvblN0eWxlc30gb25DbGljaz17YWRkVGFnfT5cbiAgICAgICAgICAgICAgICBhZGQgdGFnXG4gICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICA8YnV0dG9uIHR5cGU9XCJidXR0b25cIiBjbGFzc05hbWU9e2J1dHRvblN0eWxlc30gb25DbGljaz17Y2hhbmdlQWRkVGFnTW9kZX0+XG4gICAgICAgICAgICAgICAgPEljb24gbmFtZT17J3RpbWVzJ30gLz5cbiAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICApfVxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJnZi1mb3JtIGdmLWZvcm0tLWdyb3dcIj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJnZi1mb3JtLWxhYmVsIGdmLWZvcm0tbGFiZWwtLWdyb3dcIj48L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgIDwvZGl2PlxuICApO1xufVxuXG5leHBvcnQgY29uc3QgdGVzdElkcyA9IHtcbiAgc2VjdGlvbjogJ29wZW50c2RiLXRhZycsXG4gIGxpc3Q6ICdvcGVudHNkYi10YWctbGlzdCcsXG4gIGVycm9yOiAnb3BlbnRzZGItdGFnLWVycm9yJyxcbiAgcmVtb3ZlOiAnb3BlbnRzZGItdGFnLXJlbW92ZScsXG59O1xuIl0sIm5hbWVzIjpbInF1ZXJ5Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./public/app/plugins/datasource/opentsdb/components/TagSection.tsx\n");

/***/ }),

/***/ "./public/app/plugins/datasource/opentsdb/components/styles.ts":
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   paddingRightClass: () => (/* binding */ paddingRightClass)\n/* harmony export */ });\n/* harmony import */ var _emotion_css__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"./.yarn/cache/@emotion-css-npm-11.11.2-dbfa42cf83-1edea109df.zip/node_modules/@emotion/css/dist/emotion-css.esm.js\");\n\n\nconst paddingRightClass = (0,_emotion_css__WEBPACK_IMPORTED_MODULE_0__.css)({\n  paddingRight: \"4px\"\n});\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9wdWJsaWMvYXBwL3BsdWdpbnMvZGF0YXNvdXJjZS9vcGVudHNkYi9jb21wb25lbnRzL3N0eWxlcy50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBb0I7QUFFYixNQUFNLG9CQUFvQixpREFBRyxDQUFDO0FBQUEsRUFDbkMsY0FBYztBQUNoQixDQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZ3JhZmFuYS8uL3B1YmxpYy9hcHAvcGx1Z2lucy9kYXRhc291cmNlL29wZW50c2RiL2NvbXBvbmVudHMvc3R5bGVzLnRzP2NlZGEiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgY3NzIH0gZnJvbSAnQGVtb3Rpb24vY3NzJztcblxuZXhwb3J0IGNvbnN0IHBhZGRpbmdSaWdodENsYXNzID0gY3NzKHtcbiAgcGFkZGluZ1JpZ2h0OiAnNHB4Jyxcbn0pO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./public/app/plugins/datasource/opentsdb/components/styles.ts\n");

/***/ }),

/***/ "./public/app/plugins/datasource/opentsdb/datasource.ts":
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ OpenTsDatasource)\n/* harmony export */ });\n/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"./.yarn/cache/lodash-npm-4.17.21-6382451519-eb835a2e51.zip/node_modules/lodash/lodash.js\");\n/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(\"./.yarn/cache/rxjs-npm-7.8.0-722f1c7172-61b4d4fd32.zip/node_modules/rxjs/dist/esm5/internal/Observable.js\");\n/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(\"./.yarn/cache/rxjs-npm-7.8.0-722f1c7172-61b4d4fd32.zip/node_modules/rxjs/dist/esm5/internal/observable/merge.js\");\n/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(\"./.yarn/cache/rxjs-npm-7.8.0-722f1c7172-61b4d4fd32.zip/node_modules/rxjs/dist/esm5/internal/observable/of.js\");\n/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(\"./.yarn/cache/rxjs-npm-7.8.0-722f1c7172-61b4d4fd32.zip/node_modules/rxjs/dist/esm5/internal/lastValueFrom.js\");\n/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(\"./.yarn/cache/rxjs-npm-7.8.0-722f1c7172-61b4d4fd32.zip/node_modules/rxjs/dist/esm5/internal/operators/catchError.js\");\n/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(\"./.yarn/cache/rxjs-npm-7.8.0-722f1c7172-61b4d4fd32.zip/node_modules/rxjs/dist/esm5/internal/operators/map.js\");\n/* harmony import */ var _grafana_data__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(\"./.yarn/__virtual__/@grafana-data-virtual-0996183232/1/packages/grafana-data/src/types/datasource.ts\");\n/* harmony import */ var _grafana_data__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(\"./.yarn/__virtual__/@grafana-data-virtual-0996183232/1/packages/grafana-data/src/dataframe/processDataFrame.ts\");\n/* harmony import */ var _grafana_data__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(\"./.yarn/__virtual__/@grafana-data-virtual-0996183232/1/packages/grafana-data/src/datetime/datemath.ts\");\n/* harmony import */ var _grafana_runtime__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(\"./.yarn/__virtual__/@grafana-runtime-virtual-68c57d4c0c/1/packages/grafana-runtime/src/services/backendSrv.ts\");\n/* harmony import */ var app_features_templating_template_srv__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(\"./public/app/features/templating/template_srv.ts\");\n/* harmony import */ var _components_AnnotationEditor__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(\"./public/app/plugins/datasource/opentsdb/components/AnnotationEditor.tsx\");\n/* harmony import */ var _migrations__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(\"./public/app/plugins/datasource/opentsdb/migrations.ts\");\n\n\n\n\n\n\n\n\n\nclass OpenTsDatasource extends _grafana_data__WEBPACK_IMPORTED_MODULE_4__.DataSourceApi {\n  constructor(instanceSettings, templateSrv = (0,app_features_templating_template_srv__WEBPACK_IMPORTED_MODULE_1__.getTemplateSrv)()) {\n    super(instanceSettings);\n    this.templateSrv = templateSrv;\n    this.type = \"opentsdb\";\n    this.url = instanceSettings.url;\n    this.name = instanceSettings.name;\n    this.withCredentials = instanceSettings.withCredentials;\n    this.basicAuth = instanceSettings.basicAuth;\n    instanceSettings.jsonData = instanceSettings.jsonData || {};\n    this.tsdbVersion = instanceSettings.jsonData.tsdbVersion || 1;\n    this.tsdbResolution = instanceSettings.jsonData.tsdbResolution || 1;\n    this.lookupLimit = instanceSettings.jsonData.lookupLimit || 1e3;\n    this.tagKeys = {};\n    this.aggregatorsPromise = null;\n    this.filterTypesPromise = null;\n    this.annotations = {\n      QueryEditor: _components_AnnotationEditor__WEBPACK_IMPORTED_MODULE_2__.AnnotationEditor,\n      prepareAnnotation: _migrations__WEBPACK_IMPORTED_MODULE_3__.prepareAnnotation\n    };\n  }\n  // Called once per panel (graph)\n  query(options) {\n    if (options.targets.some((target) => target.fromAnnotations)) {\n      const streams = [];\n      for (const annotation of options.targets) {\n        if (annotation.target) {\n          streams.push(\n            new rxjs__WEBPACK_IMPORTED_MODULE_5__.Observable((subscriber) => {\n              this.annotationEvent(options, annotation).then((events) => subscriber.next({ data: [(0,_grafana_data__WEBPACK_IMPORTED_MODULE_6__.toDataFrame)(events)] })).catch((ex) => {\n                return subscriber.next({ data: [(0,_grafana_data__WEBPACK_IMPORTED_MODULE_6__.toDataFrame)([])] });\n              }).finally(() => subscriber.complete());\n            })\n          );\n        }\n      }\n      return (0,rxjs__WEBPACK_IMPORTED_MODULE_7__.merge)(...streams);\n    }\n    const start = this.convertToTSDBTime(options.range.raw.from, false, options.timezone);\n    const end = this.convertToTSDBTime(options.range.raw.to, true, options.timezone);\n    const qs = [];\n    (0,lodash__WEBPACK_IMPORTED_MODULE_0__.each)(options.targets, (target) => {\n      if (!target.metric) {\n        return;\n      }\n      qs.push(this.convertTargetToQuery(target, options, this.tsdbVersion));\n    });\n    const queries = (0,lodash__WEBPACK_IMPORTED_MODULE_0__.compact)(qs);\n    if ((0,lodash__WEBPACK_IMPORTED_MODULE_0__.isEmpty)(queries)) {\n      return (0,rxjs__WEBPACK_IMPORTED_MODULE_8__.of)({ data: [] });\n    }\n    const groupByTags = {};\n    (0,lodash__WEBPACK_IMPORTED_MODULE_0__.each)(queries, (query) => {\n      if (query.filters && query.filters.length > 0) {\n        (0,lodash__WEBPACK_IMPORTED_MODULE_0__.each)(query.filters, (val) => {\n          groupByTags[val.tagk] = true;\n        });\n      } else {\n        (0,lodash__WEBPACK_IMPORTED_MODULE_0__.each)(query.tags, (val, key) => {\n          groupByTags[key] = true;\n        });\n      }\n    });\n    options.targets = (0,lodash__WEBPACK_IMPORTED_MODULE_0__.filter)(options.targets, (query) => {\n      return query.hide !== true;\n    });\n    return this.performTimeSeriesQuery(queries, start, end).pipe(\n      (0,rxjs_operators__WEBPACK_IMPORTED_MODULE_9__.catchError)((err) => {\n        throw err?.data?.error?.message || \"Error performing time series query.\";\n      }),\n      (0,rxjs_operators__WEBPACK_IMPORTED_MODULE_10__.map)((response) => {\n        const metricToTargetMapping = this.mapMetricsToTargets(response.data, options, this.tsdbVersion);\n        const result = (0,lodash__WEBPACK_IMPORTED_MODULE_0__.map)(response.data, (metricData, index) => {\n          index = metricToTargetMapping[index];\n          if (index === -1) {\n            index = 0;\n          }\n          this._saveTagKeys(metricData);\n          return this.transformMetricData(\n            metricData,\n            groupByTags,\n            options.targets[index],\n            options,\n            this.tsdbResolution\n          );\n        });\n        return { data: result };\n      })\n    );\n  }\n  annotationEvent(options, annotation) {\n    const start = this.convertToTSDBTime(options.range.raw.from, false, options.timezone);\n    const end = this.convertToTSDBTime(options.range.raw.to, true, options.timezone);\n    const qs = [];\n    const eventList = [];\n    qs.push({ aggregator: \"sum\", metric: annotation.target });\n    const queries = (0,lodash__WEBPACK_IMPORTED_MODULE_0__.compact)(qs);\n    return (0,rxjs__WEBPACK_IMPORTED_MODULE_11__.lastValueFrom)(\n      this.performTimeSeriesQuery(queries, start, end).pipe(\n        (0,rxjs_operators__WEBPACK_IMPORTED_MODULE_10__.map)((results) => {\n          if (results.data[0]) {\n            let annotationObject = results.data[0].annotations;\n            if (annotation.isGlobal) {\n              annotationObject = results.data[0].globalAnnotations;\n            }\n            if (annotationObject) {\n              (0,lodash__WEBPACK_IMPORTED_MODULE_0__.each)(annotationObject, (ann) => {\n                const event = {\n                  text: ann.description,\n                  time: Math.floor(ann.startTime) * 1e3,\n                  annotation\n                };\n                eventList.push(event);\n              });\n            }\n          }\n          return eventList;\n        })\n      )\n    );\n  }\n  targetContainsTemplate(target) {\n    if (target.filters && target.filters.length > 0) {\n      for (let i = 0; i < target.filters.length; i++) {\n        if (this.templateSrv.containsTemplate(target.filters[i].filter)) {\n          return true;\n        }\n      }\n    }\n    if (target.tags && Object.keys(target.tags).length > 0) {\n      for (const tagKey in target.tags) {\n        if (this.templateSrv.containsTemplate(target.tags[tagKey])) {\n          return true;\n        }\n      }\n    }\n    return false;\n  }\n  performTimeSeriesQuery(queries, start, end) {\n    let msResolution = false;\n    if (this.tsdbResolution === 2) {\n      msResolution = true;\n    }\n    const reqBody = {\n      start,\n      queries,\n      msResolution,\n      globalAnnotations: true\n    };\n    if (this.tsdbVersion === 3) {\n      reqBody.showQuery = true;\n    }\n    if (end) {\n      reqBody.end = end;\n    }\n    const options = {\n      method: \"POST\",\n      url: this.url + \"/api/query\",\n      data: reqBody\n    };\n    this._addCredentialOptions(options);\n    return (0,_grafana_runtime__WEBPACK_IMPORTED_MODULE_12__.getBackendSrv)().fetch(options);\n  }\n  suggestTagKeys(query) {\n    const metric = query.metric ?? \"\";\n    return Promise.resolve(this.tagKeys[metric] || []);\n  }\n  _saveTagKeys(metricData) {\n    const tagKeys = Object.keys(metricData.tags);\n    (0,lodash__WEBPACK_IMPORTED_MODULE_0__.each)(metricData.aggregateTags, (tag) => {\n      tagKeys.push(tag);\n    });\n    this.tagKeys[metricData.metric] = tagKeys;\n  }\n  _performSuggestQuery(query, type) {\n    return this._get(\"/api/suggest\", { type, q: query, max: this.lookupLimit }).pipe(\n      (0,rxjs_operators__WEBPACK_IMPORTED_MODULE_10__.map)((result) => {\n        return result.data;\n      })\n    );\n  }\n  _performMetricKeyValueLookup(metric, keys) {\n    if (!metric || !keys) {\n      return (0,rxjs__WEBPACK_IMPORTED_MODULE_8__.of)([]);\n    }\n    const keysArray = keys.split(\",\").map((key2) => {\n      return key2.trim();\n    });\n    const key = keysArray[0];\n    let keysQuery = key + \"=*\";\n    if (keysArray.length > 1) {\n      keysQuery += \",\" + keysArray.splice(1).join(\",\");\n    }\n    const m = metric + \"{\" + keysQuery + \"}\";\n    return this._get(\"/api/search/lookup\", { m, limit: this.lookupLimit }).pipe(\n      (0,rxjs_operators__WEBPACK_IMPORTED_MODULE_10__.map)((result) => {\n        result = result.data.results;\n        const tagvs = [];\n        (0,lodash__WEBPACK_IMPORTED_MODULE_0__.each)(result, (r) => {\n          if (tagvs.indexOf(r.tags[key]) === -1) {\n            tagvs.push(r.tags[key]);\n          }\n        });\n        return tagvs;\n      })\n    );\n  }\n  _performMetricKeyLookup(metric) {\n    if (!metric) {\n      return (0,rxjs__WEBPACK_IMPORTED_MODULE_8__.of)([]);\n    }\n    return this._get(\"/api/search/lookup\", { m: metric, limit: 1e3 }).pipe(\n      (0,rxjs_operators__WEBPACK_IMPORTED_MODULE_10__.map)((result) => {\n        result = result.data.results;\n        const tagks = [];\n        (0,lodash__WEBPACK_IMPORTED_MODULE_0__.each)(result, (r) => {\n          (0,lodash__WEBPACK_IMPORTED_MODULE_0__.each)(r.tags, (tagv, tagk) => {\n            if (tagks.indexOf(tagk) === -1) {\n              tagks.push(tagk);\n            }\n          });\n        });\n        return tagks;\n      })\n    );\n  }\n  _get(relativeUrl, params) {\n    const options = {\n      method: \"GET\",\n      url: this.url + relativeUrl,\n      params\n    };\n    this._addCredentialOptions(options);\n    return (0,_grafana_runtime__WEBPACK_IMPORTED_MODULE_12__.getBackendSrv)().fetch(options);\n  }\n  _addCredentialOptions(options) {\n    if (this.basicAuth || this.withCredentials) {\n      options.withCredentials = true;\n    }\n    if (this.basicAuth) {\n      options.headers = { Authorization: this.basicAuth };\n    }\n  }\n  metricFindQuery(query) {\n    if (!query) {\n      return Promise.resolve([]);\n    }\n    let interpolated;\n    try {\n      interpolated = this.templateSrv.replace(query, {}, \"distributed\");\n    } catch (err) {\n      return Promise.reject(err);\n    }\n    const responseTransform = (result) => {\n      return (0,lodash__WEBPACK_IMPORTED_MODULE_0__.map)(result, (value) => {\n        return { text: value };\n      });\n    };\n    const metricsRegex = /metrics\\((.*)\\)/;\n    const tagNamesRegex = /tag_names\\((.*)\\)/;\n    const tagValuesRegex = /tag_values\\((.*?),\\s?(.*)\\)/;\n    const tagNamesSuggestRegex = /suggest_tagk\\((.*)\\)/;\n    const tagValuesSuggestRegex = /suggest_tagv\\((.*)\\)/;\n    const metricsQuery = interpolated.match(metricsRegex);\n    if (metricsQuery) {\n      return (0,rxjs__WEBPACK_IMPORTED_MODULE_11__.lastValueFrom)(this._performSuggestQuery(metricsQuery[1], \"metrics\").pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_10__.map)(responseTransform)));\n    }\n    const tagNamesQuery = interpolated.match(tagNamesRegex);\n    if (tagNamesQuery) {\n      return (0,rxjs__WEBPACK_IMPORTED_MODULE_11__.lastValueFrom)(this._performMetricKeyLookup(tagNamesQuery[1]).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_10__.map)(responseTransform)));\n    }\n    const tagValuesQuery = interpolated.match(tagValuesRegex);\n    if (tagValuesQuery) {\n      return (0,rxjs__WEBPACK_IMPORTED_MODULE_11__.lastValueFrom)(\n        this._performMetricKeyValueLookup(tagValuesQuery[1], tagValuesQuery[2]).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_10__.map)(responseTransform))\n      );\n    }\n    const tagNamesSuggestQuery = interpolated.match(tagNamesSuggestRegex);\n    if (tagNamesSuggestQuery) {\n      return (0,rxjs__WEBPACK_IMPORTED_MODULE_11__.lastValueFrom)(this._performSuggestQuery(tagNamesSuggestQuery[1], \"tagk\").pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_10__.map)(responseTransform)));\n    }\n    const tagValuesSuggestQuery = interpolated.match(tagValuesSuggestRegex);\n    if (tagValuesSuggestQuery) {\n      return (0,rxjs__WEBPACK_IMPORTED_MODULE_11__.lastValueFrom)(this._performSuggestQuery(tagValuesSuggestQuery[1], \"tagv\").pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_10__.map)(responseTransform)));\n    }\n    return Promise.resolve([]);\n  }\n  testDatasource() {\n    return (0,rxjs__WEBPACK_IMPORTED_MODULE_11__.lastValueFrom)(\n      this._performSuggestQuery(\"cpu\", \"metrics\").pipe(\n        (0,rxjs_operators__WEBPACK_IMPORTED_MODULE_10__.map)(() => {\n          return { status: \"success\", message: \"Data source is working\" };\n        })\n      )\n    );\n  }\n  getAggregators() {\n    if (this.aggregatorsPromise) {\n      return this.aggregatorsPromise;\n    }\n    this.aggregatorsPromise = (0,rxjs__WEBPACK_IMPORTED_MODULE_11__.lastValueFrom)(\n      this._get(\"/api/aggregators\").pipe(\n        (0,rxjs_operators__WEBPACK_IMPORTED_MODULE_10__.map)((result) => {\n          if (result.data && (0,lodash__WEBPACK_IMPORTED_MODULE_0__.isArray)(result.data)) {\n            return result.data.sort();\n          }\n          return [];\n        })\n      )\n    );\n    return this.aggregatorsPromise;\n  }\n  getFilterTypes() {\n    if (this.filterTypesPromise) {\n      return this.filterTypesPromise;\n    }\n    this.filterTypesPromise = (0,rxjs__WEBPACK_IMPORTED_MODULE_11__.lastValueFrom)(\n      this._get(\"/api/config/filters\").pipe(\n        (0,rxjs_operators__WEBPACK_IMPORTED_MODULE_10__.map)((result) => {\n          if (result.data) {\n            return Object.keys(result.data).sort();\n          }\n          return [];\n        })\n      )\n    );\n    return this.filterTypesPromise;\n  }\n  transformMetricData(md, groupByTags, target, options, tsdbResolution) {\n    const metricLabel = this.createMetricLabel(md, target, groupByTags, options);\n    const dps = [];\n    (0,lodash__WEBPACK_IMPORTED_MODULE_0__.each)(md.dps, (v, k) => {\n      if (tsdbResolution === 2) {\n        dps.push([v, k * 1]);\n      } else {\n        dps.push([v, k * 1e3]);\n      }\n    });\n    return { target: metricLabel, datapoints: dps };\n  }\n  createMetricLabel(md, target, groupByTags, options) {\n    if (target.alias) {\n      const scopedVars = (0,lodash__WEBPACK_IMPORTED_MODULE_0__.clone)(options.scopedVars || {});\n      (0,lodash__WEBPACK_IMPORTED_MODULE_0__.each)(md.tags, (value, key) => {\n        scopedVars[\"tag_\" + key] = { value };\n      });\n      return this.templateSrv.replace(target.alias, scopedVars);\n    }\n    let label = md.metric;\n    const tagData = [];\n    if (!(0,lodash__WEBPACK_IMPORTED_MODULE_0__.isEmpty)(md.tags)) {\n      (0,lodash__WEBPACK_IMPORTED_MODULE_0__.each)((0,lodash__WEBPACK_IMPORTED_MODULE_0__.toPairs)(md.tags), (tag) => {\n        if ((0,lodash__WEBPACK_IMPORTED_MODULE_0__.has)(groupByTags, tag[0])) {\n          tagData.push(tag[0] + \"=\" + tag[1]);\n        }\n      });\n    }\n    if (!(0,lodash__WEBPACK_IMPORTED_MODULE_0__.isEmpty)(tagData)) {\n      label += \"{\" + tagData.join(\", \") + \"}\";\n    }\n    return label;\n  }\n  convertTargetToQuery(target, options, tsdbVersion) {\n    if (!target.metric || target.hide) {\n      return null;\n    }\n    const query = {\n      metric: this.templateSrv.replace(target.metric, options.scopedVars, \"pipe\"),\n      aggregator: \"avg\"\n    };\n    if (target.aggregator) {\n      query.aggregator = this.templateSrv.replace(target.aggregator);\n    }\n    if (target.shouldComputeRate) {\n      query.rate = true;\n      query.rateOptions = {\n        counter: !!target.isCounter\n      };\n      if (target.counterMax && target.counterMax.length) {\n        query.rateOptions.counterMax = parseInt(target.counterMax, 10);\n      }\n      if (target.counterResetValue && target.counterResetValue.length) {\n        query.rateOptions.resetValue = parseInt(target.counterResetValue, 10);\n      }\n      if (tsdbVersion >= 2) {\n        query.rateOptions.dropResets = !query.rateOptions.counterMax && (!query.rateOptions.ResetValue || query.rateOptions.ResetValue === 0);\n      }\n    }\n    if (!target.disableDownsampling) {\n      let interval = this.templateSrv.replace(target.downsampleInterval || options.interval);\n      if (interval.match(/\\.[0-9]+s/)) {\n        interval = parseFloat(interval) * 1e3 + \"ms\";\n      }\n      query.downsample = interval + \"-\" + target.downsampleAggregator;\n      if (target.downsampleFillPolicy && target.downsampleFillPolicy !== \"none\") {\n        query.downsample += \"-\" + target.downsampleFillPolicy;\n      }\n    }\n    if (target.filters && target.filters.length > 0) {\n      query.filters = (0,lodash__WEBPACK_IMPORTED_MODULE_0__.cloneDeep)(target.filters);\n      if (query.filters) {\n        this.interpolateVariablesInFilters(query, options);\n      }\n    } else {\n      query.tags = (0,lodash__WEBPACK_IMPORTED_MODULE_0__.cloneDeep)(target.tags);\n      if (query.tags) {\n        for (const tagKey in query.tags) {\n          query.tags[tagKey] = this.templateSrv.replace(query.tags[tagKey], options.scopedVars, \"pipe\");\n        }\n      }\n    }\n    if (target.explicitTags) {\n      query.explicitTags = true;\n    }\n    return query;\n  }\n  interpolateVariablesInFilters(query, options) {\n    query.filters = query.filters?.map((filter2) => {\n      filter2.tagk = this.templateSrv.replace(filter2.tagk, options.scopedVars, \"pipe\");\n      filter2.filter = this.templateSrv.replace(filter2.filter, options.scopedVars, \"pipe\");\n      return filter2;\n    });\n  }\n  mapMetricsToTargets(metrics, options, tsdbVersion) {\n    let interpolatedTagValue, arrTagV;\n    return (0,lodash__WEBPACK_IMPORTED_MODULE_0__.map)(metrics, (metricData) => {\n      if (tsdbVersion === 3) {\n        return metricData.query.index;\n      } else {\n        return (0,lodash__WEBPACK_IMPORTED_MODULE_0__.findIndex)(options.targets, (target) => {\n          if (target.filters && target.filters.length > 0) {\n            return target.metric === metricData.metric;\n          } else {\n            return target.metric === metricData.metric && (0,lodash__WEBPACK_IMPORTED_MODULE_0__.every)(target.tags, (tagV, tagK) => {\n              interpolatedTagValue = this.templateSrv.replace(tagV, options.scopedVars, \"pipe\");\n              arrTagV = interpolatedTagValue.split(\"|\");\n              return (0,lodash__WEBPACK_IMPORTED_MODULE_0__.includes)(arrTagV, metricData.tags[tagK]) || interpolatedTagValue === \"*\";\n            });\n          }\n        });\n      }\n    });\n  }\n  interpolateVariablesInQueries(queries, scopedVars) {\n    if (!queries.length) {\n      return queries;\n    }\n    return queries.map((query) => ({\n      ...query,\n      metric: this.templateSrv.replace(query.metric, scopedVars)\n    }));\n  }\n  convertToTSDBTime(date, roundUp, timezone) {\n    if (date === \"now\") {\n      return null;\n    }\n    date = _grafana_data__WEBPACK_IMPORTED_MODULE_13__.parse(date, roundUp, timezone);\n    return date.valueOf();\n  }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9wdWJsaWMvYXBwL3BsdWdpbnMvZGF0YXNvdXJjZS9vcGVudHNkYi9kYXRhc291cmNlLnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBY087QUFDOEM7QUFDckI7QUFVekI7QUFDc0M7QUFDRDtBQUVYO0FBQ0M7QUFHbkIsTUFBTSx5QkFBeUIsd0RBQWEsQ0FBaUM7QUFBQSxFQWMxRixZQUNFLGtCQUNpQixjQUEyQixvRkFBYyxDQUFDLEdBQzNEO0FBQ0EsVUFBTSxnQkFBZ0I7QUFGTDtBQUdqQixTQUFLLE9BQU87QUFDWixTQUFLLE1BQU0saUJBQWlCO0FBQzVCLFNBQUssT0FBTyxpQkFBaUI7QUFDN0IsU0FBSyxrQkFBa0IsaUJBQWlCO0FBQ3hDLFNBQUssWUFBWSxpQkFBaUI7QUFDbEMscUJBQWlCLFdBQVcsaUJBQWlCLFlBQVksQ0FBQztBQUMxRCxTQUFLLGNBQWMsaUJBQWlCLFNBQVMsZUFBZTtBQUM1RCxTQUFLLGlCQUFpQixpQkFBaUIsU0FBUyxrQkFBa0I7QUFDbEUsU0FBSyxjQUFjLGlCQUFpQixTQUFTLGVBQWU7QUFDNUQsU0FBSyxVQUFVLENBQUM7QUFFaEIsU0FBSyxxQkFBcUI7QUFDMUIsU0FBSyxxQkFBcUI7QUFDMUIsU0FBSyxjQUFjO0FBQUEsTUFDakIsYUFBYSwwRUFBZ0I7QUFBaEIsTUFDYixpQkFBaUI7QUFBakIsSUFDRjtBQUFBLEVBQ0Y7QUFBQTtBQUFBLEVBR0EsTUFBTSxTQUF5RTtBQUU3RSxRQUFJLFFBQVEsUUFBUSxLQUFLLENBQUMsV0FBMEIsT0FBTyxlQUFlLEdBQUc7QUFDM0UsWUFBTSxVQUFnRCxDQUFDO0FBRXZELGlCQUFXLGNBQWMsUUFBUSxTQUFTO0FBQ3hDLFlBQUksV0FBVyxRQUFRO0FBQ3JCLGtCQUFRO0FBQUEsWUFDTixJQUFJLDRDQUFVLENBQUMsQ0FBQyxlQUFlO0FBQzdCLG1CQUFLLGdCQUFnQixTQUFTLFVBQVUsRUFDckMsS0FBSyxDQUFDLFdBQVcsV0FBVyxLQUFLLEVBQUUsTUFBTSxD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U0FBUyxHQUFHO0FBQy9DLG1CQUFPLE9BQU8sV0FBVyxXQUFXO0FBQUEsVUFDdEMsT0FBTztBQUNMLG1CQUNFLE9BQU8sV0FBVyxXQUFXLFVBQzdCLDZDQUFLLENBQUMsT0FBTyxNQUFNLENBQUMsTUFBTSxTQUFTO0FBQ2pDLHFDQUF1QixLQUFLLFlBQVksUUFBUSxNQUFNLFFBQVEsWUFBWSxNQUFNO0FBQ2hGLHdCQUFVLHFCQUFxQixNQUFNLEdBQUc7QUFDeEMscUJBQU8sZ0RBQVEsQ0FBQyxTQUFTLFdBQVcsS0FBSyxJQUFJLENBQUMsS0FBSyx5QkFBeUI7QUFBQSxZQUM5RSxDQUFDO0FBQUEsVUFFTDtBQUFBLFFBQ0YsQ0FBQztBQUFBLE1BQ0g7QUFBQSxJQUNGLENBQUM7QUFBQSxFQUNIO0FBQUEsRUFFQSw4QkFBOEIsU0FBMEIsWUFBeUM7QUFDL0YsUUFBSSxDQUFDLFFBQVEsUUFBUTtBQUNuQixhQUFPO0FBQUEsSUFDVDtBQUVBLFdBQU8sUUFBUSxJQUFJLENBQUMsV0FBVztBQUFBLE1BQzdCLEdBQUc7QUFBQSxNQUNILFFBQVEsS0FBSyxZQUFZLFFBQVEsTUFBTSxRQUFRLFVBQVU7QUFBQSxJQUMzRCxFQUFFO0FBQUEsRUFDSjtBQUFBLEVBRUEsa0JBQWtCLE1BQVcsU0FBYyxVQUFlO0FBQ3hELFFBQUksU0FBUyxPQUFPO0FBQ2xCLGFBQU87QUFBQSxJQUNUO0FBRUEsV0FBTyxpREFBYyxDQUFDLE1BQU0sU0FBUyxRQUFRO0FBQzdDLFdBQU8sS0FBSyxRQUFRO0FBQUEsRUFDdEI7QUFDRiIsInNvdXJjZXMiOlsid2VicGFjazovL2dyYWZhbmEvLi9wdWJsaWMvYXBwL3BsdWdpbnMvZGF0YXNvdXJjZS9vcGVudHNkYi9kYXRhc291cmNlLnRzPzIwZTUiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtcbiAgY2xvbmUsXG4gIGNsb25lRGVlcCxcbiAgY29tcGFjdCxcbiAgZWFjaCxcbiAgZXZlcnksXG4gIGZpbHRlcixcbiAgZmluZEluZGV4LFxuICBoYXMsXG4gIGluY2x1ZGVzLFxuICBpc0FycmF5LFxuICBpc0VtcHR5LFxuICBtYXAgYXMgX21hcCxcbiAgdG9QYWlycyxcbn0gZnJvbSAnbG9kYXNoJztcbmltcG9ydCB7IGxhc3RWYWx1ZUZyb20sIG1lcmdlLCBPYnNlcnZhYmxlLCBvZiB9IGZyb20gJ3J4anMnO1xuaW1wb3J0IHsgY2F0Y2hFcnJvciwgbWFwIH0gZnJvbSAncnhqcy9vcGVyYXRvcnMnO1xuXG5pbXBvcnQge1xuICBBbm5vdGF0aW9uRXZlbnQsXG4gIERhdGFRdWVyeVJlcXVlc3QsXG4gIERhdGFRdWVyeVJlc3BvbnNlLFxuICBEYXRhU291cmNlQXBpLFxuICBkYXRlTWF0aCxcbiAgU2NvcGVkVmFycyxcbiAgdG9EYXRhRnJhbWUsXG59IGZyb20gJ0BncmFmYW5hL2RhdGEnO1xuaW1wb3J0IHsgRmV0Y2hSZXNwb25zZSwgZ2V0QmFja2VuZFNydiB9IGZyb20gJ0BncmFmYW5hL3J1bnRpbWUnO1xuaW1wb3J0IHsgZ2V0VGVtcGxhdGVTcnYsIFRlbXBsYXRlU3J2IH0gZnJvbSAnYXBwL2ZlYXR1cmVzL3RlbXBsYXRpbmcvdGVtcGxhdGVfc3J2JztcblxuaW1wb3J0IHsgQW5ub3RhdGlvbkVkaXRvciB9IGZyb20gJy4vY29tcG9uZW50cy9Bbm5vdGF0aW9uRWRpdG9yJztcbmltcG9ydCB7IHByZXBhcmVBbm5vdGF0aW9uIH0gZnJvbSAnLi9taWdyYXRpb25zJztcbmltcG9ydCB7IE9wZW5Uc2RiRmlsdGVyLCBPcGVuVHNkYk9wdGlvbnMsIE9wZW5Uc2RiUXVlcnkgfSBmcm9tICcuL3R5cGVzJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgT3BlblRzRGF0YXNvdXJjZSBleHRlbmRzIERhdGFTb3VyY2VBcGk8T3BlblRzZGJRdWVyeSwgT3BlblRzZGJPcHRpb25zPiB7XG4gIHR5cGU6IGFueTtcbiAgdXJsOiBhbnk7XG4gIG5hbWU6IGFueTtcbiAgd2l0aENyZWRlbnRpYWxzOiBhbnk7XG4gIGJhc2ljQXV0aDogYW55O1xuICB0c2RiVmVyc2lvbjogYW55O1xuICB0c2RiUmVzb2x1dGlvbjogYW55O1xuICBsb29rdXBMaW1pdDogYW55O1xuICB0YWdLZXlzOiBhbnk7XG5cbiAgYWdncmVnYXRvcnNQcm9taXNlOiBhbnk7XG4gIGZpbHRlclR5cGVzUHJvbWlzZTogYW55O1xuXG4gIGNvbnN0cnVjdG9yKFxuICAgIGluc3RhbmNlU2V0dGluZ3M6IGFueSxcbiAgICBwcml2YXRlIHJlYWRvbmx5IHRlbXBsYXRlU3J2OiBUZW1wbGF0ZVNydiA9IGdldFRlbXBsYXRlU3J2KClcbiAgKSB7XG4gICAgc3VwZXIoaW5zdGFuY2VTZXR0aW5ncyk7XG4gICAgdGhpcy50eXBlID0gJ29wZW50c2RiJztcbiAgICB0aGlzLnVybCA9IGluc3RhbmNlU2V0dGluZ3MudXJsO1xuICAgIHRoaXMubmFtZSA9IGluc3RhbmNlU2V0dGluZ3MubmFtZTtcbiAgICB0aGlzLndpdGhDcmVkZW50aWFscyA9IGluc3RhbmNlU2V0dGluZ3Mud2l0aENyZWRlbnRpYWxzO1xuICAgIHRoaXMuYmFzaWNBdXRoID0gaW5zdGFuY2VTZXR0aW5ncy5iYXNpY0F1dGg7XG4gICAgaW5zdGFuY2VTZXR0aW5ncy5qc29uRGF0YSA9IGluc3RhbmNlU2V0dGluZ3MuanNvbkRhdGEgfHwge307XG4gICAgdGhpcy50c2RiVmVyc2lvbiA9IGluc3RhbmNlU2V0dGluZ3MuanNvbkRhdGEudHNkYlZlcnNpb24gfHwgMTtcbiAgICB0aGlzLnRzZGJSZXNvbHV0aW9uID0gaW5zdGFuY2VTZXR0aW5ncy5qc29uRGF0YS50c2RiUmVzb2x1dGlvbiB8fCAxO1xuICAgIHRoaXMubG9va3VwTGltaXQgPSBpbnN0YW5jZVNldHRpbmdzLmpzb25EYXRhLmxvb2t1cExpbWl0IHx8IDEwMDA7XG4gICAgdGhpcy50YWdLZXlzID0ge307XG5cbiAgICB0aGlzLmFnZ3JlZ2F0b3JzUHJvbWlzZSA9IG51bGw7XG4gICAgdGhpcy5maWx0ZXJUeXBlc1Byb21pc2UgPSBudWxsO1xuICAgIHRoaXMuYW5ub3RhdGlvbnMgPSB7XG4gICAgICBRdWVyeUVkaXRvcjogQW5ub3RhdGlvbkVkaXRvcixcbiAgICAgIHByZXBhcmVBbm5vdGF0aW9uLFxuICAgIH07XG4gIH1cblxuICAvLyBDYWxsZWQgb25jZSBwZXIgcGFuZWwgKGdyYXBoKVxuICBxdWVyeShvcHRpb25zOiBEYXRhUXVlcnlSZXF1ZXN0PE9wZW5Uc2RiUXVlcnk+KTogT2JzZXJ2YWJsZTxEYXRhUXVlcnlSZXNwb25zZT4ge1xuICAgIC8vIG1pZ3JhdGUgYW5ub3RhdGlvbnNcbiAgICBpZiAob3B0aW9ucy50YXJnZXRzLnNvbWUoKHRhcmdldDogT3BlblRzZGJRdWVyeSkgPT4gdGFyZ2V0LmZyb21Bbm5vdGF0aW9ucykpIHtcbiAgICAgIGNvbnN0IHN0cmVhbXM6IEFycmF5PE9ic2VydmFibGU8RGF0YVF1ZXJ5UmVzcG9uc2U+PiA9IFtdO1xuXG4gICAgICBmb3IgKGNvbnN0IGFubm90YXRpb24gb2Ygb3B0aW9ucy50YXJnZXRzKSB7XG4gICAgICAgIGlmIChhbm5vdGF0aW9uLnRhcmdldCkge1xuICAgICAgICAgIHN0cmVhbXMucHVzaChcbiAgICAgICAgICAgIG5ldyBPYnNlcnZhYmxlKChzdWJzY3JpYmVyKSA9PiB7XG4gICAgICAgICAgICAgIHRoaXMuYW5ub3RhdGlvbkV2ZW50KG9wdGlvbnMsIGFubm90YXRpb24pXG4gICAgICAgICAgICAgICAgLnRoZW4oKGV2ZW50cykgPT4gc3Vic2NyaWJlci5uZXh0KHsgZGF0YTogW3RvRGF0YUZyYW1lKGV2ZW50cyldIH0pKVxuICAgICAgICAgICAgICAgIC5jYXRjaCgoZXgpID0+IHtcbiAgICAgICAgICAgICAgICAgIC8vIGdyYWZhbmEgZmV0Y2ggdGhyb3dzIHRoZSBlcnJvciBzbyBmb3IgYW5ub3RhdGlvbiBjb25zaXN0ZW5jeSBhbW9uZyBkYXRhc291cmNlc1xuICAgICAgICAgICAgICAgICAgLy8gd2UgcmV0dXJuIGFuIGVtcHR5IGFycmF5IHdoaWNoIGRpc3BsYXlzIGFzICdubyBldmVudHMgZm91bmQnXG4gICAgICAgICAgICAgICAgICAvLyBpbiB0aGUgYW5ubm90YXRpb24gZWRpdG9yXG4gICAgICAgICAgICAgICAgICByZXR1cm4gc3Vic2NyaWJlci5uZXh0KHsgZGF0YTogW3RvRGF0YUZyYW1lKFtdKV0gfSk7XG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAuZmluYWxseSgoKSA9PiBzdWJzY3JpYmVyLmNvbXBsZXRlKCkpO1xuICAgICAgICAgICAgfSlcbiAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBtZXJnZSguLi5zdHJlYW1zKTtcbiAgICB9XG5cbiAgICBjb25zdCBzdGFydCA9IHRoaXMuY29udmVydFRvVFNEQlRpbWUob3B0aW9ucy5yYW5nZS5yYXcuZnJvbSwgZmFsc2UsIG9wdGlvbnMudGltZXpvbmUpO1xuICAgIGNvbnN0IGVuZCA9IHRoaXMuY29udmVydFRvVFNEQlRpbWUob3B0aW9ucy5yYW5nZS5yYXcudG8sIHRydWUsIG9wdGlvbnMudGltZXpvbmUpO1xuICAgIGNvbnN0IHFzOiBhbnlbXSA9IFtdO1xuXG4gICAgZWFjaChvcHRpb25zLnRhcmdldHMsICh0YXJnZXQpID0+IHtcbiAgICAgIGlmICghdGFyZ2V0Lm1ldHJpYykge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBxcy5wdXNoKHRoaXMuY29udmVydFRhcmdldFRvUXVlcnkodGFyZ2V0LCBvcHRpb25zLCB0aGlzLnRzZGJWZXJzaW9uKSk7XG4gICAgfSk7XG5cbiAgICBjb25zdCBxdWVyaWVzID0gY29tcGFjdChxcyk7XG5cbiAgICAvLyBObyB2YWxpZCB0YXJnZXRzLCByZXR1cm4gdGhlIGVtcHR5IHJlc3VsdCB0byBzYXZlIGEgcm91bmQgdHJpcC5cbiAgICBpZiAoaXNFbXB0eShxdWVyaWVzKSkge1xuICAgICAgcmV0dXJuIG9mKHsgZGF0YTogW10gfSk7XG4gICAgfVxuXG4gICAgY29uc3QgZ3JvdXBCeVRhZ3M6IGFueSA9IHt9O1xuICAgIGVhY2gocXVlcmllcywgKHF1ZXJ5KSA9PiB7XG4gICAgICBpZiAocXVlcnkuZmlsdGVycyAmJiBxdWVyeS5maWx0ZXJzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgZWFjaChxdWVyeS5maWx0ZXJzLCAodmFsKSA9PiB7XG4gICAgICAgICAgZ3JvdXBCeVRhZ3NbdmFsLnRhZ2tdID0gdHJ1ZTtcbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBlYWNoKHF1ZXJ5LnRhZ3MsICh2YWwsIGtleSkgPT4ge1xuICAgICAgICAgIGdyb3VwQnlUYWdzW2tleV0gPSB0cnVlO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIG9wdGlvbnMudGFyZ2V0cyA9IGZpbHRlcihvcHRpb25zLnRhcmdldHMsIChxdWVyeSkgPT4ge1xuICAgICAgcmV0dXJuIHF1ZXJ5LmhpZGUgIT09IHRydWU7XG4gICAgfSk7XG5cbiAgICByZXR1cm4gdGhpcy5wZXJmb3JtVGltZVNlcmllc1F1ZXJ5KHF1ZXJpZXMsIHN0YXJ0LCBlbmQpLnBpcGUoXG4gICAgICBjYXRjaEVycm9yKChlcnIpID0+IHtcbiAgICAgICAgLy8gVGhyb3cgdGhlIGVycm9yIG1lc3NhZ2UgaGVyZSBpbnN0ZWFkIG9mIHRoZSB3aG9sZSBvYmplY3QgdG8gd29ya2Fyb3VuZCB0aGUgZXJyb3IgcGFyc2luZyBlcnJvci5cbiAgICAgICAgdGhyb3cgZXJyPy5kYXRhPy5lcnJvcj8ubWVzc2FnZSB8fCAnRXJyb3IgcGVyZm9ybWluZyB0aW1lIHNlcmllcyBxdWVyeS4nO1xuICAgICAgfSksXG4gICAgICBtYXAoKHJlc3BvbnNlKSA9PiB7XG4gICAgICAgIGNvbnN0IG1ldHJpY1RvVGFyZ2V0TWFwcGluZyA9IHRoaXMubWFwTWV0cmljc1RvVGFyZ2V0cyhyZXNwb25zZS5kYXRhLCBvcHRpb25zLCB0aGlzLnRzZGJWZXJzaW9uKTtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gX21hcChyZXNwb25zZS5kYXRhLCAobWV0cmljRGF0YTogYW55LCBpbmRleDogbnVtYmVyKSA9PiB7XG4gICAgICAgICAgaW5kZXggPSBtZXRyaWNUb1RhcmdldE1hcHBpbmdbaW5kZXhdO1xuICAgICAgICAgIGlmIChpbmRleCA9PT0gLTEpIHtcbiAgICAgICAgICAgIGluZGV4ID0gMDtcbiAgICAgICAgICB9XG4gICAgICAgICAgdGhpcy5fc2F2ZVRhZ0tleXMobWV0cmljRGF0YSk7XG5cbiAgICAgICAgICByZXR1cm4gdGhpcy50cmFuc2Zvcm1NZXRyaWNEYXRhKFxuICAgICAgICAgICAgbWV0cmljRGF0YSxcbiAgICAgICAgICAgIGdyb3VwQnlUYWdzLFxuICAgICAgICAgICAgb3B0aW9ucy50YXJnZXRzW2luZGV4XSxcbiAgICAgICAgICAgIG9wdGlvbnMsXG4gICAgICAgICAgICB0aGlzLnRzZGJSZXNvbHV0aW9uXG4gICAgICAgICAgKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiB7IGRhdGE6IHJlc3VsdCB9O1xuICAgICAgfSlcbiAgICApO1xuICB9XG5cbiAgYW5ub3RhdGlvbkV2ZW50KG9wdGlvbnM6IERhdGFRdWVyeVJlcXVlc3QsIGFubm90YXRpb246IE9wZW5Uc2RiUXVlcnkpOiBQcm9taXNlPEFubm90YXRpb25FdmVudFtdPiB7XG4gICAgY29uc3Qgc3RhcnQgPSB0aGlzLmNvbnZlcnRUb1RTREJUaW1lKG9wdGlvbnMucmFuZ2UucmF3LmZyb20sIGZhbHNlLCBvcHRpb25zLnRpbWV6b25lKTtcbiAgICBjb25zdCBlbmQgPSB0aGlzLmNvbnZlcnRUb1RTREJUaW1lKG9wdGlvbnMucmFuZ2UucmF3LnRvLCB0cnVlLCBvcHRpb25zLnRpbWV6b25lKTtcbiAgICBjb25zdCBxcyA9IFtdO1xuICAgIGNvbnN0IGV2ZW50TGlzdDogYW55W10gPSBbXTtcblxuICAgIHFzLnB1c2goeyBhZ2dyZWdhdG9yOiAnc3VtJywgbWV0cmljOiBhbm5vdGF0aW9uLnRhcmdldCB9KTtcblxuICAgIGNvbnN0IHF1ZXJpZXMgPSBjb21wYWN0KHFzKTtcblxuICAgIHJldHVybiBsYXN0VmFsdWVGcm9tKFxuICAgICAgdGhpcy5wZXJmb3JtVGltZVNlcmllc1F1ZXJ5KHF1ZXJpZXMsIHN0YXJ0LCBlbmQpLnBpcGUoXG4gICAgICAgIG1hcCgocmVzdWx0cykgPT4ge1xuICAgICAgICAgIGlmIChyZXN1bHRzLmRhdGFbMF0pIHtcbiAgICAgICAgICAgIGxldCBhbm5vdGF0aW9uT2JqZWN0ID0gcmVzdWx0cy5kYXRhWzBdLmFubm90YXRpb25zO1xuICAgICAgICAgICAgaWYgKGFubm90YXRpb24uaXNHbG9iYWwpIHtcbiAgICAgICAgICAgICAgYW5ub3RhdGlvbk9iamVjdCA9IHJlc3VsdHMuZGF0YVswXS5nbG9iYWxBbm5vdGF0aW9ucztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChhbm5vdGF0aW9uT2JqZWN0KSB7XG4gICAgICAgICAgICAgIGVhY2goYW5ub3RhdGlvbk9iamVjdCwgKGFubikgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IGV2ZW50ID0ge1xuICAgICAgICAgICAgICAgICAgdGV4dDogYW5uLmRlc2NyaXB0aW9uLFxuICAgICAgICAgICAgICAgICAgdGltZTogTWF0aC5mbG9vcihhbm4uc3RhcnRUaW1lKSAqIDEwMDAsXG4gICAgICAgICAgICAgICAgICBhbm5vdGF0aW9uOiBhbm5vdGF0aW9uLFxuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICBldmVudExpc3QucHVzaChldmVudCk7XG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gZXZlbnRMaXN0O1xuICAgICAgICB9KVxuICAgICAgKVxuICAgICk7XG4gIH1cblxuICB0YXJnZXRDb250YWluc1RlbXBsYXRlKHRhcmdldDogYW55KSB7XG4gICAgaWYgKHRhcmdldC5maWx0ZXJzICYmIHRhcmdldC5maWx0ZXJzLmxlbmd0aCA+IDApIHtcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGFyZ2V0LmZpbHRlcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgaWYgKHRoaXMudGVtcGxhdGVTcnYuY29udGFpbnNUZW1wbGF0ZSh0YXJnZXQuZmlsdGVyc1tpXS5maWx0ZXIpKSB7XG4gICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAodGFyZ2V0LnRhZ3MgJiYgT2JqZWN0LmtleXModGFyZ2V0LnRhZ3MpLmxlbmd0aCA+IDApIHtcbiAgICAgIGZvciAoY29uc3QgdGFnS2V5IGluIHRhcmdldC50YWdzKSB7XG4gICAgICAgIGlmICh0aGlzLnRlbXBsYXRlU3J2LmNvbnRhaW5zVGVtcGxhdGUodGFyZ2V0LnRhZ3NbdGFnS2V5XSkpIHtcbiAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIHBlcmZvcm1UaW1lU2VyaWVzUXVlcnkocXVlcmllczogYW55W10sIHN0YXJ0OiBhbnksIGVuZDogYW55KTogT2JzZXJ2YWJsZTxGZXRjaFJlc3BvbnNlPiB7XG4gICAgbGV0IG1zUmVzb2x1dGlvbiA9IGZhbHNlO1xuICAgIGlmICh0aGlzLnRzZGJSZXNvbHV0aW9uID09PSAyKSB7XG4gICAgICBtc1Jlc29sdXRpb24gPSB0cnVlO1xuICAgIH1cbiAgICBjb25zdCByZXFCb2R5OiBhbnkgPSB7XG4gICAgICBzdGFydDogc3RhcnQsXG4gICAgICBxdWVyaWVzOiBxdWVyaWVzLFxuICAgICAgbXNSZXNvbHV0aW9uOiBtc1Jlc29sdXRpb24sXG4gICAgICBnbG9iYWxBbm5vdGF0aW9uczogdHJ1ZSxcbiAgICB9O1xuICAgIGlmICh0aGlzLnRzZGJWZXJzaW9uID09PSAzKSB7XG4gICAgICByZXFCb2R5LnNob3dRdWVyeSA9IHRydWU7XG4gICAgfVxuXG4gICAgLy8gUmVsYXRpdmUgcXVlcmllcyAoZS5nLiBsYXN0IGhvdXIpIGRvbid0IGluY2x1ZGUgYW4gZW5kIHRpbWVcbiAgICBpZiAoZW5kKSB7XG4gICAgICByZXFCb2R5LmVuZCA9IGVuZDtcbiAgICB9XG5cbiAgICBjb25zdCBvcHRpb25zID0ge1xuICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICB1cmw6IHRoaXMudXJsICsgJy9hcGkvcXVlcnknLFxuICAgICAgZGF0YTogcmVxQm9keSxcbiAgICB9O1xuXG4gICAgdGhpcy5fYWRkQ3JlZGVudGlhbE9wdGlvbnMob3B0aW9ucyk7XG4gICAgcmV0dXJuIGdldEJhY2tlbmRTcnYoKS5mZXRjaChvcHRpb25zKTtcbiAgfVxuXG4gIHN1Z2dlc3RUYWdLZXlzKHF1ZXJ5OiBPcGVuVHNkYlF1ZXJ5KSB7XG4gICAgY29uc3QgbWV0cmljID0gcXVlcnkubWV0cmljID8/ICcnO1xuICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUodGhpcy50YWdLZXlzW21ldHJpY10gfHwgW10pO1xuICB9XG5cbiAgX3NhdmVUYWdLZXlzKG1ldHJpY0RhdGE6IHsgdGFnczoge307IGFnZ3JlZ2F0ZVRhZ3M6IGFueTsgbWV0cmljOiBzdHJpbmcgfCBudW1iZXIgfSkge1xuICAgIGNvbnN0IHRhZ0tleXMgPSBPYmplY3Qua2V5cyhtZXRyaWNEYXRhLnRhZ3MpO1xuICAgIGVhY2gobWV0cmljRGF0YS5hZ2dyZWdhdGVUYWdzLCAodGFnKSA9PiB7XG4gICAgICB0YWdLZXlzLnB1c2godGFnKTtcbiAgICB9KTtcblxuICAgIHRoaXMudGFnS2V5c1ttZXRyaWNEYXRhLm1ldHJpY10gPSB0YWdLZXlzO1xuICB9XG5cbiAgX3BlcmZvcm1TdWdnZXN0UXVlcnkocXVlcnk6IHN0cmluZywgdHlwZTogc3RyaW5nKTogT2JzZXJ2YWJsZTxhbnk+IHtcbiAgICByZXR1cm4gdGhpcy5fZ2V0KCcvYXBpL3N1Z2dlc3QnLCB7IHR5cGUsIHE6IHF1ZXJ5LCBtYXg6IHRoaXMubG9va3VwTGltaXQgfSkucGlwZShcbiAgICAgIG1hcCgocmVzdWx0OiBhbnkpID0+IHtcbiAgICAgICAgcmV0dXJuIHJlc3VsdC5kYXRhO1xuICAgICAgfSlcbiAgICApO1xuICB9XG5cbiAgX3BlcmZvcm1NZXRyaWNLZXlWYWx1ZUxvb2t1cChtZXRyaWM6IHN0cmluZywga2V5czogYW55KTogT2JzZXJ2YWJsZTxhbnlbXT4ge1xuICAgIGlmICghbWV0cmljIHx8ICFrZXlzKSB7XG4gICAgICByZXR1cm4gb2YoW10pO1xuICAgIH1cblxuICAgIGNvbnN0IGtleXNBcnJheSA9IGtleXMuc3BsaXQoJywnKS5tYXAoKGtleTogYW55KSA9PiB7XG4gICAgICByZXR1cm4ga2V5LnRyaW0oKTtcbiAgICB9KTtcbiAgICBjb25zdCBrZXkgPSBrZXlzQXJyYXlbMF07XG4gICAgbGV0IGtleXNRdWVyeSA9IGtleSArICc9Kic7XG5cbiAgICBpZiAoa2V5c0FycmF5Lmxlbmd0aCA+IDEpIHtcbiAgICAgIGtleXNRdWVyeSArPSAnLCcgKyBrZXlzQXJyYXkuc3BsaWNlKDEpLmpvaW4oJywnKTtcbiAgICB9XG5cbiAgICBjb25zdCBtID0gbWV0cmljICsgJ3snICsga2V5c1F1ZXJ5ICsgJ30nO1xuXG4gICAgcmV0dXJuIHRoaXMuX2dldCgnL2FwaS9zZWFyY2gvbG9va3VwJywgeyBtOiBtLCBsaW1pdDogdGhpcy5sb29rdXBMaW1pdCB9KS5waXBlKFxuICAgICAgbWFwKChyZXN1bHQ6IGFueSkgPT4ge1xuICAgICAgICByZXN1bHQgPSByZXN1bHQuZGF0YS5yZXN1bHRzO1xuICAgICAgICBjb25zdCB0YWd2czogYW55W10gPSBbXTtcbiAgICAgICAgZWFjaChyZXN1bHQsIChyKSA9PiB7XG4gICAgICAgICAgaWYgKHRhZ3ZzLmluZGV4T2Yoci50YWdzW2tleV0pID09PSAtMSkge1xuICAgICAgICAgICAgdGFndnMucHVzaChyLnRhZ3Nba2V5XSk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHRhZ3ZzO1xuICAgICAgfSlcbiAgICApO1xuICB9XG5cbiAgX3BlcmZvcm1NZXRyaWNLZXlMb29rdXAobWV0cmljOiBhbnkpOiBPYnNlcnZhYmxlPGFueVtdPiB7XG4gICAgaWYgKCFtZXRyaWMpIHtcbiAgICAgIHJldHVybiBvZihbXSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXMuX2dldCgnL2FwaS9zZWFyY2gvbG9va3VwJywgeyBtOiBtZXRyaWMsIGxpbWl0OiAxMDAwIH0pLnBpcGUoXG4gICAgICBtYXAoKHJlc3VsdDogYW55KSA9PiB7XG4gICAgICAgIHJlc3VsdCA9IHJlc3VsdC5kYXRhLnJlc3VsdHM7XG4gICAgICAgIGNvbnN0IHRhZ2tzOiBhbnlbXSA9IFtdO1xuICAgICAgICBlYWNoKHJlc3VsdCwgKHIpID0+IHtcbiAgICAgICAgICBlYWNoKHIudGFncywgKHRhZ3YsIHRhZ2spID0+IHtcbiAgICAgICAgICAgIGlmICh0YWdrcy5pbmRleE9mKHRhZ2spID09PSAtMSkge1xuICAgICAgICAgICAgICB0YWdrcy5wdXNoKHRhZ2spO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHRhZ2tzO1xuICAgICAgfSlcbiAgICApO1xuICB9XG5cbiAgX2dldChcbiAgICByZWxhdGl2ZVVybDogc3RyaW5nLFxuICAgIHBhcmFtcz86IHsgdHlwZT86IHN0cmluZzsgcT86IHN0cmluZzsgbWF4PzogbnVtYmVyOyBtPzogYW55OyBsaW1pdD86IG51bWJlciB9XG4gICk6IE9ic2VydmFibGU8RmV0Y2hSZXNwb25zZT4ge1xuICAgIGNvbnN0IG9wdGlvbnMgPSB7XG4gICAgICBtZXRob2Q6ICdHRVQnLFxuICAgICAgdXJsOiB0aGlzLnVybCArIHJlbGF0aXZlVXJsLFxuICAgICAgcGFyYW1zOiBwYXJhbXMsXG4gICAgfTtcblxuICAgIHRoaXMuX2FkZENyZWRlbnRpYWxPcHRpb25zKG9wdGlvbnMpO1xuXG4gICAgcmV0dXJuIGdldEJhY2tlbmRTcnYoKS5mZXRjaChvcHRpb25zKTtcbiAgfVxuXG4gIF9hZGRDcmVkZW50aWFsT3B0aW9ucyhvcHRpb25zOiBhbnkpIHtcbiAgICBpZiAodGhpcy5iYXNpY0F1dGggfHwgdGhpcy53aXRoQ3JlZGVudGlhbHMpIHtcbiAgICAgIG9wdGlvbnMud2l0aENyZWRlbnRpYWxzID0gdHJ1ZTtcbiAgICB9XG4gICAgaWYgKHRoaXMuYmFzaWNBdXRoKSB7XG4gICAgICBvcHRpb25zLmhlYWRlcnMgPSB7IEF1dGhvcml6YXRpb246IHRoaXMuYmFzaWNBdXRoIH07XG4gICAgfVxuICB9XG5cbiAgbWV0cmljRmluZFF1ZXJ5KHF1ZXJ5OiBzdHJpbmcpIHtcbiAgICBpZiAoIXF1ZXJ5KSB7XG4gICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKFtdKTtcbiAgICB9XG5cbiAgICBsZXQgaW50ZXJwb2xhdGVkO1xuICAgIHRyeSB7XG4gICAgICBpbnRlcnBvbGF0ZWQgPSB0aGlzLnRlbXBsYXRlU3J2LnJlcGxhY2UocXVlcnksIHt9LCAnZGlzdHJpYnV0ZWQnKTtcbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChlcnIpO1xuICAgIH1cblxuICAgIGNvbnN0IHJlc3BvbnNlVHJhbnNmb3JtID0gKHJlc3VsdDogYW55KSA9PiB7XG4gICAgICByZXR1cm4gX21hcChyZXN1bHQsICh2YWx1ZSkgPT4ge1xuICAgICAgICByZXR1cm4geyB0ZXh0OiB2YWx1ZSB9O1xuICAgICAgfSk7XG4gICAgfTtcblxuICAgIGNvbnN0IG1ldHJpY3NSZWdleCA9IC9tZXRyaWNzXFwoKC4qKVxcKS87XG4gICAgY29uc3QgdGFnTmFtZXNSZWdleCA9IC90YWdfbmFtZXNcXCgoLiopXFwpLztcbiAgICBjb25zdCB0YWdWYWx1ZXNSZWdleCA9IC90YWdfdmFsdWVzXFwoKC4qPyksXFxzPyguKilcXCkvO1xuICAgIGNvbnN0IHRhZ05hbWVzU3VnZ2VzdFJlZ2V4ID0gL3N1Z2dlc3RfdGFna1xcKCguKilcXCkvO1xuICAgIGNvbnN0IHRhZ1ZhbHVlc1N1Z2dlc3RSZWdleCA9IC9zdWdnZXN0X3RhZ3ZcXCgoLiopXFwpLztcblxuICAgIGNvbnN0IG1ldHJpY3NRdWVyeSA9IGludGVycG9sYXRlZC5tYXRjaChtZXRyaWNzUmVnZXgpO1xuICAgIGlmIChtZXRyaWNzUXVlcnkpIHtcbiAgICAgIHJldHVybiBsYXN0VmFsdWVGcm9tKHRoaXMuX3BlcmZvcm1TdWdnZXN0UXVlcnkobWV0cmljc1F1ZXJ5WzFdLCAnbWV0cmljcycpLnBpcGUobWFwKHJlc3BvbnNlVHJhbnNmb3JtKSkpO1xuICAgIH1cblxuICAgIGNvbnN0IHRhZ05hbWVzUXVlcnkgPSBpbnRlcnBvbGF0ZWQubWF0Y2godGFnTmFtZXNSZWdleCk7XG4gICAgaWYgKHRhZ05hbWVzUXVlcnkpIHtcbiAgICAgIHJldHVybiBsYXN0VmFsdWVGcm9tKHRoaXMuX3BlcmZvcm1NZXRyaWNLZXlMb29rdXAodGFnTmFtZXNRdWVyeVsxXSkucGlwZShtYXAocmVzcG9uc2VUcmFuc2Zvcm0pKSk7XG4gICAgfVxuXG4gICAgY29uc3QgdGFnVmFsdWVzUXVlcnkgPSBpbnRlcnBvbGF0ZWQubWF0Y2godGFnVmFsdWVzUmVnZXgpO1xuICAgIGlmICh0YWdWYWx1ZXNRdWVyeSkge1xuICAgICAgcmV0dXJuIGxhc3RWYWx1ZUZyb20oXG4gICAgICAgIHRoaXMuX3BlcmZvcm1NZXRyaWNLZXlWYWx1ZUxvb2t1cCh0YWdWYWx1ZXNRdWVyeVsxXSwgdGFnVmFsdWVzUXVlcnlbMl0pLnBpcGUobWFwKHJlc3BvbnNlVHJhbnNmb3JtKSlcbiAgICAgICk7XG4gICAgfVxuXG4gICAgY29uc3QgdGFnTmFtZXNTdWdnZXN0UXVlcnkgPSBpbnRlcnBvbGF0ZWQubWF0Y2godGFnTmFtZXNTdWdnZXN0UmVnZXgpO1xuICAgIGlmICh0YWdOYW1lc1N1Z2dlc3RRdWVyeSkge1xuICAgICAgcmV0dXJuIGxhc3RWYWx1ZUZyb20odGhpcy5fcGVyZm9ybVN1Z2dlc3RRdWVyeSh0YWdOYW1lc1N1Z2dlc3RRdWVyeVsxXSwgJ3RhZ2snKS5waXBlKG1hcChyZXNwb25zZVRyYW5zZm9ybSkpKTtcbiAgICB9XG5cbiAgICBjb25zdCB0YWdWYWx1ZXNTdWdnZXN0UXVlcnkgPSBpbnRlcnBvbGF0ZWQubWF0Y2godGFnVmFsdWVzU3VnZ2VzdFJlZ2V4KTtcbiAgICBpZiAodGFnVmFsdWVzU3VnZ2VzdFF1ZXJ5KSB7XG4gICAgICByZXR1cm4gbGFzdFZhbHVlRnJvbSh0aGlzLl9wZXJmb3JtU3VnZ2VzdFF1ZXJ5KHRhZ1ZhbHVlc1N1Z2dlc3RRdWVyeVsxXSwgJ3RhZ3YnKS5waXBlKG1hcChyZXNwb25zZVRyYW5zZm9ybSkpKTtcbiAgICB9XG5cbiAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKFtdKTtcbiAgfVxuXG4gIHRlc3REYXRhc291cmNlKCkge1xuICAgIHJldHVybiBsYXN0VmFsdWVGcm9tKFxuICAgICAgdGhpcy5fcGVyZm9ybVN1Z2dlc3RRdWVyeSgnY3B1JywgJ21ldHJpY3MnKS5waXBlKFxuICAgICAgICBtYXAoKCkgPT4ge1xuICAgICAgICAgIHJldHVybiB7IHN0YXR1czogJ3N1Y2Nlc3MnLCBtZXNzYWdlOiAnRGF0YSBzb3VyY2UgaXMgd29ya2luZycgfTtcbiAgICAgICAgfSlcbiAgICAgIClcbiAgICApO1xuICB9XG5cbiAgZ2V0QWdncmVnYXRvcnMoKSB7XG4gICAgaWYgKHRoaXMuYWdncmVnYXRvcnNQcm9taXNlKSB7XG4gICAgICByZXR1cm4gdGhpcy5hZ2dyZWdhdG9yc1Byb21pc2U7XG4gICAgfVxuXG4gICAgdGhpcy5hZ2dyZWdhdG9yc1Byb21pc2UgPSBsYXN0VmFsdWVGcm9tKFxuICAgICAgdGhpcy5fZ2V0KCcvYXBpL2FnZ3JlZ2F0b3JzJykucGlwZShcbiAgICAgICAgbWFwKChyZXN1bHQ6IGFueSkgPT4ge1xuICAgICAgICAgIGlmIChyZXN1bHQuZGF0YSAmJiBpc0FycmF5KHJlc3VsdC5kYXRhKSkge1xuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdC5kYXRhLnNvcnQoKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgICB9KVxuICAgICAgKVxuICAgICk7XG4gICAgcmV0dXJuIHRoaXMuYWdncmVnYXRvcnNQcm9taXNlO1xuICB9XG5cbiAgZ2V0RmlsdGVyVHlwZXMoKSB7XG4gICAgaWYgKHRoaXMuZmlsdGVyVHlwZXNQcm9taXNlKSB7XG4gICAgICByZXR1cm4gdGhpcy5maWx0ZXJUeXBlc1Byb21pc2U7XG4gICAgfVxuXG4gICAgdGhpcy5maWx0ZXJUeXBlc1Byb21pc2UgPSBsYXN0VmFsdWVGcm9tKFxuICAgICAgdGhpcy5fZ2V0KCcvYXBpL2NvbmZpZy9maWx0ZXJzJykucGlwZShcbiAgICAgICAgbWFwKChyZXN1bHQ6IGFueSkgPT4ge1xuICAgICAgICAgIGlmIChyZXN1bHQuZGF0YSkge1xuICAgICAgICAgICAgcmV0dXJuIE9iamVjdC5rZXlzKHJlc3VsdC5kYXRhKS5zb3J0KCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiBbXTtcbiAgICAgICAgfSlcbiAgICAgIClcbiAgICApO1xuICAgIHJldHVybiB0aGlzLmZpbHRlclR5cGVzUHJvbWlzZTtcbiAgfVxuXG4gIHRyYW5zZm9ybU1ldHJpY0RhdGEobWQ6IHsgZHBzOiBhbnkgfSwgZ3JvdXBCeVRhZ3M6IGFueSwgdGFyZ2V0OiBhbnksIG9wdGlvbnM6IGFueSwgdHNkYlJlc29sdXRpb246IG51bWJlcikge1xuICAgIGNvbnN0IG1ldHJpY0xhYmVsID0gdGhpcy5jcmVhdGVNZXRyaWNMYWJlbChtZCwgdGFyZ2V0LCBncm91cEJ5VGFncywgb3B0aW9ucyk7XG4gICAgY29uc3QgZHBzOiBhbnlbXSA9IFtdO1xuXG4gICAgLy8gVFNEQiByZXR1cm5zIGRhdGFwb2ludHMgaGFzIGEgaGFzaCBvZiB0cyA9PiB2YWx1ZS5cbiAgICAvLyBDYW4ndCB1c2UgcGFpcnMoaW52ZXJ0KCkpIGJlY2F1c2UgaXQgc3RyaW5naWZpZXMga2V5cy92YWx1ZXNcbiAgICBlYWNoKG1kLmRwcywgKHY6IGFueSwgazogbnVtYmVyKSA9PiB7XG4gICAgICBpZiAodHNkYlJlc29sdXRpb24gPT09IDIpIHtcbiAgICAgICAgZHBzLnB1c2goW3YsIGsgKiAxXSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBkcHMucHVzaChbdiwgayAqIDEwMDBdKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIHJldHVybiB7IHRhcmdldDogbWV0cmljTGFiZWwsIGRhdGFwb2ludHM6IGRwcyB9O1xuICB9XG5cbiAgY3JlYXRlTWV0cmljTGFiZWwoXG4gICAgbWQ6IHsgZHBzPzogYW55OyB0YWdzPzogYW55OyBtZXRyaWM/OiBhbnkgfSxcbiAgICB0YXJnZXQ6IHsgYWxpYXM6IHN0cmluZyB9LFxuICAgIGdyb3VwQnlUYWdzOiBhbnksXG4gICAgb3B0aW9uczogeyBzY29wZWRWYXJzOiBhbnkgfVxuICApIHtcbiAgICBpZiAodGFyZ2V0LmFsaWFzKSB7XG4gICAgICBjb25zdCBzY29wZWRWYXJzID0gY2xvbmUob3B0aW9ucy5zY29wZWRWYXJzIHx8IHt9KTtcbiAgICAgIGVhY2gobWQudGFncywgKHZhbHVlLCBrZXkpID0+IHtcbiAgICAgICAgc2NvcGVkVmFyc1sndGFnXycgKyBrZXldID0geyB2YWx1ZTogdmFsdWUgfTtcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIHRoaXMudGVtcGxhdGVTcnYucmVwbGFjZSh0YXJnZXQuYWxpYXMsIHNjb3BlZFZhcnMpO1xuICAgIH1cblxuICAgIGxldCBsYWJlbCA9IG1kLm1ldHJpYztcbiAgICBjb25zdCB0YWdEYXRhOiBhbnlbXSA9IFtdO1xuXG4gICAgaWYgKCFpc0VtcHR5KG1kLnRhZ3MpKSB7XG4gICAgICBlYWNoKHRvUGFpcnMobWQudGFncyksICh0YWcpID0+IHtcbiAgICAgICAgaWYgKGhhcyhncm91cEJ5VGFncywgdGFnWzBdKSkge1xuICAgICAgICAgIHRhZ0RhdGEucHVzaCh0YWdbMF0gKyAnPScgKyB0YWdbMV0pO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBpZiAoIWlzRW1wdHkodGFnRGF0YSkpIHtcbiAgICAgIGxhYmVsICs9ICd7JyArIHRhZ0RhdGEuam9pbignLCAnKSArICd9JztcbiAgICB9XG5cbiAgICByZXR1cm4gbGFiZWw7XG4gIH1cblxuICBjb252ZXJ0VGFyZ2V0VG9RdWVyeSh0YXJnZXQ6IE9wZW5Uc2RiUXVlcnksIG9wdGlvbnM6IERhdGFRdWVyeVJlcXVlc3Q8T3BlblRzZGJRdWVyeT4sIHRzZGJWZXJzaW9uOiBudW1iZXIpIHtcbiAgICBpZiAoIXRhcmdldC5tZXRyaWMgfHwgdGFyZ2V0LmhpZGUpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIGNvbnN0IHF1ZXJ5OiBhbnkgPSB7XG4gICAgICBtZXRyaWM6IHRoaXMudGVtcGxhdGVTcnYucmVwbGFjZSh0YXJnZXQubWV0cmljLCBvcHRpb25zLnNjb3BlZFZhcnMsICdwaXBlJyksXG4gICAgICBhZ2dyZWdhdG9yOiAnYXZnJyxcbiAgICB9O1xuXG4gICAgaWYgKHRhcmdldC5hZ2dyZWdhdG9yKSB7XG4gICAgICBxdWVyeS5hZ2dyZWdhdG9yID0gdGhpcy50ZW1wbGF0ZVNydi5yZXBsYWNlKHRhcmdldC5hZ2dyZWdhdG9yKTtcbiAgICB9XG5cbiAgICBpZiAodGFyZ2V0LnNob3VsZENvbXB1dGVSYXRlKSB7XG4gICAgICBxdWVyeS5yYXRlID0gdHJ1ZTtcbiAgICAgIHF1ZXJ5LnJhdGVPcHRpb25zID0ge1xuICAgICAgICBjb3VudGVyOiAhIXRhcmdldC5pc0NvdW50ZXIsXG4gICAgICB9O1xuXG4gICAgICBpZiAodGFyZ2V0LmNvdW50ZXJNYXggJiYgdGFyZ2V0LmNvdW50ZXJNYXgubGVuZ3RoKSB7XG4gICAgICAgIHF1ZXJ5LnJhdGVPcHRpb25zLmNvdW50ZXJNYXggPSBwYXJzZUludCh0YXJnZXQuY291bnRlck1heCwgMTApO1xuICAgICAgfVxuXG4gICAgICBpZiAodGFyZ2V0LmNvdW50ZXJSZXNldFZhbHVlICYmIHRhcmdldC5jb3VudGVyUmVzZXRWYWx1ZS5sZW5ndGgpIHtcbiAgICAgICAgcXVlcnkucmF0ZU9wdGlvbnMucmVzZXRWYWx1ZSA9IHBhcnNlSW50KHRhcmdldC5jb3VudGVyUmVzZXRWYWx1ZSwgMTApO1xuICAgICAgfVxuXG4gICAgICBpZiAodHNkYlZlcnNpb24gPj0gMikge1xuICAgICAgICBxdWVyeS5yYXRlT3B0aW9ucy5kcm9wUmVzZXRzID1cbiAgICAgICAgICAhcXVlcnkucmF0ZU9wdGlvbnMuY291bnRlck1heCAmJiAoIXF1ZXJ5LnJhdGVPcHRpb25zLlJlc2V0VmFsdWUgfHwgcXVlcnkucmF0ZU9wdGlvbnMuUmVzZXRWYWx1ZSA9PT0gMCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKCF0YXJnZXQuZGlzYWJsZURvd25zYW1wbGluZykge1xuICAgICAgbGV0IGludGVydmFsID0gdGhpcy50ZW1wbGF0ZVNydi5yZXBsYWNlKHRhcmdldC5kb3duc2FtcGxlSW50ZXJ2YWwgfHwgb3B0aW9ucy5pbnRlcnZhbCk7XG5cbiAgICAgIGlmIChpbnRlcnZhbC5tYXRjaCgvXFwuWzAtOV0rcy8pKSB7XG4gICAgICAgIGludGVydmFsID0gcGFyc2VGbG9hdChpbnRlcnZhbCkgKiAxMDAwICsgJ21zJztcbiAgICAgIH1cblxuICAgICAgcXVlcnkuZG93bnNhbXBsZSA9IGludGVydmFsICsgJy0nICsgdGFyZ2V0LmRvd25zYW1wbGVBZ2dyZWdhdG9yO1xuXG4gICAgICBpZiAodGFyZ2V0LmRvd25zYW1wbGVGaWxsUG9saWN5ICYmIHRhcmdldC5kb3duc2FtcGxlRmlsbFBvbGljeSAhPT0gJ25vbmUnKSB7XG4gICAgICAgIHF1ZXJ5LmRvd25zYW1wbGUgKz0gJy0nICsgdGFyZ2V0LmRvd25zYW1wbGVGaWxsUG9saWN5O1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmICh0YXJnZXQuZmlsdGVycyAmJiB0YXJnZXQuZmlsdGVycy5sZW5ndGggPiAwKSB7XG4gICAgICBxdWVyeS5maWx0ZXJzID0gY2xvbmVEZWVwKHRhcmdldC5maWx0ZXJzKTtcblxuICAgICAgaWYgKHF1ZXJ5LmZpbHRlcnMpIHtcbiAgICAgICAgdGhpcy5pbnRlcnBvbGF0ZVZhcmlhYmxlc0luRmlsdGVycyhxdWVyeSwgb3B0aW9ucyk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHF1ZXJ5LnRhZ3MgPSBjbG9uZURlZXAodGFyZ2V0LnRhZ3MpO1xuXG4gICAgICBpZiAocXVlcnkudGFncykge1xuICAgICAgICBmb3IgKGNvbnN0IHRhZ0tleSBpbiBxdWVyeS50YWdzKSB7XG4gICAgICAgICAgcXVlcnkudGFnc1t0YWdLZXldID0gdGhpcy50ZW1wbGF0ZVNydi5yZXBsYWNlKHF1ZXJ5LnRhZ3NbdGFnS2V5XSwgb3B0aW9ucy5zY29wZWRWYXJzLCAncGlwZScpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKHRhcmdldC5leHBsaWNpdFRhZ3MpIHtcbiAgICAgIHF1ZXJ5LmV4cGxpY2l0VGFncyA9IHRydWU7XG4gICAgfVxuXG4gICAgcmV0dXJuIHF1ZXJ5O1xuICB9XG5cbiAgaW50ZXJwb2xhdGVWYXJpYWJsZXNJbkZpbHRlcnMocXVlcnk6IE9wZW5Uc2RiUXVlcnksIG9wdGlvbnM6IERhdGFRdWVyeVJlcXVlc3Q8T3BlblRzZGJRdWVyeT4pIHtcbiAgICBxdWVyeS5maWx0ZXJzID0gcXVlcnkuZmlsdGVycz8ubWFwKChmaWx0ZXI6IE9wZW5Uc2RiRmlsdGVyKTogT3BlblRzZGJGaWx0ZXIgPT4ge1xuICAgICAgZmlsdGVyLnRhZ2sgPSB0aGlzLnRlbXBsYXRlU3J2LnJlcGxhY2UoZmlsdGVyLnRhZ2ssIG9wdGlvbnMuc2NvcGVkVmFycywgJ3BpcGUnKTtcblxuICAgICAgZmlsdGVyLmZpbHRlciA9IHRoaXMudGVtcGxhdGVTcnYucmVwbGFjZShmaWx0ZXIuZmlsdGVyLCBvcHRpb25zLnNjb3BlZFZhcnMsICdwaXBlJyk7XG5cbiAgICAgIHJldHVybiBmaWx0ZXI7XG4gICAgfSk7XG4gIH1cblxuICBtYXBNZXRyaWNzVG9UYXJnZXRzKG1ldHJpY3M6IGFueSwgb3B0aW9uczogYW55LCB0c2RiVmVyc2lvbjogbnVtYmVyKSB7XG4gICAgbGV0IGludGVycG9sYXRlZFRhZ1ZhbHVlLCBhcnJUYWdWO1xuICAgIHJldHVybiBfbWFwKG1ldHJpY3MsIChtZXRyaWNEYXRhKSA9PiB7XG4gICAgICBpZiAodHNkYlZlcnNpb24gPT09IDMpIHtcbiAgICAgICAgcmV0dXJuIG1ldHJpY0RhdGEucXVlcnkuaW5kZXg7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gZmluZEluZGV4KG9wdGlvbnMudGFyZ2V0cyBhcyBhbnlbXSwgKHRhcmdldCkgPT4ge1xuICAgICAgICAgIGlmICh0YXJnZXQuZmlsdGVycyAmJiB0YXJnZXQuZmlsdGVycy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICByZXR1cm4gdGFyZ2V0Lm1ldHJpYyA9PT0gbWV0cmljRGF0YS5tZXRyaWM7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgIHRhcmdldC5tZXRyaWMgPT09IG1ldHJpY0RhdGEubWV0cmljICYmXG4gICAgICAgICAgICAgIGV2ZXJ5KHRhcmdldC50YWdzLCAodGFnViwgdGFnSykgPT4ge1xuICAgICAgICAgICAgICAgIGludGVycG9sYXRlZFRhZ1ZhbHVlID0gdGhpcy50ZW1wbGF0ZVNydi5yZXBsYWNlKHRhZ1YsIG9wdGlvbnMuc2NvcGVkVmFycywgJ3BpcGUnKTtcbiAgICAgICAgICAgICAgICBhcnJUYWdWID0gaW50ZXJwb2xhdGVkVGFnVmFsdWUuc3BsaXQoJ3wnKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gaW5jbHVkZXMoYXJyVGFnViwgbWV0cmljRGF0YS50YWdzW3RhZ0tdKSB8fCBpbnRlcnBvbGF0ZWRUYWdWYWx1ZSA9PT0gJyonO1xuICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgaW50ZXJwb2xhdGVWYXJpYWJsZXNJblF1ZXJpZXMocXVlcmllczogT3BlblRzZGJRdWVyeVtdLCBzY29wZWRWYXJzOiBTY29wZWRWYXJzKTogT3BlblRzZGJRdWVyeVtdIHtcbiAgICBpZiAoIXF1ZXJpZXMubGVuZ3RoKSB7XG4gICAgICByZXR1cm4gcXVlcmllcztcbiAgICB9XG5cbiAgICByZXR1cm4gcXVlcmllcy5tYXAoKHF1ZXJ5KSA9PiAoe1xuICAgICAgLi4ucXVlcnksXG4gICAgICBtZXRyaWM6IHRoaXMudGVtcGxhdGVTcnYucmVwbGFjZShxdWVyeS5tZXRyaWMsIHNjb3BlZFZhcnMpLFxuICAgIH0pKTtcbiAgfVxuXG4gIGNvbnZlcnRUb1RTREJUaW1lKGRhdGU6IGFueSwgcm91bmRVcDogYW55LCB0aW1lem9uZTogYW55KSB7XG4gICAgaWYgKGRhdGUgPT09ICdub3cnKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICBkYXRlID0gZGF0ZU1hdGgucGFyc2UoZGF0ZSwgcm91bmRVcCwgdGltZXpvbmUpO1xuICAgIHJldHVybiBkYXRlLnZhbHVlT2YoKTtcbiAgfVxufVxuIl0sIm5hbWVzIjpbImtleSIsImZpbHRlciJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./public/app/plugins/datasource/opentsdb/datasource.ts\n");

/***/ }),

/***/ "./public/app/plugins/datasource/opentsdb/migrations.ts":
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   prepareAnnotation: () => (/* binding */ prepareAnnotation)\n/* harmony export */ });\n\nconst migrateLegacyAnnotation = (json) => {\n  const annotation = {\n    fromAnnotations: true,\n    target: json.target ?? \"\",\n    name: json.name ?? \"\",\n    isGlobal: json.isGlobal ?? false\n  };\n  return annotation;\n};\nconst prepareAnnotation = (json) => {\n  const resultingTarget = json.target && typeof json.target !== \"string\" ? json.target : migrateLegacyAnnotation(json);\n  json.target = resultingTarget;\n  return json;\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9wdWJsaWMvYXBwL3BsdWdpbnMvZGF0YXNvdXJjZS9vcGVudHNkYi9taWdyYXRpb25zLnRzIiwibWFwcGluZ3MiOiI7Ozs7O0FBR0EsTUFBTSwwQkFBMEIsQ0FBQyxTQUEyQjtBQUUxRCxRQUFNLGFBQStCO0FBQUEsSUFDbkMsaUJBQWlCO0FBQUEsSUFDakIsUUFBUSxLQUFLLFVBQVU7QUFBQSxJQUN2QixNQUFNLEtBQUssUUFBUTtBQUFBLElBQ25CLFVBQVUsS0FBSyxZQUFZO0FBQUEsRUFDN0I7QUFFQSxTQUFPO0FBQ1Q7QUFHTyxNQUFNLG9CQUFvQixDQUFDLFNBQWM7QUFDOUMsUUFBTSxrQkFBa0IsS0FBSyxVQUFVLE9BQU8sS0FBSyxXQUFXLFdBQVcsS0FBSyxTQUFTLHdCQUF3QixJQUFJO0FBRW5ILE9BQUssU0FBUztBQUVkLFNBQU87QUFDVCIsInNvdXJjZXMiOlsid2VicGFjazovL2dyYWZhbmEvLi9wdWJsaWMvYXBwL3BsdWdpbnMvZGF0YXNvdXJjZS9vcGVudHNkYi9taWdyYXRpb25zLnRzP2Q4YjUiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgTGVnYWN5QW5ub3RhdGlvbiB9IGZyb20gJy4vdHlwZXMnO1xuXG4vLyB0aGlzIGJlY29tZXMgdGhlIHRhcmdldCBpbiB0aGUgbWlncmF0ZWQgYW5ub3RhdGlvbnNcbmNvbnN0IG1pZ3JhdGVMZWdhY3lBbm5vdGF0aW9uID0gKGpzb246IExlZ2FjeUFubm90YXRpb24pID0+IHtcbiAgLy8gcmV0dXJuIHRoZSB0YXJnZXQgYW5ub3RhdGlvblxuICBjb25zdCBhbm5vdGF0aW9uOiBMZWdhY3lBbm5vdGF0aW9uID0ge1xuICAgIGZyb21Bbm5vdGF0aW9uczogdHJ1ZSxcbiAgICB0YXJnZXQ6IGpzb24udGFyZ2V0ID8/ICcnLFxuICAgIG5hbWU6IGpzb24ubmFtZSA/PyAnJyxcbiAgICBpc0dsb2JhbDoganNvbi5pc0dsb2JhbCA/PyBmYWxzZSxcbiAgfTtcblxuICByZXR1cm4gYW5ub3RhdGlvbjtcbn07XG5cbi8vIGVzbGludC1pZ25vcmUtbmV4dC1saW5lXG5leHBvcnQgY29uc3QgcHJlcGFyZUFubm90YXRpb24gPSAoanNvbjogYW55KSA9PiB7XG4gIGNvbnN0IHJlc3VsdGluZ1RhcmdldCA9IGpzb24udGFyZ2V0ICYmIHR5cGVvZiBqc29uLnRhcmdldCAhPT0gJ3N0cmluZycgPyBqc29uLnRhcmdldCA6IG1pZ3JhdGVMZWdhY3lBbm5vdGF0aW9uKGpzb24pO1xuXG4gIGpzb24udGFyZ2V0ID0gcmVzdWx0aW5nVGFyZ2V0O1xuXG4gIHJldHVybiBqc29uO1xufTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./public/app/plugins/datasource/opentsdb/migrations.ts\n");

/***/ }),

/***/ "./public/app/plugins/datasource/opentsdb/module.ts":
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   plugin: () => (/* binding */ plugin)\n/* harmony export */ });\n/* harmony import */ var _grafana_data__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(\"./.yarn/__virtual__/@grafana-data-virtual-0996183232/1/packages/grafana-data/src/types/datasource.ts\");\n/* harmony import */ var _components_ConfigEditor__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"./public/app/plugins/datasource/opentsdb/components/ConfigEditor.tsx\");\n/* harmony import */ var _components_OpenTsdbQueryEditor__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(\"./public/app/plugins/datasource/opentsdb/components/OpenTsdbQueryEditor.tsx\");\n/* harmony import */ var _datasource__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(\"./public/app/plugins/datasource/opentsdb/datasource.ts\");\n\n\n\n\n\nconst plugin = new _grafana_data__WEBPACK_IMPORTED_MODULE_3__.DataSourcePlugin(_datasource__WEBPACK_IMPORTED_MODULE_2__[\"default\"]).setQueryEditor(_components_OpenTsdbQueryEditor__WEBPACK_IMPORTED_MODULE_1__.OpenTsdbQueryEditor).setConfigEditor(_components_ConfigEditor__WEBPACK_IMPORTED_MODULE_0__.ConfigEditor);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9wdWJsaWMvYXBwL3BsdWdpbnMvZGF0YXNvdXJjZS9vcGVudHNkYi9tb2R1bGUudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBQWlDO0FBRUo7QUFDTztBQUNQO0FBRXRCLE1BQU0sU0FBUyxJQUFJLDJEQUFnQixDQUFDLG1EQUFnQixFQUN4RCxlQUFlLGdGQUFtQixFQUNsQyxnQkFBZ0Isa0VBQVkiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9ncmFmYW5hLy4vcHVibGljL2FwcC9wbHVnaW5zL2RhdGFzb3VyY2Uvb3BlbnRzZGIvbW9kdWxlLnRzP2QzNjciXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgRGF0YVNvdXJjZVBsdWdpbiB9IGZyb20gJ0BncmFmYW5hL2RhdGEnO1xuXG5pbXBvcnQgeyBDb25maWdFZGl0b3IgfSBmcm9tICcuL2NvbXBvbmVudHMvQ29uZmlnRWRpdG9yJztcbmltcG9ydCB7IE9wZW5Uc2RiUXVlcnlFZGl0b3IgfSBmcm9tICcuL2NvbXBvbmVudHMvT3BlblRzZGJRdWVyeUVkaXRvcic7XG5pbXBvcnQgT3BlblRzRGF0YXNvdXJjZSBmcm9tICcuL2RhdGFzb3VyY2UnO1xuXG5leHBvcnQgY29uc3QgcGx1Z2luID0gbmV3IERhdGFTb3VyY2VQbHVnaW4oT3BlblRzRGF0YXNvdXJjZSlcbiAgLnNldFF1ZXJ5RWRpdG9yKE9wZW5Uc2RiUXVlcnlFZGl0b3IpXG4gIC5zZXRDb25maWdFZGl0b3IoQ29uZmlnRWRpdG9yKTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./public/app/plugins/datasource/opentsdb/module.ts\n");

/***/ })

}]);