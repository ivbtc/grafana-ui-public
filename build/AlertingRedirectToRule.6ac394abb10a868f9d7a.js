"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(self["webpackChunkgrafana"] = self["webpackChunkgrafana"] || []).push([["AlertingRedirectToRule"],{

/***/ "./public/app/features/alerting/unified/RedirectToRuleViewer.tsx":
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   RedirectToRuleViewer: () => (/* binding */ RedirectToRuleViewer),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _emotion_css__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"./.yarn/cache/@emotion-css-npm-11.11.2-dbfa42cf83-1edea109df.zip/node_modules/@emotion/css/dist/emotion-css.esm.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(\"./.yarn/cache/react-npm-18.2.0-1eae08fee2-88e38092da.zip/node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var react_router_dom__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(\"./.yarn/__virtual__/react-router-virtual-8fd1107801/0/cache/react-router-npm-5.3.3-594fcd8832-52a9f28fa9.zip/node_modules/react-router/esm/react-router.js\");\n/* harmony import */ var react_use__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(\"./.yarn/__virtual__/react-use-virtual-dd7926f458/0/cache/react-use-npm-17.4.0-0ef4521544-0889da919b.zip/node_modules/react-use/esm/useLocation.js\");\n/* harmony import */ var _grafana_runtime__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(\"./.yarn/__virtual__/@grafana-runtime-virtual-68c57d4c0c/1/packages/grafana-runtime/src/config.ts\");\n/* harmony import */ var _grafana_runtime__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(\"./.yarn/__virtual__/@grafana-runtime-virtual-68c57d4c0c/1/packages/grafana-runtime/src/services/backendSrv.ts\");\n/* harmony import */ var _grafana_ui__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(\"./.yarn/__virtual__/@grafana-ui-virtual-d722efae30/1/packages/grafana-ui/src/themes/ThemeContext.tsx\");\n/* harmony import */ var _grafana_ui__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(\"./.yarn/__virtual__/@grafana-ui-virtual-d722efae30/1/packages/grafana-ui/src/components/Alert/Alert.tsx\");\n/* harmony import */ var _grafana_ui__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(\"./.yarn/__virtual__/@grafana-ui-virtual-d722efae30/1/packages/grafana-ui/src/components/LoadingPlaceholder/LoadingPlaceholder.tsx\");\n/* harmony import */ var _grafana_ui__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(\"./.yarn/__virtual__/@grafana-ui-virtual-d722efae30/1/packages/grafana-ui/src/components/Card/Card.tsx\");\n/* harmony import */ var _grafana_ui__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(\"./.yarn/__virtual__/@grafana-ui-virtual-d722efae30/1/packages/grafana-ui/src/components/Icon/Icon.tsx\");\n/* harmony import */ var _grafana_ui__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(\"./.yarn/__virtual__/@grafana-ui-virtual-d722efae30/1/packages/grafana-ui/src/components/ErrorBoundary/ErrorBoundary.tsx\");\n/* harmony import */ var _components_AlertLabels__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(\"./public/app/features/alerting/unified/components/AlertLabels.tsx\");\n/* harmony import */ var _components_rule_viewer_RuleViewerLayout__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(\"./public/app/features/alerting/unified/components/rule-viewer/RuleViewerLayout.tsx\");\n/* harmony import */ var _hooks_useCombinedRule__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(\"./public/app/features/alerting/unified/hooks/useCombinedRule.ts\");\n/* harmony import */ var _utils_datasource__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(\"./public/app/features/alerting/unified/utils/datasource.ts\");\n/* harmony import */ var _utils_misc__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(\"./public/app/features/alerting/unified/utils/misc.ts\");\n\n\n\n\n\n\n\n\n\n\n\n\nconst pageTitle = \"Find rule\";\nconst subUrl = _grafana_runtime__WEBPACK_IMPORTED_MODULE_7__.config.appSubUrl;\nfunction useRuleFindParams() {\n  const location = (0,react_use__WEBPACK_IMPORTED_MODULE_8__[\"default\"])();\n  return (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(() => {\n    const segments = location.pathname?.replace(subUrl, \"\").split(\"/\") ?? [];\n    const name = decodeURIComponent(segments[3]);\n    const sourceName = decodeURIComponent(segments[2]);\n    const searchParams = new URLSearchParams(location.search);\n    return {\n      name,\n      sourceName,\n      namespace: searchParams.get(\"namespace\") ?? void 0,\n      group: searchParams.get(\"group\") ?? void 0\n    };\n  }, [location]);\n}\nfunction RedirectToRuleViewer() {\n  const styles = (0,_grafana_ui__WEBPACK_IMPORTED_MODULE_9__.useStyles2)(getStyles);\n  const { name, sourceName, namespace, group } = useRuleFindParams();\n  const {\n    error,\n    loading,\n    rules = []\n  } = (0,_hooks_useCombinedRule__WEBPACK_IMPORTED_MODULE_4__.useCloudCombinedRulesMatching)(name, sourceName, { namespace, groupName: group });\n  if (!name || !sourceName) {\n    return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_1___default().createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_10__.Redirect, { to: \"/notfound\" });\n  }\n  if (error) {\n    return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_components_rule_viewer_RuleViewerLayout__WEBPACK_IMPORTED_MODULE_3__.RuleViewerLayout, { title: pageTitle }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_grafana_ui__WEBPACK_IMPORTED_MODULE_11__.Alert, { title: `Failed to load rules from ${sourceName}` }, (0,_grafana_runtime__WEBPACK_IMPORTED_MODULE_12__.isFetchError)(error) && /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_1___default().createElement(\"details\", { className: styles.errorMessage }, error.message, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_1___default().createElement(\"br\", null))));\n  }\n  if (loading) {\n    return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_components_rule_viewer_RuleViewerLayout__WEBPACK_IMPORTED_MODULE_3__.RuleViewerLayout, { title: pageTitle }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_grafana_ui__WEBPACK_IMPORTED_MODULE_13__.LoadingPlaceholder, { text: \"Loading rule...\" }));\n  }\n  const rulesSource = (0,_utils_datasource__WEBPACK_IMPORTED_MODULE_5__.getRulesSourceByName)(sourceName);\n  if (!rulesSource) {\n    return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_components_rule_viewer_RuleViewerLayout__WEBPACK_IMPORTED_MODULE_3__.RuleViewerLayout, { title: pageTitle }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_grafana_ui__WEBPACK_IMPORTED_MODULE_11__.Alert, { title: \"Could not view rule\" }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_1___default().createElement(\"details\", { className: styles.errorMessage }, `Could not find data source with name: ${sourceName}.`)));\n  }\n  if (rules.length === 1) {\n    const [rule] = rules;\n    const to = (0,_utils_misc__WEBPACK_IMPORTED_MODULE_6__.createViewLink)(rulesSource, rule, \"/alerting/list\").replace(subUrl, \"\");\n    return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_1___default().createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_10__.Redirect, { to });\n  }\n  if (rules.length === 0) {\n    return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_components_rule_viewer_RuleViewerLayout__WEBPACK_IMPORTED_MODULE_3__.RuleViewerLayout, { title: pageTitle }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_1___default().createElement(\"div\", { \"data-testid\": \"no-rules\" }, \"No rules in \", /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_1___default().createElement(\"span\", { className: styles.param }, sourceName), \" matched the name\", \" \", /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_1___default().createElement(\"span\", { className: styles.param }, name)));\n  }\n  return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_components_rule_viewer_RuleViewerLayout__WEBPACK_IMPORTED_MODULE_3__.RuleViewerLayout, { title: pageTitle }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_1___default().createElement(\"div\", null, \"Several rules in \", /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_1___default().createElement(\"span\", { className: styles.param }, sourceName), \" matched the name\", \" \", /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_1___default().createElement(\"span\", { className: styles.param }, name), \", please select the rule you want to view.\"), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_1___default().createElement(\"div\", { className: styles.rules }, rules.map((rule, index) => {\n    return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_grafana_ui__WEBPACK_IMPORTED_MODULE_14__.Card, { key: `${rule.name}-${index}`, href: (0,_utils_misc__WEBPACK_IMPORTED_MODULE_6__.createViewLink)(rulesSource, rule, \"/alerting/list\") }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_grafana_ui__WEBPACK_IMPORTED_MODULE_14__.Card.Heading, null, rule.name), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_grafana_ui__WEBPACK_IMPORTED_MODULE_14__.Card.Meta, { separator: \"\" }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_grafana_ui__WEBPACK_IMPORTED_MODULE_15__.Icon, { name: \"folder\" }), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_1___default().createElement(\"span\", { className: styles.namespace }, `${rule.namespace.name} / ${rule.group.name}`)), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_grafana_ui__WEBPACK_IMPORTED_MODULE_14__.Card.Tags, null, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_components_AlertLabels__WEBPACK_IMPORTED_MODULE_2__.AlertLabels, { labels: rule.labels })));\n  })));\n}\nfunction getStyles(theme) {\n  return {\n    param: (0,_emotion_css__WEBPACK_IMPORTED_MODULE_0__.css)`\n      font-style: italic;\n      color: ${theme.colors.text.secondary};\n    `,\n    rules: (0,_emotion_css__WEBPACK_IMPORTED_MODULE_0__.css)`\n      margin-top: ${theme.spacing(2)};\n    `,\n    namespace: (0,_emotion_css__WEBPACK_IMPORTED_MODULE_0__.css)`\n      margin-left: ${theme.spacing(1)};\n    `,\n    errorMessage: (0,_emotion_css__WEBPACK_IMPORTED_MODULE_0__.css)`\n      white-space: pre-wrap;\n    `\n  };\n}\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,_grafana_ui__WEBPACK_IMPORTED_MODULE_16__.withErrorBoundary)(RedirectToRuleViewer, { style: \"page\" }));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9wdWJsaWMvYXBwL2ZlYXR1cmVzL2FsZXJ0aW5nL3VuaWZpZWQvUmVkaXJlY3RUb1J1bGVWaWV3ZXIudHN4IiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFvQjtBQUNXO0FBQ047QUFDRztBQUdTO0FBQ2dEO0FBRXpEO0FBQ0s7QUFDYTtBQUNUO0FBQ047QUFFL0IsTUFBTSxZQUFZO0FBQ2xCLE1BQU0sU0FBUyxvREFBTSxDQUFDO0FBRXRCLFNBQVMsb0JBQW9CO0FBTzNCLFFBQU0sV0FBVyxxREFBVyxDQUFDO0FBRTdCLFNBQU8sOENBQU8sQ0FBQyxNQUFNO0FBQ25CLFVBQU0sV0FBVyxTQUFTLFVBQVUsUUFBUSxRQUFRLEVBQUUsRUFBRSxNQUFNLEdBQUcsS0FBSyxDQUFDO0FBRXZFLFVBQU0sT0FBTyxtQkFBbUIsU0FBUyxDQUFDLENBQUM7QUFDM0MsVUFBTSxhQUFhLG1CQUFtQixTQUFTLENBQUMsQ0FBQztBQUVqRCxVQUFNLGVBQWUsSUFBSSxnQkFBZ0IsU0FBUyxNQUFNO0FBRXhELFdBQU87QUFBQSxNQUNMO0FBQUEsTUFDQTtBQUFBLE1BQ0EsV0FBVyxhQUFhLElBQUksV0FBVyxLQUFLO0FBQUEsTUFDNUMsT0FBTyxhQUFhLElBQUksT0FBTyxLQUFLO0FBQUEsSUFDdEM7QUFBQSxFQUNGLEdBQUcsQ0FBQyxRQUFRLENBQUM7QUFDZjtBQUVPLFNBQVMsdUJBQTJDO0FBQ3pELFFBQU0sU0FBUyx1REFBVSxDQUFDLFNBQVM7QUFFbkMsUUFBTSxFQUFFLE1BQU0sWUFBWSxXQUFXLE1BQU0sSUFBSSxrQkFBa0I7QUFDakUsUUFBTTtBQUFBLElBQ0o7QUFBQSxJQUNBO0FBQUEsSUFDQSxRQUFRLENBQUM7QUFBQSxFQUNYLElBQUkscUZBQTZCLENBQUMsTUFBTSxZQUFZLEVBQUUsV0FBVyxXQUFXLE1BQU0sQ0FBQztBQUVuRixNQUFJLENBQUMsUUFBUSxDQUFDLFlBQVk7QUFDeEIsV0FBTywyRUFBQyx1REFBUSxJQUFDLElBQUcsYUFBWTtBQUFBLEVBQ2xDO0FBRUEsTUFBSSxPQUFPO0FBQ1QsV0FDRSwyRUFBQyxzRkFBZ0IsSUFBQyxPQUFPLGFBQ3ZCLDJFQUFDLCtDQUFLLElBQUMsT0FBTyw2QkFBNkIsZ0JBQ3hDLCtEQUFZLENBQUMsS0FBSyxLQUNqQiwyRUFBQyxhQUFRLFdBQVcsT0FBTyxnQkFDeEIsTUFBTSxTQUNQLDJFQUFDLFVBQUcsQ0FFTixDQUVKLENBQ0Y7QUFBQSxFQUVKO0FBRUEsTUFBSSxTQUFTO0FBQ1gsV0FDRSwyRUFBQyxzRkFBZ0IsSUFBQyxPQUFPLGFBQ3ZCLDJFQUFDLDREQUFrQixJQUFDLE1BQUssbUJBQWtCLENBQzdDO0FBQUEsRUFFSjtBQUVBLFFBQU0sY0FBYyx1RUFBb0IsQ0FBQyxVQUFVO0FBRW5ELE1BQUksQ0FBQyxhQUFhO0FBQ2hCLFdBQ0UsMkVBQUMsc0ZBQWdCLElBQUMsT0FBTyxhQUN2QiwyRUFBQywrQ0FBSyxJQUFDLE9BQU0seUJBQ1gsMkVBQUMsYUFBUSxXQUFXLE9BQU8sZ0JBQWUseUNBQXlDLGFBQWMsQ0FDbkcsQ0FDRjtBQUFBLEVBRUo7QUFFQSxNQUFJLE1BQU0sV0FBVyxHQUFHO0FBQ3RCLFVBQU0sQ0FBQyxJQUFJLElBQUk7QUFDZixVQUFNLEtBQUssMkRBQWMsQ0FBQyxhQUFhLE1BQU0sZ0JBQWdCLEVBQUUsUUFBUSxRQUFRLEVBQUU7QUFDakYsV0FBTywyRUFBQyx1REFBUSxJQUFDLElBQVE7QUFBQSxFQUMzQjtBQUVBLE1BQUksTUFBTSxXQUFXLEdBQUc7QUFDdEIsV0FDRSwyRUFBQyxzRkFBZ0IsSUFBQyxPQUFPLGFBQ3ZCLDJFQUFDLFNBQUksZUFBWSxjQUFXLGdCQUNkLDJFQUFDLFVBQUssV0FBVyxPQUFPLFNBQVEsVUFBVyxHQUFPLHFCQUFrQixLQUNoRiwyRUFBQyxVQUFLLFdBQVcsT0FBTyxTQUFRLElBQUssQ0FDdkMsQ0FDRjtBQUFBLEVBRUo7QUFFQSxTQUNFLDJFQUFDLHNGQUFnQixJQUFDLE9BQU8sYUFDdkIsMkVBQUMsYUFBSSxxQkFDYywyRUFBQyxVQUFLLFdBQVcsT0FBTyxTQUFRLFVBQVcsR0FBTyxxQkFBa0IsS0FDckYsMkVBQUMsVUFBSyxXQUFXLE9BQU8sU0FBUSxJQUFLLEdBQU8sNENBQzlDLEdBQ0EsMkVBQUMsU0FBSSxXQUFXLE9BQU8sU0FDcEIsTUFBTSxJQUFJLENBQUMsTUFBTSxVQUFVO0FBQzFCLFdBQ0UsMkVBQUMsOENBQUksSUFBQyxLQUFLLEdBQUcsS0FBSyxRQUFRLFNBQVMsTUFBTSwyREFBYyxDQUFDLGFBQWEsTUFBTSxnQkFBZ0IsS0FDMUYsMkVBQUMsOENBQUksQ0FBQyxTQUFMLE1BQWMsS0FBSyxJQUFLLEdBQ3pCLDJFQUFDLDhDQUFJLENBQUMsTUFBTCxFQUFVLFdBQVcsTUFDcEIsMkVBQUMsOENBQUksSUFBQyxNQUFLLFVBQVMsR0FDcEIsMkVBQUMsVUFBSyxXQUFXLE9BQU8sYUFBWSxHQUFHLEtBQUssVUFBVSxVQUFVLEtBQUssTUFBTSxNQUFPLENBQ3BGLEdBQ0EsMkVBQUMsOENBQUksQ0FBQyxNQUFMLE1BQ0MsMkVBQUMsZ0VBQVcsSUFBQyxRQUFRLEtBQUssUUFBUSxDQUNwQyxDQUNGO0FBQUEsRUFFSixDQUFDLENBQ0gsQ0FDRjtBQUVKO0FBRUEsU0FBUyxVQUFVLE9BQXNCO0FBQ3ZDLFNBQU87QUFBQSxJQUNMLE9BQU8saURBQUc7QUFBSDtBQUFBLGVBRUksTUFBTSxPQUFPLEtBQUs7QUFBQTtBQUFBLElBRTdCLE9BQU8saURBQUc7QUFBSCxvQkFDUyxNQUFNLFFBQVEsQ0FBQztBQUFBO0FBQUEsSUFFL0IsV0FBVyxpREFBRztBQUFILHFCQUNNLE1BQU0sUUFBUSxDQUFDO0FBQUE7QUFBQSxJQUVoQyxjQUFjLGlEQUFHO0FBQUg7QUFBQTtBQUFBLEVBR2hCO0FBQ0Y7QUFFQSxpRUFBZSwrREFBaUIsQ0FBQyxzQkFBc0IsRUFBRSxPQUFPLE9BQU8sQ0FBQyxDQUFDLEVBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9ncmFmYW5hLy4vcHVibGljL2FwcC9mZWF0dXJlcy9hbGVydGluZy91bmlmaWVkL1JlZGlyZWN0VG9SdWxlVmlld2VyLnRzeD8zYTNhIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGNzcyB9IGZyb20gJ0BlbW90aW9uL2Nzcyc7XG5pbXBvcnQgUmVhY3QsIHsgdXNlTWVtbyB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IFJlZGlyZWN0IH0gZnJvbSAncmVhY3Qtcm91dGVyLWRvbSc7XG5pbXBvcnQgeyB1c2VMb2NhdGlvbiB9IGZyb20gJ3JlYWN0LXVzZSc7XG5cbmltcG9ydCB7IEdyYWZhbmFUaGVtZTIgfSBmcm9tICdAZ3JhZmFuYS9kYXRhJztcbmltcG9ydCB7IGNvbmZpZywgaXNGZXRjaEVycm9yIH0gZnJvbSAnQGdyYWZhbmEvcnVudGltZSc7XG5pbXBvcnQgeyBBbGVydCwgQ2FyZCwgSWNvbiwgTG9hZGluZ1BsYWNlaG9sZGVyLCB1c2VTdHlsZXMyLCB3aXRoRXJyb3JCb3VuZGFyeSB9IGZyb20gJ0BncmFmYW5hL3VpJztcblxuaW1wb3J0IHsgQWxlcnRMYWJlbHMgfSBmcm9tICcuL2NvbXBvbmVudHMvQWxlcnRMYWJlbHMnO1xuaW1wb3J0IHsgUnVsZVZpZXdlckxheW91dCB9IGZyb20gJy4vY29tcG9uZW50cy9ydWxlLXZpZXdlci9SdWxlVmlld2VyTGF5b3V0JztcbmltcG9ydCB7IHVzZUNsb3VkQ29tYmluZWRSdWxlc01hdGNoaW5nIH0gZnJvbSAnLi9ob29rcy91c2VDb21iaW5lZFJ1bGUnO1xuaW1wb3J0IHsgZ2V0UnVsZXNTb3VyY2VCeU5hbWUgfSBmcm9tICcuL3V0aWxzL2RhdGFzb3VyY2UnO1xuaW1wb3J0IHsgY3JlYXRlVmlld0xpbmsgfSBmcm9tICcuL3V0aWxzL21pc2MnO1xuXG5jb25zdCBwYWdlVGl0bGUgPSAnRmluZCBydWxlJztcbmNvbnN0IHN1YlVybCA9IGNvbmZpZy5hcHBTdWJVcmw7XG5cbmZ1bmN0aW9uIHVzZVJ1bGVGaW5kUGFyYW1zKCkge1xuICAvLyBETyBOT1QgVVNFIFJFQUNULVJPVVRFUiBIT09LUyBGT1IgVEhJUyBDT0RFXG4gIC8vIFJlYWN0LXJvdXRlcidzIHVzZUxvY2F0aW9uL3VzZVBhcmFtcy9wcm9wcy5tYXRjaCBhcmUgYnJva2VuIGFuZCBkb24ndCBwcmVzZXJ2ZSBvcmlnaW5hbCBwYXJhbSB2YWx1ZXMgd2hlbiBwYXJzaW5nIGxvY2F0aW9uXG4gIC8vIHNvLCB0aGV5IGNhbm5vdCBiZSB1c2VkIHRvIHBhcnNlIG5hbWUgYW5kIHNvdXJjZU5hbWUgcGF0aCBwYXJhbXNcbiAgLy8gUmVhY3Qtcm91dGVyIG1lc3NlcyB0aGUgcGF0aG5hbWUgdXAgcmVzdWx0aW5nIGluIGEgc3RyaW5nIHRoYXQgaXMgbmVpdGhlciBlbmNvZGVkIG5vciBkZWNvZGVkXG4gIC8vIFJlbGV2YW50IGlzc3VlOiBodHRwczovL2dpdGh1Yi5jb20vcmVtaXgtcnVuL2hpc3RvcnkvaXNzdWVzLzUwNSNpc3N1ZWNvbW1lbnQtNDUzMTc1ODMzXG4gIC8vIEl0IHdhcyBwcm9iYWJseSBmaXhlZCBpbiBSZWFjdC1Sb3V0ZXIgdjZcbiAgY29uc3QgbG9jYXRpb24gPSB1c2VMb2NhdGlvbigpO1xuXG4gIHJldHVybiB1c2VNZW1vKCgpID0+IHtcbiAgICBjb25zdCBzZWdtZW50cyA9IGxvY2F0aW9uLnBhdGhuYW1lPy5yZXBsYWNlKHN1YlVybCwgJycpLnNwbGl0KCcvJykgPz8gW107IC8vIFtcIlwiLCBcImFsZXJ0aW5nXCIsIFwie3NvdXJjZU5hbWV9XCIsIFwie25hbWV9XVxuXG4gICAgY29uc3QgbmFtZSA9IGRlY29kZVVSSUNvbXBvbmVudChzZWdtZW50c1szXSk7XG4gICAgY29uc3Qgc291cmNlTmFtZSA9IGRlY29kZVVSSUNvbXBvbmVudChzZWdtZW50c1syXSk7XG5cbiAgICBjb25zdCBzZWFyY2hQYXJhbXMgPSBuZXcgVVJMU2VhcmNoUGFyYW1zKGxvY2F0aW9uLnNlYXJjaCk7XG5cbiAgICByZXR1cm4ge1xuICAgICAgbmFtZSxcbiAgICAgIHNvdXJjZU5hbWUsXG4gICAgICBuYW1lc3BhY2U6IHNlYXJjaFBhcmFtcy5nZXQoJ25hbWVzcGFjZScpID8/IHVuZGVmaW5lZCxcbiAgICAgIGdyb3VwOiBzZWFyY2hQYXJhbXMuZ2V0KCdncm91cCcpID8/IHVuZGVmaW5lZCxcbiAgICB9O1xuICB9LCBbbG9jYXRpb25dKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIFJlZGlyZWN0VG9SdWxlVmlld2VyKCk6IEpTWC5FbGVtZW50IHwgbnVsbCB7XG4gIGNvbnN0IHN0eWxlcyA9IHVzZVN0eWxlczIoZ2V0U3R5bGVzKTtcblxuICBjb25zdCB7IG5hbWUsIHNvdXJjZU5hbWUsIG5hbWVzcGFjZSwgZ3JvdXAgfSA9IHVzZVJ1bGVGaW5kUGFyYW1zKCk7XG4gIGNvbnN0IHtcbiAgICBlcnJvcixcbiAgICBsb2FkaW5nLFxuICAgIHJ1bGVzID0gW10sXG4gIH0gPSB1c2VDbG91ZENvbWJpbmVkUnVsZXNNYXRjaGluZyhuYW1lLCBzb3VyY2VOYW1lLCB7IG5hbWVzcGFjZSwgZ3JvdXBOYW1lOiBncm91cCB9KTtcblxuICBpZiAoIW5hbWUgfHwgIXNvdXJjZU5hbWUpIHtcbiAgICByZXR1cm4gPFJlZGlyZWN0IHRvPVwiL25vdGZvdW5kXCIgLz47XG4gIH1cblxuICBpZiAoZXJyb3IpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPFJ1bGVWaWV3ZXJMYXlvdXQgdGl0bGU9e3BhZ2VUaXRsZX0+XG4gICAgICAgIDxBbGVydCB0aXRsZT17YEZhaWxlZCB0byBsb2FkIHJ1bGVzIGZyb20gJHtzb3VyY2VOYW1lfWB9PlxuICAgICAgICAgIHtpc0ZldGNoRXJyb3IoZXJyb3IpICYmIChcbiAgICAgICAgICAgIDxkZXRhaWxzIGNsYXNzTmFtZT17c3R5bGVzLmVycm9yTWVzc2FnZX0+XG4gICAgICAgICAgICAgIHtlcnJvci5tZXNzYWdlfVxuICAgICAgICAgICAgICA8YnIgLz5cbiAgICAgICAgICAgICAgey8qIHshIWVycm9yPy5zdGFjayAmJiBlcnJvci5zdGFja30gKi99XG4gICAgICAgICAgICA8L2RldGFpbHM+XG4gICAgICAgICAgKX1cbiAgICAgICAgPC9BbGVydD5cbiAgICAgIDwvUnVsZVZpZXdlckxheW91dD5cbiAgICApO1xuICB9XG5cbiAgaWYgKGxvYWRpbmcpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPFJ1bGVWaWV3ZXJMYXlvdXQgdGl0bGU9e3BhZ2VUaXRsZX0+XG4gICAgICAgIDxMb2FkaW5nUGxhY2Vob2xkZXIgdGV4dD1cIkxvYWRpbmcgcnVsZS4uLlwiIC8+XG4gICAgICA8L1J1bGVWaWV3ZXJMYXlvdXQ+XG4gICAgKTtcbiAgfVxuXG4gIGNvbnN0IHJ1bGVzU291cmNlID0gZ2V0UnVsZXNTb3VyY2VCeU5hbWUoc291cmNlTmFtZSk7XG5cbiAgaWYgKCFydWxlc1NvdXJjZSkge1xuICAgIHJldHVybiAoXG4gICAgICA8UnVsZVZpZXdlckxheW91dCB0aXRsZT17cGFnZVRpdGxlfT5cbiAgICAgICAgPEFsZXJ0IHRpdGxlPVwiQ291bGQgbm90IHZpZXcgcnVsZVwiPlxuICAgICAgICAgIDxkZXRhaWxzIGNsYXNzTmFtZT17c3R5bGVzLmVycm9yTWVzc2FnZX0+e2BDb3VsZCBub3QgZmluZCBkYXRhIHNvdXJjZSB3aXRoIG5hbWU6ICR7c291cmNlTmFtZX0uYH08L2RldGFpbHM+XG4gICAgICAgIDwvQWxlcnQ+XG4gICAgICA8L1J1bGVWaWV3ZXJMYXlvdXQ+XG4gICAgKTtcbiAgfVxuXG4gIGlmIChydWxlcy5sZW5ndGggPT09IDEpIHtcbiAgICBjb25zdCBbcnVsZV0gPSBydWxlcztcbiAgICBjb25zdCB0byA9IGNyZWF0ZVZpZXdMaW5rKHJ1bGVzU291cmNlLCBydWxlLCAnL2FsZXJ0aW5nL2xpc3QnKS5yZXBsYWNlKHN1YlVybCwgJycpO1xuICAgIHJldHVybiA8UmVkaXJlY3QgdG89e3RvfSAvPjtcbiAgfVxuXG4gIGlmIChydWxlcy5sZW5ndGggPT09IDApIHtcbiAgICByZXR1cm4gKFxuICAgICAgPFJ1bGVWaWV3ZXJMYXlvdXQgdGl0bGU9e3BhZ2VUaXRsZX0+XG4gICAgICAgIDxkaXYgZGF0YS10ZXN0aWQ9XCJuby1ydWxlc1wiPlxuICAgICAgICAgIE5vIHJ1bGVzIGluIDxzcGFuIGNsYXNzTmFtZT17c3R5bGVzLnBhcmFtfT57c291cmNlTmFtZX08L3NwYW4+IG1hdGNoZWQgdGhlIG5hbWV7JyAnfVxuICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT17c3R5bGVzLnBhcmFtfT57bmFtZX08L3NwYW4+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9SdWxlVmlld2VyTGF5b3V0PlxuICAgICk7XG4gIH1cblxuICByZXR1cm4gKFxuICAgIDxSdWxlVmlld2VyTGF5b3V0IHRpdGxlPXtwYWdlVGl0bGV9PlxuICAgICAgPGRpdj5cbiAgICAgICAgU2V2ZXJhbCBydWxlcyBpbiA8c3BhbiBjbGFzc05hbWU9e3N0eWxlcy5wYXJhbX0+e3NvdXJjZU5hbWV9PC9zcGFuPiBtYXRjaGVkIHRoZSBuYW1leycgJ31cbiAgICAgICAgPHNwYW4gY2xhc3NOYW1lPXtzdHlsZXMucGFyYW19PntuYW1lfTwvc3Bhbj4sIHBsZWFzZSBzZWxlY3QgdGhlIHJ1bGUgeW91IHdhbnQgdG8gdmlldy5cbiAgICAgIDwvZGl2PlxuICAgICAgPGRpdiBjbGFzc05hbWU9e3N0eWxlcy5ydWxlc30+XG4gICAgICAgIHtydWxlcy5tYXAoKHJ1bGUsIGluZGV4KSA9PiB7XG4gICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIDxDYXJkIGtleT17YCR7cnVsZS5uYW1lfS0ke2luZGV4fWB9IGhyZWY9e2NyZWF0ZVZpZXdMaW5rKHJ1bGVzU291cmNlLCBydWxlLCAnL2FsZXJ0aW5nL2xpc3QnKX0+XG4gICAgICAgICAgICAgIDxDYXJkLkhlYWRpbmc+e3J1bGUubmFtZX08L0NhcmQuSGVhZGluZz5cbiAgICAgICAgICAgICAgPENhcmQuTWV0YSBzZXBhcmF0b3I9eycnfT5cbiAgICAgICAgICAgICAgICA8SWNvbiBuYW1lPVwiZm9sZGVyXCIgLz5cbiAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9e3N0eWxlcy5uYW1lc3BhY2V9PntgJHtydWxlLm5hbWVzcGFjZS5uYW1lfSAvICR7cnVsZS5ncm91cC5uYW1lfWB9PC9zcGFuPlxuICAgICAgICAgICAgICA8L0NhcmQuTWV0YT5cbiAgICAgICAgICAgICAgPENhcmQuVGFncz5cbiAgICAgICAgICAgICAgICA8QWxlcnRMYWJlbHMgbGFiZWxzPXtydWxlLmxhYmVsc30gLz5cbiAgICAgICAgICAgICAgPC9DYXJkLlRhZ3M+XG4gICAgICAgICAgICA8L0NhcmQ+XG4gICAgICAgICAgKTtcbiAgICAgICAgfSl9XG4gICAgICA8L2Rpdj5cbiAgICA8L1J1bGVWaWV3ZXJMYXlvdXQ+XG4gICk7XG59XG5cbmZ1bmN0aW9uIGdldFN0eWxlcyh0aGVtZTogR3JhZmFuYVRoZW1lMikge1xuICByZXR1cm4ge1xuICAgIHBhcmFtOiBjc3NgXG4gICAgICBmb250LXN0eWxlOiBpdGFsaWM7XG4gICAgICBjb2xvcjogJHt0aGVtZS5jb2xvcnMudGV4dC5zZWNvbmRhcnl9O1xuICAgIGAsXG4gICAgcnVsZXM6IGNzc2BcbiAgICAgIG1hcmdpbi10b3A6ICR7dGhlbWUuc3BhY2luZygyKX07XG4gICAgYCxcbiAgICBuYW1lc3BhY2U6IGNzc2BcbiAgICAgIG1hcmdpbi1sZWZ0OiAke3RoZW1lLnNwYWNpbmcoMSl9O1xuICAgIGAsXG4gICAgZXJyb3JNZXNzYWdlOiBjc3NgXG4gICAgICB3aGl0ZS1zcGFjZTogcHJlLXdyYXA7XG4gICAgYCxcbiAgfTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgd2l0aEVycm9yQm91bmRhcnkoUmVkaXJlY3RUb1J1bGVWaWV3ZXIsIHsgc3R5bGU6ICdwYWdlJyB9KTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./public/app/features/alerting/unified/RedirectToRuleViewer.tsx\n");

/***/ }),

/***/ "./public/app/features/alerting/unified/components/rule-viewer/RuleViewerLayout.tsx":
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   RuleViewerLayout: () => (/* binding */ RuleViewerLayout),\n/* harmony export */   RuleViewerLayoutContent: () => (/* binding */ RuleViewerLayoutContent)\n/* harmony export */ });\n/* harmony import */ var _emotion_css__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"./.yarn/cache/@emotion-css-npm-11.11.2-dbfa42cf83-1edea109df.zip/node_modules/@emotion/css/dist/emotion-css.esm.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(\"./.yarn/cache/react-npm-18.2.0-1eae08fee2-88e38092da.zip/node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _grafana_ui__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(\"./.yarn/__virtual__/@grafana-ui-virtual-d722efae30/1/packages/grafana-ui/src/themes/ThemeContext.tsx\");\n/* harmony import */ var app_core_components_Page_Page__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(\"./public/app/core/components/Page/Page.tsx\");\n\n\n\n\n\nconst defaultPageNav = {\n  icon: \"bell\",\n  id: \"alert-rule-view\"\n};\nfunction RuleViewerLayout(props) {\n  const { wrapInContent = true, children, title } = props;\n  const styles = (0,_grafana_ui__WEBPACK_IMPORTED_MODULE_3__.useStyles2)(getPageStyles);\n  return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_1___default().createElement(app_core_components_Page_Page__WEBPACK_IMPORTED_MODULE_2__.Page, { pageNav: { ...defaultPageNav, text: title }, navId: \"alert-list\" }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_1___default().createElement(app_core_components_Page_Page__WEBPACK_IMPORTED_MODULE_2__.Page.Contents, null, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_1___default().createElement(\"div\", { className: styles.content }, wrapInContent ? /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_1___default().createElement(RuleViewerLayoutContent, { ...props }) : children)));\n}\nfunction RuleViewerLayoutContent({ children, padding = 2 }) {\n  const styles = (0,_grafana_ui__WEBPACK_IMPORTED_MODULE_3__.useStyles2)(getContentStyles(padding));\n  return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_1___default().createElement(\"div\", { className: styles.wrapper }, children);\n}\nconst getPageStyles = (theme) => {\n  return {\n    content: (0,_emotion_css__WEBPACK_IMPORTED_MODULE_0__.css)`\n      max-width: ${theme.breakpoints.values.xxl}px;\n    `\n  };\n};\nconst getContentStyles = (padding) => (theme) => {\n  return {\n    wrapper: (0,_emotion_css__WEBPACK_IMPORTED_MODULE_0__.css)`\n      background: ${theme.colors.background.primary};\n      border: 1px solid ${theme.colors.border.weak};\n      border-radius: ${theme.shape.borderRadius()};\n      padding: ${theme.spacing(padding)};\n    `\n  };\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9wdWJsaWMvYXBwL2ZlYXR1cmVzL2FsZXJ0aW5nL3VuaWZpZWQvY29tcG9uZW50cy9ydWxlLXZpZXdlci9SdWxlVmlld2VyTGF5b3V0LnRzeCIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7OztBQUFvQjtBQUNGO0FBR1M7QUFDTjtBQVFyQixNQUFNLGlCQUF3QztBQUFBLEVBQzVDLE1BQU07QUFBQSxFQUNOLElBQUk7QUFDTjtBQUVPLFNBQVMsaUJBQWlCLE9BQWtDO0FBQ2pFLFFBQU0sRUFBRSxnQkFBZ0IsTUFBTSxVQUFVLE1BQU0sSUFBSTtBQUNsRCxRQUFNLFNBQVMsdURBQVUsQ0FBQyxhQUFhO0FBRXZDLFNBQ0UsMkVBQUMsK0RBQUksSUFBQyxTQUFTLEVBQUUsR0FBRyxnQkFBZ0IsTUFBTSxNQUFNLEdBQUcsT0FBTSxnQkFDdkQsMkVBQUMsK0RBQUksQ0FBQyxVQUFMLE1BQ0MsMkVBQUMsU0FBSSxXQUFXLE9BQU8sV0FBVSxnQkFBZ0IsMkVBQUMsMkJBQXlCLEdBQUcsT0FBTyxJQUFLLFFBQVMsQ0FDckcsQ0FDRjtBQUVKO0FBT08sU0FBUyx3QkFBd0IsRUFBRSxVQUFVLFVBQVUsRUFBRSxHQUFxQztBQUNuRyxRQUFNLFNBQVMsdURBQVUsQ0FBQyxpQkFBaUIsT0FBTyxDQUFDO0FBQ25ELFNBQU8sMkVBQUMsU0FBSSxXQUFXLE9BQU8sV0FBVSxRQUFTO0FBQ25EO0FBRUEsTUFBTSxnQkFBZ0IsQ0FBQyxVQUF5QjtBQUM5QyxTQUFPO0FBQUEsSUFDTCxTQUFTLGlEQUFHO0FBQUgsbUJBQ00sTUFBTSxZQUFZLE9BQU87QUFBQTtBQUFBLEVBRTFDO0FBQ0Y7QUFFQSxNQUFNLG1CQUFtQixDQUFDLFlBQW9CLENBQUMsVUFBeUI7QUFDdEUsU0FBTztBQUFBLElBQ0wsU0FBUyxpREFBRztBQUFILG9CQUNPLE1BQU0sT0FBTyxXQUFXO0FBQUEsMEJBQ2xCLE1BQU0sT0FBTyxPQUFPO0FBQUEsdUJBQ3ZCLE1BQU0sTUFBTSxhQUFhO0FBQUEsaUJBQy9CLE1BQU0sUUFBUSxPQUFPO0FBQUE7QUFBQSxFQUVwQztBQUNGIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZ3JhZmFuYS8uL3B1YmxpYy9hcHAvZmVhdHVyZXMvYWxlcnRpbmcvdW5pZmllZC9jb21wb25lbnRzL3J1bGUtdmlld2VyL1J1bGVWaWV3ZXJMYXlvdXQudHN4P2FjMTIiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgY3NzIH0gZnJvbSAnQGVtb3Rpb24vY3NzJztcbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5cbmltcG9ydCB7IEdyYWZhbmFUaGVtZTIsIE5hdk1vZGVsSXRlbSB9IGZyb20gJ0BncmFmYW5hL2RhdGEnO1xuaW1wb3J0IHsgdXNlU3R5bGVzMiB9IGZyb20gJ0BncmFmYW5hL3VpJztcbmltcG9ydCB7IFBhZ2UgfSBmcm9tICdhcHAvY29yZS9jb21wb25lbnRzL1BhZ2UvUGFnZSc7XG5cbnR5cGUgUHJvcHMgPSB7XG4gIGNoaWxkcmVuOiBSZWFjdC5SZWFjdE5vZGUgfCBSZWFjdC5SZWFjdE5vZGVbXTtcbiAgdGl0bGU6IHN0cmluZztcbiAgd3JhcEluQ29udGVudD86IGJvb2xlYW47XG59O1xuXG5jb25zdCBkZWZhdWx0UGFnZU5hdjogUGFydGlhbDxOYXZNb2RlbEl0ZW0+ID0ge1xuICBpY29uOiAnYmVsbCcsXG4gIGlkOiAnYWxlcnQtcnVsZS12aWV3Jyxcbn07XG5cbmV4cG9ydCBmdW5jdGlvbiBSdWxlVmlld2VyTGF5b3V0KHByb3BzOiBQcm9wcyk6IEpTWC5FbGVtZW50IHwgbnVsbCB7XG4gIGNvbnN0IHsgd3JhcEluQ29udGVudCA9IHRydWUsIGNoaWxkcmVuLCB0aXRsZSB9ID0gcHJvcHM7XG4gIGNvbnN0IHN0eWxlcyA9IHVzZVN0eWxlczIoZ2V0UGFnZVN0eWxlcyk7XG5cbiAgcmV0dXJuIChcbiAgICA8UGFnZSBwYWdlTmF2PXt7IC4uLmRlZmF1bHRQYWdlTmF2LCB0ZXh0OiB0aXRsZSB9fSBuYXZJZD1cImFsZXJ0LWxpc3RcIj5cbiAgICAgIDxQYWdlLkNvbnRlbnRzPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT17c3R5bGVzLmNvbnRlbnR9Pnt3cmFwSW5Db250ZW50ID8gPFJ1bGVWaWV3ZXJMYXlvdXRDb250ZW50IHsuLi5wcm9wc30gLz4gOiBjaGlsZHJlbn08L2Rpdj5cbiAgICAgIDwvUGFnZS5Db250ZW50cz5cbiAgICA8L1BhZ2U+XG4gICk7XG59XG5cbnR5cGUgQ29udGVudFByb3BzID0ge1xuICBjaGlsZHJlbjogUmVhY3QuUmVhY3ROb2RlIHwgUmVhY3QuUmVhY3ROb2RlW107XG4gIHBhZGRpbmc/OiBudW1iZXI7XG59O1xuXG5leHBvcnQgZnVuY3Rpb24gUnVsZVZpZXdlckxheW91dENvbnRlbnQoeyBjaGlsZHJlbiwgcGFkZGluZyA9IDIgfTogQ29udGVudFByb3BzKTogSlNYLkVsZW1lbnQgfCBudWxsIHtcbiAgY29uc3Qgc3R5bGVzID0gdXNlU3R5bGVzMihnZXRDb250ZW50U3R5bGVzKHBhZGRpbmcpKTtcbiAgcmV0dXJuIDxkaXYgY2xhc3NOYW1lPXtzdHlsZXMud3JhcHBlcn0+e2NoaWxkcmVufTwvZGl2Pjtcbn1cblxuY29uc3QgZ2V0UGFnZVN0eWxlcyA9ICh0aGVtZTogR3JhZmFuYVRoZW1lMikgPT4ge1xuICByZXR1cm4ge1xuICAgIGNvbnRlbnQ6IGNzc2BcbiAgICAgIG1heC13aWR0aDogJHt0aGVtZS5icmVha3BvaW50cy52YWx1ZXMueHhsfXB4O1xuICAgIGAsXG4gIH07XG59O1xuXG5jb25zdCBnZXRDb250ZW50U3R5bGVzID0gKHBhZGRpbmc6IG51bWJlcikgPT4gKHRoZW1lOiBHcmFmYW5hVGhlbWUyKSA9PiB7XG4gIHJldHVybiB7XG4gICAgd3JhcHBlcjogY3NzYFxuICAgICAgYmFja2dyb3VuZDogJHt0aGVtZS5jb2xvcnMuYmFja2dyb3VuZC5wcmltYXJ5fTtcbiAgICAgIGJvcmRlcjogMXB4IHNvbGlkICR7dGhlbWUuY29sb3JzLmJvcmRlci53ZWFrfTtcbiAgICAgIGJvcmRlci1yYWRpdXM6ICR7dGhlbWUuc2hhcGUuYm9yZGVyUmFkaXVzKCl9O1xuICAgICAgcGFkZGluZzogJHt0aGVtZS5zcGFjaW5nKHBhZGRpbmcpfTtcbiAgICBgLFxuICB9O1xufTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./public/app/features/alerting/unified/components/rule-viewer/RuleViewerLayout.tsx\n");

/***/ }),

/***/ "./public/app/features/alerting/unified/hooks/useCombinedRule.ts":
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   useCloudCombinedRulesMatching: () => (/* binding */ useCloudCombinedRulesMatching),\n/* harmony export */   useCombinedRule: () => (/* binding */ useCombinedRule),\n/* harmony export */   useCombinedRulesMatching: () => (/* binding */ useCombinedRulesMatching),\n/* harmony export */   useDataSourceFeatures: () => (/* binding */ useDataSourceFeatures)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"./.yarn/cache/react-npm-18.2.0-1eae08fee2-88e38092da.zip/node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react_use__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(\"./.yarn/__virtual__/react-use-virtual-dd7926f458/0/cache/react-use-npm-17.4.0-0ef4521544-0889da919b.zip/node_modules/react-use/esm/useAsync.js\");\n/* harmony import */ var app_types__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(\"./public/app/types/index.ts\");\n/* harmony import */ var _api_alertRuleApi__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(\"./public/app/features/alerting/unified/api/alertRuleApi.ts\");\n/* harmony import */ var _api_featureDiscoveryApi__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(\"./public/app/features/alerting/unified/api/featureDiscoveryApi.ts\");\n/* harmony import */ var _state_actions__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(\"./public/app/features/alerting/unified/state/actions.ts\");\n/* harmony import */ var _utils_datasource__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(\"./public/app/features/alerting/unified/utils/datasource.ts\");\n/* harmony import */ var _utils_redux__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(\"./public/app/features/alerting/unified/utils/redux.ts\");\n/* harmony import */ var _utils_rule_id__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(\"./public/app/features/alerting/unified/utils/rule-id.ts\");\n/* harmony import */ var _utils_rules__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(\"./public/app/features/alerting/unified/utils/rules.ts\");\n/* harmony import */ var _useCombinedRuleNamespaces__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(\"./public/app/features/alerting/unified/hooks/useCombinedRuleNamespaces.ts\");\n/* harmony import */ var _useUnifiedAlertingSelector__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(\"./public/app/features/alerting/unified/hooks/useUnifiedAlertingSelector.ts\");\n\n\n\n\n\n\n\n\n\n\n\n\n\nfunction useCombinedRulesMatching(ruleName, ruleSourceName) {\n  const requestState = useCombinedRulesLoader(ruleSourceName);\n  const combinedRules = (0,_useCombinedRuleNamespaces__WEBPACK_IMPORTED_MODULE_9__.useCombinedRuleNamespaces)(ruleSourceName);\n  const rules = (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(() => {\n    if (!ruleName || !ruleSourceName || combinedRules.length === 0) {\n      return [];\n    }\n    const rules2 = [];\n    for (const namespace of combinedRules) {\n      for (const group of namespace.groups) {\n        for (const rule of group.rules) {\n          if (rule.name === ruleName) {\n            rules2.push(rule);\n          }\n        }\n      }\n    }\n    return rules2;\n  }, [ruleName, ruleSourceName, combinedRules]);\n  return {\n    ...requestState,\n    result: rules\n  };\n}\nfunction useCloudCombinedRulesMatching(ruleName, ruleSourceName, filter) {\n  const dsSettings = (0,_utils_datasource__WEBPACK_IMPORTED_MODULE_5__.getDataSourceByName)(ruleSourceName);\n  const { dsFeatures, isLoadingDsFeatures } = useDataSourceFeatures(ruleSourceName);\n  const {\n    currentData: promRuleNs = [],\n    isLoading: isLoadingPromRules,\n    error: promRuleNsError\n  } = _api_alertRuleApi__WEBPACK_IMPORTED_MODULE_2__.alertRuleApi.endpoints.prometheusRuleNamespaces.useQuery({\n    ruleSourceName,\n    ruleName,\n    namespace: filter?.namespace,\n    groupName: filter?.groupName\n  });\n  const [fetchRulerRuleGroup] = _api_alertRuleApi__WEBPACK_IMPORTED_MODULE_2__.alertRuleApi.endpoints.rulerRuleGroup.useLazyQuery();\n  const { loading, error, value } = (0,react_use__WEBPACK_IMPORTED_MODULE_11__[\"default\"])(async () => {\n    if (!dsSettings) {\n      throw new Error(\"Unable to obtain data source settings\");\n    }\n    if (promRuleNsError) {\n      throw new Error(\"Unable to obtain Prometheus rules\");\n    }\n    const rulerGroups = [];\n    if (dsFeatures?.rulerConfig) {\n      const rulerConfig = dsFeatures.rulerConfig;\n      const nsGroups = promRuleNs.map((namespace) => namespace.groups.map((group) => ({ namespace, group }))).flat();\n      await Promise.allSettled(\n        nsGroups.map(async (nsGroup) => {\n          const rulerGroup = await fetchRulerRuleGroup({\n            rulerConfig,\n            namespace: nsGroup.namespace.name,\n            group: nsGroup.group.name\n          }).unwrap();\n          rulerGroups.push(rulerGroup);\n        })\n      );\n    }\n    const namespaces = promRuleNs.map((ns) => (0,_useCombinedRuleNamespaces__WEBPACK_IMPORTED_MODULE_9__.attachRulerRulesToCombinedRules)(dsSettings, ns, rulerGroups));\n    const rules = namespaces.flatMap((ns) => ns.groups.flatMap((group) => group.rules));\n    return rules;\n  }, [dsSettings, dsFeatures, isLoadingPromRules, promRuleNsError, promRuleNs, fetchRulerRuleGroup]);\n  return { loading: isLoadingDsFeatures || loading, error, rules: value };\n}\nfunction useCombinedRulesLoader(rulesSourceName, identifier) {\n  const dispatch = (0,app_types__WEBPACK_IMPORTED_MODULE_1__.useDispatch)();\n  const promRuleRequests = (0,_useUnifiedAlertingSelector__WEBPACK_IMPORTED_MODULE_10__.useUnifiedAlertingSelector)((state) => state.promRules);\n  const promRuleRequest = getRequestState(rulesSourceName, promRuleRequests);\n  const rulerRuleRequests = (0,_useUnifiedAlertingSelector__WEBPACK_IMPORTED_MODULE_10__.useUnifiedAlertingSelector)((state) => state.rulerRules);\n  const rulerRuleRequest = getRequestState(rulesSourceName, rulerRuleRequests);\n  const { loading } = (0,react_use__WEBPACK_IMPORTED_MODULE_11__[\"default\"])(async () => {\n    if (!rulesSourceName) {\n      return;\n    }\n    await dispatch((0,_state_actions__WEBPACK_IMPORTED_MODULE_4__.fetchPromAndRulerRulesAction)({ rulesSourceName, identifier }));\n  }, [dispatch, rulesSourceName]);\n  return {\n    loading,\n    error: promRuleRequest.error ?? (0,_utils_rules__WEBPACK_IMPORTED_MODULE_8__.isRulerNotSupportedResponse)(rulerRuleRequest) ? void 0 : rulerRuleRequest.error,\n    dispatched: promRuleRequest.dispatched && rulerRuleRequest.dispatched\n  };\n}\nfunction getRequestState(ruleSourceName, slice) {\n  if (!ruleSourceName) {\n    return _utils_redux__WEBPACK_IMPORTED_MODULE_6__.initialAsyncRequestState;\n  }\n  const state = slice[ruleSourceName];\n  if (!state) {\n    return _utils_redux__WEBPACK_IMPORTED_MODULE_6__.initialAsyncRequestState;\n  }\n  return state;\n}\nfunction useCombinedRule({ ruleIdentifier }) {\n  const { ruleSourceName } = ruleIdentifier;\n  const dsSettings = (0,_utils_datasource__WEBPACK_IMPORTED_MODULE_5__.getDataSourceByName)(ruleSourceName);\n  const { dsFeatures, isLoadingDsFeatures } = useDataSourceFeatures(ruleSourceName);\n  const {\n    currentData: promRuleNs,\n    isLoading: isLoadingPromRules,\n    error: promRuleNsError\n  } = _api_alertRuleApi__WEBPACK_IMPORTED_MODULE_2__.alertRuleApi.endpoints.prometheusRuleNamespaces.useQuery(\n    {\n      // TODO Refactor parameters\n      ruleSourceName: ruleIdentifier.ruleSourceName,\n      namespace: (0,_utils_rules__WEBPACK_IMPORTED_MODULE_8__.isPrometheusRuleIdentifier)(ruleIdentifier) || (0,_utils_rules__WEBPACK_IMPORTED_MODULE_8__.isCloudRuleIdentifier)(ruleIdentifier) ? ruleIdentifier.namespace : void 0,\n      groupName: (0,_utils_rules__WEBPACK_IMPORTED_MODULE_8__.isPrometheusRuleIdentifier)(ruleIdentifier) || (0,_utils_rules__WEBPACK_IMPORTED_MODULE_8__.isCloudRuleIdentifier)(ruleIdentifier) ? ruleIdentifier.groupName : void 0,\n      ruleName: (0,_utils_rules__WEBPACK_IMPORTED_MODULE_8__.isPrometheusRuleIdentifier)(ruleIdentifier) || (0,_utils_rules__WEBPACK_IMPORTED_MODULE_8__.isCloudRuleIdentifier)(ruleIdentifier) ? ruleIdentifier.ruleName : void 0\n    }\n    // TODO – experiment with enabling these now that we request a single alert rule more efficiently.\n    // Requires a recent version of Prometheus with support for query params on /api/v1/rules\n    // {\n    //   refetchOnFocus: true,\n    //   refetchOnReconnect: true,\n    // }\n  );\n  const [\n    fetchRulerRuleGroup,\n    { currentData: rulerRuleGroup, isLoading: isLoadingRulerGroup, error: rulerRuleGroupError }\n  ] = _api_alertRuleApi__WEBPACK_IMPORTED_MODULE_2__.alertRuleApi.endpoints.rulerRuleGroup.useLazyQuery();\n  const [fetchRulerRules, { currentData: rulerRules, isLoading: isLoadingRulerRules, error: rulerRulesError }] = _api_alertRuleApi__WEBPACK_IMPORTED_MODULE_2__.alertRuleApi.endpoints.rulerRules.useLazyQuery();\n  (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {\n    if (!dsFeatures?.rulerConfig) {\n      return;\n    }\n    if (dsFeatures.rulerConfig && (0,_utils_rules__WEBPACK_IMPORTED_MODULE_8__.isCloudRuleIdentifier)(ruleIdentifier)) {\n      fetchRulerRuleGroup({\n        rulerConfig: dsFeatures.rulerConfig,\n        namespace: ruleIdentifier.namespace,\n        group: ruleIdentifier.groupName\n      });\n    } else if ((0,_utils_rules__WEBPACK_IMPORTED_MODULE_8__.isGrafanaRuleIdentifier)(ruleIdentifier)) {\n      fetchRulerRules({ rulerConfig: dsFeatures.rulerConfig });\n    }\n  }, [dsFeatures, fetchRulerRuleGroup, fetchRulerRules, ruleIdentifier]);\n  const rule = (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(() => {\n    if (!promRuleNs) {\n      return;\n    }\n    if ((0,_utils_rules__WEBPACK_IMPORTED_MODULE_8__.isGrafanaRuleIdentifier)(ruleIdentifier)) {\n      const combinedNamespaces = (0,_useCombinedRuleNamespaces__WEBPACK_IMPORTED_MODULE_9__.combineRulesNamespaces)(\"grafana\", promRuleNs, rulerRules);\n      for (const namespace of combinedNamespaces) {\n        for (const group of namespace.groups) {\n          for (const rule2 of group.rules) {\n            const id = _utils_rule_id__WEBPACK_IMPORTED_MODULE_7__.fromCombinedRule(ruleSourceName, rule2);\n            if (_utils_rule_id__WEBPACK_IMPORTED_MODULE_7__.equal(id, ruleIdentifier)) {\n              return rule2;\n            }\n          }\n        }\n      }\n    }\n    if (!dsSettings) {\n      return;\n    }\n    if (promRuleNs.length > 0 && ((0,_utils_rules__WEBPACK_IMPORTED_MODULE_8__.isCloudRuleIdentifier)(ruleIdentifier) || (0,_utils_rules__WEBPACK_IMPORTED_MODULE_8__.isPrometheusRuleIdentifier)(ruleIdentifier))) {\n      const namespaces = promRuleNs.map(\n        (ns) => (0,_useCombinedRuleNamespaces__WEBPACK_IMPORTED_MODULE_9__.attachRulerRulesToCombinedRules)(dsSettings, ns, rulerRuleGroup ? [rulerRuleGroup] : [])\n      );\n      for (const namespace of namespaces) {\n        for (const group of namespace.groups) {\n          for (const rule2 of group.rules) {\n            const id = _utils_rule_id__WEBPACK_IMPORTED_MODULE_7__.fromCombinedRule(ruleSourceName, rule2);\n            if (_utils_rule_id__WEBPACK_IMPORTED_MODULE_7__.equal(id, ruleIdentifier)) {\n              return rule2;\n            }\n          }\n        }\n      }\n    }\n    return;\n  }, [ruleIdentifier, ruleSourceName, promRuleNs, rulerRuleGroup, rulerRules, dsSettings]);\n  return {\n    loading: isLoadingDsFeatures || isLoadingPromRules || isLoadingRulerGroup || isLoadingRulerRules,\n    error: promRuleNsError ?? rulerRuleGroupError ?? rulerRulesError,\n    result: rule\n  };\n}\nconst grafanaRulerConfig = {\n  dataSourceName: _utils_datasource__WEBPACK_IMPORTED_MODULE_5__.GRAFANA_RULES_SOURCE_NAME,\n  apiVersion: \"legacy\"\n};\nconst grafanaDsFeatures = {\n  rulerConfig: grafanaRulerConfig\n};\nfunction useDataSourceFeatures(dataSourceName) {\n  const isGrafanaDs = (0,_utils_datasource__WEBPACK_IMPORTED_MODULE_5__.isGrafanaRulesSource)(dataSourceName);\n  const { currentData: dsFeatures, isLoading: isLoadingDsFeatures } = _api_featureDiscoveryApi__WEBPACK_IMPORTED_MODULE_3__.featureDiscoveryApi.endpoints.discoverDsFeatures.useQuery(\n    {\n      rulesSourceName: dataSourceName\n    },\n    { skip: isGrafanaDs }\n  );\n  if (isGrafanaDs) {\n    return { isLoadingDsFeatures: false, dsFeatures: grafanaDsFeatures };\n  }\n  return { isLoadingDsFeatures, dsFeatures };\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9wdWJsaWMvYXBwL2ZlYXR1cmVzL2FsZXJ0aW5nL3VuaWZpZWQvaG9va3MvdXNlQ29tYmluZWRSdWxlLnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFtQztBQUNWO0FBRUc7QUFJQztBQUNPO0FBQ1M7QUFDd0M7QUFDSDtBQUMxRDtBQU1qQjtBQU1BO0FBQ29DO0FBRXBDLFNBQVMseUJBQ2QsVUFDQSxnQkFDbUM7QUFDbkMsUUFBTSxlQUFlLHVCQUF1QixjQUFjO0FBQzFELFFBQU0sZ0JBQWdCLHFGQUF5QixDQUFDLGNBQWM7QUFFOUQsUUFBTSxRQUFRLDhDQUFPLENBQUMsTUFBTTtBQUMxQixRQUFJLENBQUMsWUFBWSxDQUFDLGtCQUFrQixjQUFjLFdBQVcsR0FBRztBQUM5RCxhQUFPLENBQUM7QUFBQSxJQUNWO0FBRUEsVUFBTUEsU0FBd0IsQ0FBQztBQUUvQixlQUFXLGFBQWEsZUFBZTtBQUNyQyxpQkFBVyxTQUFTLFVBQVUsUUFBUTtBQUNwQyxtQkFBVyxRQUFRLE1BQU0sT0FBTztBQUM5QixjQUFJLEtBQUssU0FBUyxVQUFVO0FBQzFCLFlBQUFBLE9BQU0sS0FBSyxJQUFJO0FBQUEsVUFDakI7QUFBQSxRQUNGO0FBQUEsTUFDRjtBQUFBLElBQ0Y7QUFFQSxXQUFPQTtBQUFBLEVBQ1QsR0FBRyxDQUFDLFVBQVUsZ0JBQWdCLGFBQWEsQ0FBQztBQUU1QyxTQUFPO0FBQUEsSUFDTCxHQUFHO0FBQUEsSUFDSCxRQUFRO0FBQUEsRUFDVjtBQUNGO0FBRU8sU0FBUyw4QkFDZCxVQUNBLGdCQUNBLFFBQytEO0FBQy9ELFFBQU0sYUFBYSxzRUFBbUIsQ0FBQyxjQUFjO0FBQ3JELFFBQU0sRUFBRSxZQUFZLG9CQUFvQixJQUFJLHNCQUFzQixjQUFjO0FBRWhGLFFBQU07QUFBQSxJQUNKLGFBQWEsYUFBYSxDQUFDO0FBQUEsSUFDM0IsV0FBVztBQUFBLElBQ1gsT0FBTztBQUFBLEVBQ1QsSUFBSSwyREFBWSxDQUFDLFVBQVUseUJBQXlCLFNB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LFNBQU87QUFBQSxJQUNMLFNBQVMsdUJBQXVCLHNCQUFzQix1QkFBdUI7QUFBQSxJQUM3RSxPQUFPLG1CQUFtQix1QkFBdUI7QUFBQSxJQUNqRCxRQUFRO0FBQUEsRUFDVjtBQUNGO0FBRUEsTUFBTSxxQkFBNEM7QUFBQSxFQUNoRCxnQkFBZ0Isd0VBQXlCO0FBQXpCLEVBQ2hCLFlBQVk7QUFDZDtBQUVBLE1BQU0sb0JBQW9CO0FBQUEsRUFDeEIsYUFBYTtBQUNmO0FBRU8sU0FBUyxzQkFBc0IsZ0JBQXdCO0FBQzVELFFBQU0sY0FBYyx1RUFBb0IsQ0FBQyxjQUFjO0FBRXZELFFBQU0sRUFBRSxhQUFhLFlBQVksV0FBVyxvQkFBb0IsSUFDOUQseUVBQW1CLENBQUMsVUFBVSxtQkFBbUI7QUFBQSxJQUMvQztBQUFBLE1BQ0UsaUJBQWlCO0FBQUEsSUFDbkI7QUFBQSxJQUNBLEVBQUUsTUFBTSxZQUFZO0FBQUEsRUFDdEI7QUFFRixNQUFJLGFBQWE7QUFDZixXQUFPLEVBQUUscUJBQXFCLE9BQU8sWUFBWSxrQkFBa0I7QUFBQSxFQUNyRTtBQUVBLFNBQU8sRUFBRSxxQkFBcUIsV0FBVztBQUMzQyIsInNvdXJjZXMiOlsid2VicGFjazovL2dyYWZhbmEvLi9wdWJsaWMvYXBwL2ZlYXR1cmVzL2FsZXJ0aW5nL3VuaWZpZWQvaG9va3MvdXNlQ29tYmluZWRSdWxlLnRzPzgyMGYiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgdXNlRWZmZWN0LCB1c2VNZW1vIH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgdXNlQXN5bmMgfSBmcm9tICdyZWFjdC11c2UnO1xuXG5pbXBvcnQgeyB1c2VEaXNwYXRjaCB9IGZyb20gJ2FwcC90eXBlcyc7XG5pbXBvcnQgeyBDb21iaW5lZFJ1bGUsIFJ1bGVJZGVudGlmaWVyLCBSdWxlTmFtZXNwYWNlLCBSdWxlckRhdGFTb3VyY2VDb25maWcgfSBmcm9tICdhcHAvdHlwZXMvdW5pZmllZC1hbGVydGluZyc7XG5pbXBvcnQgeyBSdWxlclJ1bGVHcm91cERUTywgUnVsZXJSdWxlc0NvbmZpZ0RUTyB9IGZyb20gJ2FwcC90eXBlcy91bmlmaWVkLWFsZXJ0aW5nLWR0byc7XG5cbmltcG9ydCB7IGFsZXJ0UnVsZUFwaSB9IGZyb20gJy4uL2FwaS9hbGVydFJ1bGVBcGknO1xuaW1wb3J0IHsgZmVhdHVyZURpc2NvdmVyeUFwaSB9IGZyb20gJy4uL2FwaS9mZWF0dXJlRGlzY292ZXJ5QXBpJztcbmltcG9ydCB7IGZldGNoUHJvbUFuZFJ1bGVyUnVsZXNBY3Rpb24gfSBmcm9tICcuLi9zdGF0ZS9hY3Rpb25zJztcbmltcG9ydCB7IGdldERhdGFTb3VyY2VCeU5hbWUsIEdSQUZBTkFfUlVMRVNfU09VUkNFX05BTUUsIGlzR3JhZmFuYVJ1bGVzU291cmNlIH0gZnJvbSAnLi4vdXRpbHMvZGF0YXNvdXJjZSc7XG5pbXBvcnQgeyBBc3luY1JlcXVlc3RNYXBTbGljZSwgQXN5bmNSZXF1ZXN0U3RhdGUsIGluaXRpYWxBc3luY1JlcXVlc3RTdGF0ZSB9IGZyb20gJy4uL3V0aWxzL3JlZHV4JztcbmltcG9ydCAqIGFzIHJ1bGVJZCBmcm9tICcuLi91dGlscy9ydWxlLWlkJztcbmltcG9ydCB7XG4gIGlzQ2xvdWRSdWxlSWRlbnRpZmllcixcbiAgaXNHcmFmYW5hUnVsZUlkZW50aWZpZXIsXG4gIGlzUHJvbWV0aGV1c1J1bGVJZGVudGlmaWVyLFxuICBpc1J1bGVyTm90U3VwcG9ydGVkUmVzcG9uc2UsXG59IGZyb20gJy4uL3V0aWxzL3J1bGVzJztcblxuaW1wb3J0IHtcbiAgYXR0YWNoUnVsZXJSdWxlc1RvQ29tYmluZWRSdWxlcyxcbiAgY29tYmluZVJ1bGVzTmFtZXNwYWNlcyxcbiAgdXNlQ29tYmluZWRSdWxlTmFtZXNwYWNlcyxcbn0gZnJvbSAnLi91c2VDb21iaW5lZFJ1bGVOYW1lc3BhY2VzJztcbmltcG9ydCB7IHVzZVVuaWZpZWRBbGVydGluZ1NlbGVjdG9yIH0gZnJvbSAnLi91c2VVbmlmaWVkQWxlcnRpbmdTZWxlY3Rvcic7XG5cbmV4cG9ydCBmdW5jdGlvbiB1c2VDb21iaW5lZFJ1bGVzTWF0Y2hpbmcoXG4gIHJ1bGVOYW1lOiBzdHJpbmcgfCB1bmRlZmluZWQsXG4gIHJ1bGVTb3VyY2VOYW1lOiBzdHJpbmcgfCB1bmRlZmluZWRcbik6IEFzeW5jUmVxdWVzdFN0YXRlPENvbWJpbmVkUnVsZVtdPiB7XG4gIGNvbnN0IHJlcXVlc3RTdGF0ZSA9IHVzZUNvbWJpbmVkUnVsZXNMb2FkZXIocnVsZVNvdXJjZU5hbWUpO1xuICBjb25zdCBjb21iaW5lZFJ1bGVzID0gdXNlQ29tYmluZWRSdWxlTmFtZXNwYWNlcyhydWxlU291cmNlTmFtZSk7XG5cbiAgY29uc3QgcnVsZXMgPSB1c2VNZW1vKCgpID0+IHtcbiAgICBpZiAoIXJ1bGVOYW1lIHx8ICFydWxlU291cmNlTmFtZSB8fCBjb21iaW5lZFJ1bGVzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgcmV0dXJuIFtdO1xuICAgIH1cblxuICAgIGNvbnN0IHJ1bGVzOiBDb21iaW5lZFJ1bGVbXSA9IFtdO1xuXG4gICAgZm9yIChjb25zdCBuYW1lc3BhY2Ugb2YgY29tYmluZWRSdWxlcykge1xuICAgICAgZm9yIChjb25zdCBncm91cCBvZiBuYW1lc3BhY2UuZ3JvdXBzKSB7XG4gICAgICAgIGZvciAoY29uc3QgcnVsZSBvZiBncm91cC5ydWxlcykge1xuICAgICAgICAgIGlmIChydWxlLm5hbWUgPT09IHJ1bGVOYW1lKSB7XG4gICAgICAgICAgICBydWxlcy5wdXNoKHJ1bGUpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBydWxlcztcbiAgfSwgW3J1bGVOYW1lLCBydWxlU291cmNlTmFtZSwgY29tYmluZWRSdWxlc10pO1xuXG4gIHJldHVybiB7XG4gICAgLi4ucmVxdWVzdFN0YXRlLFxuICAgIHJlc3VsdDogcnVsZXMsXG4gIH07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB1c2VDbG91ZENvbWJpbmVkUnVsZXNNYXRjaGluZyhcbiAgcnVsZU5hbWU6IHN0cmluZyxcbiAgcnVsZVNvdXJjZU5hbWU6IHN0cmluZyxcbiAgZmlsdGVyPzogeyBuYW1lc3BhY2U/OiBzdHJpbmc7IGdyb3VwTmFtZT86IHN0cmluZyB9XG4pOiB7IGxvYWRpbmc6IGJvb2xlYW47IGVycm9yPzogdW5rbm93bjsgcnVsZXM/OiBDb21iaW5lZFJ1bGVbXSB9IHtcbiAgY29uc3QgZHNTZXR0aW5ncyA9IGdldERhdGFTb3VyY2VCeU5hbWUocnVsZVNvdXJjZU5hbWUpO1xuICBjb25zdCB7IGRzRmVhdHVyZXMsIGlzTG9hZGluZ0RzRmVhdHVyZXMgfSA9IHVzZURhdGFTb3VyY2VGZWF0dXJlcyhydWxlU291cmNlTmFtZSk7XG5cbiAgY29uc3Qge1xuICAgIGN1cnJlbnREYXRhOiBwcm9tUnVsZU5zID0gW10sXG4gICAgaXNMb2FkaW5nOiBpc0xvYWRpbmdQcm9tUnVsZXMsXG4gICAgZXJyb3I6IHByb21SdWxlTnNFcnJvcixcbiAgfSA9IGFsZXJ0UnVsZUFwaS5lbmRwb2ludHMucHJvbWV0aGV1c1J1bGVOYW1lc3BhY2VzLnVzZVF1ZXJ5KHtcbiAgICBydWxlU291cmNlTmFtZTogcnVsZVNvdXJjZU5hbWUsXG4gICAgcnVsZU5hbWU6IHJ1bGVOYW1lLFxuICAgIG5hbWVzcGFjZTogZmlsdGVyPy5uYW1lc3BhY2UsXG4gICAgZ3JvdXBOYW1lOiBmaWx0ZXI/Lmdyb3VwTmFtZSxcbiAgfSk7XG5cbiAgY29uc3QgW2ZldGNoUnVsZXJSdWxlR3JvdXBdID0gYWxlcnRSdWxlQXBpLmVuZHBvaW50cy5ydWxlclJ1bGVHcm91cC51c2VMYXp5UXVlcnkoKTtcblxuICBjb25zdCB7IGxvYWRpbmcsIGVycm9yLCB2YWx1ZSB9ID0gdXNlQXN5bmMoYXN5bmMgKCkgPT4ge1xuICAgIGlmICghZHNTZXR0aW5ncykge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdVbmFibGUgdG8gb2J0YWluIGRhdGEgc291cmNlIHNldHRpbmdzJyk7XG4gICAgfVxuXG4gICAgaWYgKHByb21SdWxlTnNFcnJvcikge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdVbmFibGUgdG8gb2J0YWluIFByb21ldGhldXMgcnVsZXMnKTtcbiAgICB9XG5cbiAgICBjb25zdCBydWxlckdyb3VwczogUnVsZXJSdWxlR3JvdXBEVE9bXSA9IFtdO1xuICAgIGlmIChkc0ZlYXR1cmVzPy5ydWxlckNvbmZpZykge1xuICAgICAgY29uc3QgcnVsZXJDb25maWcgPSBkc0ZlYXR1cmVzLnJ1bGVyQ29uZmlnO1xuXG4gICAgICBjb25zdCBuc0dyb3VwcyA9IHByb21SdWxlTnNcbiAgICAgICAgLm1hcCgobmFtZXNwYWNlKSA9PiBuYW1lc3BhY2UuZ3JvdXBzLm1hcCgoZ3JvdXApID0+ICh7IG5hbWVzcGFjZTogbmFtZXNwYWNlLCBncm91cDogZ3JvdXAgfSkpKVxuICAgICAgICAuZmxhdCgpO1xuXG4gICAgICAvLyBSVEsgcXVlcnkgdGFrZXMgY2FyZSBvZiBkZWR1cGxpY2F0aW9uXG4gICAgICBhd2FpdCBQcm9taXNlLmFsbFNldHRsZWQoXG4gICAgICAgIG5zR3JvdXBzLm1hcChhc3luYyAobnNHcm91cCkgPT4ge1xuICAgICAgICAgIGNvbnN0IHJ1bGVyR3JvdXAgPSBhd2FpdCBmZXRjaFJ1bGVyUnVsZUdyb3VwKHtcbiAgICAgICAgICAgIHJ1bGVyQ29uZmlnOiBydWxlckNvbmZpZyxcbiAgICAgICAgICAgIG5hbWVzcGFjZTogbnNHcm91cC5uYW1lc3BhY2UubmFtZSxcbiAgICAgICAgICAgIGdyb3VwOiBuc0dyb3VwLmdyb3VwLm5hbWUsXG4gICAgICAgICAgfSkudW53cmFwKCk7XG4gICAgICAgICAgcnVsZXJHcm91cHMucHVzaChydWxlckdyb3VwKTtcbiAgICAgICAgfSlcbiAgICAgICk7XG4gICAgfVxuXG4gICAgLy8gVE9ETyBKb2luIHdpdGggcnVsZXIgcnVsZXNcbiAgICBjb25zdCBuYW1lc3BhY2VzID0gcHJvbVJ1bGVOcy5tYXAoKG5zKSA9PiBhdHRhY2hSdWxlclJ1bGVzVG9Db21iaW5lZFJ1bGVzKGRzU2V0dGluZ3MsIG5zLCBydWxlckdyb3VwcykpO1xuICAgIGNvbnN0IHJ1bGVzID0gbmFtZXNwYWNlcy5mbGF0TWFwKChucykgPT4gbnMuZ3JvdXBzLmZsYXRNYXAoKGdyb3VwKSA9PiBncm91cC5ydWxlcykpO1xuXG4gICAgcmV0dXJuIHJ1bGVzO1xuICB9LCBbZHNTZXR0aW5ncywgZHNGZWF0dXJlcywgaXNMb2FkaW5nUHJvbVJ1bGVzLCBwcm9tUnVsZU5zRXJyb3IsIHByb21SdWxlTnMsIGZldGNoUnVsZXJSdWxlR3JvdXBdKTtcblxuICByZXR1cm4geyBsb2FkaW5nOiBpc0xvYWRpbmdEc0ZlYXR1cmVzIHx8IGxvYWRpbmcsIGVycm9yOiBlcnJvciwgcnVsZXM6IHZhbHVlIH07XG59XG5cbmZ1bmN0aW9uIHVzZUNvbWJpbmVkUnVsZXNMb2FkZXIoXG4gIHJ1bGVzU291cmNlTmFtZTogc3RyaW5nIHwgdW5kZWZpbmVkLFxuICBpZGVudGlmaWVyPzogUnVsZUlkZW50aWZpZXJcbik6IEFzeW5jUmVxdWVzdFN0YXRlPHZvaWQ+IHtcbiAgY29uc3QgZGlzcGF0Y2ggPSB1c2VEaXNwYXRjaCgpO1xuICBjb25zdCBwcm9tUnVsZVJlcXVlc3RzID0gdXNlVW5pZmllZEFsZXJ0aW5nU2VsZWN0b3IoKHN0YXRlKSA9PiBzdGF0ZS5wcm9tUnVsZXMpO1xuICBjb25zdCBwcm9tUnVsZVJlcXVlc3QgPSBnZXRSZXF1ZXN0U3RhdGUocnVsZXNTb3VyY2VOYW1lLCBwcm9tUnVsZVJlcXVlc3RzKTtcbiAgY29uc3QgcnVsZXJSdWxlUmVxdWVzdHMgPSB1c2VVbmlmaWVkQWxlcnRpbmdTZWxlY3Rvcigoc3RhdGUpID0+IHN0YXRlLnJ1bGVyUnVsZXMpO1xuICBjb25zdCBydWxlclJ1bGVSZXF1ZXN0ID0gZ2V0UmVxdWVzdFN0YXRlKHJ1bGVzU291cmNlTmFtZSwgcnVsZXJSdWxlUmVxdWVzdHMpO1xuXG4gIGNvbnN0IHsgbG9hZGluZyB9ID0gdXNlQXN5bmMoYXN5bmMgKCkgPT4ge1xuICAgIGlmICghcnVsZXNTb3VyY2VOYW1lKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgYXdhaXQgZGlzcGF0Y2goZmV0Y2hQcm9tQW5kUnVsZXJSdWxlc0FjdGlvbih7IHJ1bGVzU291cmNlTmFtZSwgaWRlbnRpZmllciB9KSk7XG4gIH0sIFtkaXNwYXRjaCwgcnVsZXNTb3VyY2VOYW1lXSk7XG5cbiAgcmV0dXJuIHtcbiAgICBsb2FkaW5nLFxuICAgIGVycm9yOiBwcm9tUnVsZVJlcXVlc3QuZXJyb3IgPz8gaXNSdWxlck5vdFN1cHBvcnRlZFJlc3BvbnNlKHJ1bGVyUnVsZVJlcXVlc3QpID8gdW5kZWZpbmVkIDogcnVsZXJSdWxlUmVxdWVzdC5lcnJvcixcbiAgICBkaXNwYXRjaGVkOiBwcm9tUnVsZVJlcXVlc3QuZGlzcGF0Y2hlZCAmJiBydWxlclJ1bGVSZXF1ZXN0LmRpc3BhdGNoZWQsXG4gIH07XG59XG5cbmZ1bmN0aW9uIGdldFJlcXVlc3RTdGF0ZShcbiAgcnVsZVNvdXJjZU5hbWU6IHN0cmluZyB8IHVuZGVmaW5lZCxcbiAgc2xpY2U6IEFzeW5jUmVxdWVzdE1hcFNsaWNlPFJ1bGVyUnVsZXNDb25maWdEVE8gfCBSdWxlTmFtZXNwYWNlW10gfCBudWxsPlxuKTogQXN5bmNSZXF1ZXN0U3RhdGU8UnVsZXJSdWxlc0NvbmZpZ0RUTyB8IFJ1bGVOYW1lc3BhY2VbXSB8IG51bGw+IHtcbiAgaWYgKCFydWxlU291cmNlTmFtZSkge1xuICAgIHJldHVybiBpbml0aWFsQXN5bmNSZXF1ZXN0U3RhdGU7XG4gIH1cblxuICBjb25zdCBzdGF0ZSA9IHNsaWNlW3J1bGVTb3VyY2VOYW1lXTtcblxuICBpZiAoIXN0YXRlKSB7XG4gICAgcmV0dXJuIGluaXRpYWxBc3luY1JlcXVlc3RTdGF0ZTtcbiAgfVxuXG4gIHJldHVybiBzdGF0ZTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHVzZUNvbWJpbmVkUnVsZSh7IHJ1bGVJZGVudGlmaWVyIH06IHsgcnVsZUlkZW50aWZpZXI6IFJ1bGVJZGVudGlmaWVyIH0pOiB7XG4gIGxvYWRpbmc6IGJvb2xlYW47XG4gIHJlc3VsdD86IENvbWJpbmVkUnVsZTtcbiAgZXJyb3I/OiB1bmtub3duO1xufSB7XG4gIGNvbnN0IHsgcnVsZVNvdXJjZU5hbWUgfSA9IHJ1bGVJZGVudGlmaWVyO1xuICBjb25zdCBkc1NldHRpbmdzID0gZ2V0RGF0YVNvdXJjZUJ5TmFtZShydWxlU291cmNlTmFtZSk7XG5cbiAgY29uc3QgeyBkc0ZlYXR1cmVzLCBpc0xvYWRpbmdEc0ZlYXR1cmVzIH0gPSB1c2VEYXRhU291cmNlRmVhdHVyZXMocnVsZVNvdXJjZU5hbWUpO1xuXG4gIGNvbnN0IHtcbiAgICBjdXJyZW50RGF0YTogcHJvbVJ1bGVOcyxcbiAgICBpc0xvYWRpbmc6IGlzTG9hZGluZ1Byb21SdWxlcyxcbiAgICBlcnJvcjogcHJvbVJ1bGVOc0Vycm9yLFxuICB9ID0gYWxlcnRSdWxlQXBpLmVuZHBvaW50cy5wcm9tZXRoZXVzUnVsZU5hbWVzcGFjZXMudXNlUXVlcnkoXG4gICAge1xuICAgICAgLy8gVE9ETyBSZWZhY3RvciBwYXJhbWV0ZXJzXG4gICAgICBydWxlU291cmNlTmFtZTogcnVsZUlkZW50aWZpZXIucnVsZVNvdXJjZU5hbWUsXG4gICAgICBuYW1lc3BhY2U6XG4gICAgICAgIGlzUHJvbWV0aGV1c1J1bGVJZGVudGlmaWVyKHJ1bGVJZGVudGlmaWVyKSB8fCBpc0Nsb3VkUnVsZUlkZW50aWZpZXIocnVsZUlkZW50aWZpZXIpXG4gICAgICAgICAgPyBydWxlSWRlbnRpZmllci5uYW1lc3BhY2VcbiAgICAgICAgICA6IHVuZGVmaW5lZCxcbiAgICAgIGdyb3VwTmFtZTpcbiAgICAgICAgaXNQcm9tZXRoZXVzUnVsZUlkZW50aWZpZXIocnVsZUlkZW50aWZpZXIpIHx8IGlzQ2xvdWRSdWxlSWRlbnRpZmllcihydWxlSWRlbnRpZmllcilcbiAgICAgICAgICA/IHJ1bGVJZGVudGlmaWVyLmdyb3VwTmFtZVxuICAgICAgICAgIDogdW5kZWZpbmVkLFxuICAgICAgcnVsZU5hbWU6XG4gICAgICAgIGlzUHJvbWV0aGV1c1J1bGVJZGVudGlmaWVyKHJ1bGVJZGVudGlmaWVyKSB8fCBpc0Nsb3VkUnVsZUlkZW50aWZpZXIocnVsZUlkZW50aWZpZXIpXG4gICAgICAgICAgPyBydWxlSWRlbnRpZmllci5ydWxlTmFtZVxuICAgICAgICAgIDogdW5kZWZpbmVkLFxuICAgIH1cbiAgICAvLyBUT0RPIOKAkyBleHBlcmltZW50IHdpdGggZW5hYmxpbmcgdGhlc2Ugbm93IHRoYXQgd2UgcmVxdWVzdCBhIHNpbmdsZSBhbGVydCBydWxlIG1vcmUgZWZmaWNpZW50bHkuXG4gICAgLy8gUmVxdWlyZXMgYSByZWNlbnQgdmVyc2lvbiBvZiBQcm9tZXRoZXVzIHdpdGggc3VwcG9ydCBmb3IgcXVlcnkgcGFyYW1zIG9uIC9hcGkvdjEvcnVsZXNcbiAgICAvLyB7XG4gICAgLy8gICByZWZldGNoT25Gb2N1czogdHJ1ZSxcbiAgICAvLyAgIHJlZmV0Y2hPblJlY29ubmVjdDogdHJ1ZSxcbiAgICAvLyB9XG4gICk7XG5cbiAgY29uc3QgW1xuICAgIGZldGNoUnVsZXJSdWxlR3JvdXAsXG4gICAgeyBjdXJyZW50RGF0YTogcnVsZXJSdWxlR3JvdXAsIGlzTG9hZGluZzogaXNMb2FkaW5nUnVsZXJHcm91cCwgZXJyb3I6IHJ1bGVyUnVsZUdyb3VwRXJyb3IgfSxcbiAgXSA9IGFsZXJ0UnVsZUFwaS5lbmRwb2ludHMucnVsZXJSdWxlR3JvdXAudXNlTGF6eVF1ZXJ5KCk7XG5cbiAgY29uc3QgW2ZldGNoUnVsZXJSdWxlcywgeyBjdXJyZW50RGF0YTogcnVsZXJSdWxlcywgaXNMb2FkaW5nOiBpc0xvYWRpbmdSdWxlclJ1bGVzLCBlcnJvcjogcnVsZXJSdWxlc0Vycm9yIH1dID1cbiAgICBhbGVydFJ1bGVBcGkuZW5kcG9pbnRzLnJ1bGVyUnVsZXMudXNlTGF6eVF1ZXJ5KCk7XG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoIWRzRmVhdHVyZXM/LnJ1bGVyQ29uZmlnKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKGRzRmVhdHVyZXMucnVsZXJDb25maWcgJiYgaXNDbG91ZFJ1bGVJZGVudGlmaWVyKHJ1bGVJZGVudGlmaWVyKSkge1xuICAgICAgZmV0Y2hSdWxlclJ1bGVHcm91cCh7XG4gICAgICAgIHJ1bGVyQ29uZmlnOiBkc0ZlYXR1cmVzLnJ1bGVyQ29uZmlnLFxuICAgICAgICBuYW1lc3BhY2U6IHJ1bGVJZGVudGlmaWVyLm5hbWVzcGFjZSxcbiAgICAgICAgZ3JvdXA6IHJ1bGVJZGVudGlmaWVyLmdyb3VwTmFtZSxcbiAgICAgIH0pO1xuICAgIH0gZWxzZSBpZiAoaXNHcmFmYW5hUnVsZUlkZW50aWZpZXIocnVsZUlkZW50aWZpZXIpKSB7XG4gICAgICAvLyBUT0RPIEZldGNoIGEgc2luZ2xlIGdyb3VwIGZvciBHcmFmYW5hIG1hbmFnZWQgcnVsZXMsIHdlJ3JlIGN1cnJlbnRseSBzdGlsbCBmZXRjaGluZyBhbGwgcnVsZXMgZm9yIEdyYWZhbmEgbWFuYWdlZFxuICAgICAgZmV0Y2hSdWxlclJ1bGVzKHsgcnVsZXJDb25maWc6IGRzRmVhdHVyZXMucnVsZXJDb25maWcgfSk7XG4gICAgfVxuICB9LCBbZHNGZWF0dXJlcywgZmV0Y2hSdWxlclJ1bGVHcm91cCwgZmV0Y2hSdWxlclJ1bGVzLCBydWxlSWRlbnRpZmllcl0pO1xuXG4gIGNvbnN0IHJ1bGUgPSB1c2VNZW1vKCgpID0+IHtcbiAgICBpZiAoIXByb21SdWxlTnMpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAoaXNHcmFmYW5hUnVsZUlkZW50aWZpZXIocnVsZUlkZW50aWZpZXIpKSB7XG4gICAgICBjb25zdCBjb21iaW5lZE5hbWVzcGFjZXMgPSBjb21iaW5lUnVsZXNOYW1lc3BhY2VzKCdncmFmYW5hJywgcHJvbVJ1bGVOcywgcnVsZXJSdWxlcyk7XG5cbiAgICAgIGZvciAoY29uc3QgbmFtZXNwYWNlIG9mIGNvbWJpbmVkTmFtZXNwYWNlcykge1xuICAgICAgICBmb3IgKGNvbnN0IGdyb3VwIG9mIG5hbWVzcGFjZS5ncm91cHMpIHtcbiAgICAgICAgICBmb3IgKGNvbnN0IHJ1bGUgb2YgZ3JvdXAucnVsZXMpIHtcbiAgICAgICAgICAgIGNvbnN0IGlkID0gcnVsZUlkLmZyb21Db21iaW5lZFJ1bGUocnVsZVNvdXJjZU5hbWUsIHJ1bGUpO1xuXG4gICAgICAgICAgICBpZiAocnVsZUlkLmVxdWFsKGlkLCBydWxlSWRlbnRpZmllcikpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIHJ1bGU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKCFkc1NldHRpbmdzKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKFxuICAgICAgcHJvbVJ1bGVOcy5sZW5ndGggPiAwICYmXG4gICAgICAoaXNDbG91ZFJ1bGVJZGVudGlmaWVyKHJ1bGVJZGVudGlmaWVyKSB8fCBpc1Byb21ldGhldXNSdWxlSWRlbnRpZmllcihydWxlSWRlbnRpZmllcikpXG4gICAgKSB7XG4gICAgICBjb25zdCBuYW1lc3BhY2VzID0gcHJvbVJ1bGVOcy5tYXAoKG5zKSA9PlxuICAgICAgICBhdHRhY2hSdWxlclJ1bGVzVG9Db21iaW5lZFJ1bGVzKGRzU2V0dGluZ3MsIG5zLCBydWxlclJ1bGVHcm91cCA/IFtydWxlclJ1bGVHcm91cF0gOiBbXSlcbiAgICAgICk7XG5cbiAgICAgIGZvciAoY29uc3QgbmFtZXNwYWNlIG9mIG5hbWVzcGFjZXMpIHtcbiAgICAgICAgZm9yIChjb25zdCBncm91cCBvZiBuYW1lc3BhY2UuZ3JvdXBzKSB7XG4gICAgICAgICAgZm9yIChjb25zdCBydWxlIG9mIGdyb3VwLnJ1bGVzKSB7XG4gICAgICAgICAgICBjb25zdCBpZCA9IHJ1bGVJZC5mcm9tQ29tYmluZWRSdWxlKHJ1bGVTb3VyY2VOYW1lLCBydWxlKTtcblxuICAgICAgICAgICAgaWYgKHJ1bGVJZC5lcXVhbChpZCwgcnVsZUlkZW50aWZpZXIpKSB7XG4gICAgICAgICAgICAgIHJldHVybiBydWxlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybjtcbiAgfSwgW3J1bGVJZGVudGlmaWVyLCBydWxlU291cmNlTmFtZSwgcHJvbVJ1bGVOcywgcnVsZXJSdWxlR3JvdXAsIHJ1bGVyUnVsZXMsIGRzU2V0dGluZ3NdKTtcblxuICByZXR1cm4ge1xuICAgIGxvYWRpbmc6IGlzTG9hZGluZ0RzRmVhdHVyZXMgfHwgaXNMb2FkaW5nUHJvbVJ1bGVzIHx8IGlzTG9hZGluZ1J1bGVyR3JvdXAgfHwgaXNMb2FkaW5nUnVsZXJSdWxlcyxcbiAgICBlcnJvcjogcHJvbVJ1bGVOc0Vycm9yID8/IHJ1bGVyUnVsZUdyb3VwRXJyb3IgPz8gcnVsZXJSdWxlc0Vycm9yLFxuICAgIHJlc3VsdDogcnVsZSxcbiAgfTtcbn1cblxuY29uc3QgZ3JhZmFuYVJ1bGVyQ29uZmlnOiBSdWxlckRhdGFTb3VyY2VDb25maWcgPSB7XG4gIGRhdGFTb3VyY2VOYW1lOiBHUkFGQU5BX1JVTEVTX1NPVVJDRV9OQU1FLFxuICBhcGlWZXJzaW9uOiAnbGVnYWN5Jyxcbn07XG5cbmNvbnN0IGdyYWZhbmFEc0ZlYXR1cmVzID0ge1xuICBydWxlckNvbmZpZzogZ3JhZmFuYVJ1bGVyQ29uZmlnLFxufTtcblxuZXhwb3J0IGZ1bmN0aW9uIHVzZURhdGFTb3VyY2VGZWF0dXJlcyhkYXRhU291cmNlTmFtZTogc3RyaW5nKSB7XG4gIGNvbnN0IGlzR3JhZmFuYURzID0gaXNHcmFmYW5hUnVsZXNTb3VyY2UoZGF0YVNvdXJjZU5hbWUpO1xuXG4gIGNvbnN0IHsgY3VycmVudERhdGE6IGRzRmVhdHVyZXMsIGlzTG9hZGluZzogaXNMb2FkaW5nRHNGZWF0dXJlcyB9ID1cbiAgICBmZWF0dXJlRGlzY292ZXJ5QXBpLmVuZHBvaW50cy5kaXNjb3ZlckRzRmVhdHVyZXMudXNlUXVlcnkoXG4gICAgICB7XG4gICAgICAgIHJ1bGVzU291cmNlTmFtZTogZGF0YVNvdXJjZU5hbWUsXG4gICAgICB9LFxuICAgICAgeyBza2lwOiBpc0dyYWZhbmFEcyB9XG4gICAgKTtcblxuICBpZiAoaXNHcmFmYW5hRHMpIHtcbiAgICByZXR1cm4geyBpc0xvYWRpbmdEc0ZlYXR1cmVzOiBmYWxzZSwgZHNGZWF0dXJlczogZ3JhZmFuYURzRmVhdHVyZXMgfTtcbiAgfVxuXG4gIHJldHVybiB7IGlzTG9hZGluZ0RzRmVhdHVyZXMsIGRzRmVhdHVyZXMgfTtcbn1cbiJdLCJuYW1lcyI6WyJydWxlcyIsInJ1bGUiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./public/app/features/alerting/unified/hooks/useCombinedRule.ts\n");

/***/ })

}]);