"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(self["webpackChunkgrafana"] = self["webpackChunkgrafana"] || []).push([["SupportBundlesCreate"],{

/***/ "./public/app/features/support-bundles/SupportBundlesCreate.tsx":
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   SupportBundlesCreateUnconnected: () => (/* binding */ SupportBundlesCreateUnconnected),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"./.yarn/cache/react-npm-18.2.0-1eae08fee2-88e38092da.zip/node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(\"./.yarn/__virtual__/react-redux-virtual-5487a8ab90/0/cache/react-redux-npm-7.2.6-134f5ed64d-0bf142ce0d.zip/node_modules/react-redux/es/index.js\");\n/* harmony import */ var _grafana_ui__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(\"./.yarn/__virtual__/@grafana-ui-virtual-d722efae30/1/packages/grafana-ui/src/components/Alert/Alert.tsx\");\n/* harmony import */ var _grafana_ui__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(\"./.yarn/__virtual__/@grafana-ui-virtual-d722efae30/1/packages/grafana-ui/src/components/Forms/Form.tsx\");\n/* harmony import */ var _grafana_ui__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(\"./.yarn/__virtual__/@grafana-ui-virtual-d722efae30/1/packages/grafana-ui/src/components/Forms/Field.tsx\");\n/* harmony import */ var _grafana_ui__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(\"./.yarn/__virtual__/@grafana-ui-virtual-d722efae30/1/packages/grafana-ui/src/components/Forms/Checkbox.tsx\");\n/* harmony import */ var _grafana_ui__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(\"./.yarn/__virtual__/@grafana-ui-virtual-d722efae30/1/packages/grafana-ui/src/components/Layout/Layout.tsx\");\n/* harmony import */ var _grafana_ui__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(\"./.yarn/__virtual__/@grafana-ui-virtual-d722efae30/1/packages/grafana-ui/src/components/Button/Button.tsx\");\n/* harmony import */ var app_core_components_Page_Page__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(\"./public/app/core/components/Page/Page.tsx\");\n/* harmony import */ var _state_actions__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(\"./public/app/features/support-bundles/state/actions.ts\");\n\n\n\n\n\n\nconst subTitle = /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"span\", null, \"Choose the components for the support bundle. The support bundle will be available for 3 days after creation.\");\nconst mapStateToProps = (state) => {\n  return {\n    collectors: state.supportBundles.supportBundleCollectors,\n    isLoading: state.supportBundles.createBundlePageLoading,\n    loadCollectorsError: state.supportBundles.loadBundlesError,\n    createBundleError: state.supportBundles.createBundleError\n  };\n};\nconst mapDispatchToProps = {\n  loadSupportBundleCollectors: _state_actions__WEBPACK_IMPORTED_MODULE_3__.loadSupportBundleCollectors,\n  createSupportBundle: _state_actions__WEBPACK_IMPORTED_MODULE_3__.createSupportBundle\n};\nconst connector = (0,react_redux__WEBPACK_IMPORTED_MODULE_1__.connect)(mapStateToProps, mapDispatchToProps);\nconst SupportBundlesCreateUnconnected = ({\n  collectors,\n  isLoading,\n  loadCollectorsError,\n  createBundleError,\n  loadSupportBundleCollectors: loadSupportBundleCollectors2,\n  createSupportBundle: createSupportBundle2\n}) => {\n  const onSubmit = (data) => {\n    const selectedLabelsArray = Object.keys(data).filter((key) => data[key]);\n    createSupportBundle2({ collectors: selectedLabelsArray });\n  };\n  (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {\n    loadSupportBundleCollectors2();\n  }, [loadSupportBundleCollectors2]);\n  const values = collectors.reduce((acc, curr) => {\n    return { ...acc, [curr.uid]: curr.default };\n  }, {});\n  return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0___default().createElement(app_core_components_Page_Page__WEBPACK_IMPORTED_MODULE_2__.Page, { navId: \"support-bundles\", pageNav: { text: \"Create support bundle\" }, subTitle }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0___default().createElement(app_core_components_Page_Page__WEBPACK_IMPORTED_MODULE_2__.Page.Contents, { isLoading }, loadCollectorsError && /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_grafana_ui__WEBPACK_IMPORTED_MODULE_4__.Alert, { title: loadCollectorsError, severity: \"error\" }), createBundleError && /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_grafana_ui__WEBPACK_IMPORTED_MODULE_4__.Alert, { title: createBundleError, severity: \"error\" }), !!collectors.length && /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_grafana_ui__WEBPACK_IMPORTED_MODULE_5__.Form, { defaultValues: values, onSubmit, validateOn: \"onSubmit\" }, ({ register, errors }) => {\n    return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0___default().createElement((react__WEBPACK_IMPORTED_MODULE_0___default().Fragment), null, [...collectors].sort((a, b) => a.displayName.localeCompare(b.displayName)).map((component) => {\n      return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_grafana_ui__WEBPACK_IMPORTED_MODULE_6__.Field, { key: component.uid }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\n        _grafana_ui__WEBPACK_IMPORTED_MODULE_7__.Checkbox,\n        {\n          ...register(component.uid),\n          label: component.displayName,\n          id: component.uid,\n          description: component.description,\n          defaultChecked: component.default,\n          disabled: component.includedByDefault\n        }\n      ));\n    }), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_grafana_ui__WEBPACK_IMPORTED_MODULE_8__.HorizontalGroup, null, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_grafana_ui__WEBPACK_IMPORTED_MODULE_9__.Button, { type: \"submit\" }, \"Create\"), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_grafana_ui__WEBPACK_IMPORTED_MODULE_9__.LinkButton, { href: \"/support-bundles\", variant: \"secondary\" }, \"Cancel\")));\n  })));\n};\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (connector(SupportBundlesCreateUnconnected));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9wdWJsaWMvYXBwL2ZlYXR1cmVzL3N1cHBvcnQtYnVuZGxlcy9TdXBwb3J0QnVuZGxlc0NyZWF0ZS50c3giLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBaUM7QUFDTztBQUUwQztBQUM3RDtBQUc0QztBQUVqRSxNQUFNLFdBQ0osMkVBQUMsY0FBSywrR0FFTjtBQUdGLE1BQU0sa0JBQWtCLENBQUMsVUFBc0I7QUFDN0MsU0FBTztBQUFBLElBQ0wsWUFBWSxNQUFNLGVBQWU7QUFBQSxJQUNqQyxXQUFXLE1BQU0sZUFBZTtBQUFBLElBQ2hDLHFCQUFxQixNQUFNLGVBQWU7QUFBQSxJQUMxQyxtQkFBbUIsTUFBTSxlQUFlO0FBQUEsRUFDMUM7QUFDRjtBQUVBLE1BQU0scUJBQXFCO0FBQUEsRUFDekIsMkJBQTJCO0FBQTNCLEVBQ0EsbUJBQW1CO0FBQ3JCO0FBRUEsTUFBTSxZQUFZLG9EQUFPLENBQUMsaUJBQWlCLGtCQUFrQjtBQUl0RCxNQUFNLGtDQUFrQyxDQUFDO0FBQUEsRUFDOUM7QUFBQSxFQUNBO0FBQUEsRUFDQTtBQUFBLEVBQ0E7QUFBQSxFQUNBLDZCQUFBQTtBQUFBLEVBQ0EscUJBQUFDO0FBQ0YsTUFBMEI7QUFDeEIsUUFBTSxXQUFXLENBQUMsU0FBa0M7QUFDbEQsVUFBTSxzQkFBc0IsT0FBTyxLQUFLLElBQUksRUFBRSxPQUFPLENBQUMsUUFBUSxLQUFLLEdBQUcsQ0FBQztBQUN2RSxJQUFBQSxxQkFBb0IsRUFBRSxZQUFZLG9CQUFvQixDQUFDO0FBQUEsRUFDekQ7QUFFQSxrREFBUyxDQUFDLE1BQU07QUFDZCxJQUFBRCw2QkFBNEI7QUFBQSxFQUM5QixHQUFHLENBQUNBLDRCQUEyQixDQUFDO0FBR2hDLFFBQU0sU0FBa0MsV0FBVyxPQUFPLENBQUMsS0FBSyxTQUFTO0FBQ3ZFLFdBQU8sRUFBRSxHQUFHLEtBQUssQ0FBQyxLQUFLLEdBQUcsR0FBRyxLQUFLLFFBQVE7QUFBQSxFQUM1QyxHQUFHLENBQUMsQ0FBQztBQUVMLFNBQ0UsMkVBQUMsK0RBQUksSUFBQyxPQUFNLG1CQUFrQixTQUFTLEVBQUUsTUFBTSx3QkFBd0IsR0FBRyxZQUN4RSwyRUFBQywrREFBSSxDQUFDLFVBQUwsRUFBYyxhQUNaLHVCQUF1QiwyRUFBQyw4Q0FBSyxJQUFDLE9BQU8scUJBQXFCLFVBQVMsU0FBUSxHQUMzRSxxQkFBcUIsMkVBQUMsOENBQUssSUFBQyxPQUFPLG1CQUFtQixVQUFTLFNBQVEsR0FDdkUsQ0FBQyxDQUFDLFdBQVcsVUFDWiwyRUFBQyw2Q0FBSSxJQUFDLGVBQWUsUUFBUSxVQUFvQixZQUFXLGNBQ3pELENBQUMsRUFBRSxVQUFVLE9BQU8sTUFBTTtBQUN6QixXQUNFLDBJQUNHLENBQUMsR0FBRyxVQUFVLEVBQ1osS0FBSyxDQUFDLEdBQUcsTUFBTSxFQUFFLFlBQVksY0FBYyxFQUFFLFdBQVcsQ0FBQyxFQUN6RCxJQUFJLENBQUMsY0FBYztBQUNsQixhQUNFLDJFQUFDLDhDQUFLLElBQUMsS0FBSyxVQUFVLE9BQ3BCO0FBQUEsUUFBQyxpREFBUTtBQUFSO0FBQUEsVUFDRSxHQUFHLFNBQVMsVUFBVSxHQUFHO0FBQUEsVUFDMUIsT0FBTyxVQUFVO0FBQUEsVUFDakIsSUFBSSxVQUFVO0FBQUEsVUFDZCxhQUFhLFVBQVU7QUFBQSxVQUN2QixnQkFBZ0IsVUFBVTtBQUFBLFVBQzFCLFVBQVUsVUFBVTtBQUFBO0FBQUEsTUFDdEIsQ0FDRjtBQUFBLElBRUosQ0FBQyxHQUNILDJFQUFDLHdEQUFlLFFBQ2QsMkVBQUMsK0NBQU0sSUFBQyxNQUFLLFlBQVMsUUFBTSxHQUM1QiwyRUFBQyxtREFBVSxJQUFDLE1BQUssb0JBQW1CLFNBQVEsZUFBWSxRQUV4RCxDQUNGLENBQ0Y7QUFBQSxFQUVKLENBQ0YsQ0FFSixDQUNGO0FBRUo7QUFFQSxpRUFBZSxVQUFVLCtCQUErQixDQUFDLEVBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9ncmFmYW5hLy4vcHVibGljL2FwcC9mZWF0dXJlcy9zdXBwb3J0LWJ1bmRsZXMvU3VwcG9ydEJ1bmRsZXNDcmVhdGUudHN4P2ZlNmMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFJlYWN0LCB7IHVzZUVmZmVjdCB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IGNvbm5lY3QsIENvbm5lY3RlZFByb3BzIH0gZnJvbSAncmVhY3QtcmVkdXgnO1xuXG5pbXBvcnQgeyBGb3JtLCBCdXR0b24sIEZpZWxkLCBDaGVja2JveCwgTGlua0J1dHRvbiwgSG9yaXpvbnRhbEdyb3VwLCBBbGVydCB9IGZyb20gJ0BncmFmYW5hL3VpJztcbmltcG9ydCB7IFBhZ2UgfSBmcm9tICdhcHAvY29yZS9jb21wb25lbnRzL1BhZ2UvUGFnZSc7XG5pbXBvcnQgeyBTdG9yZVN0YXRlIH0gZnJvbSAnYXBwL3R5cGVzJztcblxuaW1wb3J0IHsgbG9hZFN1cHBvcnRCdW5kbGVDb2xsZWN0b3JzLCBjcmVhdGVTdXBwb3J0QnVuZGxlIH0gZnJvbSAnLi9zdGF0ZS9hY3Rpb25zJztcblxuY29uc3Qgc3ViVGl0bGUgPSAoXG4gIDxzcGFuPlxuICAgIENob29zZSB0aGUgY29tcG9uZW50cyBmb3IgdGhlIHN1cHBvcnQgYnVuZGxlLiBUaGUgc3VwcG9ydCBidW5kbGUgd2lsbCBiZSBhdmFpbGFibGUgZm9yIDMgZGF5cyBhZnRlciBjcmVhdGlvbi5cbiAgPC9zcGFuPlxuKTtcblxuY29uc3QgbWFwU3RhdGVUb1Byb3BzID0gKHN0YXRlOiBTdG9yZVN0YXRlKSA9PiB7XG4gIHJldHVybiB7XG4gICAgY29sbGVjdG9yczogc3RhdGUuc3VwcG9ydEJ1bmRsZXMuc3VwcG9ydEJ1bmRsZUNvbGxlY3RvcnMsXG4gICAgaXNMb2FkaW5nOiBzdGF0ZS5zdXBwb3J0QnVuZGxlcy5jcmVhdGVCdW5kbGVQYWdlTG9hZGluZyxcbiAgICBsb2FkQ29sbGVjdG9yc0Vycm9yOiBzdGF0ZS5zdXBwb3J0QnVuZGxlcy5sb2FkQnVuZGxlc0Vycm9yLFxuICAgIGNyZWF0ZUJ1bmRsZUVycm9yOiBzdGF0ZS5zdXBwb3J0QnVuZGxlcy5jcmVhdGVCdW5kbGVFcnJvcixcbiAgfTtcbn07XG5cbmNvbnN0IG1hcERpc3BhdGNoVG9Qcm9wcyA9IHtcbiAgbG9hZFN1cHBvcnRCdW5kbGVDb2xsZWN0b3JzLFxuICBjcmVhdGVTdXBwb3J0QnVuZGxlLFxufTtcblxuY29uc3QgY29ubmVjdG9yID0gY29ubmVjdChtYXBTdGF0ZVRvUHJvcHMsIG1hcERpc3BhdGNoVG9Qcm9wcyk7XG5cbnR5cGUgUHJvcHMgPSBDb25uZWN0ZWRQcm9wczx0eXBlb2YgY29ubmVjdG9yPjtcblxuZXhwb3J0IGNvbnN0IFN1cHBvcnRCdW5kbGVzQ3JlYXRlVW5jb25uZWN0ZWQgPSAoe1xuICBjb2xsZWN0b3JzLFxuICBpc0xvYWRpbmcsXG4gIGxvYWRDb2xsZWN0b3JzRXJyb3IsXG4gIGNyZWF0ZUJ1bmRsZUVycm9yLFxuICBsb2FkU3VwcG9ydEJ1bmRsZUNvbGxlY3RvcnMsXG4gIGNyZWF0ZVN1cHBvcnRCdW5kbGUsXG59OiBQcm9wcyk6IEpTWC5FbGVtZW50ID0+IHtcbiAgY29uc3Qgb25TdWJtaXQgPSAoZGF0YTogUmVjb3JkPHN0cmluZywgYm9vbGVhbj4pID0+IHtcbiAgICBjb25zdCBzZWxlY3RlZExhYmVsc0FycmF5ID0gT2JqZWN0LmtleXMoZGF0YSkuZmlsdGVyKChrZXkpID0+IGRhdGFba2V5XSk7XG4gICAgY3JlYXRlU3VwcG9ydEJ1bmRsZSh7IGNvbGxlY3RvcnM6IHNlbGVjdGVkTGFiZWxzQXJyYXkgfSk7XG4gIH07XG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBsb2FkU3VwcG9ydEJ1bmRsZUNvbGxlY3RvcnMoKTtcbiAgfSwgW2xvYWRTdXBwb3J0QnVuZGxlQ29sbGVjdG9yc10pO1xuXG4gIC8vIHR1cm4gY29tcG9uZW50cyBpbnRvIGEgdXVpZCAtPiBlbmFibGVkIG1hcFxuICBjb25zdCB2YWx1ZXM6IFJlY29yZDxzdHJpbmcsIGJvb2xlYW4+ID0gY29sbGVjdG9ycy5yZWR1Y2UoKGFjYywgY3VycikgPT4ge1xuICAgIHJldHVybiB7IC4uLmFjYywgW2N1cnIudWlkXTogY3Vyci5kZWZhdWx0IH07XG4gIH0sIHt9KTtcblxuICByZXR1cm4gKFxuICAgIDxQYWdlIG5hdklkPVwic3VwcG9ydC1idW5kbGVzXCIgcGFnZU5hdj17eyB0ZXh0OiAnQ3JlYXRlIHN1cHBvcnQgYnVuZGxlJyB9fSBzdWJUaXRsZT17c3ViVGl0bGV9PlxuICAgICAgPFBhZ2UuQ29udGVudHMgaXNMb2FkaW5nPXtpc0xvYWRpbmd9PlxuICAgICAgICB7bG9hZENvbGxlY3RvcnNFcnJvciAmJiA8QWxlcnQgdGl0bGU9e2xvYWRDb2xsZWN0b3JzRXJyb3J9IHNldmVyaXR5PVwiZXJyb3JcIiAvPn1cbiAgICAgICAge2NyZWF0ZUJ1bmRsZUVycm9yICYmIDxBbGVydCB0aXRsZT17Y3JlYXRlQnVuZGxlRXJyb3J9IHNldmVyaXR5PVwiZXJyb3JcIiAvPn1cbiAgICAgICAgeyEhY29sbGVjdG9ycy5sZW5ndGggJiYgKFxuICAgICAgICAgIDxGb3JtIGRlZmF1bHRWYWx1ZXM9e3ZhbHVlc30gb25TdWJtaXQ9e29uU3VibWl0fSB2YWxpZGF0ZU9uPVwib25TdWJtaXRcIj5cbiAgICAgICAgICAgIHsoeyByZWdpc3RlciwgZXJyb3JzIH0pID0+IHtcbiAgICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICA8PlxuICAgICAgICAgICAgICAgICAge1suLi5jb2xsZWN0b3JzXVxuICAgICAgICAgICAgICAgICAgICAuc29ydCgoYSwgYikgPT4gYS5kaXNwbGF5TmFtZS5sb2NhbGVDb21wYXJlKGIuZGlzcGxheU5hbWUpKVxuICAgICAgICAgICAgICAgICAgICAubWFwKChjb21wb25lbnQpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgPEZpZWxkIGtleT17Y29tcG9uZW50LnVpZH0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxDaGVja2JveFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsuLi5yZWdpc3Rlcihjb21wb25lbnQudWlkKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYWJlbD17Y29tcG9uZW50LmRpc3BsYXlOYW1lfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkPXtjb21wb25lbnQudWlkfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlc2NyaXB0aW9uPXtjb21wb25lbnQuZGVzY3JpcHRpb259XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdENoZWNrZWQ9e2NvbXBvbmVudC5kZWZhdWx0fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpc2FibGVkPXtjb21wb25lbnQuaW5jbHVkZWRCeURlZmF1bHR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L0ZpZWxkPlxuICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgIH0pfVxuICAgICAgICAgICAgICAgICAgPEhvcml6b250YWxHcm91cD5cbiAgICAgICAgICAgICAgICAgICAgPEJ1dHRvbiB0eXBlPVwic3VibWl0XCI+Q3JlYXRlPC9CdXR0b24+XG4gICAgICAgICAgICAgICAgICAgIDxMaW5rQnV0dG9uIGhyZWY9XCIvc3VwcG9ydC1idW5kbGVzXCIgdmFyaWFudD1cInNlY29uZGFyeVwiPlxuICAgICAgICAgICAgICAgICAgICAgIENhbmNlbFxuICAgICAgICAgICAgICAgICAgICA8L0xpbmtCdXR0b24+XG4gICAgICAgICAgICAgICAgICA8L0hvcml6b250YWxHcm91cD5cbiAgICAgICAgICAgICAgICA8Lz5cbiAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH19XG4gICAgICAgICAgPC9Gb3JtPlxuICAgICAgICApfVxuICAgICAgPC9QYWdlLkNvbnRlbnRzPlxuICAgIDwvUGFnZT5cbiAgKTtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IGNvbm5lY3RvcihTdXBwb3J0QnVuZGxlc0NyZWF0ZVVuY29ubmVjdGVkKTtcbiJdLCJuYW1lcyI6WyJsb2FkU3VwcG9ydEJ1bmRsZUNvbGxlY3RvcnMiLCJjcmVhdGVTdXBwb3J0QnVuZGxlIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./public/app/features/support-bundles/SupportBundlesCreate.tsx\n");

/***/ }),

/***/ "./public/app/features/support-bundles/state/actions.ts":
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   checkBundles: () => (/* binding */ checkBundles),\n/* harmony export */   createSupportBundle: () => (/* binding */ createSupportBundle),\n/* harmony export */   loadBundles: () => (/* binding */ loadBundles),\n/* harmony export */   loadSupportBundleCollectors: () => (/* binding */ loadSupportBundleCollectors),\n/* harmony export */   removeBundle: () => (/* binding */ removeBundle)\n/* harmony export */ });\n/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"./.yarn/cache/lodash-npm-4.17.21-6382451519-eb835a2e51.zip/node_modules/lodash/lodash.js\");\n/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _grafana_runtime__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(\"./.yarn/__virtual__/@grafana-runtime-virtual-68c57d4c0c/1/packages/grafana-runtime/src/services/backendSrv.ts\");\n/* harmony import */ var _grafana_runtime__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(\"./.yarn/__virtual__/@grafana-runtime-virtual-68c57d4c0c/1/packages/grafana-runtime/src/services/LocationService.ts\");\n/* harmony import */ var _reducers__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(\"./public/app/features/support-bundles/state/reducers.ts\");\n\n\n\n\nfunction loadBundles(skipPageRefresh = false) {\n  return async (dispatch) => {\n    try {\n      if (!skipPageRefresh) {\n        dispatch((0,_reducers__WEBPACK_IMPORTED_MODULE_1__.fetchBegin)());\n      }\n      const result = await (0,_grafana_runtime__WEBPACK_IMPORTED_MODULE_2__.getBackendSrv)().get(\"/api/support-bundles\");\n      dispatch((0,_reducers__WEBPACK_IMPORTED_MODULE_1__.supportBundlesLoaded)(result));\n    } finally {\n      dispatch((0,_reducers__WEBPACK_IMPORTED_MODULE_1__.fetchEnd)());\n    }\n  };\n}\nconst checkBundlesStatusThrottled = (0,lodash__WEBPACK_IMPORTED_MODULE_0__.throttle)(async (dispatch) => {\n  const result = await (0,_grafana_runtime__WEBPACK_IMPORTED_MODULE_2__.getBackendSrv)().get(\"/api/support-bundles\");\n  dispatch((0,_reducers__WEBPACK_IMPORTED_MODULE_1__.supportBundlesLoaded)(result));\n}, 1e3);\nfunction checkBundles() {\n  return async (dispatch) => {\n    dispatch(checkBundlesStatusThrottled);\n  };\n}\nfunction removeBundle(uid) {\n  return async (dispatch) => {\n    await (0,_grafana_runtime__WEBPACK_IMPORTED_MODULE_2__.getBackendSrv)().delete(`/api/support-bundles/${uid}`);\n    dispatch(loadBundles(true));\n  };\n}\nfunction loadSupportBundleCollectors() {\n  return async (dispatch) => {\n    try {\n      dispatch((0,_reducers__WEBPACK_IMPORTED_MODULE_1__.collectorsFetchBegin)());\n      const result = await (0,_grafana_runtime__WEBPACK_IMPORTED_MODULE_2__.getBackendSrv)().get(\"/api/support-bundles/collectors\");\n      dispatch((0,_reducers__WEBPACK_IMPORTED_MODULE_1__.supportBundleCollectorsLoaded)(result));\n    } catch (err) {\n      dispatch((0,_reducers__WEBPACK_IMPORTED_MODULE_1__.setLoadBundleError)(\"Error loading support bundles data collectors\"));\n    } finally {\n      dispatch((0,_reducers__WEBPACK_IMPORTED_MODULE_1__.collectorsFetchEnd)());\n    }\n  };\n}\nfunction createSupportBundle(data) {\n  return async (dispatch) => {\n    try {\n      await (0,_grafana_runtime__WEBPACK_IMPORTED_MODULE_2__.getBackendSrv)().post(\"/api/support-bundles\", data);\n      _grafana_runtime__WEBPACK_IMPORTED_MODULE_3__.locationService.push(\"/support-bundles\");\n    } catch (err) {\n      dispatch((0,_reducers__WEBPACK_IMPORTED_MODULE_1__.setCreateBundleError)(\"Error creating support bundle\"));\n    }\n  };\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9wdWJsaWMvYXBwL2ZlYXR1cmVzL3N1cHBvcnQtYnVuZGxlcy9zdGF0ZS9hY3Rpb25zLnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7O0FBQXlCO0FBRXNCO0FBWXhDO0FBRUEsU0FBUyxZQUFZLGtCQUFrQixPQUEwQjtBQUN0RSxTQUFPLE9BQU8sYUFBYTtBQUN6QixRQUFJO0FBQ0YsVUFBSSxDQUFDLGlCQUFpQjtBQUNwQixpQkFBUyxxREFBVSxDQUFDLENBQUM7QUFBQSxNQUN2QjtBQUNBLFlBQU0sU0FBUyxNQUFNLCtEQUFhLENBQUMsRUFBRSxJQUFxQixzQkFBc0I7QUFDaEYsZUFBUywrREFBb0IsQ0FBQyxNQUFNLENBQUM7QUFBQSxJQUN2QyxVQUFFO0FBQ0EsZUFBUyxtREFBUSxDQUFDLENBQUM7QUFBQSxJQUNyQjtBQUFBLEVBQ0Y7QUFDRjtBQUVBLE1BQU0sOEJBQThCLGdEQUFRLENBQUMsT0FBTyxhQUFhO0FBQy9ELFFBQU0sU0FBUyxNQUFNLCtEQUFhLENBQUMsRUFBRSxJQUFxQixzQkFBc0I7QUFDaEYsV0FBUywrREFBb0IsQ0FBQyxNQUFNLENBQUM7QUFDdkMsR0FBRyxHQUFJO0FBRUEsU0FBUyxlQUFrQztBQUNoRCxTQUFPLE9BQU8sYUFBYTtBQUN6QixhQUFTLDJCQUEyQjtBQUFBLEVBQ3RDO0FBQ0Y7QUFFTyxTQUFTLGFBQWEsS0FBZ0M7QUFDM0QsU0FBTyxPQUFPLGFBQWE7QUFDekIsVUFBTSwrREFBYSxDQUFDLEVBQUUsT0FBTyx3QkFBd0IsS0FBSztBQUMxRCxhQUFTLFlBQVksSUFBSSxDQUFDO0FBQUEsRUFDNUI7QUFDRjtBQUVPLFNBQVMsOEJBQWlEO0FBQy9ELFNBQU8sT0FBTyxhQUFhO0FBQ3pCLFFBQUk7QUFDRixlQUFTLCtEQUFvQixDQUFDLENBQUM7QUFDL0IsWUFBTSxTQUFTLE1BQU0sK0RBQWEsQ0FBQyxFQUFFLElBQThCLGlDQUFpQztBQUNwRyxlQUFTLHdFQUE2QixDQUFDLE1BQU0sQ0FBQztBQUFBLElBQ2hELFNBQVMsS0FBUDtBQUNBLGVBQVMsNkRBQWtCLENBQUMsK0NBQStDLENBQUM7QUFBQSxJQUM5RSxVQUFFO0FBQ0EsZUFBUyw2REFBa0IsQ0FBQyxDQUFDO0FBQUEsSUFDL0I7QUFBQSxFQUNGO0FBQ0Y7QUFFTyxTQUFTLG9CQUFvQixNQUFxRDtBQUN2RixTQUFPLE9BQU8sYUFBYTtBQUN6QixRQUFJO0FBQ0YsWUFBTSwrREFBYSxDQUFDLEVBQUUsS0FBSyx3QkFBd0IsSUFBSTtBQUN2RCxtRUFBZSxDQUFDLEtBQUssa0JBQWtCO0FBQUEsSUFDekMsU0FBUyxLQUFQO0FBQ0EsZUFBUywrREFBb0IsQ0FBQywrQkFBK0IsQ0FBQztBQUFBLElBQ2hFO0FBQUEsRUFDRjtBQUNGIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZ3JhZmFuYS8uL3B1YmxpYy9hcHAvZmVhdHVyZXMvc3VwcG9ydC1idW5kbGVzL3N0YXRlL2FjdGlvbnMudHM/MzE2ZCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyB0aHJvdHRsZSB9IGZyb20gJ2xvZGFzaCc7XG5cbmltcG9ydCB7IGdldEJhY2tlbmRTcnYsIGxvY2F0aW9uU2VydmljZSB9IGZyb20gJ0BncmFmYW5hL3J1bnRpbWUnO1xuaW1wb3J0IHsgU3VwcG9ydEJ1bmRsZSwgU3VwcG9ydEJ1bmRsZUNvbGxlY3RvciwgU3VwcG9ydEJ1bmRsZUNyZWF0ZVJlcXVlc3QsIFRodW5rUmVzdWx0IH0gZnJvbSAnYXBwL3R5cGVzJztcblxuaW1wb3J0IHtcbiAgY29sbGVjdG9yc0ZldGNoQmVnaW4sXG4gIGNvbGxlY3RvcnNGZXRjaEVuZCxcbiAgZmV0Y2hCZWdpbixcbiAgZmV0Y2hFbmQsXG4gIHNldENyZWF0ZUJ1bmRsZUVycm9yLFxuICBzZXRMb2FkQnVuZGxlRXJyb3IsXG4gIHN1cHBvcnRCdW5kbGVDb2xsZWN0b3JzTG9hZGVkLFxuICBzdXBwb3J0QnVuZGxlc0xvYWRlZCxcbn0gZnJvbSAnLi9yZWR1Y2Vycyc7XG5cbmV4cG9ydCBmdW5jdGlvbiBsb2FkQnVuZGxlcyhza2lwUGFnZVJlZnJlc2ggPSBmYWxzZSk6IFRodW5rUmVzdWx0PHZvaWQ+IHtcbiAgcmV0dXJuIGFzeW5jIChkaXNwYXRjaCkgPT4ge1xuICAgIHRyeSB7XG4gICAgICBpZiAoIXNraXBQYWdlUmVmcmVzaCkge1xuICAgICAgICBkaXNwYXRjaChmZXRjaEJlZ2luKCkpO1xuICAgICAgfVxuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgZ2V0QmFja2VuZFNydigpLmdldDxTdXBwb3J0QnVuZGxlW10+KCcvYXBpL3N1cHBvcnQtYnVuZGxlcycpO1xuICAgICAgZGlzcGF0Y2goc3VwcG9ydEJ1bmRsZXNMb2FkZWQocmVzdWx0KSk7XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIGRpc3BhdGNoKGZldGNoRW5kKCkpO1xuICAgIH1cbiAgfTtcbn1cblxuY29uc3QgY2hlY2tCdW5kbGVzU3RhdHVzVGhyb3R0bGVkID0gdGhyb3R0bGUoYXN5bmMgKGRpc3BhdGNoKSA9PiB7XG4gIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGdldEJhY2tlbmRTcnYoKS5nZXQ8U3VwcG9ydEJ1bmRsZVtdPignL2FwaS9zdXBwb3J0LWJ1bmRsZXMnKTtcbiAgZGlzcGF0Y2goc3VwcG9ydEJ1bmRsZXNMb2FkZWQocmVzdWx0KSk7XG59LCAxMDAwKTtcblxuZXhwb3J0IGZ1bmN0aW9uIGNoZWNrQnVuZGxlcygpOiBUaHVua1Jlc3VsdDx2b2lkPiB7XG4gIHJldHVybiBhc3luYyAoZGlzcGF0Y2gpID0+IHtcbiAgICBkaXNwYXRjaChjaGVja0J1bmRsZXNTdGF0dXNUaHJvdHRsZWQpO1xuICB9O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gcmVtb3ZlQnVuZGxlKHVpZDogc3RyaW5nKTogVGh1bmtSZXN1bHQ8dm9pZD4ge1xuICByZXR1cm4gYXN5bmMgKGRpc3BhdGNoKSA9PiB7XG4gICAgYXdhaXQgZ2V0QmFja2VuZFNydigpLmRlbGV0ZShgL2FwaS9zdXBwb3J0LWJ1bmRsZXMvJHt1aWR9YCk7XG4gICAgZGlzcGF0Y2gobG9hZEJ1bmRsZXModHJ1ZSkpO1xuICB9O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gbG9hZFN1cHBvcnRCdW5kbGVDb2xsZWN0b3JzKCk6IFRodW5rUmVzdWx0PHZvaWQ+IHtcbiAgcmV0dXJuIGFzeW5jIChkaXNwYXRjaCkgPT4ge1xuICAgIHRyeSB7XG4gICAgICBkaXNwYXRjaChjb2xsZWN0b3JzRmV0Y2hCZWdpbigpKTtcbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGdldEJhY2tlbmRTcnYoKS5nZXQ8U3VwcG9ydEJ1bmRsZUNvbGxlY3RvcltdPignL2FwaS9zdXBwb3J0LWJ1bmRsZXMvY29sbGVjdG9ycycpO1xuICAgICAgZGlzcGF0Y2goc3VwcG9ydEJ1bmRsZUNvbGxlY3RvcnNMb2FkZWQocmVzdWx0KSk7XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICBkaXNwYXRjaChzZXRMb2FkQnVuZGxlRXJyb3IoJ0Vycm9yIGxvYWRpbmcgc3VwcG9ydCBidW5kbGVzIGRhdGEgY29sbGVjdG9ycycpKTtcbiAgICB9IGZpbmFsbHkge1xuICAgICAgZGlzcGF0Y2goY29sbGVjdG9yc0ZldGNoRW5kKCkpO1xuICAgIH1cbiAgfTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZVN1cHBvcnRCdW5kbGUoZGF0YTogU3VwcG9ydEJ1bmRsZUNyZWF0ZVJlcXVlc3QpOiBUaHVua1Jlc3VsdDx2b2lkPiB7XG4gIHJldHVybiBhc3luYyAoZGlzcGF0Y2gpID0+IHtcbiAgICB0cnkge1xuICAgICAgYXdhaXQgZ2V0QmFja2VuZFNydigpLnBvc3QoJy9hcGkvc3VwcG9ydC1idW5kbGVzJywgZGF0YSk7XG4gICAgICBsb2NhdGlvblNlcnZpY2UucHVzaCgnL3N1cHBvcnQtYnVuZGxlcycpO1xuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgZGlzcGF0Y2goc2V0Q3JlYXRlQnVuZGxlRXJyb3IoJ0Vycm9yIGNyZWF0aW5nIHN1cHBvcnQgYnVuZGxlJykpO1xuICAgIH1cbiAgfTtcbn1cbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./public/app/features/support-bundles/state/actions.ts\n");

/***/ })

}]);