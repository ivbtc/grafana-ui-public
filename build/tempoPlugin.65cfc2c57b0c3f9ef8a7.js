"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(self["webpackChunkgrafana"] = self["webpackChunkgrafana"] || []).push([["tempoPlugin"],{

/***/ "./.yarn/__virtual__/@grafana-experimental-virtual-ba767552fe/0/cache/@grafana-experimental-npm-1.6.1-f052d2ae51-64c32bc9e3.zip/node_modules/@grafana/experimental/dist/esm/ConfigEditor/AdvancedSettings/AdvancedHttpSettings.js":
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AdvancedHttpSettings: () => (/* binding */ AdvancedHttpSettings)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"./.yarn/cache/react-npm-18.2.0-1eae08fee2-88e38092da.zip/node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _emotion_css__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(\"./.yarn/cache/@emotion-css-npm-11.11.2-dbfa42cf83-1edea109df.zip/node_modules/@emotion/css/dist/emotion-css.esm.js\");\n/* harmony import */ var _grafana_ui__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(\"./.yarn/__virtual__/@grafana-ui-virtual-d722efae30/1/packages/grafana-ui/src/components/Forms/InlineField.tsx\");\n/* harmony import */ var _grafana_ui__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(\"./.yarn/__virtual__/@grafana-ui-virtual-d722efae30/1/packages/grafana-ui/src/components/TagsInput/TagsInput.tsx\");\n/* harmony import */ var _grafana_ui__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(\"./.yarn/__virtual__/@grafana-ui-virtual-d722efae30/1/packages/grafana-ui/src/components/Input/Input.tsx\");\n/* harmony import */ var _ConfigSection_ConfigSubSection_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(\"./.yarn/__virtual__/@grafana-experimental-virtual-ba767552fe/0/cache/@grafana-experimental-npm-1.6.1-f052d2ae51-64c32bc9e3.zip/node_modules/@grafana/experimental/dist/esm/ConfigEditor/ConfigSection/ConfigSubSection.js\");\n\n\n\n\n\nvar __defProp = Object.defineProperty;\nvar __defProps = Object.defineProperties;\nvar __getOwnPropDescs = Object.getOwnPropertyDescriptors;\nvar __getOwnPropSymbols = Object.getOwnPropertySymbols;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __propIsEnum = Object.prototype.propertyIsEnumerable;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __spreadValues = (a, b) => {\n  for (var prop in b || (b = {}))\n    if (__hasOwnProp.call(b, prop))\n      __defNormalProp(a, prop, b[prop]);\n  if (__getOwnPropSymbols)\n    for (var prop of __getOwnPropSymbols(b)) {\n      if (__propIsEnum.call(b, prop))\n        __defNormalProp(a, prop, b[prop]);\n    }\n  return a;\n};\nvar __spreadProps = (a, b) => __defProps(a, __getOwnPropDescs(b));\nconst AdvancedHttpSettings = ({\n  config,\n  onChange,\n  className\n}) => {\n  const onCookiesChange = (cookies) => {\n    onChange(__spreadProps(__spreadValues({}, config), {\n      jsonData: __spreadProps(__spreadValues({}, config.jsonData), {\n        keepCookies: cookies\n      })\n    }));\n  };\n  const onTimeoutChange = (event) => {\n    onChange(__spreadProps(__spreadValues({}, config), {\n      jsonData: __spreadProps(__spreadValues({}, config.jsonData), {\n        timeout: parseInt(event.currentTarget.value, 10)\n      })\n    }));\n  };\n  const styles = {\n    container: (0,_emotion_css__WEBPACK_IMPORTED_MODULE_1__.css)({\n      maxWidth: 578\n    })\n  };\n  return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_ConfigSection_ConfigSubSection_js__WEBPACK_IMPORTED_MODULE_2__.ConfigSubSection, { title: \"Advanced HTTP settings\", className: (0,_emotion_css__WEBPACK_IMPORTED_MODULE_1__.cx)(styles.container, className) }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\n    _grafana_ui__WEBPACK_IMPORTED_MODULE_3__.InlineField,\n    {\n      htmlFor: \"advanced-http-cookies\",\n      label: \"Allowed cookies\",\n      labelWidth: 24,\n      tooltip: \"Grafana proxy deletes forwarded cookies by default. Specify cookies by name that should be forwarded to the data source.\",\n      disabled: config.readOnly,\n      grow: true\n    },\n    /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\n      _grafana_ui__WEBPACK_IMPORTED_MODULE_4__.TagsInput,\n      {\n        id: \"advanced-http-cookies\",\n        placeholder: \"New cookie (hit enter to add)\",\n        tags: config.jsonData.keepCookies,\n        onChange: onCookiesChange\n      }\n    )\n  ), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\n    _grafana_ui__WEBPACK_IMPORTED_MODULE_3__.InlineField,\n    {\n      htmlFor: \"advanced-http-timeout\",\n      label: \"Timeout\",\n      labelWidth: 24,\n      tooltip: \"HTTP request timeout in seconds\",\n      disabled: config.readOnly,\n      grow: true\n    },\n    /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\n      _grafana_ui__WEBPACK_IMPORTED_MODULE_5__.Input,\n      {\n        id: \"advanced-http-timeout\",\n        type: \"number\",\n        min: 0,\n        placeholder: \"Timeout in seconds\",\n        \"aria-label\": \"Timeout in seconds\",\n        value: config.jsonData.timeout,\n        onChange: onTimeoutChange\n      }\n    )\n  ));\n};\n\n\n//# sourceMappingURL=AdvancedHttpSettings.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi8ueWFybi9fX3ZpcnR1YWxfXy9AZ3JhZmFuYS1leHBlcmltZW50YWwtdmlydHVhbC1iYTc2NzU1MmZlLzAvY2FjaGUvQGdyYWZhbmEtZXhwZXJpbWVudGFsLW5wbS0xLjYuMS1mMDUyZDJhZTUxLTY0YzMyYmM5ZTMuemlwL25vZGVfbW9kdWxlcy9AZ3JhZmFuYS9leHBlcmltZW50YWwvZGlzdC9lc20vQ29uZmlnRWRpdG9yL0FkdmFuY2VkU2V0dGluZ3MvQWR2YW5jZWRIdHRwU2V0dGluZ3MuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7QUFBbUM7QUFDSTtBQUNxQjtBQUNZOztBQUV4RTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4RUFBOEUsNkRBQTZEO0FBQzNJO0FBQ0EsK0JBQStCO0FBQy9CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQSw0Q0FBNEM7QUFDNUMsK0NBQStDO0FBQy9DO0FBQ0EsT0FBTztBQUNQLEtBQUs7QUFDTDtBQUNBO0FBQ0EsNENBQTRDO0FBQzVDLCtDQUErQztBQUMvQztBQUNBLE9BQU87QUFDUCxLQUFLO0FBQ0w7QUFDQTtBQUNBLGVBQWUsaURBQUc7QUFDbEI7QUFDQSxLQUFLO0FBQ0w7QUFDQSx5QkFBeUIsMERBQTRCLENBQUMsZ0ZBQWdCLElBQUksNENBQTRDLGdEQUFFLCtCQUErQixrQkFBa0IsMERBQTRCO0FBQ3JNLElBQUksb0RBQVc7QUFDZjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxvQkFBb0IsMERBQTRCO0FBQ2hELE1BQU0sa0RBQVM7QUFDZjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQiwwREFBNEI7QUFDakQsSUFBSSxvREFBVztBQUNmO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLG9CQUFvQiwwREFBNEI7QUFDaEQsTUFBTSw4Q0FBSztBQUNYO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFZ0M7QUFDaEMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9ncmFmYW5hLy4vLnlhcm4vX192aXJ0dWFsX18vQGdyYWZhbmEtZXhwZXJpbWVudGFsLXZpcnR1YWwtYmE3Njc1NTJmZS8wL2NhY2hlL0BncmFmYW5hLWV4cGVyaW1lbnRhbC1ucG0tMS42LjEtZjA1MmQyYWU1MS02NGMzMmJjOWUzLnppcC9ub2RlX21vZHVsZXMvQGdyYWZhbmEvZXhwZXJpbWVudGFsL2Rpc3QvZXNtL0NvbmZpZ0VkaXRvci9BZHZhbmNlZFNldHRpbmdzL0FkdmFuY2VkSHR0cFNldHRpbmdzLmpzPzIxYzAiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFJlYWN0X19kZWZhdWx0IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IGNzcywgY3ggfSBmcm9tICdAZW1vdGlvbi9jc3MnO1xuaW1wb3J0IHsgSW5saW5lRmllbGQsIFRhZ3NJbnB1dCwgSW5wdXQgfSBmcm9tICdAZ3JhZmFuYS91aSc7XG5pbXBvcnQgeyBDb25maWdTdWJTZWN0aW9uIH0gZnJvbSAnLi4vQ29uZmlnU2VjdGlvbi9Db25maWdTdWJTZWN0aW9uLmpzJztcblxudmFyIF9fZGVmUHJvcCA9IE9iamVjdC5kZWZpbmVQcm9wZXJ0eTtcbnZhciBfX2RlZlByb3BzID0gT2JqZWN0LmRlZmluZVByb3BlcnRpZXM7XG52YXIgX19nZXRPd25Qcm9wRGVzY3MgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycztcbnZhciBfX2dldE93blByb3BTeW1ib2xzID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scztcbnZhciBfX2hhc093blByb3AgPSBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5O1xudmFyIF9fcHJvcElzRW51bSA9IE9iamVjdC5wcm90b3R5cGUucHJvcGVydHlJc0VudW1lcmFibGU7XG52YXIgX19kZWZOb3JtYWxQcm9wID0gKG9iaiwga2V5LCB2YWx1ZSkgPT4ga2V5IGluIG9iaiA/IF9fZGVmUHJvcChvYmosIGtleSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUsIHdyaXRhYmxlOiB0cnVlLCB2YWx1ZSB9KSA6IG9ialtrZXldID0gdmFsdWU7XG52YXIgX19zcHJlYWRWYWx1ZXMgPSAoYSwgYikgPT4ge1xuICBmb3IgKHZhciBwcm9wIGluIGIgfHwgKGIgPSB7fSkpXG4gICAgaWYgKF9faGFzT3duUHJvcC5jYWxsKGIsIHByb3ApKVxuICAgICAgX19kZWZOb3JtYWxQcm9wKGEsIHByb3AsIGJbcHJvcF0pO1xuICBpZiAoX19nZXRPd25Qcm9wU3ltYm9scylcbiAgICBmb3IgKHZhciBwcm9wIG9mIF9fZ2V0T3duUHJvcFN5bWJvbHMoYikpIHtcbiAgICAgIGlmIChfX3Byb3BJc0VudW0uY2FsbChiLCBwcm9wKSlcbiAgICAgICAgX19kZWZOb3JtYWxQcm9wKGEsIHByb3AsIGJbcHJvcF0pO1xuICAgIH1cbiAgcmV0dXJuIGE7XG59O1xudmFyIF9fc3ByZWFkUHJvcHMgPSAoYSwgYikgPT4gX19kZWZQcm9wcyhhLCBfX2dldE93blByb3BEZXNjcyhiKSk7XG5jb25zdCBBZHZhbmNlZEh0dHBTZXR0aW5ncyA9ICh7XG4gIGNvbmZpZyxcbiAgb25DaGFuZ2UsXG4gIGNsYXNzTmFtZVxufSkgPT4ge1xuICBjb25zdCBvbkNvb2tpZXNDaGFuZ2UgPSAoY29va2llcykgPT4ge1xuICAgIG9uQ2hhbmdlKF9fc3ByZWFkUHJvcHMoX19zcHJlYWRWYWx1ZXMoe30sIGNvbmZpZyksIHtcbiAgICAgIGpzb25EYXRhOiBfX3NwcmVhZFByb3BzKF9fc3ByZWFkVmFsdWVzKHt9LCBjb25maWcuanNvbkRhdGEpLCB7XG4gICAgICAgIGtlZXBDb29raWVzOiBjb29raWVzXG4gICAgICB9KVxuICAgIH0pKTtcbiAgfTtcbiAgY29uc3Qgb25UaW1lb3V0Q2hhbmdlID0gKGV2ZW50KSA9PiB7XG4gICAgb25DaGFuZ2UoX19zcHJlYWRQcm9wcyhfX3NwcmVhZFZhbHVlcyh7fSwgY29uZmlnKSwge1xuICAgICAganNvbkRhdGE6IF9fc3ByZWFkUHJvcHMoX19zcHJlYWRWYWx1ZXMoe30sIGNvbmZpZy5qc29uRGF0YSksIHtcbiAgICAgICAgdGltZW91dDogcGFyc2VJbnQoZXZlbnQuY3VycmVudFRhcmdldC52YWx1ZSwgMTApXG4gICAgICB9KVxuICAgIH0pKTtcbiAgfTtcbiAgY29uc3Qgc3R5bGVzID0ge1xuICAgIGNvbnRhaW5lcjogY3NzKHtcbiAgICAgIG1heFdpZHRoOiA1NzhcbiAgICB9KVxuICB9O1xuICByZXR1cm4gLyogQF9fUFVSRV9fICovIFJlYWN0X19kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoQ29uZmlnU3ViU2VjdGlvbiwgeyB0aXRsZTogXCJBZHZhbmNlZCBIVFRQIHNldHRpbmdzXCIsIGNsYXNzTmFtZTogY3goc3R5bGVzLmNvbnRhaW5lciwgY2xhc3NOYW1lKSB9LCAvKiBAX19QVVJFX18gKi8gUmVhY3RfX2RlZmF1bHQuY3JlYXRlRWxlbWVudChcbiAgICBJbmxpbmVGaWVsZCxcbiAgICB7XG4gICAgICBodG1sRm9yOiBcImFkdmFuY2VkLWh0dHAtY29va2llc1wiLFxuICAgICAgbGFiZWw6IFwiQWxsb3dlZCBjb29raWVzXCIsXG4gICAgICBsYWJlbFdpZHRoOiAyNCxcbiAgICAgIHRvb2x0aXA6IFwiR3JhZmFuYSBwcm94eSBkZWxldGVzIGZvcndhcmRlZCBjb29raWVzIGJ5IGRlZmF1bHQuIFNwZWNpZnkgY29va2llcyBieSBuYW1lIHRoYXQgc2hvdWxkIGJlIGZvcndhcmRlZCB0byB0aGUgZGF0YSBzb3VyY2UuXCIsXG4gICAgICBkaXNhYmxlZDogY29uZmlnLnJlYWRPbmx5LFxuICAgICAgZ3JvdzogdHJ1ZVxuICAgIH0sXG4gICAgLyogQF9fUFVSRV9fICovIFJlYWN0X19kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICBUYWdzSW5wdXQsXG4gICAgICB7XG4gICAgICAgIGlkOiBcImFkdmFuY2VkLWh0dHAtY29va2llc1wiLFxuICAgICAgICBwbGFjZWhvbGRlcjogXCJOZXcgY29va2llIChoaXQgZW50ZXIgdG8gYWRkKVwiLFxuICAgICAgICB0YWdzOiBjb25maWcuanNvbkRhdGEua2VlcENvb2tpZXMsXG4gICAgICAgIG9uQ2hhbmdlOiBvbkNvb2tpZXNDaGFuZ2VcbiAgICAgIH1cbiAgICApXG4gICksIC8qIEBfX1BVUkVfXyAqLyBSZWFjdF9fZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgIElubGluZUZpZWxkLFxuICAgIHtcbiAgICAgIGh0bWxGb3I6IFwiYWR2YW5jZWQtaHR0cC10aW1lb3V0XCIsXG4gICAgICBsYWJlbDogXCJUaW1lb3V0XCIsXG4gICAgICBsYWJlbFdpZHRoOiAyNCxcbiAgICAgIHRvb2x0aXA6IFwiSFRUUCByZXF1ZXN0IHRpbWVvdXQgaW4gc2Vjb25kc1wiLFxuICAgICAgZGlzYWJsZWQ6IGNvbmZpZy5yZWFkT25seSxcbiAgICAgIGdyb3c6IHRydWVcbiAgICB9LFxuICAgIC8qIEBfX1BVUkVfXyAqLyBSZWFjdF9fZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgSW5wdXQsXG4gICAgICB7XG4gICAgICAgIGlkOiBcImFkdmFuY2VkLWh0dHAtdGltZW91dFwiLFxuICAgICAgICB0eXBlOiBcIm51bWJlclwiLFxuICAgICAgICBtaW46IDAsXG4gICAgICAgIHBsYWNlaG9sZGVyOiBcIlRpbWVvdXQgaW4gc2Vjb25kc1wiLFxuICAgICAgICBcImFyaWEtbGFiZWxcIjogXCJUaW1lb3V0IGluIHNlY29uZHNcIixcbiAgICAgICAgdmFsdWU6IGNvbmZpZy5qc29uRGF0YS50aW1lb3V0LFxuICAgICAgICBvbkNoYW5nZTogb25UaW1lb3V0Q2hhbmdlXG4gICAgICB9XG4gICAgKVxuICApKTtcbn07XG5cbmV4cG9ydCB7IEFkdmFuY2VkSHR0cFNldHRpbmdzIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1BZHZhbmNlZEh0dHBTZXR0aW5ncy5qcy5tYXBcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./.yarn/__virtual__/@grafana-experimental-virtual-ba767552fe/0/cache/@grafana-experimental-npm-1.6.1-f052d2ae51-64c32bc9e3.zip/node_modules/@grafana/experimental/dist/esm/ConfigEditor/AdvancedSettings/AdvancedHttpSettings.js\n");

/***/ }),

/***/ "./public/app/core/components/Divider.tsx":
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Divider: () => (/* binding */ Divider)\n/* harmony export */ });\n/* harmony import */ var _emotion_css__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"./.yarn/cache/@emotion-css-npm-11.11.2-dbfa42cf83-1edea109df.zip/node_modules/@emotion/css/dist/emotion-css.esm.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(\"./.yarn/cache/react-npm-18.2.0-1eae08fee2-88e38092da.zip/node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _grafana_ui__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(\"./.yarn/__virtual__/@grafana-ui-virtual-d722efae30/1/packages/grafana-ui/src/themes/ThemeContext.tsx\");\n\n\n\n\nconst Divider = ({ hideLine = false }) => {\n  const styles = (0,_grafana_ui__WEBPACK_IMPORTED_MODULE_2__.useStyles2)(getStyles);\n  if (hideLine) {\n    return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_1___default().createElement(\"hr\", { className: styles.dividerHideLine });\n  }\n  return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_1___default().createElement(\"hr\", { className: styles.divider });\n};\nconst getStyles = (theme) => ({\n  divider: (0,_emotion_css__WEBPACK_IMPORTED_MODULE_0__.css)`\n    margin: ${theme.spacing(4, 0)};\n  `,\n  dividerHideLine: (0,_emotion_css__WEBPACK_IMPORTED_MODULE_0__.css)`\n    border: none;\n    margin: ${theme.spacing(3, 0)};\n  `\n});\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9wdWJsaWMvYXBwL2NvcmUvY29tcG9uZW50cy9EaXZpZGVyLnRzeCIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7QUFBb0I7QUFDRjtBQUdTO0FBRXBCLE1BQU0sVUFBVSxDQUFDLEVBQUUsV0FBVyxNQUFNLE1BQU07QUFDL0MsUUFBTSxTQUFTLHVEQUFVLENBQUMsU0FBUztBQUVuQyxNQUFJLFVBQVU7QUFDWixXQUFPLDJFQUFDLFFBQUcsV0FBVyxPQUFPLGlCQUFpQjtBQUFBLEVBQ2hEO0FBRUEsU0FBTywyRUFBQyxRQUFHLFdBQVcsT0FBTyxTQUFTO0FBQ3hDO0FBRUEsTUFBTSxZQUFZLENBQUMsV0FBMEI7QUFBQSxFQUMzQyxTQUFTLGlEQUFHO0FBQUgsY0FDRyxNQUFNLFFBQVEsR0FBRyxDQUFDO0FBQUE7QUFBQSxFQUU5QixpQkFBaUIsaURBQUc7QUFBSDtBQUFBLGNBRUwsTUFBTSxRQUFRLEdBQUcsQ0FBQztBQUFBO0FBRWhDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZ3JhZmFuYS8uL3B1YmxpYy9hcHAvY29yZS9jb21wb25lbnRzL0RpdmlkZXIudHN4Pzc1NGUiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgY3NzIH0gZnJvbSAnQGVtb3Rpb24vY3NzJztcbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5cbmltcG9ydCB7IEdyYWZhbmFUaGVtZTIgfSBmcm9tICdAZ3JhZmFuYS9kYXRhJztcbmltcG9ydCB7IHVzZVN0eWxlczIgfSBmcm9tICdAZ3JhZmFuYS91aSc7XG5cbmV4cG9ydCBjb25zdCBEaXZpZGVyID0gKHsgaGlkZUxpbmUgPSBmYWxzZSB9KSA9PiB7XG4gIGNvbnN0IHN0eWxlcyA9IHVzZVN0eWxlczIoZ2V0U3R5bGVzKTtcblxuICBpZiAoaGlkZUxpbmUpIHtcbiAgICByZXR1cm4gPGhyIGNsYXNzTmFtZT17c3R5bGVzLmRpdmlkZXJIaWRlTGluZX0gLz47XG4gIH1cblxuICByZXR1cm4gPGhyIGNsYXNzTmFtZT17c3R5bGVzLmRpdmlkZXJ9IC8+O1xufTtcblxuY29uc3QgZ2V0U3R5bGVzID0gKHRoZW1lOiBHcmFmYW5hVGhlbWUyKSA9PiAoe1xuICBkaXZpZGVyOiBjc3NgXG4gICAgbWFyZ2luOiAke3RoZW1lLnNwYWNpbmcoNCwgMCl9O1xuICBgLFxuICBkaXZpZGVySGlkZUxpbmU6IGNzc2BcbiAgICBib3JkZXI6IG5vbmU7XG4gICAgbWFyZ2luOiAke3RoZW1lLnNwYWNpbmcoMywgMCl9O1xuICBgLFxufSk7XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./public/app/core/components/Divider.tsx\n");

/***/ }),

/***/ "./public/app/core/components/NodeGraphSettings.tsx":
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   NodeGraphSection: () => (/* binding */ NodeGraphSection),\n/* harmony export */   NodeGraphSettings: () => (/* binding */ NodeGraphSettings)\n/* harmony export */ });\n/* harmony import */ var _emotion_css__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"./.yarn/cache/@emotion-css-npm-11.11.2-dbfa42cf83-1edea109df.zip/node_modules/@emotion/css/dist/emotion-css.esm.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(\"./.yarn/cache/react-npm-18.2.0-1eae08fee2-88e38092da.zip/node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _grafana_data__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(\"./.yarn/__virtual__/@grafana-data-virtual-0996183232/1/packages/grafana-data/src/utils/datasource.ts\");\n/* harmony import */ var _grafana_experimental__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(\"./.yarn/__virtual__/@grafana-experimental-virtual-ba767552fe/0/cache/@grafana-experimental-npm-1.6.1-f052d2ae51-64c32bc9e3.zip/node_modules/@grafana/experimental/dist/esm/ConfigEditor/ConfigSection/ConfigSubSection.js\");\n/* harmony import */ var _grafana_ui__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(\"./.yarn/__virtual__/@grafana-ui-virtual-d722efae30/1/packages/grafana-ui/src/themes/ThemeContext.tsx\");\n/* harmony import */ var _grafana_ui__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(\"./.yarn/__virtual__/@grafana-ui-virtual-d722efae30/1/packages/grafana-ui/src/components/Forms/InlineFieldRow.tsx\");\n/* harmony import */ var _grafana_ui__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(\"./.yarn/__virtual__/@grafana-ui-virtual-d722efae30/1/packages/grafana-ui/src/components/Forms/InlineField.tsx\");\n/* harmony import */ var _grafana_ui__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(\"./.yarn/__virtual__/@grafana-ui-virtual-d722efae30/1/packages/grafana-ui/src/components/Switch/Switch.tsx\");\n/* harmony import */ var _ConfigDescriptionLink__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(\"./public/app/core/components/ConfigDescriptionLink.tsx\");\n\n\n\n\n\n\n\nfunction NodeGraphSettings({ options, onOptionsChange }) {\n  const styles = (0,_grafana_ui__WEBPACK_IMPORTED_MODULE_3__.useStyles2)(getStyles);\n  return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_1___default().createElement(\"div\", { className: styles.container }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_grafana_ui__WEBPACK_IMPORTED_MODULE_4__.InlineFieldRow, { className: styles.row }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_1___default().createElement(\n    _grafana_ui__WEBPACK_IMPORTED_MODULE_5__.InlineField,\n    {\n      tooltip: \"Displays the node graph above the trace view. Default: disabled\",\n      label: \"Enable node graph\",\n      labelWidth: 26\n    },\n    /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_1___default().createElement(\n      _grafana_ui__WEBPACK_IMPORTED_MODULE_6__.InlineSwitch,\n      {\n        id: \"enableNodeGraph\",\n        value: options.jsonData.nodeGraph?.enabled,\n        onChange: (event) => (0,_grafana_data__WEBPACK_IMPORTED_MODULE_7__.updateDatasourcePluginJsonDataOption)({ onOptionsChange, options }, \"nodeGraph\", {\n          ...options.jsonData.nodeGraph,\n          enabled: event.currentTarget.checked\n        })\n      }\n    )\n  )));\n}\nconst NodeGraphSection = ({ options, onOptionsChange }) => {\n  return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_1___default().createElement(\n    _grafana_experimental__WEBPACK_IMPORTED_MODULE_8__.ConfigSubSection,\n    {\n      title: \"Node graph\",\n      description: /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_1___default().createElement(\n        _ConfigDescriptionLink__WEBPACK_IMPORTED_MODULE_2__.ConfigDescriptionLink,\n        {\n          description: \"Show or hide the node graph visualization.\",\n          suffix: `${options.type}/#node-graph`,\n          feature: \"the node graph\"\n        }\n      )\n    },\n    /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_1___default().createElement(NodeGraphSettings, { options, onOptionsChange })\n  );\n};\nconst getStyles = (theme) => ({\n  infoText: (0,_emotion_css__WEBPACK_IMPORTED_MODULE_0__.css)`\n    label: infoText;\n    padding-bottom: ${theme.spacing(2)};\n    color: ${theme.colors.text.secondary};\n  `,\n  container: (0,_emotion_css__WEBPACK_IMPORTED_MODULE_0__.css)`\n    label: container;\n    width: 100%;\n  `,\n  row: (0,_emotion_css__WEBPACK_IMPORTED_MODULE_0__.css)`\n    label: row;\n    align-items: baseline;\n  `\n});\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9wdWJsaWMvYXBwL2NvcmUvY29tcG9uZW50cy9Ob2RlR3JhcGhTZXR0aW5ncy50c3giLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7OztBQUFvQjtBQUNGO0FBT1g7QUFDMEI7QUFDcUM7QUFFaEM7QUFZL0IsU0FBUyxrQkFBa0IsRUFBRSxTQUFTLGdCQUFnQixHQUFVO0FBQ3JFLFFBQU0sU0FBUyx1REFBVSxDQUFDLFNBQVM7QUFFbkMsU0FDRSwyRUFBQyxTQUFJLFdBQVcsT0FBTyxhQUNyQiwyRUFBQyx1REFBYyxJQUFDLFdBQVcsT0FBTyxPQUNoQztBQUFBLElBQUMsb0RBQVc7QUFBWDtBQUFBLE1BQ0MsU0FBUTtBQUFBLE1BQ1IsT0FBTTtBQUFBLE1BQ04sWUFBWTtBQUFBO0FBQUEsSUFFWjtBQUFBLE1BQUMscURBQVk7QUFBWjtBQUFBLFFBQ0MsSUFBRztBQUFBLFFBQ0gsT0FBTyxRQUFRLFNBQVMsV0FBVztBQUFBLFFBQ25DLFVBQVUsQ0FBQyxVQUNULG1GQUFvQyxDQUFDLEVBQUUsaUJBQWlCLFFBQVEsR0FBRyxhQUFhO0FBQUEsVUFDOUUsR0FBRyxRQUFRLFNBQVM7QUFBQSxVQUNwQixTQUFTLE1BQU0sY0FBYztBQUFBLFFBQy9CLENBQUM7QUFBQTtBQUFBLElBRUw7QUFBQSxFQUNGLENBQ0YsQ0FDRjtBQUVKO0FBRU8sTUFBTSxtQkFBbUIsQ0FBQyxFQUFFLFNBQVMsZ0JBQWdCLE1BQTBDO0FBQ3BHLFNBQ0U7QUFBQSxJQUFDLG1FQUFnQjtBQUFoQjtBQUFBLE1BQ0MsT0FBTTtBQUFBLE1BQ04sYUFDRTtBQUFBLFFBQUMseUVBQXFCO0FBQXJCO0FBQUEsVUFDQyxhQUFZO0FBQUEsVUFDWixRQUFRLEdBQUcsUUFBUTtBQUFBLFVBQ25CLFNBQVE7QUFBQTtBQUFBLE1BQ1Y7QUFBQTtBQUFBLElBR0YsMkVBQUMscUJBQWtCLFNBQWtCLGlCQUFrQztBQUFBLEVBQ3pFO0FBRUo7QUFFQSxNQUFNLFlBQVksQ0FBQyxXQUEwQjtBQUFBLEVBQzNDLFVBQVUsaURBQUc7QUFBSDtBQUFBLHNCQUVVLE1BQU0sUUFBUSxDQUFDO0FBQUEsYUFDeEIsTUFBTSxPQUFPLEtBQUs7QUFBQTtBQUFBLEVBRTdCLFdBQVcsaURBQUc7QUFBSDtBQUFBO0FBQUE7QUFBQSxFQUlYLEtBQUssaURBQUc7QUFBSDtBQUFBO0FBQUE7QUFJUCIsInNvdXJjZXMiOlsid2VicGFjazovL2dyYWZhbmEvLi9wdWJsaWMvYXBwL2NvcmUvY29tcG9uZW50cy9Ob2RlR3JhcGhTZXR0aW5ncy50c3g/YjE0OCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBjc3MgfSBmcm9tICdAZW1vdGlvbi9jc3MnO1xuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcblxuaW1wb3J0IHtcbiAgRGF0YVNvdXJjZUpzb25EYXRhLFxuICBEYXRhU291cmNlUGx1Z2luT3B0aW9uc0VkaXRvclByb3BzLFxuICBHcmFmYW5hVGhlbWUyLFxuICB1cGRhdGVEYXRhc291cmNlUGx1Z2luSnNvbkRhdGFPcHRpb24sXG59IGZyb20gJ0BncmFmYW5hL2RhdGEnO1xuaW1wb3J0IHsgQ29uZmlnU3ViU2VjdGlvbiB9IGZyb20gJ0BncmFmYW5hL2V4cGVyaW1lbnRhbCc7XG5pbXBvcnQgeyBJbmxpbmVGaWVsZCwgSW5saW5lRmllbGRSb3csIElubGluZVN3aXRjaCwgdXNlU3R5bGVzMiB9IGZyb20gJ0BncmFmYW5hL3VpJztcblxuaW1wb3J0IHsgQ29uZmlnRGVzY3JpcHRpb25MaW5rIH0gZnJvbSAnLi9Db25maWdEZXNjcmlwdGlvbkxpbmsnO1xuXG5leHBvcnQgaW50ZXJmYWNlIE5vZGVHcmFwaE9wdGlvbnMge1xuICBlbmFibGVkPzogYm9vbGVhbjtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBOb2RlR3JhcGhEYXRhIGV4dGVuZHMgRGF0YVNvdXJjZUpzb25EYXRhIHtcbiAgbm9kZUdyYXBoPzogTm9kZUdyYXBoT3B0aW9ucztcbn1cblxuaW50ZXJmYWNlIFByb3BzIGV4dGVuZHMgRGF0YVNvdXJjZVBsdWdpbk9wdGlvbnNFZGl0b3JQcm9wczxOb2RlR3JhcGhEYXRhPiB7fVxuXG5leHBvcnQgZnVuY3Rpb24gTm9kZUdyYXBoU2V0dGluZ3MoeyBvcHRpb25zLCBvbk9wdGlvbnNDaGFuZ2UgfTogUHJvcHMpIHtcbiAgY29uc3Qgc3R5bGVzID0gdXNlU3R5bGVzMihnZXRTdHlsZXMpO1xuXG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9e3N0eWxlcy5jb250YWluZXJ9PlxuICAgICAgPElubGluZUZpZWxkUm93IGNsYXNzTmFtZT17c3R5bGVzLnJvd30+XG4gICAgICAgIDxJbmxpbmVGaWVsZFxuICAgICAgICAgIHRvb2x0aXA9XCJEaXNwbGF5cyB0aGUgbm9kZSBncmFwaCBhYm92ZSB0aGUgdHJhY2Ugdmlldy4gRGVmYXVsdDogZGlzYWJsZWRcIlxuICAgICAgICAgIGxhYmVsPVwiRW5hYmxlIG5vZGUgZ3JhcGhcIlxuICAgICAgICAgIGxhYmVsV2lkdGg9ezI2fVxuICAgICAgICA+XG4gICAgICAgICAgPElubGluZVN3aXRjaFxuICAgICAgICAgICAgaWQ9XCJlbmFibGVOb2RlR3JhcGhcIlxuICAgICAgICAgICAgdmFsdWU9e29wdGlvbnMuanNvbkRhdGEubm9kZUdyYXBoPy5lbmFibGVkfVxuICAgICAgICAgICAgb25DaGFuZ2U9eyhldmVudDogUmVhY3QuU3ludGhldGljRXZlbnQ8SFRNTElucHV0RWxlbWVudD4pID0+XG4gICAgICAgICAgICAgIHVwZGF0ZURhdGFzb3VyY2VQbHVnaW5Kc29uRGF0YU9wdGlvbih7IG9uT3B0aW9uc0NoYW5nZSwgb3B0aW9ucyB9LCAnbm9kZUdyYXBoJywge1xuICAgICAgICAgICAgICAgIC4uLm9wdGlvbnMuanNvbkRhdGEubm9kZUdyYXBoLFxuICAgICAgICAgICAgICAgIGVuYWJsZWQ6IGV2ZW50LmN1cnJlbnRUYXJnZXQuY2hlY2tlZCxcbiAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAvPlxuICAgICAgICA8L0lubGluZUZpZWxkPlxuICAgICAgPC9JbmxpbmVGaWVsZFJvdz5cbiAgICA8L2Rpdj5cbiAgKTtcbn1cblxuZXhwb3J0IGNvbnN0IE5vZGVHcmFwaFNlY3Rpb24gPSAoeyBvcHRpb25zLCBvbk9wdGlvbnNDaGFuZ2UgfTogRGF0YVNvdXJjZVBsdWdpbk9wdGlvbnNFZGl0b3JQcm9wcykgPT4ge1xuICByZXR1cm4gKFxuICAgIDxDb25maWdTdWJTZWN0aW9uXG4gICAgICB0aXRsZT1cIk5vZGUgZ3JhcGhcIlxuICAgICAgZGVzY3JpcHRpb249e1xuICAgICAgICA8Q29uZmlnRGVzY3JpcHRpb25MaW5rXG4gICAgICAgICAgZGVzY3JpcHRpb249XCJTaG93IG9yIGhpZGUgdGhlIG5vZGUgZ3JhcGggdmlzdWFsaXphdGlvbi5cIlxuICAgICAgICAgIHN1ZmZpeD17YCR7b3B0aW9ucy50eXBlfS8jbm9kZS1ncmFwaGB9XG4gICAgICAgICAgZmVhdHVyZT1cInRoZSBub2RlIGdyYXBoXCJcbiAgICAgICAgLz5cbiAgICAgIH1cbiAgICA+XG4gICAgICA8Tm9kZUdyYXBoU2V0dGluZ3Mgb3B0aW9ucz17b3B0aW9uc30gb25PcHRpb25zQ2hhbmdlPXtvbk9wdGlvbnNDaGFuZ2V9IC8+XG4gICAgPC9Db25maWdTdWJTZWN0aW9uPlxuICApO1xufTtcblxuY29uc3QgZ2V0U3R5bGVzID0gKHRoZW1lOiBHcmFmYW5hVGhlbWUyKSA9PiAoe1xuICBpbmZvVGV4dDogY3NzYFxuICAgIGxhYmVsOiBpbmZvVGV4dDtcbiAgICBwYWRkaW5nLWJvdHRvbTogJHt0aGVtZS5zcGFjaW5nKDIpfTtcbiAgICBjb2xvcjogJHt0aGVtZS5jb2xvcnMudGV4dC5zZWNvbmRhcnl9O1xuICBgLFxuICBjb250YWluZXI6IGNzc2BcbiAgICBsYWJlbDogY29udGFpbmVyO1xuICAgIHdpZHRoOiAxMDAlO1xuICBgLFxuICByb3c6IGNzc2BcbiAgICBsYWJlbDogcm93O1xuICAgIGFsaWduLWl0ZW1zOiBiYXNlbGluZTtcbiAgYCxcbn0pO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./public/app/core/components/NodeGraphSettings.tsx\n");

/***/ }),

/***/ "./public/app/core/components/TraceToMetrics/TraceToMetricsSettings.tsx":
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   TraceToMetricsSection: () => (/* binding */ TraceToMetricsSection),\n/* harmony export */   TraceToMetricsSettings: () => (/* binding */ TraceToMetricsSettings)\n/* harmony export */ });\n/* harmony import */ var _emotion_css__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"./.yarn/cache/@emotion-css-npm-11.11.2-dbfa42cf83-1edea109df.zip/node_modules/@emotion/css/dist/emotion-css.esm.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(\"./.yarn/cache/react-npm-18.2.0-1eae08fee2-88e38092da.zip/node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _grafana_data__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(\"./.yarn/__virtual__/@grafana-data-virtual-0996183232/1/packages/grafana-data/src/utils/datasource.ts\");\n/* harmony import */ var _grafana_experimental__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(\"./.yarn/__virtual__/@grafana-experimental-virtual-ba767552fe/0/cache/@grafana-experimental-npm-1.6.1-f052d2ae51-64c32bc9e3.zip/node_modules/@grafana/experimental/dist/esm/ConfigEditor/ConfigSection/ConfigSection.js\");\n/* harmony import */ var _grafana_ui__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(\"./.yarn/__virtual__/@grafana-ui-virtual-d722efae30/1/packages/grafana-ui/src/themes/ThemeContext.tsx\");\n/* harmony import */ var _grafana_ui__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(\"./.yarn/__virtual__/@grafana-ui-virtual-d722efae30/1/packages/grafana-ui/src/components/Forms/InlineFieldRow.tsx\");\n/* harmony import */ var _grafana_ui__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(\"./.yarn/__virtual__/@grafana-ui-virtual-d722efae30/1/packages/grafana-ui/src/components/Forms/InlineField.tsx\");\n/* harmony import */ var _grafana_ui__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(\"./.yarn/__virtual__/@grafana-ui-virtual-d722efae30/1/packages/grafana-ui/src/components/Button/Button.tsx\");\n/* harmony import */ var _grafana_ui__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(\"./.yarn/__virtual__/@grafana-ui-virtual-d722efae30/1/packages/grafana-ui/src/components/Input/Input.tsx\");\n/* harmony import */ var app_features_datasources_components_picker_DataSourcePicker__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(\"./public/app/features/datasources/components/picker/DataSourcePicker.tsx\");\n/* harmony import */ var _ConfigDescriptionLink__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(\"./public/app/core/components/ConfigDescriptionLink.tsx\");\n/* harmony import */ var _IntervalInput_IntervalInput__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(\"./public/app/core/components/IntervalInput/IntervalInput.tsx\");\n/* harmony import */ var _TraceToLogs_TagMappingInput__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(\"./public/app/core/components/TraceToLogs/TagMappingInput.tsx\");\n/* harmony import */ var _TraceToLogs_TraceToLogsSettings__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(\"./public/app/core/components/TraceToLogs/TraceToLogsSettings.tsx\");\n\n\n\n\n\n\n\n\n\n\n\nfunction TraceToMetricsSettings({ options, onOptionsChange }) {\n  const styles = (0,_grafana_ui__WEBPACK_IMPORTED_MODULE_7__.useStyles2)(getStyles);\n  return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_1___default().createElement(\"div\", { className: (0,_emotion_css__WEBPACK_IMPORTED_MODULE_0__.css)({ width: \"100%\" }) }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_grafana_ui__WEBPACK_IMPORTED_MODULE_8__.InlineFieldRow, { className: styles.row }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_1___default().createElement(\n    _grafana_ui__WEBPACK_IMPORTED_MODULE_9__.InlineField,\n    {\n      tooltip: \"The Prometheus data source the trace is going to navigate to\",\n      label: \"Data source\",\n      labelWidth: 26\n    },\n    /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_1___default().createElement(\n      app_features_datasources_components_picker_DataSourcePicker__WEBPACK_IMPORTED_MODULE_2__.DataSourcePicker,\n      {\n        inputId: \"trace-to-metrics-data-source-picker\",\n        pluginId: \"prometheus\",\n        current: options.jsonData.tracesToMetrics?.datasourceUid,\n        noDefault: true,\n        width: 40,\n        onChange: (ds) => (0,_grafana_data__WEBPACK_IMPORTED_MODULE_10__.updateDatasourcePluginJsonDataOption)({ onOptionsChange, options }, \"tracesToMetrics\", {\n          ...options.jsonData.tracesToMetrics,\n          datasourceUid: ds.uid\n        })\n      }\n    )\n  ), options.jsonData.tracesToMetrics?.datasourceUid ? /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_1___default().createElement(\n    _grafana_ui__WEBPACK_IMPORTED_MODULE_11__.Button,\n    {\n      type: \"button\",\n      variant: \"secondary\",\n      size: \"sm\",\n      fill: \"text\",\n      onClick: () => {\n        (0,_grafana_data__WEBPACK_IMPORTED_MODULE_10__.updateDatasourcePluginJsonDataOption)({ onOptionsChange, options }, \"tracesToMetrics\", {\n          ...options.jsonData.tracesToMetrics,\n          datasourceUid: void 0\n        });\n      }\n    },\n    \"Clear\"\n  ) : null), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_grafana_ui__WEBPACK_IMPORTED_MODULE_8__.InlineFieldRow, null, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_1___default().createElement(\n    _IntervalInput_IntervalInput__WEBPACK_IMPORTED_MODULE_4__.IntervalInput,\n    {\n      label: (0,_TraceToLogs_TraceToLogsSettings__WEBPACK_IMPORTED_MODULE_6__.getTimeShiftLabel)(\"start\"),\n      tooltip: (0,_TraceToLogs_TraceToLogsSettings__WEBPACK_IMPORTED_MODULE_6__.getTimeShiftTooltip)(\"start\"),\n      value: options.jsonData.tracesToMetrics?.spanStartTimeShift || \"\",\n      onChange: (val) => {\n        (0,_grafana_data__WEBPACK_IMPORTED_MODULE_10__.updateDatasourcePluginJsonDataOption)({ onOptionsChange, options }, \"tracesToMetrics\", {\n          ...options.jsonData.tracesToMetrics,\n          spanStartTimeShift: val\n        });\n      },\n      isInvalidError: _TraceToLogs_TraceToLogsSettings__WEBPACK_IMPORTED_MODULE_6__.invalidTimeShiftError\n    }\n  )), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_grafana_ui__WEBPACK_IMPORTED_MODULE_8__.InlineFieldRow, null, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_1___default().createElement(\n    _IntervalInput_IntervalInput__WEBPACK_IMPORTED_MODULE_4__.IntervalInput,\n    {\n      label: (0,_TraceToLogs_TraceToLogsSettings__WEBPACK_IMPORTED_MODULE_6__.getTimeShiftLabel)(\"end\"),\n      tooltip: (0,_TraceToLogs_TraceToLogsSettings__WEBPACK_IMPORTED_MODULE_6__.getTimeShiftTooltip)(\"end\"),\n      value: options.jsonData.tracesToMetrics?.spanEndTimeShift || \"\",\n      onChange: (val) => {\n        (0,_grafana_data__WEBPACK_IMPORTED_MODULE_10__.updateDatasourcePluginJsonDataOption)({ onOptionsChange, options }, \"tracesToMetrics\", {\n          ...options.jsonData.tracesToMetrics,\n          spanEndTimeShift: val\n        });\n      },\n      isInvalidError: _TraceToLogs_TraceToLogsSettings__WEBPACK_IMPORTED_MODULE_6__.invalidTimeShiftError\n    }\n  )), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_grafana_ui__WEBPACK_IMPORTED_MODULE_8__.InlineFieldRow, null, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_grafana_ui__WEBPACK_IMPORTED_MODULE_9__.InlineField, { tooltip: \"Tags that will be used in the metrics query\", label: \"Tags\", labelWidth: 26 }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_1___default().createElement(\n    _TraceToLogs_TagMappingInput__WEBPACK_IMPORTED_MODULE_5__.TagMappingInput,\n    {\n      values: options.jsonData.tracesToMetrics?.tags ?? [],\n      onChange: (v) => (0,_grafana_data__WEBPACK_IMPORTED_MODULE_10__.updateDatasourcePluginJsonDataOption)({ onOptionsChange, options }, \"tracesToMetrics\", {\n        ...options.jsonData.tracesToMetrics,\n        tags: v\n      })\n    }\n  ))), options.jsonData.tracesToMetrics?.queries?.map((query, i) => /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_1___default().createElement(\"div\", { key: i, className: styles.queryRow }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_grafana_ui__WEBPACK_IMPORTED_MODULE_9__.InlineField, { label: \"Link Label\", labelWidth: 26, tooltip: \"Descriptive label for the linked query\" }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_1___default().createElement(\n    _grafana_ui__WEBPACK_IMPORTED_MODULE_12__.Input,\n    {\n      label: \"Link Label\",\n      type: \"text\",\n      allowFullScreen: true,\n      value: query.name,\n      width: 40,\n      onChange: (e) => {\n        let newQueries = options.jsonData.tracesToMetrics?.queries.slice() ?? [];\n        newQueries[i].name = e.currentTarget.value;\n        (0,_grafana_data__WEBPACK_IMPORTED_MODULE_10__.updateDatasourcePluginJsonDataOption)({ onOptionsChange, options }, \"tracesToMetrics\", {\n          ...options.jsonData.tracesToMetrics,\n          queries: newQueries\n        });\n      }\n    }\n  )), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_1___default().createElement(\n    _grafana_ui__WEBPACK_IMPORTED_MODULE_9__.InlineField,\n    {\n      label: \"Query\",\n      labelWidth: 10,\n      tooltip: \"The Prometheus query that will run when navigating from a trace to metrics. Interpolate tags using the `$__tags` keyword\",\n      grow: true\n    },\n    /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_1___default().createElement(\n      _grafana_ui__WEBPACK_IMPORTED_MODULE_12__.Input,\n      {\n        label: \"Query\",\n        type: \"text\",\n        allowFullScreen: true,\n        value: query.query,\n        onChange: (e) => {\n          let newQueries = options.jsonData.tracesToMetrics?.queries.slice() ?? [];\n          newQueries[i].query = e.currentTarget.value;\n          (0,_grafana_data__WEBPACK_IMPORTED_MODULE_10__.updateDatasourcePluginJsonDataOption)({ onOptionsChange, options }, \"tracesToMetrics\", {\n            ...options.jsonData.tracesToMetrics,\n            queries: newQueries\n          });\n        }\n      }\n    )\n  ), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_1___default().createElement(\n    _grafana_ui__WEBPACK_IMPORTED_MODULE_11__.Button,\n    {\n      variant: \"destructive\",\n      title: \"Remove query\",\n      icon: \"times\",\n      type: \"button\",\n      onClick: () => {\n        let newQueries = options.jsonData.tracesToMetrics?.queries.slice();\n        newQueries?.splice(i, 1);\n        (0,_grafana_data__WEBPACK_IMPORTED_MODULE_10__.updateDatasourcePluginJsonDataOption)({ onOptionsChange, options }, \"tracesToMetrics\", {\n          ...options.jsonData.tracesToMetrics,\n          queries: newQueries\n        });\n      }\n    }\n  ))), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_1___default().createElement(\n    _grafana_ui__WEBPACK_IMPORTED_MODULE_11__.Button,\n    {\n      variant: \"secondary\",\n      title: \"Add query\",\n      icon: \"plus\",\n      type: \"button\",\n      onClick: () => {\n        (0,_grafana_data__WEBPACK_IMPORTED_MODULE_10__.updateDatasourcePluginJsonDataOption)({ onOptionsChange, options }, \"tracesToMetrics\", {\n          ...options.jsonData.tracesToMetrics,\n          queries: [...options.jsonData.tracesToMetrics?.queries ?? [], { query: \"\" }]\n        });\n      }\n    },\n    \"Add query\"\n  ));\n}\nconst TraceToMetricsSection = ({ options, onOptionsChange }) => {\n  return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_1___default().createElement(\n    _grafana_experimental__WEBPACK_IMPORTED_MODULE_13__.ConfigSection,\n    {\n      title: \"Trace to metrics\",\n      description: /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_1___default().createElement(\n        _ConfigDescriptionLink__WEBPACK_IMPORTED_MODULE_3__.ConfigDescriptionLink,\n        {\n          description: \"Navigate from a trace span to the selected data source's metrics.\",\n          suffix: `${options.type}/#trace-to-metrics`,\n          feature: \"trace to metrics\"\n        }\n      ),\n      isCollapsible: true,\n      isInitiallyOpen: true\n    },\n    /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_1___default().createElement(TraceToMetricsSettings, { options, onOptionsChange })\n  );\n};\nconst getStyles = (theme) => ({\n  infoText: (0,_emotion_css__WEBPACK_IMPORTED_MODULE_0__.css)`\n    padding-bottom: ${theme.spacing(2)};\n    color: ${theme.colors.text.secondary};\n  `,\n  row: (0,_emotion_css__WEBPACK_IMPORTED_MODULE_0__.css)`\n    label: row;\n    align-items: baseline;\n  `,\n  queryRow: (0,_emotion_css__WEBPACK_IMPORTED_MODULE_0__.css)`\n    label: queryRow;\n    display: flex;\n    flex-flow: wrap;\n  `\n});\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9wdWJsaWMvYXBwL2NvcmUvY29tcG9uZW50cy9UcmFjZVRvTWV0cmljcy9UcmFjZVRvTWV0cmljc1NldHRpbmdzLnRzeCIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBb0I7QUFDRjtBQVFYO0FBQ3VCO0FBQ3lDO0FBQ3RDO0FBRUs7QUFDUjtBQUNFO0FBQzhDO0FBcUJ2RSxTQUFTLHVCQUF1QixFQUFFLFNBQVMsZ0JBQWdCLEdBQVU7QUFDMUUsUUFBTSxTQUFTLHVEQUFVLENBQUMsU0FBUztBQUVuQyxTQUNFLDJFQUFDLFNBQUksV0FBVyxpREFBRyxDQUFDLEVBQUUsT0FBTyxPQUFPLENBQUMsS0FDbkMsMkVBQUMsdURBQWMsSUFBQyxXQUFXLE9BQU8sT0FDaEM7QUFBQSxJQUFDLG9EQUFXO0FBQVg7QUFBQSxNQUNDLFNBQVE7QUFBQSxNQUNSLE9BQU07QUFBQSxNQUNOLFlBQVk7QUFBQTtBQUFBLElBRVo7QUFBQSxNQUFDLHlHQUFnQjtBQUFoQjtBQUFBLFFBQ0MsU0FBUTtBQUFBLFFBQ1IsVUFBUztBQUFBLFFBQ1QsU0FBUyxRQUFRLFNBQVMsaUJBQWlCO0FBQUEsUUFDM0MsV0FBVztBQUFBLFFBQ1gsT0FBTztBQUFBLFFBQ1AsVUFBVSxDQUFDLE9BQ1Qsb0ZBQW9DLENBQUMsRUFBRSxpQkFBaUIsUUFBUSxHQUFHLG1CQUFtQjtBQUFBLFVBQ3BGLEdBQUcsUUFBUSxTQUFTO0FBQUEsVUFDcEIsZUFBZSxHQUFHO0FBQUEsUUFDcEIsQ0FBQztBQUFBO0FBQUEsSUFFTDtBQUFBLEVBQ0YsR0FDQyxRQUFRLFNBQVMsaUJBQWlCLGdCQUNqQztBQUFBLElBQUMsZ0RBQU07QUFBTjtBQUFBLE1BQ0MsTUFBSztBQUFBLE1BQ0wsU0FBUTtBQUFBLE1BQ1IsTUFBSztBQUFBLE1BQ0wsTUFBSztBQUFBLE1BQ0wsU0FBUyxNQUFNO0FBQ2IsNEZBQW9DLENBQUMsRUFBRSxpQkFBaUIsUUFBUSxHQUFHLG1CQUFtQjtBQUFBLFVBQ3BGLEdBQUcsUUFBUSxT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RTtBQUFBLFFBQUMseUVBQXFCO0FBQXJCO0FBQUEsVUFDQyxhQUFZO0FBQUEsVUFDWixRQUFRLEdBQUcsUUFBUTtBQUFBLFVBQ25CLFNBQVE7QUFBQTtBQUFBLE1BQ1Y7QUFBQSxNQUVGLGVBQWU7QUFBQSxNQUNmLGlCQUFpQjtBQUFBO0FBQUEsSUFFakIsMkVBQUMsMEJBQXVCLFNBQWtCLGlCQUFrQztBQUFBLEVBQzlFO0FBRUo7QUFFQSxNQUFNLFlBQVksQ0FBQyxXQUEwQjtBQUFBLEVBQzNDLFVBQVUsaURBQUc7QUFBSCxzQkFDVSxNQUFNLFFBQVEsQ0FBQztBQUFBLGFBQ3hCLE1BQU0sT0FBTyxLQUFLO0FBQUE7QUFBQSxFQUU3QixLQUFLLGlEQUFHO0FBQUg7QUFBQTtBQUFBO0FBQUEsRUFJTCxVQUFVLGlEQUFHO0FBQUg7QUFBQTtBQUFBO0FBQUE7QUFLWiIsInNvdXJjZXMiOlsid2VicGFjazovL2dyYWZhbmEvLi9wdWJsaWMvYXBwL2NvcmUvY29tcG9uZW50cy9UcmFjZVRvTWV0cmljcy9UcmFjZVRvTWV0cmljc1NldHRpbmdzLnRzeD9lNTNkIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGNzcyB9IGZyb20gJ0BlbW90aW9uL2Nzcyc7XG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuXG5pbXBvcnQge1xuICBEYXRhU291cmNlSW5zdGFuY2VTZXR0aW5ncyxcbiAgRGF0YVNvdXJjZUpzb25EYXRhLFxuICBEYXRhU291cmNlUGx1Z2luT3B0aW9uc0VkaXRvclByb3BzLFxuICBHcmFmYW5hVGhlbWUyLFxuICB1cGRhdGVEYXRhc291cmNlUGx1Z2luSnNvbkRhdGFPcHRpb24sXG59IGZyb20gJ0BncmFmYW5hL2RhdGEnO1xuaW1wb3J0IHsgQ29uZmlnU2VjdGlvbiB9IGZyb20gJ0BncmFmYW5hL2V4cGVyaW1lbnRhbCc7XG5pbXBvcnQgeyBCdXR0b24sIElubGluZUZpZWxkLCBJbmxpbmVGaWVsZFJvdywgSW5wdXQsIHVzZVN0eWxlczIgfSBmcm9tICdAZ3JhZmFuYS91aSc7XG5pbXBvcnQgeyBEYXRhU291cmNlUGlja2VyIH0gZnJvbSAnYXBwL2ZlYXR1cmVzL2RhdGFzb3VyY2VzL2NvbXBvbmVudHMvcGlja2VyL0RhdGFTb3VyY2VQaWNrZXInO1xuXG5pbXBvcnQgeyBDb25maWdEZXNjcmlwdGlvbkxpbmsgfSBmcm9tICcuLi9Db25maWdEZXNjcmlwdGlvbkxpbmsnO1xuaW1wb3J0IHsgSW50ZXJ2YWxJbnB1dCB9IGZyb20gJy4uL0ludGVydmFsSW5wdXQvSW50ZXJ2YWxJbnB1dCc7XG5pbXBvcnQgeyBUYWdNYXBwaW5nSW5wdXQgfSBmcm9tICcuLi9UcmFjZVRvTG9ncy9UYWdNYXBwaW5nSW5wdXQnO1xuaW1wb3J0IHsgZ2V0VGltZVNoaWZ0TGFiZWwsIGdldFRpbWVTaGlmdFRvb2x0aXAsIGludmFsaWRUaW1lU2hpZnRFcnJvciB9IGZyb20gJy4uL1RyYWNlVG9Mb2dzL1RyYWNlVG9Mb2dzU2V0dGluZ3MnO1xuXG5leHBvcnQgaW50ZXJmYWNlIFRyYWNlVG9NZXRyaWNzT3B0aW9ucyB7XG4gIGRhdGFzb3VyY2VVaWQ/OiBzdHJpbmc7XG4gIHRhZ3M/OiBBcnJheTx7IGtleTogc3RyaW5nOyB2YWx1ZTogc3RyaW5nIH0+O1xuICBxdWVyaWVzOiBUcmFjZVRvTWV0cmljUXVlcnlbXTtcbiAgc3BhblN0YXJ0VGltZVNoaWZ0Pzogc3RyaW5nO1xuICBzcGFuRW5kVGltZVNoaWZ0Pzogc3RyaW5nO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFRyYWNlVG9NZXRyaWNRdWVyeSB7XG4gIG5hbWU/OiBzdHJpbmc7XG4gIHF1ZXJ5Pzogc3RyaW5nO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFRyYWNlVG9NZXRyaWNzRGF0YSBleHRlbmRzIERhdGFTb3VyY2VKc29uRGF0YSB7XG4gIHRyYWNlc1RvTWV0cmljcz86IFRyYWNlVG9NZXRyaWNzT3B0aW9ucztcbn1cblxuaW50ZXJmYWNlIFByb3BzIGV4dGVuZHMgRGF0YVNvdXJjZVBsdWdpbk9wdGlvbnNFZGl0b3JQcm9wczxUcmFjZVRvTWV0cmljc0RhdGE+IHt9XG5cbmV4cG9ydCBmdW5jdGlvbiBUcmFjZVRvTWV0cmljc1NldHRpbmdzKHsgb3B0aW9ucywgb25PcHRpb25zQ2hhbmdlIH06IFByb3BzKSB7XG4gIGNvbnN0IHN0eWxlcyA9IHVzZVN0eWxlczIoZ2V0U3R5bGVzKTtcblxuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPXtjc3MoeyB3aWR0aDogJzEwMCUnIH0pfT5cbiAgICAgIDxJbmxpbmVGaWVsZFJvdyBjbGFzc05hbWU9e3N0eWxlcy5yb3d9PlxuICAgICAgICA8SW5saW5lRmllbGRcbiAgICAgICAgICB0b29sdGlwPVwiVGhlIFByb21ldGhldXMgZGF0YSBzb3VyY2UgdGhlIHRyYWNlIGlzIGdvaW5nIHRvIG5hdmlnYXRlIHRvXCJcbiAgICAgICAgICBsYWJlbD1cIkRhdGEgc291cmNlXCJcbiAgICAgICAgICBsYWJlbFdpZHRoPXsyNn1cbiAgICAgICAgPlxuICAgICAgICAgIDxEYXRhU291cmNlUGlja2VyXG4gICAgICAgICAgICBpbnB1dElkPVwidHJhY2UtdG8tbWV0cmljcy1kYXRhLXNvdXJjZS1waWNrZXJcIlxuICAgICAgICAgICAgcGx1Z2luSWQ9XCJwcm9tZXRoZXVzXCJcbiAgICAgICAgICAgIGN1cnJlbnQ9e29wdGlvbnMuanNvbkRhdGEudHJhY2VzVG9NZXRyaWNzPy5kYXRhc291cmNlVWlkfVxuICAgICAgICAgICAgbm9EZWZhdWx0PXt0cnVlfVxuICAgICAgICAgICAgd2lkdGg9ezQwfVxuICAgICAgICAgICAgb25DaGFuZ2U9eyhkczogRGF0YVNvdXJjZUluc3RhbmNlU2V0dGluZ3MpID0+XG4gICAgICAgICAgICAgIHVwZGF0ZURhdGFzb3VyY2VQbHVnaW5Kc29uRGF0YU9wdGlvbih7IG9uT3B0aW9uc0NoYW5nZSwgb3B0aW9ucyB9LCAndHJhY2VzVG9NZXRyaWNzJywge1xuICAgICAgICAgICAgICAgIC4uLm9wdGlvbnMuanNvbkRhdGEudHJhY2VzVG9NZXRyaWNzLFxuICAgICAgICAgICAgICAgIGRhdGFzb3VyY2VVaWQ6IGRzLnVpZCxcbiAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAvPlxuICAgICAgICA8L0lubGluZUZpZWxkPlxuICAgICAgICB7b3B0aW9ucy5qc29uRGF0YS50cmFjZXNUb01ldHJpY3M/LmRhdGFzb3VyY2VVaWQgPyAoXG4gICAgICAgICAgPEJ1dHRvblxuICAgICAgICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgICAgICAgICB2YXJpYW50PVwic2Vjb25kYXJ5XCJcbiAgICAgICAgICAgIHNpemU9XCJzbVwiXG4gICAgICAgICAgICBmaWxsPVwidGV4dFwiXG4gICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgICAgIHVwZGF0ZURhdGFzb3VyY2VQbHVnaW5Kc29uRGF0YU9wdGlvbih7IG9uT3B0aW9uc0NoYW5nZSwgb3B0aW9ucyB9LCAndHJhY2VzVG9NZXRyaWNzJywge1xuICAgICAgICAgICAgICAgIC4uLm9wdGlvbnMuanNvbkRhdGEudHJhY2VzVG9NZXRyaWNzLFxuICAgICAgICAgICAgICAgIGRhdGFzb3VyY2VVaWQ6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9fVxuICAgICAgICAgID5cbiAgICAgICAgICAgIENsZWFyXG4gICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICkgOiBudWxsfVxuICAgICAgPC9JbmxpbmVGaWVsZFJvdz5cblxuICAgICAgPElubGluZUZpZWxkUm93PlxuICAgICAgICA8SW50ZXJ2YWxJbnB1dFxuICAgICAgICAgIGxhYmVsPXtnZXRUaW1lU2hpZnRMYWJlbCgnc3RhcnQnKX1cbiAgICAgICAgICB0b29sdGlwPXtnZXRUaW1lU2hpZnRUb29sdGlwKCdzdGFydCcpfVxuICAgICAgICAgIHZhbHVlPXtvcHRpb25zLmpzb25EYXRhLnRyYWNlc1RvTWV0cmljcz8uc3BhblN0YXJ0VGltZVNoaWZ0IHx8ICcnfVxuICAgICAgICAgIG9uQ2hhbmdlPXsodmFsKSA9PiB7XG4gICAgICAgICAgICB1cGRhdGVEYXRhc291cmNlUGx1Z2luSnNvbkRhdGFPcHRpb24oeyBvbk9wdGlvbnNDaGFuZ2UsIG9wdGlvbnMgfSwgJ3RyYWNlc1RvTWV0cmljcycsIHtcbiAgICAgICAgICAgICAgLi4ub3B0aW9ucy5qc29uRGF0YS50cmFjZXNUb01ldHJpY3MsXG4gICAgICAgICAgICAgIHNwYW5TdGFydFRpbWVTaGlmdDogdmFsLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfX1cbiAgICAgICAgICBpc0ludmFsaWRFcnJvcj17aW52YWxpZFRpbWVTaGlmdEVycm9yfVxuICAgICAgICAvPlxuICAgICAgPC9JbmxpbmVGaWVsZFJvdz5cblxuICAgICAgPElubGluZUZpZWxkUm93PlxuICAgICAgICA8SW50ZXJ2YWxJbnB1dFxuICAgICAgICAgIGxhYmVsPXtnZXRUaW1lU2hpZnRMYWJlbCgnZW5kJyl9XG4gICAgICAgICAgdG9vbHRpcD17Z2V0VGltZVNoaWZ0VG9vbHRpcCgnZW5kJyl9XG4gICAgICAgICAgdmFsdWU9e29wdGlvbnMuanNvbkRhdGEudHJhY2VzVG9NZXRyaWNzPy5zcGFuRW5kVGltZVNoaWZ0IHx8ICcnfVxuICAgICAgICAgIG9uQ2hhbmdlPXsodmFsKSA9PiB7XG4gICAgICAgICAgICB1cGRhdGVEYXRhc291cmNlUGx1Z2luSnNvbkRhdGFPcHRpb24oeyBvbk9wdGlvbnNDaGFuZ2UsIG9wdGlvbnMgfSwgJ3RyYWNlc1RvTWV0cmljcycsIHtcbiAgICAgICAgICAgICAgLi4ub3B0aW9ucy5qc29uRGF0YS50cmFjZXNUb01ldHJpY3MsXG4gICAgICAgICAgICAgIHNwYW5FbmRUaW1lU2hpZnQ6IHZhbCxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH19XG4gICAgICAgICAgaXNJbnZhbGlkRXJyb3I9e2ludmFsaWRUaW1lU2hpZnRFcnJvcn1cbiAgICAgICAgLz5cbiAgICAgIDwvSW5saW5lRmllbGRSb3c+XG5cbiAgICAgIDxJbmxpbmVGaWVsZFJvdz5cbiAgICAgICAgPElubGluZUZpZWxkIHRvb2x0aXA9XCJUYWdzIHRoYXQgd2lsbCBiZSB1c2VkIGluIHRoZSBtZXRyaWNzIHF1ZXJ5XCIgbGFiZWw9XCJUYWdzXCIgbGFiZWxXaWR0aD17MjZ9PlxuICAgICAgICAgIDxUYWdNYXBwaW5nSW5wdXRcbiAgICAgICAgICAgIHZhbHVlcz17b3B0aW9ucy5qc29uRGF0YS50cmFjZXNUb01ldHJpY3M/LnRhZ3MgPz8gW119XG4gICAgICAgICAgICBvbkNoYW5nZT17KHYpID0+XG4gICAgICAgICAgICAgIHVwZGF0ZURhdGFzb3VyY2VQbHVnaW5Kc29uRGF0YU9wdGlvbih7IG9uT3B0aW9uc0NoYW5nZSwgb3B0aW9ucyB9LCAndHJhY2VzVG9NZXRyaWNzJywge1xuICAgICAgICAgICAgICAgIC4uLm9wdGlvbnMuanNvbkRhdGEudHJhY2VzVG9NZXRyaWNzLFxuICAgICAgICAgICAgICAgIHRhZ3M6IHYsXG4gICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICB9XG4gICAgICAgICAgLz5cbiAgICAgICAgPC9JbmxpbmVGaWVsZD5cbiAgICAgIDwvSW5saW5lRmllbGRSb3c+XG5cbiAgICAgIHtvcHRpb25zLmpzb25EYXRhLnRyYWNlc1RvTWV0cmljcz8ucXVlcmllcz8ubWFwKChxdWVyeSwgaSkgPT4gKFxuICAgICAgICA8ZGl2IGtleT17aX0gY2xhc3NOYW1lPXtzdHlsZXMucXVlcnlSb3d9PlxuICAgICAgICAgIDxJbmxpbmVGaWVsZCBsYWJlbD1cIkxpbmsgTGFiZWxcIiBsYWJlbFdpZHRoPXsyNn0gdG9vbHRpcD1cIkRlc2NyaXB0aXZlIGxhYmVsIGZvciB0aGUgbGlua2VkIHF1ZXJ5XCI+XG4gICAgICAgICAgICA8SW5wdXRcbiAgICAgICAgICAgICAgbGFiZWw9XCJMaW5rIExhYmVsXCJcbiAgICAgICAgICAgICAgdHlwZT1cInRleHRcIlxuICAgICAgICAgICAgICBhbGxvd0Z1bGxTY3JlZW5cbiAgICAgICAgICAgICAgdmFsdWU9e3F1ZXJ5Lm5hbWV9XG4gICAgICAgICAgICAgIHdpZHRoPXs0MH1cbiAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgbGV0IG5ld1F1ZXJpZXMgPSBvcHRpb25zLmpzb25EYXRhLnRyYWNlc1RvTWV0cmljcz8ucXVlcmllcy5zbGljZSgpID8/IFtdO1xuICAgICAgICAgICAgICAgIG5ld1F1ZXJpZXNbaV0ubmFtZSA9IGUuY3VycmVudFRhcmdldC52YWx1ZTtcbiAgICAgICAgICAgICAgICB1cGRhdGVEYXRhc291cmNlUGx1Z2luSnNvbkRhdGFPcHRpb24oeyBvbk9wdGlvbnNDaGFuZ2UsIG9wdGlvbnMgfSwgJ3RyYWNlc1RvTWV0cmljcycsIHtcbiAgICAgICAgICAgICAgICAgIC4uLm9wdGlvbnMuanNvbkRhdGEudHJhY2VzVG9NZXRyaWNzLFxuICAgICAgICAgICAgICAgICAgcXVlcmllczogbmV3UXVlcmllcyxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgIC8+XG4gICAgICAgICAgPC9JbmxpbmVGaWVsZD5cbiAgICAgICAgICA8SW5saW5lRmllbGRcbiAgICAgICAgICAgIGxhYmVsPVwiUXVlcnlcIlxuICAgICAgICAgICAgbGFiZWxXaWR0aD17MTB9XG4gICAgICAgICAgICB0b29sdGlwPVwiVGhlIFByb21ldGhldXMgcXVlcnkgdGhhdCB3aWxsIHJ1biB3aGVuIG5hdmlnYXRpbmcgZnJvbSBhIHRyYWNlIHRvIG1ldHJpY3MuIEludGVycG9sYXRlIHRhZ3MgdXNpbmcgdGhlIGAkX190YWdzYCBrZXl3b3JkXCJcbiAgICAgICAgICAgIGdyb3dcbiAgICAgICAgICA+XG4gICAgICAgICAgICA8SW5wdXRcbiAgICAgICAgICAgICAgbGFiZWw9XCJRdWVyeVwiXG4gICAgICAgICAgICAgIHR5cGU9XCJ0ZXh0XCJcbiAgICAgICAgICAgICAgYWxsb3dGdWxsU2NyZWVuXG4gICAgICAgICAgICAgIHZhbHVlPXtxdWVyeS5xdWVyeX1cbiAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgbGV0IG5ld1F1ZXJpZXMgPSBvcHRpb25zLmpzb25EYXRhLnRyYWNlc1RvTWV0cmljcz8ucXVlcmllcy5zbGljZSgpID8/IFtdO1xuICAgICAgICAgICAgICAgIG5ld1F1ZXJpZXNbaV0ucXVlcnkgPSBlLmN1cnJlbnRUYXJnZXQudmFsdWU7XG4gICAgICAgICAgICAgICAgdXBkYXRlRGF0YXNvdXJjZVBsdWdpbkpzb25EYXRhT3B0aW9uKHsgb25PcHRpb25zQ2hhbmdlLCBvcHRpb25zIH0sICd0cmFjZXNUb01ldHJpY3MnLCB7XG4gICAgICAgICAgICAgICAgICAuLi5vcHRpb25zLmpzb25EYXRhLnRyYWNlc1RvTWV0cmljcyxcbiAgICAgICAgICAgICAgICAgIHF1ZXJpZXM6IG5ld1F1ZXJpZXMsXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAvPlxuICAgICAgICAgIDwvSW5saW5lRmllbGQ+XG5cbiAgICAgICAgICA8QnV0dG9uXG4gICAgICAgICAgICB2YXJpYW50PVwiZGVzdHJ1Y3RpdmVcIlxuICAgICAgICAgICAgdGl0bGU9XCJSZW1vdmUgcXVlcnlcIlxuICAgICAgICAgICAgaWNvbj1cInRpbWVzXCJcbiAgICAgICAgICAgIHR5cGU9XCJidXR0b25cIlxuICAgICAgICAgICAgb25DbGljaz17KCkgPT4ge1xuICAgICAgICAgICAgICBsZXQgbmV3UXVlcmllcyA9IG9wdGlvbnMuanNvbkRhdGEudHJhY2VzVG9NZXRyaWNzPy5xdWVyaWVzLnNsaWNlKCk7XG4gICAgICAgICAgICAgIG5ld1F1ZXJpZXM/LnNwbGljZShpLCAxKTtcbiAgICAgICAgICAgICAgdXBkYXRlRGF0YXNvdXJjZVBsdWdpbkpzb25EYXRhT3B0aW9uKHsgb25PcHRpb25zQ2hhbmdlLCBvcHRpb25zIH0sICd0cmFjZXNUb01ldHJpY3MnLCB7XG4gICAgICAgICAgICAgICAgLi4ub3B0aW9ucy5qc29uRGF0YS50cmFjZXNUb01ldHJpY3MsXG4gICAgICAgICAgICAgICAgcXVlcmllczogbmV3UXVlcmllcyxcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9fVxuICAgICAgICAgIC8+XG4gICAgICAgIDwvZGl2PlxuICAgICAgKSl9XG5cbiAgICAgIDxCdXR0b25cbiAgICAgICAgdmFyaWFudD1cInNlY29uZGFyeVwiXG4gICAgICAgIHRpdGxlPVwiQWRkIHF1ZXJ5XCJcbiAgICAgICAgaWNvbj1cInBsdXNcIlxuICAgICAgICB0eXBlPVwiYnV0dG9uXCJcbiAgICAgICAgb25DbGljaz17KCkgPT4ge1xuICAgICAgICAgIHVwZGF0ZURhdGFzb3VyY2VQbHVnaW5Kc29uRGF0YU9wdGlvbih7IG9uT3B0aW9uc0NoYW5nZSwgb3B0aW9ucyB9LCAndHJhY2VzVG9NZXRyaWNzJywge1xuICAgICAgICAgICAgLi4ub3B0aW9ucy5qc29uRGF0YS50cmFjZXNUb01ldHJpY3MsXG4gICAgICAgICAgICBxdWVyaWVzOiBbLi4uKG9wdGlvbnMuanNvbkRhdGEudHJhY2VzVG9NZXRyaWNzPy5xdWVyaWVzID8/IFtdKSwgeyBxdWVyeTogJycgfV0sXG4gICAgICAgICAgfSk7XG4gICAgICAgIH19XG4gICAgICA+XG4gICAgICAgIEFkZCBxdWVyeVxuICAgICAgPC9CdXR0b24+XG4gICAgPC9kaXY+XG4gICk7XG59XG5cbmV4cG9ydCBjb25zdCBUcmFjZVRvTWV0cmljc1NlY3Rpb24gPSAoeyBvcHRpb25zLCBvbk9wdGlvbnNDaGFuZ2UgfTogRGF0YVNvdXJjZVBsdWdpbk9wdGlvbnNFZGl0b3JQcm9wcykgPT4ge1xuICByZXR1cm4gKFxuICAgIDxDb25maWdTZWN0aW9uXG4gICAgICB0aXRsZT1cIlRyYWNlIHRvIG1ldHJpY3NcIlxuICAgICAgZGVzY3JpcHRpb249e1xuICAgICAgICA8Q29uZmlnRGVzY3JpcHRpb25MaW5rXG4gICAgICAgICAgZGVzY3JpcHRpb249XCJOYXZpZ2F0ZSBmcm9tIGEgdHJhY2Ugc3BhbiB0byB0aGUgc2VsZWN0ZWQgZGF0YSBzb3VyY2UncyBtZXRyaWNzLlwiXG4gICAgICAgICAgc3VmZml4PXtgJHtvcHRpb25zLnR5cGV9LyN0cmFjZS10by1tZXRyaWNzYH1cbiAgICAgICAgICBmZWF0dXJlPVwidHJhY2UgdG8gbWV0cmljc1wiXG4gICAgICAgIC8+XG4gICAgICB9XG4gICAgICBpc0NvbGxhcHNpYmxlPXt0cnVlfVxuICAgICAgaXNJbml0aWFsbHlPcGVuPXt0cnVlfVxuICAgID5cbiAgICAgIDxUcmFjZVRvTWV0cmljc1NldHRpbmdzIG9wdGlvbnM9e29wdGlvbnN9IG9uT3B0aW9uc0NoYW5nZT17b25PcHRpb25zQ2hhbmdlfSAvPlxuICAgIDwvQ29uZmlnU2VjdGlvbj5cbiAgKTtcbn07XG5cbmNvbnN0IGdldFN0eWxlcyA9ICh0aGVtZTogR3JhZmFuYVRoZW1lMikgPT4gKHtcbiAgaW5mb1RleHQ6IGNzc2BcbiAgICBwYWRkaW5nLWJvdHRvbTogJHt0aGVtZS5zcGFjaW5nKDIpfTtcbiAgICBjb2xvcjogJHt0aGVtZS5jb2xvcnMudGV4dC5zZWNvbmRhcnl9O1xuICBgLFxuICByb3c6IGNzc2BcbiAgICBsYWJlbDogcm93O1xuICAgIGFsaWduLWl0ZW1zOiBiYXNlbGluZTtcbiAgYCxcbiAgcXVlcnlSb3c6IGNzc2BcbiAgICBsYWJlbDogcXVlcnlSb3c7XG4gICAgZGlzcGxheTogZmxleDtcbiAgICBmbGV4LWZsb3c6IHdyYXA7XG4gIGAsXG59KTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./public/app/core/components/TraceToMetrics/TraceToMetricsSettings.tsx\n");

/***/ }),

/***/ "./public/app/plugins/datasource/loki/components/LokiQueryField.tsx":
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   LokiQueryField: () => (/* binding */ LokiQueryField)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"./.yarn/cache/react-npm-18.2.0-1eae08fee2-88e38092da.zip/node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _languageUtils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(\"./public/app/plugins/datasource/loki/languageUtils.ts\");\n/* harmony import */ var _monaco_query_field_MonacoQueryFieldWrapper__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(\"./public/app/plugins/datasource/loki/components/monaco-query-field/MonacoQueryFieldWrapper.tsx\");\n\n\n\n\nclass LokiQueryField extends (react__WEBPACK_IMPORTED_MODULE_0___default().PureComponent) {\n  constructor(props) {\n    super(props);\n    this._isMounted = false;\n    this.onChangeQuery = (value, override) => {\n      const { query, onChange, onRunQuery } = this.props;\n      if (onChange) {\n        const nextQuery = { ...query, expr: value };\n        onChange(nextQuery);\n        if (override && onRunQuery) {\n          onRunQuery();\n        }\n      }\n    };\n    this.state = { labelsLoaded: false };\n  }\n  async componentDidMount() {\n    this._isMounted = true;\n    await this.props.datasource.languageProvider.start();\n    if (this._isMounted) {\n      this.setState({ labelsLoaded: true });\n    }\n  }\n  componentWillUnmount() {\n    this._isMounted = false;\n  }\n  componentDidUpdate(prevProps) {\n    const {\n      range,\n      datasource: { languageProvider }\n    } = this.props;\n    const refreshLabels = (0,_languageUtils__WEBPACK_IMPORTED_MODULE_1__.shouldRefreshLabels)(range, prevProps.range);\n    if (refreshLabels) {\n      languageProvider.fetchLabels();\n    }\n  }\n  render() {\n    const { ExtraFieldElement, query, datasource, history, onRunQuery, onQueryType } = this.props;\n    const placeholder = this.props.placeholder ?? \"Enter a Loki query (run with Shift+Enter)\";\n    return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0___default().createElement((react__WEBPACK_IMPORTED_MODULE_0___default().Fragment), null, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\n      \"div\",\n      {\n        className: \"gf-form-inline gf-form-inline--xs-view-flex-column flex-grow-1\",\n        \"data-testid\": this.props[\"data-testid\"]\n      },\n      /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", { className: \"gf-form--grow flex-shrink-1 min-width-15\" }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\n        _monaco_query_field_MonacoQueryFieldWrapper__WEBPACK_IMPORTED_MODULE_2__.MonacoQueryFieldWrapper,\n        {\n          datasource,\n          history: history ?? [],\n          onChange: this.onChangeQuery,\n          onRunQuery,\n          initialValue: query.expr ?? \"\",\n          placeholder,\n          onQueryType\n        }\n      ))\n    ), ExtraFieldElement);\n  }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9wdWJsaWMvYXBwL3BsdWdpbnMvZGF0YXNvdXJjZS9sb2tpL2NvbXBvbmVudHMvTG9raVF1ZXJ5RmllbGQudHN4IiwibWFwcGluZ3MiOiI7Ozs7Ozs7OztBQUFpQztBQUtHO0FBR0k7QUFhakMsTUFBTSx1QkFBdUIsNERBQW1CLENBQTJDO0FBQUEsRUFHaEcsWUFBWSxPQUE0QjtBQUN0QyxVQUFNLEtBQUs7QUFIYixzQkFBYTtBQWdDYix5QkFBZ0IsQ0FBQyxPQUFlLGFBQXVCO0FBRXJELFlBQU0sRUFBRSxPQUFPLFVBQVUsV0FBVyxJQUFJLEtBQUs7QUFDN0MsVUFBSSxVQUFVO0FBQ1osY0FBTSxZQUFZLEVBQUUsR0FBRyxPQUFPLE1BQU0sTUFBTTtBQUMxQyxpQkFBUyxTQUFTO0FBRWxCLFlBQUksWUFBWSxZQUFZO0FBQzFCLHFCQUFXO0FBQUEsUUFDYjtBQUFBLE1BQ0Y7QUFBQSxJQUNGO0FBdENFLFNBQUssUUFBUSxFQUFFLGNBQWMsTUFBTTtBQUFBLEVBQ3JDO0FBQUEsRUFFQSxNQUFNLG9CQUFvQjtBQUN4QixTQUFLLGFBQWE7QUFDbEIsVUFBTSxLQUFLLE1BQU0sV0FBVyxpQkFBaUIsTUFBTTtBQUNuRCxRQUFJLEtBQUssWUFBWTtBQUNuQixXQUFLLFNBQVMsRUFBRSxjQUFjLEtBQUssQ0FBQztBQUFBLElBQ3RDO0FBQUEsRUFDRjtBQUFBLEVBRUEsdUJBQXVCO0FBQ3JCLFNBQUssYUFBYTtBQUFBLEVBQ3BCO0FBQUEsRUFFQSxtQkFBbUIsV0FBZ0M7QUFDakQsVUFBTTtBQUFBLE1BQ0o7QUFBQSxNQUNBLFlBQVksRUFBRSxpQkFBaUI7QUFBQSxJQUNqQyxJQUFJLEtBQUs7QUFDVCxVQUFNLGdCQUFnQixtRUFBbUIsQ0FBQyxPQUFPLFVBQVUsS0FBSztBQUVoRSxRQUFJLGVBQWU7QUFDakIsdUJBQWlCLFlBQVk7QUFBQSxJQUMvQjtBQUFBLEVBQ0Y7QUFBQSxFQWVBLFNBQVM7QUFDUCxVQUFNLEVBQUUsbUJBQW1CLE9BQU8sWUFBWSxTQUFTLFlBQVksWUFBWSxJQUFJLEtBQUs7QUFDeEYsVUFBTSxjQUFjLEtBQUssTUFBTSxlQUFlO0FBRTlDLFdBQ0UsMElBQ0U7QUFBQSxNQUFDO0FBQUE7QUFBQSxRQUNDLFdBQVU7QUFBQSxRQUNWLGVBQWEsS0FBSyxNQUFNLGFBQWE7QUFBQTtBQUFBLE1BRXJDLDJFQUFDLFNBQUksV0FBVSw4Q0FDYjtBQUFBLFFBQUMsZ0dBQXVCO0FBQXZCO0FBQUEsVUFDQztBQUFBLFVBQ0EsU0FBUyxXQUFXLENBQUM7QUFBQSxVQUNyQixVQUFVLEtBQUs7QUFBQSxVQUNmO0FBQUEsVUFDQSxjQUFjLE1BQU0sUUFBUTtBQUFBLFVBQzVCO0FBQUEsVUFDQTtBQUFBO0FBQUEsTUFDRixDQUNGO0FBQUEsSUFDRixHQUNDLGlCQUNIO0FBQUEsRUFFSjtBQUNGIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZ3JhZmFuYS8uL3B1YmxpYy9hcHAvcGx1Z2lucy9kYXRhc291cmNlL2xva2kvY29tcG9uZW50cy9Mb2tpUXVlcnlGaWVsZC50c3g/NzJjNiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUmVhY3QsIHsgUmVhY3ROb2RlIH0gZnJvbSAncmVhY3QnO1xuXG5pbXBvcnQgeyBRdWVyeUVkaXRvclByb3BzIH0gZnJvbSAnQGdyYWZhbmEvZGF0YSc7XG5cbmltcG9ydCB7IExva2lEYXRhc291cmNlIH0gZnJvbSAnLi4vZGF0YXNvdXJjZSc7XG5pbXBvcnQgeyBzaG91bGRSZWZyZXNoTGFiZWxzIH0gZnJvbSAnLi4vbGFuZ3VhZ2VVdGlscyc7XG5pbXBvcnQgeyBMb2tpUXVlcnksIExva2lPcHRpb25zIH0gZnJvbSAnLi4vdHlwZXMnO1xuXG5pbXBvcnQgeyBNb25hY29RdWVyeUZpZWxkV3JhcHBlciB9IGZyb20gJy4vbW9uYWNvLXF1ZXJ5LWZpZWxkL01vbmFjb1F1ZXJ5RmllbGRXcmFwcGVyJztcblxuZXhwb3J0IGludGVyZmFjZSBMb2tpUXVlcnlGaWVsZFByb3BzIGV4dGVuZHMgUXVlcnlFZGl0b3JQcm9wczxMb2tpRGF0YXNvdXJjZSwgTG9raVF1ZXJ5LCBMb2tpT3B0aW9ucz4ge1xuICBFeHRyYUZpZWxkRWxlbWVudD86IFJlYWN0Tm9kZTtcbiAgcGxhY2Vob2xkZXI/OiBzdHJpbmc7XG4gICdkYXRhLXRlc3RpZCc/OiBzdHJpbmc7XG4gIG9uUXVlcnlUeXBlPzogKHF1ZXJ5OiBzdHJpbmcpID0+IHZvaWQ7XG59XG5cbmludGVyZmFjZSBMb2tpUXVlcnlGaWVsZFN0YXRlIHtcbiAgbGFiZWxzTG9hZGVkOiBib29sZWFuO1xufVxuXG5leHBvcnQgY2xhc3MgTG9raVF1ZXJ5RmllbGQgZXh0ZW5kcyBSZWFjdC5QdXJlQ29tcG9uZW50PExva2lRdWVyeUZpZWxkUHJvcHMsIExva2lRdWVyeUZpZWxkU3RhdGU+IHtcbiAgX2lzTW91bnRlZCA9IGZhbHNlO1xuXG4gIGNvbnN0cnVjdG9yKHByb3BzOiBMb2tpUXVlcnlGaWVsZFByb3BzKSB7XG4gICAgc3VwZXIocHJvcHMpO1xuXG4gICAgdGhpcy5zdGF0ZSA9IHsgbGFiZWxzTG9hZGVkOiBmYWxzZSB9O1xuICB9XG5cbiAgYXN5bmMgY29tcG9uZW50RGlkTW91bnQoKSB7XG4gICAgdGhpcy5faXNNb3VudGVkID0gdHJ1ZTtcbiAgICBhd2FpdCB0aGlzLnByb3BzLmRhdGFzb3VyY2UubGFuZ3VhZ2VQcm92aWRlci5zdGFydCgpO1xuICAgIGlmICh0aGlzLl9pc01vdW50ZWQpIHtcbiAgICAgIHRoaXMuc2V0U3RhdGUoeyBsYWJlbHNMb2FkZWQ6IHRydWUgfSk7XG4gICAgfVxuICB9XG5cbiAgY29tcG9uZW50V2lsbFVubW91bnQoKSB7XG4gICAgdGhpcy5faXNNb3VudGVkID0gZmFsc2U7XG4gIH1cblxuICBjb21wb25lbnREaWRVcGRhdGUocHJldlByb3BzOiBMb2tpUXVlcnlGaWVsZFByb3BzKSB7XG4gICAgY29uc3Qge1xuICAgICAgcmFuZ2UsXG4gICAgICBkYXRhc291cmNlOiB7IGxhbmd1YWdlUHJvdmlkZXIgfSxcbiAgICB9ID0gdGhpcy5wcm9wcztcbiAgICBjb25zdCByZWZyZXNoTGFiZWxzID0gc2hvdWxkUmVmcmVzaExhYmVscyhyYW5nZSwgcHJldlByb3BzLnJhbmdlKTtcbiAgICAvLyBXZSB3YW50IHRvIHJlZnJlc2ggbGFiZWxzIHdoZW4gcmFuZ2UgY2hhbmdlcyAod2Ugcm91bmQgdXAgaW50ZXJ2YWxzIHRvIGEgbWludXRlKVxuICAgIGlmIChyZWZyZXNoTGFiZWxzKSB7XG4gICAgICBsYW5ndWFnZVByb3ZpZGVyLmZldGNoTGFiZWxzKCk7XG4gICAgfVxuICB9XG5cbiAgb25DaGFuZ2VRdWVyeSA9ICh2YWx1ZTogc3RyaW5nLCBvdmVycmlkZT86IGJvb2xlYW4pID0+IHtcbiAgICAvLyBTZW5kIHRleHQgY2hhbmdlIHRvIHBhcmVudFxuICAgIGNvbnN0IHsgcXVlcnksIG9uQ2hhbmdlLCBvblJ1blF1ZXJ5IH0gPSB0aGlzLnByb3BzO1xuICAgIGlmIChvbkNoYW5nZSkge1xuICAgICAgY29uc3QgbmV4dFF1ZXJ5ID0geyAuLi5xdWVyeSwgZXhwcjogdmFsdWUgfTtcbiAgICAgIG9uQ2hhbmdlKG5leHRRdWVyeSk7XG5cbiAgICAgIGlmIChvdmVycmlkZSAmJiBvblJ1blF1ZXJ5KSB7XG4gICAgICAgIG9uUnVuUXVlcnkoKTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG5cbiAgcmVuZGVyKCkge1xuICAgIGNvbnN0IHsgRXh0cmFGaWVsZEVsZW1lbnQsIHF1ZXJ5LCBkYXRhc291cmNlLCBoaXN0b3J5LCBvblJ1blF1ZXJ5LCBvblF1ZXJ5VHlwZSB9ID0gdGhpcy5wcm9wcztcbiAgICBjb25zdCBwbGFjZWhvbGRlciA9IHRoaXMucHJvcHMucGxhY2Vob2xkZXIgPz8gJ0VudGVyIGEgTG9raSBxdWVyeSAocnVuIHdpdGggU2hpZnQrRW50ZXIpJztcblxuICAgIHJldHVybiAoXG4gICAgICA8PlxuICAgICAgICA8ZGl2XG4gICAgICAgICAgY2xhc3NOYW1lPVwiZ2YtZm9ybS1pbmxpbmUgZ2YtZm9ybS1pbmxpbmUtLXhzLXZpZXctZmxleC1jb2x1bW4gZmxleC1ncm93LTFcIlxuICAgICAgICAgIGRhdGEtdGVzdGlkPXt0aGlzLnByb3BzWydkYXRhLXRlc3RpZCddfVxuICAgICAgICA+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJnZi1mb3JtLS1ncm93IGZsZXgtc2hyaW5rLTEgbWluLXdpZHRoLTE1XCI+XG4gICAgICAgICAgICA8TW9uYWNvUXVlcnlGaWVsZFdyYXBwZXJcbiAgICAgICAgICAgICAgZGF0YXNvdXJjZT17ZGF0YXNvdXJjZX1cbiAgICAgICAgICAgICAgaGlzdG9yeT17aGlzdG9yeSA/PyBbXX1cbiAgICAgICAgICAgICAgb25DaGFuZ2U9e3RoaXMub25DaGFuZ2VRdWVyeX1cbiAgICAgICAgICAgICAgb25SdW5RdWVyeT17b25SdW5RdWVyeX1cbiAgICAgICAgICAgICAgaW5pdGlhbFZhbHVlPXtxdWVyeS5leHByID8/ICcnfVxuICAgICAgICAgICAgICBwbGFjZWhvbGRlcj17cGxhY2Vob2xkZXJ9XG4gICAgICAgICAgICAgIG9uUXVlcnlUeXBlPXtvblF1ZXJ5VHlwZX1cbiAgICAgICAgICAgIC8+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICB7RXh0cmFGaWVsZEVsZW1lbnR9XG4gICAgICA8Lz5cbiAgICApO1xuICB9XG59XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./public/app/plugins/datasource/loki/components/LokiQueryField.tsx\n");

/***/ }),

/***/ "./public/app/plugins/datasource/loki/components/monaco-query-field/MonacoQueryFieldLazy.tsx":
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   MonacoQueryFieldLazy: () => (/* binding */ MonacoQueryFieldLazy)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"./.yarn/cache/react-npm-18.2.0-1eae08fee2-88e38092da.zip/node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n\n\nconst Field = react__WEBPACK_IMPORTED_MODULE_0___default().lazy(() => __webpack_require__.e(/* import() | loki-query-field */ \"loki-query-field\").then(__webpack_require__.bind(__webpack_require__, \"./public/app/plugins/datasource/loki/components/monaco-query-field/MonacoQueryField.tsx\")));\nconst MonacoQueryFieldLazy = (props) => {\n  return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0___default().createElement(react__WEBPACK_IMPORTED_MODULE_0__.Suspense, { fallback: null }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0___default().createElement(Field, { ...props }));\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9wdWJsaWMvYXBwL3BsdWdpbnMvZGF0YXNvdXJjZS9sb2tpL2NvbXBvbmVudHMvbW9uYWNvLXF1ZXJ5LWZpZWxkL01vbmFjb1F1ZXJ5RmllbGRMYXp5LnRzeCIsIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQWdDO0FBSWhDLE1BQU0sUUFBUSxpREFBVSxDQUFDLE1BQU0sME5BQXVFO0FBRS9GLE1BQU0sdUJBQXVCLENBQUMsVUFBaUI7QUFDcEQsU0FDRSwyRUFBQywyQ0FBUSxJQUFDLFVBQVUsUUFDbEIsMkVBQUMsU0FBTyxHQUFHLE9BQU8sQ0FDcEI7QUFFSiIsInNvdXJjZXMiOlsid2VicGFjazovL2dyYWZhbmEvLi9wdWJsaWMvYXBwL3BsdWdpbnMvZGF0YXNvdXJjZS9sb2tpL2NvbXBvbmVudHMvbW9uYWNvLXF1ZXJ5LWZpZWxkL01vbmFjb1F1ZXJ5RmllbGRMYXp5LnRzeD8yM2ExIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBSZWFjdCwgeyBTdXNwZW5zZSB9IGZyb20gJ3JlYWN0JztcblxuaW1wb3J0IHsgUHJvcHMgfSBmcm9tICcuL01vbmFjb1F1ZXJ5RmllbGRQcm9wcyc7XG5cbmNvbnN0IEZpZWxkID0gUmVhY3QubGF6eSgoKSA9PiBpbXBvcnQoLyogd2VicGFja0NodW5rTmFtZTogXCJsb2tpLXF1ZXJ5LWZpZWxkXCIgKi8gJy4vTW9uYWNvUXVlcnlGaWVsZCcpKTtcblxuZXhwb3J0IGNvbnN0IE1vbmFjb1F1ZXJ5RmllbGRMYXp5ID0gKHByb3BzOiBQcm9wcykgPT4ge1xuICByZXR1cm4gKFxuICAgIDxTdXNwZW5zZSBmYWxsYmFjaz17bnVsbH0+XG4gICAgICA8RmllbGQgey4uLnByb3BzfSAvPlxuICAgIDwvU3VzcGVuc2U+XG4gICk7XG59O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./public/app/plugins/datasource/loki/components/monaco-query-field/MonacoQueryFieldLazy.tsx\n");

/***/ }),

/***/ "./public/app/plugins/datasource/loki/components/monaco-query-field/MonacoQueryFieldWrapper.tsx":
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   MonacoQueryFieldWrapper: () => (/* binding */ MonacoQueryFieldWrapper)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"./.yarn/cache/react-npm-18.2.0-1eae08fee2-88e38092da.zip/node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _MonacoQueryFieldLazy__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(\"./public/app/plugins/datasource/loki/components/monaco-query-field/MonacoQueryFieldLazy.tsx\");\n\n\n\nconst MonacoQueryFieldWrapper = (props) => {\n  const lastRunValueRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null);\n  const { onRunQuery, onChange, ...rest } = props;\n  const handleRunQuery = (value) => {\n    lastRunValueRef.current = value;\n    onChange(value);\n    onRunQuery();\n  };\n  const handleBlur = (value) => {\n    onChange(value);\n  };\n  return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_MonacoQueryFieldLazy__WEBPACK_IMPORTED_MODULE_1__.MonacoQueryFieldLazy, { onRunQuery: handleRunQuery, onBlur: handleBlur, ...rest });\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9wdWJsaWMvYXBwL3BsdWdpbnMvZGF0YXNvdXJjZS9sb2tpL2NvbXBvbmVudHMvbW9uYWNvLXF1ZXJ5LWZpZWxkL01vbmFjb1F1ZXJ5RmllbGRXcmFwcGVyLnRzeCIsIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUE4QjtBQUVPO0FBUzlCLE1BQU0sMEJBQTBCLENBQUMsVUFBaUI7QUFDdkQsUUFBTSxrQkFBa0IsNkNBQU0sQ0FBZ0IsSUFBSTtBQUNsRCxRQUFNLEVBQUUsWUFBWSxVQUFVLEdBQUcsS0FBSyxJQUFJO0FBRTFDLFFBQU0saUJBQWlCLENBQUMsVUFBa0I7QUFDeEMsb0JBQWdCLFVBQVU7QUFDMUIsYUFBUyxLQUFLO0FBQ2QsZUFBVztBQUFBLEVBQ2I7QUFFQSxRQUFNLGFBQWEsQ0FBQyxVQUFrQjtBQUNwQyxhQUFTLEtBQUs7QUFBQSxFQUNoQjtBQUVBLFNBQU8sMkVBQUMsdUVBQW9CLElBQUMsWUFBWSxnQkFBZ0IsUUFBUSxZQUFhLEdBQUcsTUFBTTtBQUN6RiIsInNvdXJjZXMiOlsid2VicGFjazovL2dyYWZhbmEvLi9wdWJsaWMvYXBwL3BsdWdpbnMvZGF0YXNvdXJjZS9sb2tpL2NvbXBvbmVudHMvbW9uYWNvLXF1ZXJ5LWZpZWxkL01vbmFjb1F1ZXJ5RmllbGRXcmFwcGVyLnRzeD8zMWM3Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBSZWFjdCwgeyB1c2VSZWYgfSBmcm9tICdyZWFjdCc7XG5cbmltcG9ydCB7IE1vbmFjb1F1ZXJ5RmllbGRMYXp5IH0gZnJvbSAnLi9Nb25hY29RdWVyeUZpZWxkTGF6eSc7XG5pbXBvcnQgeyBQcm9wcyBhcyBNb25hY29Qcm9wcyB9IGZyb20gJy4vTW9uYWNvUXVlcnlGaWVsZFByb3BzJztcblxuZXhwb3J0IHR5cGUgUHJvcHMgPSBPbWl0PE1vbmFjb1Byb3BzLCAnb25SdW5RdWVyeScgfCAnb25CbHVyJz4gJiB7XG4gIG9uQ2hhbmdlOiAocXVlcnk6IHN0cmluZykgPT4gdm9pZDtcbiAgb25SdW5RdWVyeTogKCkgPT4gdm9pZDtcbiAgb25RdWVyeVR5cGU/OiAocXVlcnk6IHN0cmluZykgPT4gdm9pZDtcbn07XG5cbmV4cG9ydCBjb25zdCBNb25hY29RdWVyeUZpZWxkV3JhcHBlciA9IChwcm9wczogUHJvcHMpID0+IHtcbiAgY29uc3QgbGFzdFJ1blZhbHVlUmVmID0gdXNlUmVmPHN0cmluZyB8IG51bGw+KG51bGwpO1xuICBjb25zdCB7IG9uUnVuUXVlcnksIG9uQ2hhbmdlLCAuLi5yZXN0IH0gPSBwcm9wcztcblxuICBjb25zdCBoYW5kbGVSdW5RdWVyeSA9ICh2YWx1ZTogc3RyaW5nKSA9PiB7XG4gICAgbGFzdFJ1blZhbHVlUmVmLmN1cnJlbnQgPSB2YWx1ZTtcbiAgICBvbkNoYW5nZSh2YWx1ZSk7XG4gICAgb25SdW5RdWVyeSgpO1xuICB9O1xuXG4gIGNvbnN0IGhhbmRsZUJsdXIgPSAodmFsdWU6IHN0cmluZykgPT4ge1xuICAgIG9uQ2hhbmdlKHZhbHVlKTtcbiAgfTtcblxuICByZXR1cm4gPE1vbmFjb1F1ZXJ5RmllbGRMYXp5IG9uUnVuUXVlcnk9e2hhbmRsZVJ1blF1ZXJ5fSBvbkJsdXI9e2hhbmRsZUJsdXJ9IHsuLi5yZXN0fSAvPjtcbn07XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./public/app/plugins/datasource/loki/components/monaco-query-field/MonacoQueryFieldWrapper.tsx\n");

/***/ }),

/***/ "./public/app/plugins/datasource/loki/languageUtils.ts":
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   escapeLabelValueInExactSelector: () => (/* binding */ escapeLabelValueInExactSelector),\n/* harmony export */   escapeLabelValueInRegexSelector: () => (/* binding */ escapeLabelValueInRegexSelector),\n/* harmony export */   escapeLabelValueInSelector: () => (/* binding */ escapeLabelValueInSelector),\n/* harmony export */   isBytesString: () => (/* binding */ isBytesString),\n/* harmony export */   isRegexSelector: () => (/* binding */ isRegexSelector),\n/* harmony export */   shouldRefreshLabels: () => (/* binding */ shouldRefreshLabels),\n/* harmony export */   unescapeLabelValue: () => (/* binding */ unescapeLabelValue)\n/* harmony export */ });\n\nfunction roundMsToMin(milliseconds) {\n  return roundSecToMin(milliseconds / 1e3);\n}\nfunction roundSecToMin(seconds) {\n  return Math.floor(seconds / 60);\n}\nfunction shouldRefreshLabels(range, prevRange) {\n  if (range && prevRange) {\n    const sameMinuteFrom = roundMsToMin(range.from.valueOf()) === roundMsToMin(prevRange.from.valueOf());\n    const sameMinuteTo = roundMsToMin(range.to.valueOf()) === roundMsToMin(prevRange.to.valueOf());\n    return !(sameMinuteFrom && sameMinuteTo);\n  }\n  return false;\n}\nconst RE2_METACHARACTERS = /[*+?()|\\\\.\\[\\]{}^$]/g;\nfunction escapeLokiRegexp(value) {\n  return value.replace(RE2_METACHARACTERS, \"\\\\$&\");\n}\nfunction escapeLabelValueInExactSelector(labelValue) {\n  return labelValue.replace(/\\\\/g, \"\\\\\\\\\").replace(/\\n/g, \"\\\\n\").replace(/\"/g, '\\\\\"');\n}\nfunction unescapeLabelValue(labelValue) {\n  return labelValue.replace(/\\\\n/g, \"\\n\").replace(/\\\\\"/g, '\"').replace(/\\\\\\\\/g, \"\\\\\");\n}\nfunction escapeLabelValueInRegexSelector(labelValue) {\n  return escapeLabelValueInExactSelector(escapeLokiRegexp(labelValue));\n}\nfunction escapeLabelValueInSelector(labelValue, selector) {\n  return isRegexSelector(selector) ? escapeLabelValueInRegexSelector(labelValue) : escapeLabelValueInExactSelector(labelValue);\n}\nfunction isRegexSelector(selector) {\n  if (selector && (selector.includes(\"=~\") || selector.includes(\"!~\"))) {\n    return true;\n  }\n  return false;\n}\nfunction isBytesString(string) {\n  const BYTES_KEYWORDS = [\n    \"b\",\n    \"kib\",\n    \"Kib\",\n    \"kb\",\n    \"KB\",\n    \"mib\",\n    \"Mib\",\n    \"mb\",\n    \"MB\",\n    \"gib\",\n    \"Gib\",\n    \"gb\",\n    \"GB\",\n    \"tib\",\n    \"Tib\",\n    \"tb\",\n    \"TB\",\n    \"pib\",\n    \"Pib\",\n    \"pb\",\n    \"PB\",\n    \"eib\",\n    \"Eib\",\n    \"eb\",\n    \"EB\"\n  ];\n  const regex = new RegExp(`^(?:-?\\\\d+(?:\\\\.\\\\d+)?)(?:${BYTES_KEYWORDS.join(\"|\")})$`);\n  const match = string.match(regex);\n  return !!match;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9wdWJsaWMvYXBwL3BsdWdpbnMvZGF0YXNvdXJjZS9sb2tpL2xhbmd1YWdlVXRpbHMudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7QUFFQSxTQUFTLGFBQWEsY0FBOEI7QUFDbEQsU0FBTyxjQUFjLGVBQWUsR0FBSTtBQUMxQztBQUVBLFNBQVMsY0FBYyxTQUF5QjtBQUM5QyxTQUFPLEtBQUssTUFBTSxVQUFVLEVBQUU7QUFDaEM7QUFFTyxTQUFTLG9CQUFvQixPQUFtQixXQUFnQztBQUNyRixNQUFJLFNBQVMsV0FBVztBQUN0QixVQUFNLGlCQUFpQixhQUFhLE1BQU0sS0FBSyxRQUFRLENBQUMsTUFBTSxhQUFhLFVBQVUsS0FBSyxRQUFRLENBQUM7QUFDbkcsVUFBTSxlQUFlLGFBQWEsTUFBTSxHQUFHLFFBQVEsQ0FBQyxNQUFNLGFBQWEsVUFBVSxHQUFHLFFBQVEsQ0FBQztBQUU3RixXQUFPLEVBQUUsa0JBQWtCO0FBQUEsRUFDN0I7QUFDQSxTQUFPO0FBQ1Q7QUFNQSxNQUFNLHFCQUFxQjtBQUMzQixTQUFTLGlCQUFpQixPQUF1QjtBQUMvQyxTQUFPLE1BQU0sUUFBUSxvQkFBb0IsTUFBTTtBQUNqRDtBQU1PLFNBQVMsZ0NBQWdDLFlBQTRCO0FBQzFFLFNBQU8sV0FBVyxRQUFRLE9BQU8sTUFBTSxFQUFFLFFBQVEsT0FBTyxLQUFLLEVBQUUsUUFBUSxNQUFNLEtBQUs7QUFDcEY7QUFFTyxTQUFTLG1CQUFtQixZQUE0QjtBQUM3RCxTQUFPLFdBQVcsUUFBUSxRQUFRLElBQUksRUFBRSxRQUFRLFFBQVEsR0FBRyxFQUFFLFFBQVEsU0FBUyxJQUFJO0FBQ3BGO0FBRU8sU0FBUyxnQ0FBZ0MsWUFBNEI7QUFDMUUsU0FBTyxnQ0FBZ0MsaUJBQWlCLFVBQVUsQ0FBQztBQUNyRTtBQUVPLFNBQVMsMkJBQTJCLFlBQW9CLFVBQTJCO0FBQ3hGLFNBQU8sZ0JBQWdCLFFBQVEsSUFDM0IsZ0NBQWdDLFVBQVUsSUFDMUMsZ0NBQWdDLFVBQVU7QUFDaEQ7QUFFTyxTQUFTLGdCQUFnQixVQUFtQjtBQUNqRCxNQUFJLGFBQWEsU0FBUyxTQUFTLElBQUksS0FBSyxTQUFTLFNBQVMsSUFBSSxJQUFJO0FBQ3BFLFdBQU87QUFBQSxFQUNUO0FBQ0EsU0FBTztBQUNUO0FBRU8sU0FBUyxjQUFjLFFBQWdCO0FBQzVDLFFBQU0saUJBQWlCO0FBQUEsSUFDckI7QUFBQSxJQUNBO0FBQUEsSUFDQTtBQUFBLElBQ0E7QUFBQSxJQUNBO0FBQUEsSUFDQTtBQUFBLElBQ0E7QUFBQSxJQUNBO0FBQUEsSUFDQTtBQUFBLElBQ0E7QUFBQSxJQUNBO0FBQUEsSUFDQTtBQUFBLElBQ0E7QUFBQSxJQUNBO0FBQUEsSUFDQTtBQUFBLElBQ0E7QUFBQSxJQUNBO0FBQUEsSUFDQTtBQUFBLElBQ0E7QUFBQSxJQUNBO0FBQUEsSUFDQTtBQUFBLElBQ0E7QUFBQSxJQUNBO0FBQUEsSUFDQTtBQUFBLElBQ0E7QUFBQSxFQUNGO0FBQ0EsUUFBTSxRQUFRLElBQUksT0FBTyw2QkFBNkIsZUFBZSxLQUFLLEdBQUcsS0FBSztBQUNsRixRQUFNLFFBQVEsT0FBTyxNQUFNLEtBQUs7QUFDaEMsU0FBTyxDQUFDLENBQUM7QUFDWCIsInNvdXJjZXMiOlsid2VicGFjazovL2dyYWZhbmEvLi9wdWJsaWMvYXBwL3BsdWdpbnMvZGF0YXNvdXJjZS9sb2tpL2xhbmd1YWdlVXRpbHMudHM/ZWIzOSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBUaW1lUmFuZ2UgfSBmcm9tICdAZ3JhZmFuYS9kYXRhJztcblxuZnVuY3Rpb24gcm91bmRNc1RvTWluKG1pbGxpc2Vjb25kczogbnVtYmVyKTogbnVtYmVyIHtcbiAgcmV0dXJuIHJvdW5kU2VjVG9NaW4obWlsbGlzZWNvbmRzIC8gMTAwMCk7XG59XG5cbmZ1bmN0aW9uIHJvdW5kU2VjVG9NaW4oc2Vjb25kczogbnVtYmVyKTogbnVtYmVyIHtcbiAgcmV0dXJuIE1hdGguZmxvb3Ioc2Vjb25kcyAvIDYwKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHNob3VsZFJlZnJlc2hMYWJlbHMocmFuZ2U/OiBUaW1lUmFuZ2UsIHByZXZSYW5nZT86IFRpbWVSYW5nZSk6IGJvb2xlYW4ge1xuICBpZiAocmFuZ2UgJiYgcHJldlJhbmdlKSB7XG4gICAgY29uc3Qgc2FtZU1pbnV0ZUZyb20gPSByb3VuZE1zVG9NaW4ocmFuZ2UuZnJvbS52YWx1ZU9mKCkpID09PSByb3VuZE1zVG9NaW4ocHJldlJhbmdlLmZyb20udmFsdWVPZigpKTtcbiAgICBjb25zdCBzYW1lTWludXRlVG8gPSByb3VuZE1zVG9NaW4ocmFuZ2UudG8udmFsdWVPZigpKSA9PT0gcm91bmRNc1RvTWluKHByZXZSYW5nZS50by52YWx1ZU9mKCkpO1xuICAgIC8vIElmIGJvdGggYXJlIHNhbWUsIGRvbid0IG5lZWQgdG8gcmVmcmVzaFxuICAgIHJldHVybiAhKHNhbWVNaW51dGVGcm9tICYmIHNhbWVNaW51dGVUbyk7XG4gIH1cbiAgcmV0dXJuIGZhbHNlO1xufVxuXG4vLyBMb2tpIHJlZ3VsYXItZXhwcmVzc2lvbnMgdXNlIHRoZSBSRTIgc3ludGF4IChodHRwczovL2dpdGh1Yi5jb20vZ29vZ2xlL3JlMi93aWtpL1N5bnRheCksXG4vLyBzbyBldmVyeSBjaGFyYWN0ZXIgdGhhdCBtYXRjaGVzIHNvbWV0aGluZyBpbiB0aGF0IGxpc3QgaGFzIHRvIGJlIGVzY2FwZWQuXG4vLyB0aGUgbGlzdCBvZiBtZXRhIGNoYXJhY3RlcnMgaXM6ICorPygpfFxcLltde31eJFxuLy8gd2UgbWFrZSBhIGphdmFzY3JpcHQgcmVndWxhciBleHByZXNzaW9uIHRoYXQgbWF0Y2hlcyB0aG9zZSBjaGFyYWN0ZXJzOlxuY29uc3QgUkUyX01FVEFDSEFSQUNURVJTID0gL1sqKz8oKXxcXFxcLlxcW1xcXXt9XiRdL2c7XG5mdW5jdGlvbiBlc2NhcGVMb2tpUmVnZXhwKHZhbHVlOiBzdHJpbmcpOiBzdHJpbmcge1xuICByZXR1cm4gdmFsdWUucmVwbGFjZShSRTJfTUVUQUNIQVJBQ1RFUlMsICdcXFxcJCYnKTtcbn1cblxuLy8gYmFzZWQgb24gdGhlIG9wZW5tZXRyaWNzLWRvY3VtZW50YXRpb24sIHRoZSAzIHN5bWJvbHMgd2UgaGF2ZSB0byBoYW5kbGUgYXJlOlxuLy8gLSBcXG4gLi4uIHRoZSBuZXdsaW5lIGNoYXJhY3RlclxuLy8gLSBcXCAgLi4uIHRoZSBiYWNrc2xhc2ggY2hhcmFjdGVyXG4vLyAtIFwiICAuLi4gdGhlIGRvdWJsZS1xdW90ZSBjaGFyYWN0ZXJcbmV4cG9ydCBmdW5jdGlvbiBlc2NhcGVMYWJlbFZhbHVlSW5FeGFjdFNlbGVjdG9yKGxhYmVsVmFsdWU6IHN0cmluZyk6IHN0cmluZyB7XG4gIHJldHVybiBsYWJlbFZhbHVlLnJlcGxhY2UoL1xcXFwvZywgJ1xcXFxcXFxcJykucmVwbGFjZSgvXFxuL2csICdcXFxcbicpLnJlcGxhY2UoL1wiL2csICdcXFxcXCInKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHVuZXNjYXBlTGFiZWxWYWx1ZShsYWJlbFZhbHVlOiBzdHJpbmcpOiBzdHJpbmcge1xuICByZXR1cm4gbGFiZWxWYWx1ZS5yZXBsYWNlKC9cXFxcbi9nLCAnXFxuJykucmVwbGFjZSgvXFxcXFwiL2csICdcIicpLnJlcGxhY2UoL1xcXFxcXFxcL2csICdcXFxcJyk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBlc2NhcGVMYWJlbFZhbHVlSW5SZWdleFNlbGVjdG9yKGxhYmVsVmFsdWU6IHN0cmluZyk6IHN0cmluZyB7XG4gIHJldHVybiBlc2NhcGVMYWJlbFZhbHVlSW5FeGFjdFNlbGVjdG9yKGVzY2FwZUxva2lSZWdleHAobGFiZWxWYWx1ZSkpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZXNjYXBlTGFiZWxWYWx1ZUluU2VsZWN0b3IobGFiZWxWYWx1ZTogc3RyaW5nLCBzZWxlY3Rvcj86IHN0cmluZyk6IHN0cmluZyB7XG4gIHJldHVybiBpc1JlZ2V4U2VsZWN0b3Ioc2VsZWN0b3IpXG4gICAgPyBlc2NhcGVMYWJlbFZhbHVlSW5SZWdleFNlbGVjdG9yKGxhYmVsVmFsdWUpXG4gICAgOiBlc2NhcGVMYWJlbFZhbHVlSW5FeGFjdFNlbGVjdG9yKGxhYmVsVmFsdWUpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaXNSZWdleFNlbGVjdG9yKHNlbGVjdG9yPzogc3RyaW5nKSB7XG4gIGlmIChzZWxlY3RvciAmJiAoc2VsZWN0b3IuaW5jbHVkZXMoJz1+JykgfHwgc2VsZWN0b3IuaW5jbHVkZXMoJyF+JykpKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbiAgcmV0dXJuIGZhbHNlO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaXNCeXRlc1N0cmluZyhzdHJpbmc6IHN0cmluZykge1xuICBjb25zdCBCWVRFU19LRVlXT1JEUyA9IFtcbiAgICAnYicsXG4gICAgJ2tpYicsXG4gICAgJ0tpYicsXG4gICAgJ2tiJyxcbiAgICAnS0InLFxuICAgICdtaWInLFxuICAgICdNaWInLFxuICAgICdtYicsXG4gICAgJ01CJyxcbiAgICAnZ2liJyxcbiAgICAnR2liJyxcbiAgICAnZ2InLFxuICAgICdHQicsXG4gICAgJ3RpYicsXG4gICAgJ1RpYicsXG4gICAgJ3RiJyxcbiAgICAnVEInLFxuICAgICdwaWInLFxuICAgICdQaWInLFxuICAgICdwYicsXG4gICAgJ1BCJyxcbiAgICAnZWliJyxcbiAgICAnRWliJyxcbiAgICAnZWInLFxuICAgICdFQicsXG4gIF07XG4gIGNvbnN0IHJlZ2V4ID0gbmV3IFJlZ0V4cChgXig/Oi0/XFxcXGQrKD86XFxcXC5cXFxcZCspPykoPzoke0JZVEVTX0tFWVdPUkRTLmpvaW4oJ3wnKX0pJGApO1xuICBjb25zdCBtYXRjaCA9IHN0cmluZy5tYXRjaChyZWdleCk7XG4gIHJldHVybiAhIW1hdGNoO1xufVxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./public/app/plugins/datasource/loki/languageUtils.ts\n");

/***/ }),

/***/ "./public/app/plugins/datasource/prometheus/querybuilder/shared/QueryOptionGroup.tsx":
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   QueryOptionGroup: () => (/* binding */ QueryOptionGroup)\n/* harmony export */ });\n/* harmony import */ var _emotion_css__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"./.yarn/cache/@emotion-css-npm-11.11.2-dbfa42cf83-1edea109df.zip/node_modules/@emotion/css/dist/emotion-css.esm.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(\"./.yarn/cache/react-npm-18.2.0-1eae08fee2-88e38092da.zip/node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var react_use__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(\"./.yarn/__virtual__/react-use-virtual-dd7926f458/0/cache/react-use-npm-17.4.0-0ef4521544-0889da919b.zip/node_modules/react-use/esm/useToggle.js\");\n/* harmony import */ var _grafana_data__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(\"./.yarn/__virtual__/@grafana-data-virtual-0996183232/1/packages/grafana-data/src/valueFormats/valueFormats.ts\");\n/* harmony import */ var _grafana_experimental__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(\"./.yarn/__virtual__/@grafana-experimental-virtual-ba767552fe/0/cache/@grafana-experimental-npm-1.6.1-f052d2ae51-64c32bc9e3.zip/node_modules/@grafana/experimental/dist/esm/QueryEditor/Stack.js\");\n/* harmony import */ var _grafana_runtime__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(\"./.yarn/__virtual__/@grafana-runtime-virtual-68c57d4c0c/1/packages/grafana-runtime/src/config.ts\");\n/* harmony import */ var _grafana_ui__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(\"./.yarn/__virtual__/@grafana-ui-virtual-d722efae30/1/packages/grafana-ui/src/themes/ThemeContext.tsx\");\n/* harmony import */ var _grafana_ui__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(\"./.yarn/__virtual__/@grafana-ui-virtual-d722efae30/1/packages/grafana-ui/src/components/Collapse/Collapse.tsx\");\n/* harmony import */ var _grafana_ui__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(\"./.yarn/__virtual__/@grafana-ui-virtual-d722efae30/1/packages/grafana-ui/src/components/Tooltip/Tooltip.tsx\");\n/* harmony import */ var _grafana_ui__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(\"./.yarn/__virtual__/@grafana-ui-virtual-d722efae30/1/packages/grafana-ui/src/components/Icon/Icon.tsx\");\n\n\n\n\n\n\n\n\nfunction QueryOptionGroup({ title, children, collapsedInfo, queryStats }) {\n  const [isOpen, toggleOpen] = (0,react_use__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(false);\n  const styles = (0,_grafana_ui__WEBPACK_IMPORTED_MODULE_3__.useStyles2)(getStyles);\n  const convertUnits = () => {\n    const { text, suffix } = (0,_grafana_data__WEBPACK_IMPORTED_MODULE_4__.getValueFormat)(\"bytes\")(queryStats.bytes, 1);\n    return text + suffix;\n  };\n  return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_1___default().createElement(\"div\", { className: styles.wrapper }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_1___default().createElement(\n    _grafana_ui__WEBPACK_IMPORTED_MODULE_5__.Collapse,\n    {\n      className: styles.collapse,\n      collapsible: true,\n      isOpen,\n      onToggle: toggleOpen,\n      label: /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_grafana_experimental__WEBPACK_IMPORTED_MODULE_6__.Stack, { gap: 0, wrap: false }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_1___default().createElement(\"h6\", { className: styles.title }, title), !isOpen && /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_1___default().createElement(\"div\", { className: styles.description }, collapsedInfo.map((x, i) => /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_1___default().createElement(\"span\", { key: i }, x))))\n    },\n    /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_1___default().createElement(\"div\", { className: styles.body }, children)\n  ), queryStats && _grafana_runtime__WEBPACK_IMPORTED_MODULE_7__.config.featureToggles.lokiQuerySplitting && /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_grafana_ui__WEBPACK_IMPORTED_MODULE_8__.Tooltip, { content: \"Note: the query will be split into multiple parts and executed in sequence. Query limits will only apply each individual part.\" }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_grafana_ui__WEBPACK_IMPORTED_MODULE_9__.Icon, { tabIndex: 0, name: \"info-circle\", className: styles.tooltip, size: \"sm\" })), queryStats && /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_1___default().createElement(\"p\", { className: styles.stats }, \"This query will process approximately \", convertUnits(), \".\"));\n}\nconst getStyles = (theme) => {\n  return {\n    collapse: (0,_emotion_css__WEBPACK_IMPORTED_MODULE_0__.css)({\n      backgroundColor: \"unset\",\n      border: \"unset\",\n      marginBottom: 0,\n      [\"> button\"]: {\n        padding: theme.spacing(0, 1)\n      }\n    }),\n    wrapper: (0,_emotion_css__WEBPACK_IMPORTED_MODULE_0__.css)({\n      width: \"100%\",\n      display: \"flex\",\n      justifyContent: \"space-between\",\n      alignItems: \"baseline\"\n    }),\n    title: (0,_emotion_css__WEBPACK_IMPORTED_MODULE_0__.css)({\n      flexGrow: 1,\n      overflow: \"hidden\",\n      fontSize: theme.typography.bodySmall.fontSize,\n      fontWeight: theme.typography.fontWeightMedium,\n      margin: 0\n    }),\n    description: (0,_emotion_css__WEBPACK_IMPORTED_MODULE_0__.css)({\n      color: theme.colors.text.secondary,\n      fontSize: theme.typography.bodySmall.fontSize,\n      fontWeight: theme.typography.bodySmall.fontWeight,\n      paddingLeft: theme.spacing(2),\n      gap: theme.spacing(2),\n      display: \"flex\"\n    }),\n    body: (0,_emotion_css__WEBPACK_IMPORTED_MODULE_0__.css)({\n      display: \"flex\",\n      gap: theme.spacing(2),\n      flexWrap: \"wrap\"\n    }),\n    stats: (0,_emotion_css__WEBPACK_IMPORTED_MODULE_0__.css)({\n      margin: \"0px\",\n      color: theme.colors.text.secondary,\n      fontSize: theme.typography.bodySmall.fontSize\n    }),\n    tooltip: (0,_emotion_css__WEBPACK_IMPORTED_MODULE_0__.css)({\n      marginRight: theme.spacing(0.25)\n    })\n  };\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9wdWJsaWMvYXBwL3BsdWdpbnMvZGF0YXNvdXJjZS9wcm9tZXRoZXVzL3F1ZXJ5YnVpbGRlci9zaGFyZWQvUXVlcnlPcHRpb25Hcm91cC50c3giLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7OztBQUFvQjtBQUNGO0FBQ1E7QUFFb0I7QUFDeEI7QUFDQztBQUM2QjtBQVU3QyxTQUFTLGlCQUFpQixFQUFFLE9BQU8sVUFBVSxlQUFlLFdBQVcsR0FBVTtBQUN0RixRQUFNLENBQUMsUUFBUSxVQUFVLElBQUkscURBQVMsQ0FBQyxLQUFLO0FBQzVDLFFBQU0sU0FBUyx1REFBVSxDQUFDLFNBQVM7QUFFbkMsUUFBTSxlQUFlLE1BQWM7QUFDakMsVUFBTSxFQUFFLE1BQU0sT0FBTyxJQUFJLDZEQUFjLENBQUMsT0FBTyxFQUFFLFdBQVksT0FBTyxDQUFDO0FBQ3JFLFdBQU8sT0FBTztBQUFBLEVBQ2hCO0FBRUEsU0FDRSwyRUFBQyxTQUFJLFdBQVcsT0FBTyxXQUNyQjtBQUFBLElBQUMsaURBQVE7QUFBUjtBQUFBLE1BQ0MsV0FBVyxPQUFPO0FBQUEsTUFDbEIsYUFBVztBQUFBLE1BQ1g7QUFBQSxNQUNBLFVBQVU7QUFBQSxNQUNWLE9BQ0UsMkVBQUMsd0RBQUssSUFBQyxLQUFLLEdBQUcsTUFBTSxTQUNuQiwyRUFBQyxRQUFHLFdBQVcsT0FBTyxTQUFRLEtBQU0sR0FDbkMsQ0FBQyxVQUNBLDJFQUFDLFNBQUksV0FBVyxPQUFPLGVBQ3BCLGNBQWMsSUFBSSxDQUFDLEdBQUcsTUFDckIsMkVBQUMsVUFBSyxLQUFLLEtBQUksQ0FBRSxDQUNsQixDQUNILENBRUo7QUFBQTtBQUFBLElBR0YsMkVBQUMsU0FBSSxXQUFXLE9BQU8sUUFBTyxRQUFTO0FBQUEsRUFDekMsR0FDQyxjQUFjLG9EQUFNLENBQUMsZUFBZSxzQkFDbkMsMkVBQUMsZ0RBQU8sSUFBQyxTQUFRLG9JQUNmLDJFQUFDLDZDQUFJLElBQUMsVUFBVSxHQUFHLE1BQUssZUFBYyxXQUFXLE9BQU8sU0FBUyxNQUFLLE1BQUssQ0FDN0UsR0FFRCxjQUFjLDJFQUFDLE9BQUUsV0FBVyxPQUFPLFNBQU8sMENBQXVDLGFBQWEsR0FBRSxHQUFDLENBQ3BHO0FBRUo7QUFFQSxNQUFNLFlBQVksQ0FBQyxVQUF5QjtBQUMxQyxTQUFPO0FBQUEsSUFDTCxVQUFVLGlEQUFHLENBQUM7QUFBQSxNQUNaLGlCQUFpQjtBQUFBLE1BQ2pCLFFBQVE7QUFBQSxNQUNSLGNBQWM7QUFBQSxNQUVkLENBQUMsVUFBVSxHQUFHO0FBQUEsUUFDWixTQUFTLE1BQU0sUUFBUSxHQUFHLENBQUM7QUFBQSxNQUM3QjtBQUFBLElBQ0YsQ0FBQztBQUFBLElBQ0QsU0FBUyxpREFBRyxDQUFDO0FBQUEsTUFDWCxPQUFPO0FBQUEsTUFDUCxTQUFTO0FBQUEsTUFDVCxnQkFBZ0I7QUFBQSxNQUNoQixZQUFZO0FBQUEsSUFDZCxDQUFDO0FBQUEsSUFDRCxPQUFPLGlEQUFHLENBQUM7QUFBQSxNQUNULFVBQVU7QUFBQSxNQUNWLFVBQVU7QUFBQSxNQUNWLFVBQVUsTUFBTSxXQUFXLFVBQVU7QUFBQSxNQUNyQyxZQUFZLE1BQU0sV0FBVztBQUFBLE1BQzdCLFFBQVE7QUFBQSxJQUNWLENBQUM7QUFBQSxJQUNELGFBQWEsaURBQUcsQ0FBQztBQUFBLE1BQ2YsT0FBTyxNQUFNLE9BQU8sS0FBSztBQUFBLE1BQ3pCLFVBQVUsTUFBTSxXQUFXLFVBQVU7QUFBQSxNQUNyQyxZQUFZLE1BQU0sV0FBVyxVQUFVO0FBQUEsTUFDdkMsYUFBYSxNQUFNLFFBQVEsQ0FBQztBQUFBLE1BQzVCLEtBQUssTUFBTSxRQUFRLENBQUM7QUFBQSxNQUNwQixTQUFTO0FBQUEsSUFDWCxDQUFDO0FBQUEsSUFDRCxNQUFNLGlEQUFHLENBQUM7QUFBQSxNQUNSLFNBQVM7QUFBQSxNQUNULEtBQUssTUFBTSxRQUFRLENBQUM7QUFBQSxNQUNwQixVQUFVO0FBQUEsSUFDWixDQUFDO0FBQUEsSUFDRCxPQUFPLGlEQUFHLENBQUM7QUFBQSxNQUNULFFBQVE7QUFBQSxNQUNSLE9BQU8sTUFBTSxPQUFPLEtBQUs7QUFBQSxNQUN6QixVQUFVLE1BQU0sV0FBVyxVQUFVO0FBQUEsSUFDdkMsQ0FBQztBQUFBLElBQ0QsU0FBUyxpREFBRyxDQUFDO0FBQUEsTUFDWCxhQUFhLE1BQU0sUUFBUSxJQUFJO0FBQUEsSUFDakMsQ0FBQztBQUFBLEVBQ0g7QUFDRiIsInNvdXJjZXMiOlsid2VicGFjazovL2dyYWZhbmEvLi9wdWJsaWMvYXBwL3BsdWdpbnMvZGF0YXNvdXJjZS9wcm9tZXRoZXVzL3F1ZXJ5YnVpbGRlci9zaGFyZWQvUXVlcnlPcHRpb25Hcm91cC50c3g/M2U3MiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBjc3MgfSBmcm9tICdAZW1vdGlvbi9jc3MnO1xuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IHVzZVRvZ2dsZSB9IGZyb20gJ3JlYWN0LXVzZSc7XG5cbmltcG9ydCB7IGdldFZhbHVlRm9ybWF0LCBHcmFmYW5hVGhlbWUyIH0gZnJvbSAnQGdyYWZhbmEvZGF0YSc7XG5pbXBvcnQgeyBTdGFjayB9IGZyb20gJ0BncmFmYW5hL2V4cGVyaW1lbnRhbCc7XG5pbXBvcnQgeyBjb25maWcgfSBmcm9tICdAZ3JhZmFuYS9ydW50aW1lJztcbmltcG9ydCB7IENvbGxhcHNlLCBJY29uLCBUb29sdGlwLCB1c2VTdHlsZXMyIH0gZnJvbSAnQGdyYWZhbmEvdWknO1xuaW1wb3J0IHsgUXVlcnlTdGF0cyB9IGZyb20gJ2FwcC9wbHVnaW5zL2RhdGFzb3VyY2UvbG9raS90eXBlcyc7XG5cbmV4cG9ydCBpbnRlcmZhY2UgUHJvcHMge1xuICB0aXRsZTogc3RyaW5nO1xuICBjb2xsYXBzZWRJbmZvOiBzdHJpbmdbXTtcbiAgcXVlcnlTdGF0cz86IFF1ZXJ5U3RhdHMgfCBudWxsO1xuICBjaGlsZHJlbjogUmVhY3QuUmVhY3ROb2RlO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gUXVlcnlPcHRpb25Hcm91cCh7IHRpdGxlLCBjaGlsZHJlbiwgY29sbGFwc2VkSW5mbywgcXVlcnlTdGF0cyB9OiBQcm9wcykge1xuICBjb25zdCBbaXNPcGVuLCB0b2dnbGVPcGVuXSA9IHVzZVRvZ2dsZShmYWxzZSk7XG4gIGNvbnN0IHN0eWxlcyA9IHVzZVN0eWxlczIoZ2V0U3R5bGVzKTtcblxuICBjb25zdCBjb252ZXJ0VW5pdHMgPSAoKTogc3RyaW5nID0+IHtcbiAgICBjb25zdCB7IHRleHQsIHN1ZmZpeCB9ID0gZ2V0VmFsdWVGb3JtYXQoJ2J5dGVzJykocXVlcnlTdGF0cyEuYnl0ZXMsIDEpO1xuICAgIHJldHVybiB0ZXh0ICsgc3VmZml4O1xuICB9O1xuXG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9e3N0eWxlcy53cmFwcGVyfT5cbiAgICAgIDxDb2xsYXBzZVxuICAgICAgICBjbGFzc05hbWU9e3N0eWxlcy5jb2xsYXBzZX1cbiAgICAgICAgY29sbGFwc2libGVcbiAgICAgICAgaXNPcGVuPXtpc09wZW59XG4gICAgICAgIG9uVG9nZ2xlPXt0b2dnbGVPcGVufVxuICAgICAgICBsYWJlbD17XG4gICAgICAgICAgPFN0YWNrIGdhcD17MH0gd3JhcD17ZmFsc2V9PlxuICAgICAgICAgICAgPGg2IGNsYXNzTmFtZT17c3R5bGVzLnRpdGxlfT57dGl0bGV9PC9oNj5cbiAgICAgICAgICAgIHshaXNPcGVuICYmIChcbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9e3N0eWxlcy5kZXNjcmlwdGlvbn0+XG4gICAgICAgICAgICAgICAge2NvbGxhcHNlZEluZm8ubWFwKCh4LCBpKSA9PiAoXG4gICAgICAgICAgICAgICAgICA8c3BhbiBrZXk9e2l9Pnt4fTwvc3Bhbj5cbiAgICAgICAgICAgICAgICApKX1cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICApfVxuICAgICAgICAgIDwvU3RhY2s+XG4gICAgICAgIH1cbiAgICAgID5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9e3N0eWxlcy5ib2R5fT57Y2hpbGRyZW59PC9kaXY+XG4gICAgICA8L0NvbGxhcHNlPlxuICAgICAge3F1ZXJ5U3RhdHMgJiYgY29uZmlnLmZlYXR1cmVUb2dnbGVzLmxva2lRdWVyeVNwbGl0dGluZyAmJiAoXG4gICAgICAgIDxUb29sdGlwIGNvbnRlbnQ9XCJOb3RlOiB0aGUgcXVlcnkgd2lsbCBiZSBzcGxpdCBpbnRvIG11bHRpcGxlIHBhcnRzIGFuZCBleGVjdXRlZCBpbiBzZXF1ZW5jZS4gUXVlcnkgbGltaXRzIHdpbGwgb25seSBhcHBseSBlYWNoIGluZGl2aWR1YWwgcGFydC5cIj5cbiAgICAgICAgICA8SWNvbiB0YWJJbmRleD17MH0gbmFtZT1cImluZm8tY2lyY2xlXCIgY2xhc3NOYW1lPXtzdHlsZXMudG9vbHRpcH0gc2l6ZT1cInNtXCIgLz5cbiAgICAgICAgPC9Ub29sdGlwPlxuICAgICAgKX1cbiAgICAgIHtxdWVyeVN0YXRzICYmIDxwIGNsYXNzTmFtZT17c3R5bGVzLnN0YXRzfT5UaGlzIHF1ZXJ5IHdpbGwgcHJvY2VzcyBhcHByb3hpbWF0ZWx5IHtjb252ZXJ0VW5pdHMoKX0uPC9wPn1cbiAgICA8L2Rpdj5cbiAgKTtcbn1cblxuY29uc3QgZ2V0U3R5bGVzID0gKHRoZW1lOiBHcmFmYW5hVGhlbWUyKSA9PiB7XG4gIHJldHVybiB7XG4gICAgY29sbGFwc2U6IGNzcyh7XG4gICAgICBiYWNrZ3JvdW5kQ29sb3I6ICd1bnNldCcsXG4gICAgICBib3JkZXI6ICd1bnNldCcsXG4gICAgICBtYXJnaW5Cb3R0b206IDAsXG5cbiAgICAgIFsnPiBidXR0b24nXToge1xuICAgICAgICBwYWRkaW5nOiB0aGVtZS5zcGFjaW5nKDAsIDEpLFxuICAgICAgfSxcbiAgICB9KSxcbiAgICB3cmFwcGVyOiBjc3Moe1xuICAgICAgd2lkdGg6ICcxMDAlJyxcbiAgICAgIGRpc3BsYXk6ICdmbGV4JyxcbiAgICAgIGp1c3RpZnlDb250ZW50OiAnc3BhY2UtYmV0d2VlbicsXG4gICAgICBhbGlnbkl0ZW1zOiAnYmFzZWxpbmUnLFxuICAgIH0pLFxuICAgIHRpdGxlOiBjc3Moe1xuICAgICAgZmxleEdyb3c6IDEsXG4gICAgICBvdmVyZmxvdzogJ2hpZGRlbicsXG4gICAgICBmb250U2l6ZTogdGhlbWUudHlwb2dyYXBoeS5ib2R5U21hbGwuZm9udFNpemUsXG4gICAgICBmb250V2VpZ2h0OiB0aGVtZS50eXBvZ3JhcGh5LmZvbnRXZWlnaHRNZWRpdW0sXG4gICAgICBtYXJnaW46IDAsXG4gICAgfSksXG4gICAgZGVzY3JpcHRpb246IGNzcyh7XG4gICAgICBjb2xvcjogdGhlbWUuY29sb3JzLnRleHQuc2Vjb25kYXJ5LFxuICAgICAgZm9udFNpemU6IHRoZW1lLnR5cG9ncmFwaHkuYm9keVNtYWxsLmZvbnRTaXplLFxuICAgICAgZm9udFdlaWdodDogdGhlbWUudHlwb2dyYXBoeS5ib2R5U21hbGwuZm9udFdlaWdodCxcbiAgICAgIHBhZGRpbmdMZWZ0OiB0aGVtZS5zcGFjaW5nKDIpLFxuICAgICAgZ2FwOiB0aGVtZS5zcGFjaW5nKDIpLFxuICAgICAgZGlzcGxheTogJ2ZsZXgnLFxuICAgIH0pLFxuICAgIGJvZHk6IGNzcyh7XG4gICAgICBkaXNwbGF5OiAnZmxleCcsXG4gICAgICBnYXA6IHRoZW1lLnNwYWNpbmcoMiksXG4gICAgICBmbGV4V3JhcDogJ3dyYXAnLFxuICAgIH0pLFxuICAgIHN0YXRzOiBjc3Moe1xuICAgICAgbWFyZ2luOiAnMHB4JyxcbiAgICAgIGNvbG9yOiB0aGVtZS5jb2xvcnMudGV4dC5zZWNvbmRhcnksXG4gICAgICBmb250U2l6ZTogdGhlbWUudHlwb2dyYXBoeS5ib2R5U21hbGwuZm9udFNpemUsXG4gICAgfSksXG4gICAgdG9vbHRpcDogY3NzKHtcbiAgICAgIG1hcmdpblJpZ2h0OiB0aGVtZS5zcGFjaW5nKDAuMjUpLFxuICAgIH0pLFxuICB9O1xufTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./public/app/plugins/datasource/prometheus/querybuilder/shared/QueryOptionGroup.tsx\n");

/***/ }),

/***/ "./public/app/plugins/datasource/tempo/CheatSheet.tsx":
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ CheatSheet)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"./.yarn/cache/react-npm-18.2.0-1eae08fee2-88e38092da.zip/node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _grafana_runtime__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(\"./.yarn/__virtual__/@grafana-runtime-virtual-68c57d4c0c/1/packages/grafana-runtime/src/analytics/utils.ts\");\n/* harmony import */ var _grafana_runtime__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(\"./.yarn/__virtual__/@grafana-runtime-virtual-68c57d4c0c/1/packages/grafana-runtime/src/config.ts\");\n\n\n\nfunction CheatSheet() {\n  (0,_grafana_runtime__WEBPACK_IMPORTED_MODULE_1__.reportInteraction)(\"grafana_traces_cheatsheet_clicked\", {\n    datasourceType: \"tempo\",\n    grafana_version: _grafana_runtime__WEBPACK_IMPORTED_MODULE_2__.config.buildInfo.version\n  });\n  return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", null, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"h2\", { id: \"tempo-cheat-sheet\" }, \"Tempo Cheat Sheet\"), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"p\", null, \"Tempo is a trace id lookup store. Enter a trace id in the above field and hit \\u201CRun Query\\u201D to retrieve your trace. Tempo is generally paired with other datasources such as Loki or Prometheus to find traces.\"), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"p\", null, \"Here are some\", \" \", /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"a\", { href: \"https://grafana.com/docs/tempo/latest/guides/instrumentation/\", target: \"blank\" }, \"instrumentation examples\"), \" \", \"to get you started with trace discovery through logs and metrics (exemplars).\"));\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9wdWJsaWMvYXBwL3BsdWdpbnMvZGF0YXNvdXJjZS90ZW1wby9DaGVhdFNoZWV0LnRzeCIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7QUFBa0I7QUFFd0I7QUFFM0IsU0FBUyxhQUFhO0FBQ25DLHFFQUFpQixDQUFDLHFDQUFxQztBQUFBLElBQ3JELGdCQUFnQjtBQUFBLElBQ2hCLGlCQUFpQixvREFBTSxDQUFDLFVBQVU7QUFBQSxFQUNwQyxDQUFDO0FBRUQsU0FDRSwyRUFBQyxhQUNDLDJFQUFDLFFBQUcsSUFBRyx1QkFBb0IsbUJBQWlCLEdBQzVDLDJFQUFDLFdBQUUseU5BR0gsR0FDQSwyRUFBQyxXQUFFLGlCQUNhLEtBQ2QsMkVBQUMsT0FBRSxNQUFLLGlFQUFnRSxRQUFPLFdBQVEsMEJBRXZGLEdBQUssS0FBSSwrRUFFWCxDQUNGO0FBRUoiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9ncmFmYW5hLy4vcHVibGljL2FwcC9wbHVnaW5zL2RhdGFzb3VyY2UvdGVtcG8vQ2hlYXRTaGVldC50c3g/ZDBmYyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuXG5pbXBvcnQgeyBjb25maWcsIHJlcG9ydEludGVyYWN0aW9uIH0gZnJvbSAnQGdyYWZhbmEvcnVudGltZSc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIENoZWF0U2hlZXQoKSB7XG4gIHJlcG9ydEludGVyYWN0aW9uKCdncmFmYW5hX3RyYWNlc19jaGVhdHNoZWV0X2NsaWNrZWQnLCB7XG4gICAgZGF0YXNvdXJjZVR5cGU6ICd0ZW1wbycsXG4gICAgZ3JhZmFuYV92ZXJzaW9uOiBjb25maWcuYnVpbGRJbmZvLnZlcnNpb24sXG4gIH0pO1xuXG4gIHJldHVybiAoXG4gICAgPGRpdj5cbiAgICAgIDxoMiBpZD1cInRlbXBvLWNoZWF0LXNoZWV0XCI+VGVtcG8gQ2hlYXQgU2hlZXQ8L2gyPlxuICAgICAgPHA+XG4gICAgICAgIFRlbXBvIGlzIGEgdHJhY2UgaWQgbG9va3VwIHN0b3JlLiBFbnRlciBhIHRyYWNlIGlkIGluIHRoZSBhYm92ZSBmaWVsZCBhbmQgaGl0IOKAnFJ1biBRdWVyeeKAnSB0byByZXRyaWV2ZSB5b3VyXG4gICAgICAgIHRyYWNlLiBUZW1wbyBpcyBnZW5lcmFsbHkgcGFpcmVkIHdpdGggb3RoZXIgZGF0YXNvdXJjZXMgc3VjaCBhcyBMb2tpIG9yIFByb21ldGhldXMgdG8gZmluZCB0cmFjZXMuXG4gICAgICA8L3A+XG4gICAgICA8cD5cbiAgICAgICAgSGVyZSBhcmUgc29tZXsnICd9XG4gICAgICAgIDxhIGhyZWY9XCJodHRwczovL2dyYWZhbmEuY29tL2RvY3MvdGVtcG8vbGF0ZXN0L2d1aWRlcy9pbnN0cnVtZW50YXRpb24vXCIgdGFyZ2V0PVwiYmxhbmtcIj5cbiAgICAgICAgICBpbnN0cnVtZW50YXRpb24gZXhhbXBsZXNcbiAgICAgICAgPC9hPnsnICd9XG4gICAgICAgIHRvIGdldCB5b3Ugc3RhcnRlZCB3aXRoIHRyYWNlIGRpc2NvdmVyeSB0aHJvdWdoIGxvZ3MgYW5kIG1ldHJpY3MgKGV4ZW1wbGFycykuXG4gICAgICA8L3A+XG4gICAgPC9kaXY+XG4gICk7XG59XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./public/app/plugins/datasource/tempo/CheatSheet.tsx\n");

/***/ }),

/***/ "./public/app/plugins/datasource/tempo/LokiSearch.tsx":
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   LokiSearch: () => (/* binding */ LokiSearch)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"./.yarn/cache/react-npm-18.2.0-1eae08fee2-88e38092da.zip/node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react_use_lib_useAsync__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(\"./.yarn/__virtual__/react-use-virtual-dd7926f458/0/cache/react-use-npm-17.4.0-0ef4521544-0889da919b.zip/node_modules/react-use/lib/useAsync.js\");\n/* harmony import */ var _grafana_ui__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(\"./.yarn/__virtual__/@grafana-ui-virtual-d722efae30/1/packages/grafana-ui/src/components/Forms/InlineLabel.tsx\");\n/* harmony import */ var _loki_components_LokiQueryField__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(\"./public/app/plugins/datasource/loki/components/LokiQueryField.tsx\");\n/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(\"./public/app/plugins/datasource/tempo/utils.ts\");\n\n\n\n\n\n\nfunction LokiSearch({ logsDatasourceUid, onChange, onRunQuery, query }) {\n  const dsState = (0,react_use_lib_useAsync__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(() => (0,_utils__WEBPACK_IMPORTED_MODULE_2__.getDS)(logsDatasourceUid), [logsDatasourceUid]);\n  if (dsState.loading) {\n    return null;\n  }\n  const ds = dsState.value;\n  if (ds) {\n    return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0___default().createElement((react__WEBPACK_IMPORTED_MODULE_0___default().Fragment), null, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_grafana_ui__WEBPACK_IMPORTED_MODULE_4__.InlineLabel, null, \"Tempo uses \", ds.name, \" to find traces.\"), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\n      _loki_components_LokiQueryField__WEBPACK_IMPORTED_MODULE_1__.LokiQueryField,\n      {\n        datasource: ds,\n        onChange,\n        onRunQuery,\n        query: query.linkedQuery ?? { refId: \"linked\" },\n        history: []\n      }\n    ));\n  }\n  if (!logsDatasourceUid) {\n    return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", { className: \"text-warning\" }, \"Please set up a Loki search datasource in the datasource settings.\");\n  }\n  if (logsDatasourceUid && !ds) {\n    return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", { className: \"text-warning\" }, \"Loki search datasource is configured but the data source no longer exists. Please configure existing data source to use the search.\");\n  }\n  return null;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9wdWJsaWMvYXBwL3BsdWdpbnMvZGF0YXNvdXJjZS90ZW1wby9Mb2tpU2VhcmNoLnRzeCIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7OztBQUFrQjtBQUNHO0FBRU87QUFFRztBQUtUO0FBU2YsU0FBUyxXQUFXLEVBQUUsbUJBQW1CLFVBQVUsWUFBWSxNQUFNLEdBQW9CO0FBQzlGLFFBQU0sVUFBVSxrRUFBUSxDQUFDLE1BQU0sNkNBQUssQ0FBQyxpQkFBaUIsR0FBRyxDQUFDLGlCQUFpQixDQUFDO0FBQzVFLE1BQUksUUFBUSxTQUFTO0FBQ25CLFdBQU87QUFBQSxFQUNUO0FBRUEsUUFBTSxLQUFLLFFBQVE7QUFFbkIsTUFBSSxJQUFJO0FBQ04sV0FDRSwwSUFDRSwyRUFBQyxvREFBVyxRQUFDLGVBQVksR0FBRyxNQUFLLGtCQUFnQixHQUNqRDtBQUFBLE1BQUMsMkVBQWM7QUFBZDtBQUFBLFFBQ0MsWUFBWTtBQUFBLFFBQ1o7QUFBQSxRQUNBO0FBQUEsUUFDQSxPQUFPLE1BQU0sZUFBZ0IsRUFBRSxPQUFPLFNBQVM7QUFBQSxRQUMvQyxTQUFTLENBQUM7QUFBQTtBQUFBLElBQ1osQ0FDRjtBQUFBLEVBRUo7QUFFQSxNQUFJLENBQUMsbUJBQW1CO0FBQ3RCLFdBQU8sMkVBQUMsU0FBSSxXQUFVLGtCQUFlLG9FQUFrRTtBQUFBLEVBQ3pHO0FBRUEsTUFBSSxxQkFBcUIsQ0FBQyxJQUFJO0FBQzVCLFdBQ0UsMkVBQUMsU0FBSSxXQUFVLGtCQUFlLHFJQUc5QjtBQUFBLEVBRUo7QUFFQSxTQUFPO0FBQ1QiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9ncmFmYW5hLy4vcHVibGljL2FwcC9wbHVnaW5zL2RhdGFzb3VyY2UvdGVtcG8vTG9raVNlYXJjaC50c3g/NzE1NSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IHVzZUFzeW5jIGZyb20gJ3JlYWN0LXVzZS9saWIvdXNlQXN5bmMnO1xuXG5pbXBvcnQgeyBJbmxpbmVMYWJlbCB9IGZyb20gJ0BncmFmYW5hL3VpJztcblxuaW1wb3J0IHsgTG9raVF1ZXJ5RmllbGQgfSBmcm9tICcuLi9sb2tpL2NvbXBvbmVudHMvTG9raVF1ZXJ5RmllbGQnO1xuaW1wb3J0IHsgTG9raURhdGFzb3VyY2UgfSBmcm9tICcuLi9sb2tpL2RhdGFzb3VyY2UnO1xuaW1wb3J0IHsgTG9raVF1ZXJ5IH0gZnJvbSAnLi4vbG9raS90eXBlcyc7XG5cbmltcG9ydCB7IFRlbXBvUXVlcnkgfSBmcm9tICcuL3R5cGVzJztcbmltcG9ydCB7IGdldERTIH0gZnJvbSAnLi91dGlscyc7XG5cbmludGVyZmFjZSBMb2tpU2VhcmNoUHJvcHMge1xuICBsb2dzRGF0YXNvdXJjZVVpZD86IHN0cmluZztcbiAgb25DaGFuZ2U6ICh2YWx1ZTogTG9raVF1ZXJ5KSA9PiB2b2lkO1xuICBvblJ1blF1ZXJ5OiAoKSA9PiB2b2lkO1xuICBxdWVyeTogVGVtcG9RdWVyeTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIExva2lTZWFyY2goeyBsb2dzRGF0YXNvdXJjZVVpZCwgb25DaGFuZ2UsIG9uUnVuUXVlcnksIHF1ZXJ5IH06IExva2lTZWFyY2hQcm9wcykge1xuICBjb25zdCBkc1N0YXRlID0gdXNlQXN5bmMoKCkgPT4gZ2V0RFMobG9nc0RhdGFzb3VyY2VVaWQpLCBbbG9nc0RhdGFzb3VyY2VVaWRdKTtcbiAgaWYgKGRzU3RhdGUubG9hZGluZykge1xuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgY29uc3QgZHMgPSBkc1N0YXRlLnZhbHVlIGFzIExva2lEYXRhc291cmNlO1xuXG4gIGlmIChkcykge1xuICAgIHJldHVybiAoXG4gICAgICA8PlxuICAgICAgICA8SW5saW5lTGFiZWw+VGVtcG8gdXNlcyB7ZHMubmFtZX0gdG8gZmluZCB0cmFjZXMuPC9JbmxpbmVMYWJlbD5cbiAgICAgICAgPExva2lRdWVyeUZpZWxkXG4gICAgICAgICAgZGF0YXNvdXJjZT17ZHN9XG4gICAgICAgICAgb25DaGFuZ2U9e29uQ2hhbmdlfVxuICAgICAgICAgIG9uUnVuUXVlcnk9e29uUnVuUXVlcnl9XG4gICAgICAgICAgcXVlcnk9e3F1ZXJ5LmxpbmtlZFF1ZXJ5ID8/ICh7IHJlZklkOiAnbGlua2VkJyB9IGFzIExva2lRdWVyeSl9XG4gICAgICAgICAgaGlzdG9yeT17W119XG4gICAgICAgIC8+XG4gICAgICA8Lz5cbiAgICApO1xuICB9XG5cbiAgaWYgKCFsb2dzRGF0YXNvdXJjZVVpZCkge1xuICAgIHJldHVybiA8ZGl2IGNsYXNzTmFtZT1cInRleHQtd2FybmluZ1wiPlBsZWFzZSBzZXQgdXAgYSBMb2tpIHNlYXJjaCBkYXRhc291cmNlIGluIHRoZSBkYXRhc291cmNlIHNldHRpbmdzLjwvZGl2PjtcbiAgfVxuXG4gIGlmIChsb2dzRGF0YXNvdXJjZVVpZCAmJiAhZHMpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LXdhcm5pbmdcIj5cbiAgICAgICAgTG9raSBzZWFyY2ggZGF0YXNvdXJjZSBpcyBjb25maWd1cmVkIGJ1dCB0aGUgZGF0YSBzb3VyY2Ugbm8gbG9uZ2VyIGV4aXN0cy4gUGxlYXNlIGNvbmZpZ3VyZSBleGlzdGluZyBkYXRhIHNvdXJjZVxuICAgICAgICB0byB1c2UgdGhlIHNlYXJjaC5cbiAgICAgIDwvZGl2PlxuICAgICk7XG4gIH1cblxuICByZXR1cm4gbnVsbDtcbn1cbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./public/app/plugins/datasource/tempo/LokiSearch.tsx\n");

/***/ }),

/***/ "./public/app/plugins/datasource/tempo/NativeSearch/NativeSearch.tsx":
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _emotion_css__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"./.yarn/cache/@emotion-css-npm-11.11.2-dbfa42cf83-1edea109df.zip/node_modules/@emotion/css/dist/emotion-css.esm.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(\"./.yarn/cache/react-npm-18.2.0-1eae08fee2-88e38092da.zip/node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _grafana_data__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(\"./.yarn/__virtual__/@grafana-data-virtual-0996183232/1/packages/grafana-data/src/utils/selectUtils.ts\");\n/* harmony import */ var _grafana_data__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(\"./.yarn/__virtual__/@grafana-data-virtual-0996183232/1/packages/grafana-data/src/datetime/durationutil.ts\");\n/* harmony import */ var _grafana_runtime__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(\"./.yarn/__virtual__/@grafana-runtime-virtual-68c57d4c0c/1/packages/grafana-runtime/src/services/backendSrv.ts\");\n/* harmony import */ var _grafana_runtime__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(\"./.yarn/__virtual__/@grafana-runtime-virtual-68c57d4c0c/1/packages/grafana-runtime/src/services/templateSrv.ts\");\n/* harmony import */ var _grafana_ui__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(\"./.yarn/__virtual__/@grafana-ui-virtual-d722efae30/1/packages/grafana-ui/src/themes/ThemeContext.tsx\");\n/* harmony import */ var _grafana_ui__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(\"./.yarn/__virtual__/@grafana-ui-virtual-d722efae30/1/packages/grafana-ui/src/utils/fuzzy.ts\");\n/* harmony import */ var _grafana_ui__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(\"./.yarn/__virtual__/@grafana-ui-virtual-d722efae30/1/packages/grafana-ui/src/components/Alert/Alert.tsx\");\n/* harmony import */ var _grafana_ui__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(\"./.yarn/__virtual__/@grafana-ui-virtual-d722efae30/1/packages/grafana-ui/src/components/Forms/InlineFieldRow.tsx\");\n/* harmony import */ var _grafana_ui__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(\"./.yarn/__virtual__/@grafana-ui-virtual-d722efae30/1/packages/grafana-ui/src/components/Forms/InlineField.tsx\");\n/* harmony import */ var _grafana_ui__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(\"./.yarn/__virtual__/@grafana-ui-virtual-d722efae30/1/packages/grafana-ui/src/components/Select/Select.tsx\");\n/* harmony import */ var _grafana_ui__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(\"./.yarn/__virtual__/@grafana-ui-virtual-d722efae30/1/packages/grafana-ui/src/components/Input/Input.tsx\");\n/* harmony import */ var app_core_actions__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(\"./public/app/core/actions/index.ts\");\n/* harmony import */ var app_core_copy_appNotification__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(\"./public/app/core/copy/appNotification.ts\");\n/* harmony import */ var app_store_store__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(\"./public/app/store/store.ts\");\n/* harmony import */ var _datasource__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(\"./public/app/plugins/datasource/tempo/datasource.ts\");\n/* harmony import */ var _language_provider__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(\"./public/app/plugins/datasource/tempo/language_provider.ts\");\n/* harmony import */ var _TagsField_TagsField__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(\"./public/app/plugins/datasource/tempo/NativeSearch/TagsField/TagsField.tsx\");\n\n\n\n\n\n\n\n\n\n\n\n\nconst durationPlaceholder = \"e.g. 1.2s, 100ms\";\nconst NativeSearch = ({ datasource, query, onChange, onBlur, onRunQuery }) => {\n  const styles = (0,_grafana_ui__WEBPACK_IMPORTED_MODULE_8__.useStyles2)(getStyles);\n  const languageProvider = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(() => new _language_provider__WEBPACK_IMPORTED_MODULE_6__[\"default\"](datasource), [datasource]);\n  const [serviceOptions, setServiceOptions] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)();\n  const [spanOptions, setSpanOptions] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)();\n  const [error, setError] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n  const [inputErrors, setInputErrors] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({});\n  const [isLoading, setIsLoading] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({\n    serviceName: false,\n    spanName: false\n  });\n  const loadOptions = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(\n    async (name, query2 = \"\") => {\n      const lpName = name === \"serviceName\" ? \"service.name\" : \"name\";\n      setIsLoading((prevValue) => ({ ...prevValue, [name]: true }));\n      try {\n        const options = await languageProvider.getOptionsV1(lpName);\n        const filteredOptions = options.filter((item) => item.value ? (0,_grafana_ui__WEBPACK_IMPORTED_MODULE_9__.fuzzyMatch)(item.value, query2).found : false);\n        return filteredOptions;\n      } catch (error2) {\n        if ((0,_grafana_runtime__WEBPACK_IMPORTED_MODULE_10__.isFetchError)(error2) && error2?.status === 404) {\n          setError(error2);\n        } else if (error2 instanceof Error) {\n          (0,app_store_store__WEBPACK_IMPORTED_MODULE_4__.dispatch)((0,app_core_actions__WEBPACK_IMPORTED_MODULE_2__.notifyApp)((0,app_core_copy_appNotification__WEBPACK_IMPORTED_MODULE_3__.createErrorNotification)(\"Error\", error2)));\n        }\n        return [];\n      } finally {\n        setIsLoading((prevValue) => ({ ...prevValue, [name]: false }));\n      }\n    },\n    [languageProvider]\n  );\n  (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(() => {\n    const fetchOptions = async () => {\n      try {\n        const [services, spans] = await Promise.all([loadOptions(\"serviceName\"), loadOptions(\"spanName\")]);\n        if (query.serviceName && (0,_grafana_runtime__WEBPACK_IMPORTED_MODULE_11__.getTemplateSrv)().containsTemplate(query.serviceName)) {\n          services.push((0,_grafana_data__WEBPACK_IMPORTED_MODULE_12__.toOption)(query.serviceName));\n        }\n        setServiceOptions(services);\n        if (query.spanName && (0,_grafana_runtime__WEBPACK_IMPORTED_MODULE_11__.getTemplateSrv)().containsTemplate(query.spanName)) {\n          spans.push((0,_grafana_data__WEBPACK_IMPORTED_MODULE_12__.toOption)(query.spanName));\n        }\n        setSpanOptions(spans);\n      } catch (error2) {\n        if ((0,_grafana_runtime__WEBPACK_IMPORTED_MODULE_10__.isFetchError)(error2) && error2?.status === 404) {\n          setError(error2);\n        } else if (error2 instanceof Error) {\n          (0,app_store_store__WEBPACK_IMPORTED_MODULE_4__.dispatch)((0,app_core_actions__WEBPACK_IMPORTED_MODULE_2__.notifyApp)((0,app_core_copy_appNotification__WEBPACK_IMPORTED_MODULE_3__.createErrorNotification)(\"Error\", error2)));\n        }\n      }\n    };\n    fetchOptions();\n  }, [languageProvider, loadOptions, query.serviceName, query.spanName]);\n  const onKeyDown = (keyEvent) => {\n    if (keyEvent.key === \"Enter\" && (keyEvent.shiftKey || keyEvent.ctrlKey)) {\n      onRunQuery();\n    }\n  };\n  const handleOnChange = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(\n    (value) => {\n      onChange({\n        ...query,\n        search: value\n      });\n    },\n    [onChange, query]\n  );\n  const templateSrv = (0,_grafana_runtime__WEBPACK_IMPORTED_MODULE_11__.getTemplateSrv)();\n  return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_1___default().createElement((react__WEBPACK_IMPORTED_MODULE_1___default().Fragment), null, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_1___default().createElement(\"div\", { className: styles.container }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_grafana_ui__WEBPACK_IMPORTED_MODULE_13__.Alert, { title: \"Deprecated query type\", severity: \"warning\" }, \"This query type has been deprecated and will be removed in Grafana v10.3. Please migrate to another Tempo query type.\"), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_grafana_ui__WEBPACK_IMPORTED_MODULE_14__.InlineFieldRow, null, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_grafana_ui__WEBPACK_IMPORTED_MODULE_15__.InlineField, { label: \"Service Name\", labelWidth: 14, grow: true }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_1___default().createElement(\n    _grafana_ui__WEBPACK_IMPORTED_MODULE_16__.Select,\n    {\n      inputId: \"service\",\n      options: serviceOptions,\n      onOpenMenu: () => {\n        loadOptions(\"serviceName\");\n      },\n      isLoading: isLoading.serviceName,\n      value: serviceOptions?.find((v) => v?.value === query.serviceName) || query.serviceName,\n      onChange: (v) => {\n        onChange({\n          ...query,\n          serviceName: v?.value\n        });\n      },\n      placeholder: \"Select a service\",\n      isClearable: true,\n      onKeyDown,\n      \"aria-label\": \"select-service-name\",\n      allowCustomValue: true\n    }\n  ))), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_grafana_ui__WEBPACK_IMPORTED_MODULE_14__.InlineFieldRow, null, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_grafana_ui__WEBPACK_IMPORTED_MODULE_15__.InlineField, { label: \"Span Name\", labelWidth: 14, grow: true }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_1___default().createElement(\n    _grafana_ui__WEBPACK_IMPORTED_MODULE_16__.Select,\n    {\n      inputId: \"spanName\",\n      options: spanOptions,\n      onOpenMenu: () => {\n        loadOptions(\"spanName\");\n      },\n      isLoading: isLoading.spanName,\n      value: spanOptions?.find((v) => v?.value === query.spanName) || query.spanName,\n      onChange: (v) => {\n        onChange({\n          ...query,\n          spanName: v?.value\n        });\n      },\n      placeholder: \"Select a span\",\n      isClearable: true,\n      onKeyDown,\n      \"aria-label\": \"select-span-name\",\n      allowCustomValue: true\n    }\n  ))), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_grafana_ui__WEBPACK_IMPORTED_MODULE_14__.InlineFieldRow, null, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_grafana_ui__WEBPACK_IMPORTED_MODULE_15__.InlineField, { label: \"Tags\", labelWidth: 14, grow: true, tooltip: \"Values should be in logfmt.\" }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_1___default().createElement(\n    _TagsField_TagsField__WEBPACK_IMPORTED_MODULE_7__.TagsField,\n    {\n      placeholder: \"http.status_code=200 error=true\",\n      value: query.search || \"\",\n      onChange: handleOnChange,\n      onBlur,\n      datasource\n    }\n  ))), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_grafana_ui__WEBPACK_IMPORTED_MODULE_14__.InlineFieldRow, null, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_grafana_ui__WEBPACK_IMPORTED_MODULE_15__.InlineField, { label: \"Min Duration\", invalid: !!inputErrors.minDuration, labelWidth: 14, grow: true }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_1___default().createElement(\n    _grafana_ui__WEBPACK_IMPORTED_MODULE_17__.Input,\n    {\n      id: \"minDuration\",\n      value: query.minDuration || \"\",\n      placeholder: durationPlaceholder,\n      onBlur: () => {\n        const templatedMinDuration = templateSrv.replace(query.minDuration ?? \"\");\n        if (query.minDuration && !(0,_grafana_data__WEBPACK_IMPORTED_MODULE_18__.isValidGoDuration)(templatedMinDuration)) {\n          setInputErrors({ ...inputErrors, minDuration: true });\n        } else {\n          setInputErrors({ ...inputErrors, minDuration: false });\n        }\n      },\n      onChange: (v) => onChange({\n        ...query,\n        minDuration: v.currentTarget.value\n      }),\n      onKeyDown\n    }\n  ))), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_grafana_ui__WEBPACK_IMPORTED_MODULE_14__.InlineFieldRow, null, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_grafana_ui__WEBPACK_IMPORTED_MODULE_15__.InlineField, { label: \"Max Duration\", invalid: !!inputErrors.maxDuration, labelWidth: 14, grow: true }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_1___default().createElement(\n    _grafana_ui__WEBPACK_IMPORTED_MODULE_17__.Input,\n    {\n      id: \"maxDuration\",\n      value: query.maxDuration || \"\",\n      placeholder: durationPlaceholder,\n      onBlur: () => {\n        const templatedMaxDuration = templateSrv.replace(query.maxDuration ?? \"\");\n        if (query.maxDuration && !(0,_grafana_data__WEBPACK_IMPORTED_MODULE_18__.isValidGoDuration)(templatedMaxDuration)) {\n          setInputErrors({ ...inputErrors, maxDuration: true });\n        } else {\n          setInputErrors({ ...inputErrors, maxDuration: false });\n        }\n      },\n      onChange: (v) => onChange({\n        ...query,\n        maxDuration: v.currentTarget.value\n      }),\n      onKeyDown\n    }\n  ))), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_grafana_ui__WEBPACK_IMPORTED_MODULE_14__.InlineFieldRow, null, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_1___default().createElement(\n    _grafana_ui__WEBPACK_IMPORTED_MODULE_15__.InlineField,\n    {\n      label: \"Limit\",\n      invalid: !!inputErrors.limit,\n      labelWidth: 14,\n      grow: true,\n      tooltip: \"Maximum number of returned results\"\n    },\n    /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_1___default().createElement(\n      _grafana_ui__WEBPACK_IMPORTED_MODULE_17__.Input,\n      {\n        id: \"limit\",\n        value: query.limit || \"\",\n        placeholder: `Default: ${_datasource__WEBPACK_IMPORTED_MODULE_5__.DEFAULT_LIMIT}`,\n        type: \"number\",\n        onChange: (v) => {\n          let limit = v.currentTarget.value ? parseInt(v.currentTarget.value, 10) : void 0;\n          if (limit && (!Number.isInteger(limit) || limit <= 0)) {\n            setInputErrors({ ...inputErrors, limit: true });\n          } else {\n            setInputErrors({ ...inputErrors, limit: false });\n          }\n          onChange({\n            ...query,\n            limit: v.currentTarget.value ? parseInt(v.currentTarget.value, 10) : void 0\n          });\n        },\n        onKeyDown\n      }\n    )\n  ))), error ? /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_grafana_ui__WEBPACK_IMPORTED_MODULE_13__.Alert, { title: \"Unable to connect to Tempo search\", severity: \"info\", className: styles.alert }, \"Please ensure that Tempo is configured with search enabled. If you would like to hide this tab, you can configure it in the \", /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_1___default().createElement(\"a\", { href: `/datasources/edit/${datasource.uid}` }, \"datasource settings\"), \".\") : null);\n};\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (NativeSearch);\nconst getStyles = (theme) => ({\n  container: (0,_emotion_css__WEBPACK_IMPORTED_MODULE_0__.css)`\n    max-width: 500px;\n  `,\n  alert: (0,_emotion_css__WEBPACK_IMPORTED_MODULE_0__.css)`\n    max-width: 75ch;\n    margin-top: ${theme.spacing(2)};\n  `\n});\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9wdWJsaWMvYXBwL3BsdWdpbnMvZGF0YXNvdXJjZS90ZW1wby9OYXRpdmVTZWFyY2gvTmF0aXZlU2VhcmNoLnRzeCIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQW9CO0FBQzZDO0FBRVc7QUFDTjtBQUNvQjtBQUNoRTtBQUNjO0FBQ2Y7QUFFc0I7QUFDYjtBQUdSO0FBVTFCLE1BQU0sc0JBQXNCO0FBRTVCLE1BQU0sZUFBZSxDQUFDLEVBQUUsWUFBWSxPQUFPLFVBQVUsUUFBUSxXQUFXLE1BQWE7QUFDbkYsUUFBTSxTQUFTLHVEQUFVLENBQUMsU0FBUztBQUNuQyxRQUFNLG1CQUFtQiw4Q0FBTyxDQUFDLE1BQU0sSUFBSSwwREFBcUIsQ0FBQyxVQUFVLEdBQUcsQ0FBQyxVQUFVLENBQUM7QUFDMUYsUUFBTSxDQUFDLGdCQUFnQixpQkFBaUIsSUFBSSwrQ0FBUSxDQUFpQztBQUNyRixRQUFNLENBQUMsYUFBYSxjQUFjLElBQUksK0NBQVEsQ0FBaUM7QUFDL0UsUUFBTSxDQUFDLE9BQU8sUUFBUSxJQUFJLCtDQUFRLENBQTRCLElBQUk7QUFDbEUsUUFBTSxDQUFDLGFBQWEsY0FBYyxJQUFJLCtDQUFRLENBQTZCLENBQUMsQ0FBQztBQUM3RSxRQUFNLENBQUMsV0FBVyxZQUFZLElBQUksK0NBQVEsQ0FHdkM7QUFBQSxJQUNELGFBQWE7QUFBQSxJQUNiLFVBQVU7QUFBQSxFQUNaLENBQUM7QUFFRCxRQUFNLGNBQWMsa0RBQVc7QUFBWCxJQUNsQixPQUFPLE1BQWNBLFNBQVEsT0FBTztBQUNsQyxZQUFNLFNBQVMsU0FBUyxnQkFBZ0IsaUJBQWlCO0FBQ3pELG1CQUFhLENBQUMsZUFBZSxFQUFFLEdBQUcsV0FBVyxDQUFDLElBQUksR0FBRyxLQUFLLEVBQUU7QUFFNUQsVUFBSTtBQUNGLGNBQU0sVUFBVSxNQUFNLGlCQUFpQixhQUFhLE1BQU07QUFDMUQsY0FBTSxrQkFBa0IsUUFBUSxPQUFPLENBQUMsU0FBVSxLQUFLLFFBQVEsdURBQVUs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LENBQUM7QUFBQTtBQUVqQyIsInNvdXJjZXMiOlsid2VicGFjazovL2dyYWZhbmEvLi9wdWJsaWMvYXBwL3BsdWdpbnMvZGF0YXNvdXJjZS90ZW1wby9OYXRpdmVTZWFyY2gvTmF0aXZlU2VhcmNoLnRzeD9kN2U0Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGNzcyB9IGZyb20gJ0BlbW90aW9uL2Nzcyc7XG5pbXBvcnQgUmVhY3QsIHsgdXNlQ2FsbGJhY2ssIHVzZVN0YXRlLCB1c2VFZmZlY3QsIHVzZU1lbW8gfSBmcm9tICdyZWFjdCc7XG5cbmltcG9ydCB7IEdyYWZhbmFUaGVtZTIsIGlzVmFsaWRHb0R1cmF0aW9uLCBTZWxlY3RhYmxlVmFsdWUsIHRvT3B0aW9uIH0gZnJvbSAnQGdyYWZhbmEvZGF0YSc7XG5pbXBvcnQgeyBGZXRjaEVycm9yLCBnZXRUZW1wbGF0ZVNydiwgaXNGZXRjaEVycm9yLCBUZW1wbGF0ZVNydiB9IGZyb20gJ0BncmFmYW5hL3J1bnRpbWUnO1xuaW1wb3J0IHsgSW5saW5lRmllbGRSb3csIElubGluZUZpZWxkLCBJbnB1dCwgQWxlcnQsIHVzZVN0eWxlczIsIGZ1enp5TWF0Y2gsIFNlbGVjdCB9IGZyb20gJ0BncmFmYW5hL3VpJztcbmltcG9ydCB7IG5vdGlmeUFwcCB9IGZyb20gJ2FwcC9jb3JlL2FjdGlvbnMnO1xuaW1wb3J0IHsgY3JlYXRlRXJyb3JOb3RpZmljYXRpb24gfSBmcm9tICdhcHAvY29yZS9jb3B5L2FwcE5vdGlmaWNhdGlvbic7XG5pbXBvcnQgeyBkaXNwYXRjaCB9IGZyb20gJ2FwcC9zdG9yZS9zdG9yZSc7XG5cbmltcG9ydCB7IERFRkFVTFRfTElNSVQsIFRlbXBvRGF0YXNvdXJjZSB9IGZyb20gJy4uL2RhdGFzb3VyY2UnO1xuaW1wb3J0IFRlbXBvTGFuZ3VhZ2VQcm92aWRlciBmcm9tICcuLi9sYW5ndWFnZV9wcm92aWRlcic7XG5pbXBvcnQgeyBUZW1wb1F1ZXJ5IH0gZnJvbSAnLi4vdHlwZXMnO1xuXG5pbXBvcnQgeyBUYWdzRmllbGQgfSBmcm9tICcuL1RhZ3NGaWVsZC9UYWdzRmllbGQnO1xuXG5pbnRlcmZhY2UgUHJvcHMge1xuICBkYXRhc291cmNlOiBUZW1wb0RhdGFzb3VyY2U7XG4gIHF1ZXJ5OiBUZW1wb1F1ZXJ5O1xuICBvbkNoYW5nZTogKHZhbHVlOiBUZW1wb1F1ZXJ5KSA9PiB2b2lkO1xuICBvbkJsdXI/OiAoKSA9PiB2b2lkO1xuICBvblJ1blF1ZXJ5OiAoKSA9PiB2b2lkO1xufVxuXG5jb25zdCBkdXJhdGlvblBsYWNlaG9sZGVyID0gJ2UuZy4gMS4ycywgMTAwbXMnO1xuXG5jb25zdCBOYXRpdmVTZWFyY2ggPSAoeyBkYXRhc291cmNlLCBxdWVyeSwgb25DaGFuZ2UsIG9uQmx1ciwgb25SdW5RdWVyeSB9OiBQcm9wcykgPT4ge1xuICBjb25zdCBzdHlsZXMgPSB1c2VTdHlsZXMyKGdldFN0eWxlcyk7XG4gIGNvbnN0IGxhbmd1YWdlUHJvdmlkZXIgPSB1c2VNZW1vKCgpID0+IG5ldyBUZW1wb0xhbmd1YWdlUHJvdmlkZXIoZGF0YXNvdXJjZSksIFtkYXRhc291cmNlXSk7XG4gIGNvbnN0IFtzZXJ2aWNlT3B0aW9ucywgc2V0U2VydmljZU9wdGlvbnNdID0gdXNlU3RhdGU8QXJyYXk8U2VsZWN0YWJsZVZhbHVlPHN0cmluZz4+PigpO1xuICBjb25zdCBbc3Bhbk9wdGlvbnMsIHNldFNwYW5PcHRpb25zXSA9IHVzZVN0YXRlPEFycmF5PFNlbGVjdGFibGVWYWx1ZTxzdHJpbmc+Pj4oKTtcbiAgY29uc3QgW2Vycm9yLCBzZXRFcnJvcl0gPSB1c2VTdGF0ZTxFcnJvciB8IEZldGNoRXJyb3IgfCBudWxsPihudWxsKTtcbiAgY29uc3QgW2lucHV0RXJyb3JzLCBzZXRJbnB1dEVycm9yc10gPSB1c2VTdGF0ZTx7IFtrZXk6IHN0cmluZ106IGJvb2xlYW4gfT4oe30pO1xuICBjb25zdCBbaXNMb2FkaW5nLCBzZXRJc0xvYWRpbmddID0gdXNlU3RhdGU8e1xuICAgIHNlcnZpY2VOYW1lOiBib29sZWFuO1xuICAgIHNwYW5OYW1lOiBib29sZWFuO1xuICB9Pih7XG4gICAgc2VydmljZU5hbWU6IGZhbHNlLFxuICAgIHNwYW5OYW1lOiBmYWxzZSxcbiAgfSk7XG5cbiAgY29uc3QgbG9hZE9wdGlvbnMgPSB1c2VDYWxsYmFjayhcbiAgICBhc3luYyAobmFtZTogc3RyaW5nLCBxdWVyeSA9ICcnKSA9PiB7XG4gICAgICBjb25zdCBscE5hbWUgPSBuYW1lID09PSAnc2VydmljZU5hbWUnID8gJ3NlcnZpY2UubmFtZScgOiAnbmFtZSc7XG4gICAgICBzZXRJc0xvYWRpbmcoKHByZXZWYWx1ZSkgPT4gKHsgLi4ucHJldlZhbHVlLCBbbmFtZV06IHRydWUgfSkpO1xuXG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCBvcHRpb25zID0gYXdhaXQgbGFuZ3VhZ2VQcm92aWRlci5nZXRPcHRpb25zVjEobHBOYW1lKTtcbiAgICAgICAgY29uc3QgZmlsdGVyZWRPcHRpb25zID0gb3B0aW9ucy5maWx0ZXIoKGl0ZW0pID0+IChpdGVtLnZhbHVlID8gZnV6enlNYXRjaChpdGVtLnZhbHVlLCBxdWVyeSkuZm91bmQgOiBmYWxzZSkpO1xuICAgICAgICByZXR1cm4gZmlsdGVyZWRPcHRpb25zO1xuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgaWYgKGlzRmV0Y2hFcnJvcihlcnJvcikgJiYgZXJyb3I/LnN0YXR1cyA9PT0gNDA0KSB7XG4gICAgICAgICAgc2V0RXJyb3IoZXJyb3IpO1xuICAgICAgICB9IGVsc2UgaWYgKGVycm9yIGluc3RhbmNlb2YgRXJyb3IpIHtcbiAgICAgICAgICBkaXNwYXRjaChub3RpZnlBcHAoY3JlYXRlRXJyb3JOb3RpZmljYXRpb24oJ0Vycm9yJywgZXJyb3IpKSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgc2V0SXNMb2FkaW5nKChwcmV2VmFsdWUpID0+ICh7IC4uLnByZXZWYWx1ZSwgW25hbWVdOiBmYWxzZSB9KSk7XG4gICAgICB9XG4gICAgfSxcbiAgICBbbGFuZ3VhZ2VQcm92aWRlcl1cbiAgKTtcblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGNvbnN0IGZldGNoT3B0aW9ucyA9IGFzeW5jICgpID0+IHtcbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IFtzZXJ2aWNlcywgc3BhbnNdID0gYXdhaXQgUHJvbWlzZS5hbGwoW2xvYWRPcHRpb25zKCdzZXJ2aWNlTmFtZScpLCBsb2FkT3B0aW9ucygnc3Bhbk5hbWUnKV0pO1xuICAgICAgICBpZiAocXVlcnkuc2VydmljZU5hbWUgJiYgZ2V0VGVtcGxhdGVTcnYoKS5jb250YWluc1RlbXBsYXRlKHF1ZXJ5LnNlcnZpY2VOYW1lKSkge1xuICAgICAgICAgIHNlcnZpY2VzLnB1c2godG9PcHRpb24ocXVlcnkuc2VydmljZU5hbWUpKTtcbiAgICAgICAgfVxuICAgICAgICBzZXRTZXJ2aWNlT3B0aW9ucyhzZXJ2aWNlcyk7XG4gICAgICAgIGlmIChxdWVyeS5zcGFuTmFtZSAmJiBnZXRUZW1wbGF0ZVNydigpLmNvbnRhaW5zVGVtcGxhdGUocXVlcnkuc3Bhbk5hbWUpKSB7XG4gICAgICAgICAgc3BhbnMucHVzaCh0b09wdGlvbihxdWVyeS5zcGFuTmFtZSkpO1xuICAgICAgICB9XG4gICAgICAgIHNldFNwYW5PcHRpb25zKHNwYW5zKTtcbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIC8vIERpc3BsYXkgbWVzc2FnZSBpZiBUZW1wbyBpcyBjb25uZWN0ZWQgYnV0IHNlYXJjaCA0MDQnc1xuICAgICAgICBpZiAoaXNGZXRjaEVycm9yKGVycm9yKSAmJiBlcnJvcj8uc3RhdHVzID09PSA0MDQpIHtcbiAgICAgICAgICBzZXRFcnJvcihlcnJvcik7XG4gICAgICAgIH0gZWxzZSBpZiAoZXJyb3IgaW5zdGFuY2VvZiBFcnJvcikge1xuICAgICAgICAgIGRpc3BhdGNoKG5vdGlmeUFwcChjcmVhdGVFcnJvck5vdGlmaWNhdGlvbignRXJyb3InLCBlcnJvcikpKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH07XG4gICAgZmV0Y2hPcHRpb25zKCk7XG4gIH0sIFtsYW5ndWFnZVByb3ZpZGVyLCBsb2FkT3B0aW9ucywgcXVlcnkuc2VydmljZU5hbWUsIHF1ZXJ5LnNwYW5OYW1lXSk7XG5cbiAgY29uc3Qgb25LZXlEb3duID0gKGtleUV2ZW50OiBSZWFjdC5LZXlib2FyZEV2ZW50KSA9PiB7XG4gICAgaWYgKGtleUV2ZW50LmtleSA9PT0gJ0VudGVyJyAmJiAoa2V5RXZlbnQuc2hpZnRLZXkgfHwga2V5RXZlbnQuY3RybEtleSkpIHtcbiAgICAgIG9uUnVuUXVlcnkoKTtcbiAgICB9XG4gIH07XG5cbiAgY29uc3QgaGFuZGxlT25DaGFuZ2UgPSB1c2VDYWxsYmFjayhcbiAgICAodmFsdWU6IHN0cmluZykgPT4ge1xuICAgICAgb25DaGFuZ2Uoe1xuICAgICAgICAuLi5xdWVyeSxcbiAgICAgICAgc2VhcmNoOiB2YWx1ZSxcbiAgICAgIH0pO1xuICAgIH0sXG4gICAgW29uQ2hhbmdlLCBxdWVyeV1cbiAgKTtcblxuICBjb25zdCB0ZW1wbGF0ZVNydjogVGVtcGxhdGVTcnYgPSBnZXRUZW1wbGF0ZVNydigpO1xuXG4gIHJldHVybiAoXG4gICAgPD5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPXtzdHlsZXMuY29udGFpbmVyfT5cbiAgICAgICAgPEFsZXJ0IHRpdGxlPVwiRGVwcmVjYXRlZCBxdWVyeSB0eXBlXCIgc2V2ZXJpdHk9XCJ3YXJuaW5nXCI+XG4gICAgICAgICAgVGhpcyBxdWVyeSB0eXBlIGhhcyBiZWVuIGRlcHJlY2F0ZWQgYW5kIHdpbGwgYmUgcmVtb3ZlZCBpbiBHcmFmYW5hIHYxMC4zLiBQbGVhc2UgbWlncmF0ZSB0byBhbm90aGVyIFRlbXBvXG4gICAgICAgICAgcXVlcnkgdHlwZS5cbiAgICAgICAgPC9BbGVydD5cbiAgICAgICAgPElubGluZUZpZWxkUm93PlxuICAgICAgICAgIDxJbmxpbmVGaWVsZCBsYWJlbD1cIlNlcnZpY2UgTmFtZVwiIGxhYmVsV2lkdGg9ezE0fSBncm93PlxuICAgICAgICAgICAgPFNlbGVjdFxuICAgICAgICAgICAgICBpbnB1dElkPVwic2VydmljZVwiXG4gICAgICAgICAgICAgIG9wdGlvbnM9e3NlcnZpY2VPcHRpb25zfVxuICAgICAgICAgICAgICBvbk9wZW5NZW51PXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgbG9hZE9wdGlvbnMoJ3NlcnZpY2VOYW1lJyk7XG4gICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgIGlzTG9hZGluZz17aXNMb2FkaW5nLnNlcnZpY2VOYW1lfVxuICAgICAgICAgICAgICB2YWx1ZT17c2VydmljZU9wdGlvbnM/LmZpbmQoKHYpID0+IHY/LnZhbHVlID09PSBxdWVyeS5zZXJ2aWNlTmFtZSkgfHwgcXVlcnkuc2VydmljZU5hbWV9XG4gICAgICAgICAgICAgIG9uQ2hhbmdlPXsodikgPT4ge1xuICAgICAgICAgICAgICAgIG9uQ2hhbmdlKHtcbiAgICAgICAgICAgICAgICAgIC4uLnF1ZXJ5LFxuICAgICAgICAgICAgICAgICAgc2VydmljZU5hbWU6IHY/LnZhbHVlLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICBwbGFjZWhvbGRlcj1cIlNlbGVjdCBhIHNlcnZpY2VcIlxuICAgICAgICAgICAgICBpc0NsZWFyYWJsZVxuICAgICAgICAgICAgICBvbktleURvd249e29uS2V5RG93bn1cbiAgICAgICAgICAgICAgYXJpYS1sYWJlbD17J3NlbGVjdC1zZXJ2aWNlLW5hbWUnfVxuICAgICAgICAgICAgICBhbGxvd0N1c3RvbVZhbHVlPXt0cnVlfVxuICAgICAgICAgICAgLz5cbiAgICAgICAgICA8L0lubGluZUZpZWxkPlxuICAgICAgICA8L0lubGluZUZpZWxkUm93PlxuICAgICAgICA8SW5saW5lRmllbGRSb3c+XG4gICAgICAgICAgPElubGluZUZpZWxkIGxhYmVsPVwiU3BhbiBOYW1lXCIgbGFiZWxXaWR0aD17MTR9IGdyb3c+XG4gICAgICAgICAgICA8U2VsZWN0XG4gICAgICAgICAgICAgIGlucHV0SWQ9XCJzcGFuTmFtZVwiXG4gICAgICAgICAgICAgIG9wdGlvbnM9e3NwYW5PcHRpb25zfVxuICAgICAgICAgICAgICBvbk9wZW5NZW51PXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgbG9hZE9wdGlvbnMoJ3NwYW5OYW1lJyk7XG4gICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgIGlzTG9hZGluZz17aXNMb2FkaW5nLnNwYW5OYW1lfVxuICAgICAgICAgICAgICB2YWx1ZT17c3Bhbk9wdGlvbnM/LmZpbmQoKHYpID0+IHY/LnZhbHVlID09PSBxdWVyeS5zcGFuTmFtZSkgfHwgcXVlcnkuc3Bhbk5hbWV9XG4gICAgICAgICAgICAgIG9uQ2hhbmdlPXsodikgPT4ge1xuICAgICAgICAgICAgICAgIG9uQ2hhbmdlKHtcbiAgICAgICAgICAgICAgICAgIC4uLnF1ZXJ5LFxuICAgICAgICAgICAgICAgICAgc3Bhbk5hbWU6IHY/LnZhbHVlLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICBwbGFjZWhvbGRlcj1cIlNlbGVjdCBhIHNwYW5cIlxuICAgICAgICAgICAgICBpc0NsZWFyYWJsZVxuICAgICAgICAgICAgICBvbktleURvd249e29uS2V5RG93bn1cbiAgICAgICAgICAgICAgYXJpYS1sYWJlbD17J3NlbGVjdC1zcGFuLW5hbWUnfVxuICAgICAgICAgICAgICBhbGxvd0N1c3RvbVZhbHVlPXt0cnVlfVxuICAgICAgICAgICAgLz5cbiAgICAgICAgICA8L0lubGluZUZpZWxkPlxuICAgICAgICA8L0lubGluZUZpZWxkUm93PlxuICAgICAgICA8SW5saW5lRmllbGRSb3c+XG4gICAgICAgICAgPElubGluZUZpZWxkIGxhYmVsPVwiVGFnc1wiIGxhYmVsV2lkdGg9ezE0fSBncm93IHRvb2x0aXA9XCJWYWx1ZXMgc2hvdWxkIGJlIGluIGxvZ2ZtdC5cIj5cbiAgICAgICAgICAgIDxUYWdzRmllbGRcbiAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCJodHRwLnN0YXR1c19jb2RlPTIwMCBlcnJvcj10cnVlXCJcbiAgICAgICAgICAgICAgdmFsdWU9e3F1ZXJ5LnNlYXJjaCB8fCAnJ31cbiAgICAgICAgICAgICAgb25DaGFuZ2U9e2hhbmRsZU9uQ2hhbmdlfVxuICAgICAgICAgICAgICBvbkJsdXI9e29uQmx1cn1cbiAgICAgICAgICAgICAgZGF0YXNvdXJjZT17ZGF0YXNvdXJjZX1cbiAgICAgICAgICAgIC8+XG4gICAgICAgICAgPC9JbmxpbmVGaWVsZD5cbiAgICAgICAgPC9JbmxpbmVGaWVsZFJvdz5cbiAgICAgICAgPElubGluZUZpZWxkUm93PlxuICAgICAgICAgIDxJbmxpbmVGaWVsZCBsYWJlbD1cIk1pbiBEdXJhdGlvblwiIGludmFsaWQ9eyEhaW5wdXRFcnJvcnMubWluRHVyYXRpb259IGxhYmVsV2lkdGg9ezE0fSBncm93PlxuICAgICAgICAgICAgPElucHV0XG4gICAgICAgICAgICAgIGlkPVwibWluRHVyYXRpb25cIlxuICAgICAgICAgICAgICB2YWx1ZT17cXVlcnkubWluRHVyYXRpb24gfHwgJyd9XG4gICAgICAgICAgICAgIHBsYWNlaG9sZGVyPXtkdXJhdGlvblBsYWNlaG9sZGVyfVxuICAgICAgICAgICAgICBvbkJsdXI9eygpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCB0ZW1wbGF0ZWRNaW5EdXJhdGlvbiA9IHRlbXBsYXRlU3J2LnJlcGxhY2UocXVlcnkubWluRHVyYXRpb24gPz8gJycpO1xuICAgICAgICAgICAgICAgIGlmIChxdWVyeS5taW5EdXJhdGlvbiAmJiAhaXNWYWxpZEdvRHVyYXRpb24odGVtcGxhdGVkTWluRHVyYXRpb24pKSB7XG4gICAgICAgICAgICAgICAgICBzZXRJbnB1dEVycm9ycyh7IC4uLmlucHV0RXJyb3JzLCBtaW5EdXJhdGlvbjogdHJ1ZSB9KTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgc2V0SW5wdXRFcnJvcnMoeyAuLi5pbnB1dEVycm9ycywgbWluRHVyYXRpb246IGZhbHNlIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgb25DaGFuZ2U9eyh2KSA9PlxuICAgICAgICAgICAgICAgIG9uQ2hhbmdlKHtcbiAgICAgICAgICAgICAgICAgIC4uLnF1ZXJ5LFxuICAgICAgICAgICAgICAgICAgbWluRHVyYXRpb246IHYuY3VycmVudFRhcmdldC52YWx1ZSxcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIG9uS2V5RG93bj17b25LZXlEb3dufVxuICAgICAgICAgICAgLz5cbiAgICAgICAgICA8L0lubGluZUZpZWxkPlxuICAgICAgICA8L0lubGluZUZpZWxkUm93PlxuICAgICAgICA8SW5saW5lRmllbGRSb3c+XG4gICAgICAgICAgPElubGluZUZpZWxkIGxhYmVsPVwiTWF4IER1cmF0aW9uXCIgaW52YWxpZD17ISFpbnB1dEVycm9ycy5tYXhEdXJhdGlvbn0gbGFiZWxXaWR0aD17MTR9IGdyb3c+XG4gICAgICAgICAgICA8SW5wdXRcbiAgICAgICAgICAgICAgaWQ9XCJtYXhEdXJhdGlvblwiXG4gICAgICAgICAgICAgIHZhbHVlPXtxdWVyeS5tYXhEdXJhdGlvbiB8fCAnJ31cbiAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9e2R1cmF0aW9uUGxhY2Vob2xkZXJ9XG4gICAgICAgICAgICAgIG9uQmx1cj17KCkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IHRlbXBsYXRlZE1heER1cmF0aW9uID0gdGVtcGxhdGVTcnYucmVwbGFjZShxdWVyeS5tYXhEdXJhdGlvbiA/PyAnJyk7XG4gICAgICAgICAgICAgICAgaWYgKHF1ZXJ5Lm1heER1cmF0aW9uICYmICFpc1ZhbGlkR29EdXJhdGlvbih0ZW1wbGF0ZWRNYXhEdXJhdGlvbikpIHtcbiAgICAgICAgICAgICAgICAgIHNldElucHV0RXJyb3JzKHsgLi4uaW5wdXRFcnJvcnMsIG1heER1cmF0aW9uOiB0cnVlIH0pO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICBzZXRJbnB1dEVycm9ycyh7IC4uLmlucHV0RXJyb3JzLCBtYXhEdXJhdGlvbjogZmFsc2UgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICBvbkNoYW5nZT17KHYpID0+XG4gICAgICAgICAgICAgICAgb25DaGFuZ2Uoe1xuICAgICAgICAgICAgICAgICAgLi4ucXVlcnksXG4gICAgICAgICAgICAgICAgICBtYXhEdXJhdGlvbjogdi5jdXJyZW50VGFyZ2V0LnZhbHVlLFxuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgb25LZXlEb3duPXtvbktleURvd259XG4gICAgICAgICAgICAvPlxuICAgICAgICAgIDwvSW5saW5lRmllbGQ+XG4gICAgICAgIDwvSW5saW5lRmllbGRSb3c+XG4gICAgICAgIDxJbmxpbmVGaWVsZFJvdz5cbiAgICAgICAgICA8SW5saW5lRmllbGRcbiAgICAgICAgICAgIGxhYmVsPVwiTGltaXRcIlxuICAgICAgICAgICAgaW52YWxpZD17ISFpbnB1dEVycm9ycy5saW1pdH1cbiAgICAgICAgICAgIGxhYmVsV2lkdGg9ezE0fVxuICAgICAgICAgICAgZ3Jvd1xuICAgICAgICAgICAgdG9vbHRpcD1cIk1heGltdW0gbnVtYmVyIG9mIHJldHVybmVkIHJlc3VsdHNcIlxuICAgICAgICAgID5cbiAgICAgICAgICAgIDxJbnB1dFxuICAgICAgICAgICAgICBpZD1cImxpbWl0XCJcbiAgICAgICAgICAgICAgdmFsdWU9e3F1ZXJ5LmxpbWl0IHx8ICcnfVxuICAgICAgICAgICAgICBwbGFjZWhvbGRlcj17YERlZmF1bHQ6ICR7REVGQVVMVF9MSU1JVH1gfVxuICAgICAgICAgICAgICB0eXBlPVwibnVtYmVyXCJcbiAgICAgICAgICAgICAgb25DaGFuZ2U9eyh2KSA9PiB7XG4gICAgICAgICAgICAgICAgbGV0IGxpbWl0ID0gdi5jdXJyZW50VGFyZ2V0LnZhbHVlID8gcGFyc2VJbnQodi5jdXJyZW50VGFyZ2V0LnZhbHVlLCAxMCkgOiB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgaWYgKGxpbWl0ICYmICghTnVtYmVyLmlzSW50ZWdlcihsaW1pdCkgfHwgbGltaXQgPD0gMCkpIHtcbiAgICAgICAgICAgICAgICAgIHNldElucHV0RXJyb3JzKHsgLi4uaW5wdXRFcnJvcnMsIGxpbWl0OiB0cnVlIH0pO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICBzZXRJbnB1dEVycm9ycyh7IC4uLmlucHV0RXJyb3JzLCBsaW1pdDogZmFsc2UgfSk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgb25DaGFuZ2Uoe1xuICAgICAgICAgICAgICAgICAgLi4ucXVlcnksXG4gICAgICAgICAgICAgICAgICBsaW1pdDogdi5jdXJyZW50VGFyZ2V0LnZhbHVlID8gcGFyc2VJbnQodi5jdXJyZW50VGFyZ2V0LnZhbHVlLCAxMCkgOiB1bmRlZmluZWQsXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgIG9uS2V5RG93bj17b25LZXlEb3dufVxuICAgICAgICAgICAgLz5cbiAgICAgICAgICA8L0lubGluZUZpZWxkPlxuICAgICAgICA8L0lubGluZUZpZWxkUm93PlxuICAgICAgPC9kaXY+XG4gICAgICB7ZXJyb3IgPyAoXG4gICAgICAgIDxBbGVydCB0aXRsZT1cIlVuYWJsZSB0byBjb25uZWN0IHRvIFRlbXBvIHNlYXJjaFwiIHNldmVyaXR5PVwiaW5mb1wiIGNsYXNzTmFtZT17c3R5bGVzLmFsZXJ0fT5cbiAgICAgICAgICBQbGVhc2UgZW5zdXJlIHRoYXQgVGVtcG8gaXMgY29uZmlndXJlZCB3aXRoIHNlYXJjaCBlbmFibGVkLiBJZiB5b3Ugd291bGQgbGlrZSB0byBoaWRlIHRoaXMgdGFiLCB5b3UgY2FuXG4gICAgICAgICAgY29uZmlndXJlIGl0IGluIHRoZSA8YSBocmVmPXtgL2RhdGFzb3VyY2VzL2VkaXQvJHtkYXRhc291cmNlLnVpZH1gfT5kYXRhc291cmNlIHNldHRpbmdzPC9hPi5cbiAgICAgICAgPC9BbGVydD5cbiAgICAgICkgOiBudWxsfVxuICAgIDwvPlxuICApO1xufTtcblxuZXhwb3J0IGRlZmF1bHQgTmF0aXZlU2VhcmNoO1xuXG5jb25zdCBnZXRTdHlsZXMgPSAodGhlbWU6IEdyYWZhbmFUaGVtZTIpID0+ICh7XG4gIGNvbnRhaW5lcjogY3NzYFxuICAgIG1heC13aWR0aDogNTAwcHg7XG4gIGAsXG4gIGFsZXJ0OiBjc3NgXG4gICAgbWF4LXdpZHRoOiA3NWNoO1xuICAgIG1hcmdpbi10b3A6ICR7dGhlbWUuc3BhY2luZygyKX07XG4gIGAsXG59KTtcbiJdLCJuYW1lcyI6WyJxdWVyeSIsImVycm9yIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./public/app/plugins/datasource/tempo/NativeSearch/NativeSearch.tsx\n");

/***/ }),

/***/ "./public/app/plugins/datasource/tempo/NativeSearch/TagsField/TagsField.tsx":
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   TagsField: () => (/* binding */ TagsField)\n/* harmony export */ });\n/* harmony import */ var _emotion_css__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"./.yarn/cache/@emotion-css-npm-11.11.2-dbfa42cf83-1edea109df.zip/node_modules/@emotion/css/dist/emotion-css.esm.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(\"./.yarn/cache/react-npm-18.2.0-1eae08fee2-88e38092da.zip/node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _grafana_ui__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(\"./.yarn/__virtual__/@grafana-ui-virtual-d722efae30/1/packages/grafana-ui/src/themes/ThemeContext.tsx\");\n/* harmony import */ var _grafana_ui__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(\"./.yarn/__virtual__/@grafana-ui-virtual-d722efae30/1/packages/grafana-ui/src/components/Monaco/CodeEditor.tsx\");\n/* harmony import */ var _core_copy_appNotification__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(\"./public/app/core/copy/appNotification.ts\");\n/* harmony import */ var _core_reducers_appNotification__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(\"./public/app/core/reducers/appNotification.ts\");\n/* harmony import */ var _store_store__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(\"./public/app/store/store.ts\");\n/* harmony import */ var _autocomplete__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(\"./public/app/plugins/datasource/tempo/NativeSearch/TagsField/autocomplete.ts\");\n/* harmony import */ var _syntax__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(\"./public/app/plugins/datasource/tempo/NativeSearch/TagsField/syntax.ts\");\n\n\n\n\n\n\n\n\n\nfunction TagsField(props) {\n  const { onChange, onBlur, placeholder } = props;\n  const setupAutocompleteFn = useAutocomplete(props.datasource);\n  const theme = (0,_grafana_ui__WEBPACK_IMPORTED_MODULE_7__.useTheme2)();\n  const styles = getStyles(theme, placeholder);\n  return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_1___default().createElement(\n    _grafana_ui__WEBPACK_IMPORTED_MODULE_8__.CodeEditor,\n    {\n      value: props.value,\n      language: langId,\n      onBlur,\n      onChange,\n      containerStyles: styles.queryField,\n      monacoOptions: {\n        folding: false,\n        fontSize: 14,\n        lineNumbers: \"off\",\n        overviewRulerLanes: 0,\n        renderLineHighlight: \"none\",\n        scrollbar: {\n          vertical: \"hidden\",\n          verticalScrollbarSize: 8,\n          // used as \"padding-right\"\n          horizontal: \"hidden\",\n          horizontalScrollbarSize: 0\n        },\n        scrollBeyondLastLine: false,\n        wordWrap: \"on\"\n      },\n      onBeforeEditorMount: ensureTraceQL,\n      onEditorDidMount: (editor, monaco) => {\n        setupAutocompleteFn(editor, monaco);\n        setupPlaceholder(editor, monaco, styles);\n        setupAutoSize(editor);\n      }\n    }\n  );\n}\nfunction setupPlaceholder(editor, monaco, styles) {\n  const placeholderDecorators = [\n    {\n      range: new monaco.Range(1, 1, 1, 1),\n      options: {\n        className: styles.placeholder,\n        // The placeholder text is in styles.placeholder\n        isWholeLine: true\n      }\n    }\n  ];\n  let decorators = [];\n  const checkDecorators = () => {\n    const model = editor.getModel();\n    if (!model) {\n      return;\n    }\n    const newDecorators = model.getValueLength() === 0 ? placeholderDecorators : [];\n    decorators = model.deltaDecorations(decorators, newDecorators);\n  };\n  checkDecorators();\n  editor.onDidChangeModelContent(checkDecorators);\n}\nfunction setupAutoSize(editor) {\n  const container = editor.getDomNode();\n  const updateHeight = () => {\n    if (container) {\n      const contentHeight = Math.min(1e3, editor.getContentHeight());\n      const width = parseInt(container.style.width, 10);\n      container.style.width = `${width}px`;\n      container.style.height = `${contentHeight}px`;\n      editor.layout({ width, height: contentHeight });\n    }\n  };\n  editor.onDidContentSizeChange(updateHeight);\n  updateHeight();\n}\nfunction useAutocomplete(datasource) {\n  const providerRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(\n    new _autocomplete__WEBPACK_IMPORTED_MODULE_5__.CompletionProvider({ languageProvider: datasource.languageProvider })\n  );\n  (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(() => {\n    const fetchTags = async () => {\n      try {\n        await datasource.languageProvider.start();\n      } catch (error) {\n        if (error instanceof Error) {\n          (0,_store_store__WEBPACK_IMPORTED_MODULE_4__.dispatch)((0,_core_reducers_appNotification__WEBPACK_IMPORTED_MODULE_3__.notifyApp)((0,_core_copy_appNotification__WEBPACK_IMPORTED_MODULE_2__.createErrorNotification)(\"Error\", error)));\n        }\n      }\n    };\n    fetchTags();\n  }, [datasource]);\n  const autocompleteDisposeFun = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n  (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(() => {\n    return () => {\n      autocompleteDisposeFun.current?.();\n    };\n  }, []);\n  return (editor, monaco) => {\n    providerRef.current.editor = editor;\n    providerRef.current.monaco = monaco;\n    const { dispose } = monaco.languages.registerCompletionItemProvider(langId, providerRef.current);\n    autocompleteDisposeFun.current = dispose;\n  };\n}\nlet setupDone = false;\nconst langId = \"tagsfield\";\nfunction ensureTraceQL(monaco) {\n  if (!setupDone) {\n    setupDone = true;\n    const { aliases, extensions, mimetypes, def } = _syntax__WEBPACK_IMPORTED_MODULE_6__.languageDefinition;\n    monaco.languages.register({ id: langId, aliases, extensions, mimetypes });\n    monaco.languages.setMonarchTokensProvider(langId, def.language);\n    monaco.languages.setLanguageConfiguration(langId, def.languageConfiguration);\n  }\n}\nconst getStyles = (theme, placeholder) => {\n  return {\n    queryField: (0,_emotion_css__WEBPACK_IMPORTED_MODULE_0__.css)`\n      border-radius: ${theme.shape.borderRadius()};\n      border: 1px solid ${theme.components.input.borderColor};\n      flex: 1;\n    `,\n    placeholder: (0,_emotion_css__WEBPACK_IMPORTED_MODULE_0__.css)`\n      ::after {\n        content: '${placeholder}';\n        font-family: ${theme.typography.fontFamilyMonospace};\n        opacity: 0.3;\n      }\n    `\n  };\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9wdWJsaWMvYXBwL3BsdWdpbnMvZGF0YXNvdXJjZS90ZW1wby9OYXRpdmVTZWFyY2gvVGFnc0ZpZWxkL1RhZ3NGaWVsZC50c3giLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7O0FBQW9CO0FBQ3FCO0FBR2tCO0FBRW5CO0FBQ2Q7QUFDRDtBQUdVO0FBQ0E7QUFVNUIsU0FBUyxVQUFVLE9BQWM7QUFDdEMsUUFBTSxFQUFFLFVBQVUsUUFBUSxZQUFZLElBQUk7QUFDMUMsUUFBTSxzQkFBc0IsZ0JBQWdCLE1BQU0sVUFBVTtBQUM1RCxRQUFNLFFBQVEsc0RBQVMsQ0FBQztBQUN4QixRQUFNLFNBQVMsVUFBVSxPQUFPLFdBQVc7QUFFM0MsU0FDRTtBQUFBLElBQUMsbURBQVU7QUFBVjtBQUFBLE1BQ0MsT0FBTyxNQUFNO0FBQUEsTUFDYixVQUFVO0FBQUEsTUFDVjtBQUFBLE1BQ0E7QUFBQSxNQUNBLGlCQUFpQixPQUFPO0FBQUEsTUFDeEIsZUFBZTtBQUFBLFFBQ2IsU0FBUztBQUFBLFFBQ1QsVUFBVTtBQUFBLFFBQ1YsYUFBYTtBQUFBLFFBQ2Isb0JBQW9CO0FBQUEsUUFDcEIscUJBQXFCO0FBQUEsUUFDckIsV0FBVztBQUFBLFVBQ1QsVUFBVTtBQUFBLFVBQ1YsdUJBQXVCO0FBQUE7QUFBQSxVQUN2QixZQUFZO0FBQUEsVUFDWix5QkFBeUI7QUFBQSxRQUMzQjtBQUFBLFFBQ0Esc0JBQXNCO0FBQUEsUUFDdEIsVUFBVTtBQUFBLE1BQ1o7QUFBQSxNQUNBLHFCQUFxQjtBQUFBLE1BQ3JCLGtCQUFrQixDQUFDLFFBQVEsV0FBVztBQUNwQyw0QkFBb0IsUUFBUSxNQUFNO0FBQ2xDLHlCQUFpQixRQUFRLFFBQVEsTUFBTTtBQUN2QyxzQkFBYyxNQUFNO0FBQUEsTUFDdEI7QUFBQTtBQUFBLEVBQ0Y7QUFFSjtBQUVBLFNBQVMsaUJBQWlCLFFBQWtELFFBQWdCLFFBQXNCO0FBQ2hILFFBQU0sd0JBQXdCO0FBQUEsSUFDNUI7QUFBQSxNQUNFLE9BQU8sSUFBSSxPQUFP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QVc7QUFBQTtBQUFBO0FBQUE7QUFBQSxFQUl0QztBQUNGIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZ3JhZmFuYS8uL3B1YmxpYy9hcHAvcGx1Z2lucy9kYXRhc291cmNlL3RlbXBvL05hdGl2ZVNlYXJjaC9UYWdzRmllbGQvVGFnc0ZpZWxkLnRzeD82MjM3Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGNzcyB9IGZyb20gJ0BlbW90aW9uL2Nzcyc7XG5pbXBvcnQgUmVhY3QsIHsgdXNlRWZmZWN0LCB1c2VSZWYgfSBmcm9tICdyZWFjdCc7XG5cbmltcG9ydCB7IEdyYWZhbmFUaGVtZTIgfSBmcm9tICdAZ3JhZmFuYS9kYXRhJztcbmltcG9ydCB7IENvZGVFZGl0b3IsIE1vbmFjbywgbW9uYWNvVHlwZXMsIHVzZVRoZW1lMiB9IGZyb20gJ0BncmFmYW5hL3VpJztcblxuaW1wb3J0IHsgY3JlYXRlRXJyb3JOb3RpZmljYXRpb24gfSBmcm9tICcuLi8uLi8uLi8uLi8uLi9jb3JlL2NvcHkvYXBwTm90aWZpY2F0aW9uJztcbmltcG9ydCB7IG5vdGlmeUFwcCB9IGZyb20gJy4uLy4uLy4uLy4uLy4uL2NvcmUvcmVkdWNlcnMvYXBwTm90aWZpY2F0aW9uJztcbmltcG9ydCB7IGRpc3BhdGNoIH0gZnJvbSAnLi4vLi4vLi4vLi4vLi4vc3RvcmUvc3RvcmUnO1xuaW1wb3J0IHsgVGVtcG9EYXRhc291cmNlIH0gZnJvbSAnLi4vLi4vZGF0YXNvdXJjZSc7XG5cbmltcG9ydCB7IENvbXBsZXRpb25Qcm92aWRlciB9IGZyb20gJy4vYXV0b2NvbXBsZXRlJztcbmltcG9ydCB7IGxhbmd1YWdlRGVmaW5pdGlvbiB9IGZyb20gJy4vc3ludGF4JztcblxuaW50ZXJmYWNlIFByb3BzIHtcbiAgcGxhY2Vob2xkZXI6IHN0cmluZztcbiAgdmFsdWU6IHN0cmluZztcbiAgb25DaGFuZ2U6ICh2YWw6IHN0cmluZykgPT4gdm9pZDtcbiAgb25CbHVyPzogKCkgPT4gdm9pZDtcbiAgZGF0YXNvdXJjZTogVGVtcG9EYXRhc291cmNlO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gVGFnc0ZpZWxkKHByb3BzOiBQcm9wcykge1xuICBjb25zdCB7IG9uQ2hhbmdlLCBvbkJsdXIsIHBsYWNlaG9sZGVyIH0gPSBwcm9wcztcbiAgY29uc3Qgc2V0dXBBdXRvY29tcGxldGVGbiA9IHVzZUF1dG9jb21wbGV0ZShwcm9wcy5kYXRhc291cmNlKTtcbiAgY29uc3QgdGhlbWUgPSB1c2VUaGVtZTIoKTtcbiAgY29uc3Qgc3R5bGVzID0gZ2V0U3R5bGVzKHRoZW1lLCBwbGFjZWhvbGRlcik7XG5cbiAgcmV0dXJuIChcbiAgICA8Q29kZUVkaXRvclxuICAgICAgdmFsdWU9e3Byb3BzLnZhbHVlfVxuICAgICAgbGFuZ3VhZ2U9e2xhbmdJZH1cbiAgICAgIG9uQmx1cj17b25CbHVyfVxuICAgICAgb25DaGFuZ2U9e29uQ2hhbmdlfVxuICAgICAgY29udGFpbmVyU3R5bGVzPXtzdHlsZXMucXVlcnlGaWVsZH1cbiAgICAgIG1vbmFjb09wdGlvbnM9e3tcbiAgICAgICAgZm9sZGluZzogZmFsc2UsXG4gICAgICAgIGZvbnRTaXplOiAxNCxcbiAgICAgICAgbGluZU51bWJlcnM6ICdvZmYnLFxuICAgICAgICBvdmVydmlld1J1bGVyTGFuZXM6IDAsXG4gICAgICAgIHJlbmRlckxpbmVIaWdobGlnaHQ6ICdub25lJyxcbiAgICAgICAgc2Nyb2xsYmFyOiB7XG4gICAgICAgICAgdmVydGljYWw6ICdoaWRkZW4nLFxuICAgICAgICAgIHZlcnRpY2FsU2Nyb2xsYmFyU2l6ZTogOCwgLy8gdXNlZCBhcyBcInBhZGRpbmctcmlnaHRcIlxuICAgICAgICAgIGhvcml6b250YWw6ICdoaWRkZW4nLFxuICAgICAgICAgIGhvcml6b250YWxTY3JvbGxiYXJTaXplOiAwLFxuICAgICAgICB9LFxuICAgICAgICBzY3JvbGxCZXlvbmRMYXN0TGluZTogZmFsc2UsXG4gICAgICAgIHdvcmRXcmFwOiAnb24nLFxuICAgICAgfX1cbiAgICAgIG9uQmVmb3JlRWRpdG9yTW91bnQ9e2Vuc3VyZVRyYWNlUUx9XG4gICAgICBvbkVkaXRvckRpZE1vdW50PXsoZWRpdG9yLCBtb25hY28pID0+IHtcbiAgICAgICAgc2V0dXBBdXRvY29tcGxldGVGbihlZGl0b3IsIG1vbmFjbyk7XG4gICAgICAgIHNldHVwUGxhY2Vob2xkZXIoZWRpdG9yLCBtb25hY28sIHN0eWxlcyk7XG4gICAgICAgIHNldHVwQXV0b1NpemUoZWRpdG9yKTtcbiAgICAgIH19XG4gICAgLz5cbiAgKTtcbn1cblxuZnVuY3Rpb24gc2V0dXBQbGFjZWhvbGRlcihlZGl0b3I6IG1vbmFjb1R5cGVzLmVkaXRvci5JU3RhbmRhbG9uZUNvZGVFZGl0b3IsIG1vbmFjbzogTW9uYWNvLCBzdHlsZXM6IEVkaXRvclN0eWxlcykge1xuICBjb25zdCBwbGFjZWhvbGRlckRlY29yYXRvcnMgPSBbXG4gICAge1xuICAgICAgcmFuZ2U6IG5ldyBtb25hY28uUmFuZ2UoMSwgMSwgMSwgMSksXG4gICAgICBvcHRpb25zOiB7XG4gICAgICAgIGNsYXNzTmFtZTogc3R5bGVzLnBsYWNlaG9sZGVyLCAvLyBUaGUgcGxhY2Vob2xkZXIgdGV4dCBpcyBpbiBzdHlsZXMucGxhY2Vob2xkZXJcbiAgICAgICAgaXNXaG9sZUxpbmU6IHRydWUsXG4gICAgICB9LFxuICAgIH0sXG4gIF07XG5cbiAgbGV0IGRlY29yYXRvcnM6IHN0cmluZ1tdID0gW107XG5cbiAgY29uc3QgY2hlY2tEZWNvcmF0b3JzID0gKCk6IHZvaWQgPT4ge1xuICAgIGNvbnN0IG1vZGVsID0gZWRpdG9yLmdldE1vZGVsKCk7XG5cbiAgICBpZiAoIW1vZGVsKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3QgbmV3RGVjb3JhdG9ycyA9IG1vZGVsLmdldFZhbHVlTGVuZ3RoKCkgPT09IDAgPyBwbGFjZWhvbGRlckRlY29yYXRvcnMgOiBbXTtcbiAgICBkZWNvcmF0b3JzID0gbW9kZWwuZGVsdGFEZWNvcmF0aW9ucyhkZWNvcmF0b3JzLCBuZXdEZWNvcmF0b3JzKTtcbiAgfTtcblxuICBjaGVja0RlY29yYXRvcnMoKTtcbiAgZWRpdG9yLm9uRGlkQ2hhbmdlTW9kZWxDb250ZW50KGNoZWNrRGVjb3JhdG9ycyk7XG59XG5cbmZ1bmN0aW9uIHNldHVwQXV0b1NpemUoZWRpdG9yOiBtb25hY29UeXBlcy5lZGl0b3IuSVN0YW5kYWxvbmVDb2RlRWRpdG9yKSB7XG4gIGNvbnN0IGNvbnRhaW5lciA9IGVkaXRvci5nZXREb21Ob2RlKCk7XG4gIGNvbnN0IHVwZGF0ZUhlaWdodCA9ICgpID0+IHtcbiAgICBpZiAoY29udGFpbmVyKSB7XG4gICAgICBjb25zdCBjb250ZW50SGVpZ2h0ID0gTWF0aC5taW4oMTAwMCwgZWRpdG9yLmdldENvbnRlbnRIZWlnaHQoKSk7XG4gICAgICBjb25zdCB3aWR0aCA9IHBhcnNlSW50KGNvbnRhaW5lci5zdHlsZS53aWR0aCwgMTApO1xuICAgICAgY29udGFpbmVyLnN0eWxlLndpZHRoID0gYCR7d2lkdGh9cHhgO1xuICAgICAgY29udGFpbmVyLnN0eWxlLmhlaWdodCA9IGAke2NvbnRlbnRIZWlnaHR9cHhgO1xuICAgICAgZWRpdG9yLmxheW91dCh7IHdpZHRoLCBoZWlnaHQ6IGNvbnRlbnRIZWlnaHQgfSk7XG4gICAgfVxuICB9O1xuICBlZGl0b3Iub25EaWRDb250ZW50U2l6ZUNoYW5nZSh1cGRhdGVIZWlnaHQpO1xuICB1cGRhdGVIZWlnaHQoKTtcbn1cblxuLyoqXG4gKiBIb29rIHRoYXQgcmV0dXJucyBmdW5jdGlvbiB0aGF0IHdpbGwgc2V0IHVwIG1vbmFjbyBhdXRvY29tcGxldGUgZm9yIHRoZSBsYWJlbCBzZWxlY3RvclxuICogQHBhcmFtIGRhdGFzb3VyY2VcbiAqL1xuZnVuY3Rpb24gdXNlQXV0b2NvbXBsZXRlKGRhdGFzb3VyY2U6IFRlbXBvRGF0YXNvdXJjZSkge1xuICAvLyBXZSBuZWVkIHRoZSBwcm92aWRlciByZWYgc28gd2UgY2FuIHBhc3MgaXQgdGhlIGxhYmVsL3ZhbHVlcyBkYXRhIGxhdGVyLiBUaGlzIGlzIGJlY2F1c2Ugd2UgcnVuIHRoZSBjYWxsIGZvciB0aGVcbiAgLy8gdmFsdWVzIGhlcmUgYnV0IHRoZXJlIGlzIGFkZGl0aW9uYWwgc2V0dXAgbmVlZGVkIGZvciB0aGUgcHJvdmlkZXIgbGF0ZXIgb24uIFdlIGNvdWxkIHJ1biB0aGUgZ2V0U2VyaWVzKCkgaW4gdGhlXG4gIC8vIHJldHVybmVkIGZ1bmN0aW9uIGJ1dCB0aGF0IGlzIHJ1biBhZnRlciB0aGUgbW9uYWNvIGlzIG1vdW50ZWQgc28gd291bGQgZGVsYXkgdGhlIHJlcXVlc3QgYSBiaXQgd2hlbiBpdCBkb2VzIG5vdFxuICAvLyBuZWVkIHRvLlxuICBjb25zdCBwcm92aWRlclJlZiA9IHVzZVJlZjxDb21wbGV0aW9uUHJvdmlkZXI+KFxuICAgIG5ldyBDb21wbGV0aW9uUHJvdmlkZXIoeyBsYW5ndWFnZVByb3ZpZGVyOiBkYXRhc291cmNlLmxhbmd1YWdlUHJvdmlkZXIgfSlcbiAgKTtcblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGNvbnN0IGZldGNoVGFncyA9IGFzeW5jICgpID0+IHtcbiAgICAgIHRyeSB7XG4gICAgICAgIGF3YWl0IGRhdGFzb3VyY2UubGFuZ3VhZ2VQcm92aWRlci5zdGFydCgpO1xuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgaWYgKGVycm9yIGluc3RhbmNlb2YgRXJyb3IpIHtcbiAgICAgICAgICBkaXNwYXRjaChub3RpZnlBcHAoY3JlYXRlRXJyb3JOb3RpZmljYXRpb24oJ0Vycm9yJywgZXJyb3IpKSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9O1xuICAgIGZldGNoVGFncygpO1xuICB9LCBbZGF0YXNvdXJjZV0pO1xuXG4gIGNvbnN0IGF1dG9jb21wbGV0ZURpc3Bvc2VGdW4gPSB1c2VSZWY8KCgpID0+IHZvaWQpIHwgbnVsbD4obnVsbCk7XG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgLy8gd2hlbiB3ZSB1bm1vdW50LCB3ZSB1bnJlZ2lzdGVyIHRoZSBhdXRvY29tcGxldGUtZnVuY3Rpb24sIGlmIGl0IHdhcyByZWdpc3RlcmVkXG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgIGF1dG9jb21wbGV0ZURpc3Bvc2VGdW4uY3VycmVudD8uKCk7XG4gICAgfTtcbiAgfSwgW10pO1xuXG4gIC8vIFRoaXMgc2hvdWxkIGJlIHJ1biBpbiBtb25hY28gb25FZGl0b3JEaWRNb3VudFxuICByZXR1cm4gKGVkaXRvcjogbW9uYWNvVHlwZXMuZWRpdG9yLklTdGFuZGFsb25lQ29kZUVkaXRvciwgbW9uYWNvOiBNb25hY28pID0+IHtcbiAgICBwcm92aWRlclJlZi5jdXJyZW50LmVkaXRvciA9IGVkaXRvcjtcbiAgICBwcm92aWRlclJlZi5jdXJyZW50Lm1vbmFjbyA9IG1vbmFjbztcblxuICAgIGNvbnN0IHsgZGlzcG9zZSB9ID0gbW9uYWNvLmxhbmd1YWdlcy5yZWdpc3RlckNvbXBsZXRpb25JdGVtUHJvdmlkZXIobGFuZ0lkLCBwcm92aWRlclJlZi5jdXJyZW50KTtcbiAgICBhdXRvY29tcGxldGVEaXNwb3NlRnVuLmN1cnJlbnQgPSBkaXNwb3NlO1xuICB9O1xufVxuXG4vLyB3ZSBtdXN0IG9ubHkgcnVuIHRoZSBzZXR1cCBjb2RlIG9uY2VcbmxldCBzZXR1cERvbmUgPSBmYWxzZTtcbmNvbnN0IGxhbmdJZCA9ICd0YWdzZmllbGQnO1xuXG5mdW5jdGlvbiBlbnN1cmVUcmFjZVFMKG1vbmFjbzogTW9uYWNvKSB7XG4gIGlmICghc2V0dXBEb25lKSB7XG4gICAgc2V0dXBEb25lID0gdHJ1ZTtcbiAgICBjb25zdCB7IGFsaWFzZXMsIGV4dGVuc2lvbnMsIG1pbWV0eXBlcywgZGVmIH0gPSBsYW5ndWFnZURlZmluaXRpb247XG4gICAgbW9uYWNvLmxhbmd1YWdlcy5yZWdpc3Rlcih7IGlkOiBsYW5nSWQsIGFsaWFzZXMsIGV4dGVuc2lvbnMsIG1pbWV0eXBlcyB9KTtcbiAgICBtb25hY28ubGFuZ3VhZ2VzLnNldE1vbmFyY2hUb2tlbnNQcm92aWRlcihsYW5nSWQsIGRlZi5sYW5ndWFnZSk7XG4gICAgbW9uYWNvLmxhbmd1YWdlcy5zZXRMYW5ndWFnZUNvbmZpZ3VyYXRpb24obGFuZ0lkLCBkZWYubGFuZ3VhZ2VDb25maWd1cmF0aW9uKTtcbiAgfVxufVxuXG5pbnRlcmZhY2UgRWRpdG9yU3R5bGVzIHtcbiAgcGxhY2Vob2xkZXI6IHN0cmluZztcbiAgcXVlcnlGaWVsZDogc3RyaW5nO1xufVxuXG5jb25zdCBnZXRTdHlsZXMgPSAodGhlbWU6IEdyYWZhbmFUaGVtZTIsIHBsYWNlaG9sZGVyOiBzdHJpbmcpOiBFZGl0b3JTdHlsZXMgPT4ge1xuICByZXR1cm4ge1xuICAgIHF1ZXJ5RmllbGQ6IGNzc2BcbiAgICAgIGJvcmRlci1yYWRpdXM6ICR7dGhlbWUuc2hhcGUuYm9yZGVyUmFkaXVzKCl9O1xuICAgICAgYm9yZGVyOiAxcHggc29saWQgJHt0aGVtZS5jb21wb25lbnRzLmlucHV0LmJvcmRlckNvbG9yfTtcbiAgICAgIGZsZXg6IDE7XG4gICAgYCxcbiAgICBwbGFjZWhvbGRlcjogY3NzYFxuICAgICAgOjphZnRlciB7XG4gICAgICAgIGNvbnRlbnQ6ICcke3BsYWNlaG9sZGVyfSc7XG4gICAgICAgIGZvbnQtZmFtaWx5OiAke3RoZW1lLnR5cG9ncmFwaHkuZm9udEZhbWlseU1vbm9zcGFjZX07XG4gICAgICAgIG9wYWNpdHk6IDAuMztcbiAgICAgIH1cbiAgICBgLFxuICB9O1xufTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./public/app/plugins/datasource/tempo/NativeSearch/TagsField/TagsField.tsx\n");

/***/ }),

/***/ "./public/app/plugins/datasource/tempo/NativeSearch/TagsField/autocomplete.ts":
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   CompletionProvider: () => (/* binding */ CompletionProvider)\n/* harmony export */ });\n\nclass CompletionProvider {\n  constructor(props) {\n    this.triggerCharacters = [\"=\", \" \"];\n    this.cachedValues = {};\n    this.languageProvider = props.languageProvider;\n  }\n  provideCompletionItems(model, position) {\n    if (!(this.monaco && this.editor)) {\n      throw new Error(\"provideCompletionItems called before CompletionProvider was initialized\");\n    }\n    if (this.editor.getModel()?.id !== model.id) {\n      return { suggestions: [] };\n    }\n    const { range, offset } = getRangeAndOffset(this.monaco, model, position);\n    const situation = this.getSituation(model.getValue(), offset);\n    const completionItems = this.getCompletions(situation);\n    return completionItems.then((items) => {\n      const maxIndexDigits = items.length.toString().length;\n      const suggestions = items.map((item, index) => {\n        const suggestion = {\n          kind: getMonacoCompletionItemKind(item.type, this.monaco),\n          label: item.label,\n          insertText: item.insertText,\n          sortText: index.toString().padStart(maxIndexDigits, \"0\"),\n          // to force the order we have\n          range\n        };\n        return suggestion;\n      });\n      return { suggestions };\n    });\n  }\n  async getTagValues(tagName) {\n    let tagValues;\n    if (this.cachedValues.hasOwnProperty(tagName)) {\n      tagValues = this.cachedValues[tagName];\n    } else {\n      tagValues = await this.languageProvider.getOptionsV1(tagName);\n      this.cachedValues[tagName] = tagValues;\n    }\n    return tagValues;\n  }\n  /**\n   * Get suggestion based on the situation we are in like whether we should suggest tag names or values.\n   * @param situation\n   * @private\n   */\n  async getCompletions(situation) {\n    switch (situation.type) {\n      case \"UNKNOWN\": {\n        return [];\n      }\n      case \"EMPTY\": {\n        return this.getTagsCompletions();\n      }\n      case \"IN_NAME\":\n        return this.getTagsCompletions();\n      case \"IN_VALUE\":\n        const tagValues = await this.getTagValues(situation.tagName);\n        const items = [];\n        const getInsertionText = (val) => `\"${val.label}\"`;\n        tagValues.forEach((val) => {\n          if (val?.label) {\n            items.push({\n              label: val.label,\n              insertText: getInsertionText(val),\n              type: \"TAG_VALUE\"\n            });\n          }\n        });\n        return items;\n      default:\n        throw new Error(`Unexpected situation ${situation}`);\n    }\n  }\n  getTagsCompletions() {\n    const tags = this.languageProvider.getAutocompleteTags();\n    return tags.sort((a, b) => a.localeCompare(b, void 0, { sensitivity: \"accent\" })).map((key) => ({\n      label: key,\n      insertText: key,\n      type: \"TAG_NAME\"\n    }));\n  }\n  /**\n   * Figure out where is the cursor and what kind of suggestions are appropriate.\n   * @param text\n   * @param offset\n   */\n  getSituation(text, offset) {\n    if (text === \"\" || offset === 0 || text[text.length - 1] === \" \") {\n      return {\n        type: \"EMPTY\"\n      };\n    }\n    const textUntilCaret = text.substring(0, offset);\n    const regex = /(?<key>[^= ]+)(?<equals>=)?(?<value>([^ \"]+)|\"([^\"]*)\")?/;\n    const matches = textUntilCaret.match(new RegExp(regex, \"g\"));\n    if (matches?.length) {\n      const last = matches[matches.length - 1];\n      const lastMatched = last.match(regex);\n      if (lastMatched) {\n        const key = lastMatched.groups?.key;\n        const equals = lastMatched.groups?.equals;\n        if (!key) {\n          return {\n            type: \"EMPTY\"\n          };\n        }\n        if (!equals) {\n          return {\n            type: \"IN_NAME\"\n          };\n        }\n        return {\n          type: \"IN_VALUE\",\n          tagName: key\n        };\n      }\n    }\n    return {\n      type: \"EMPTY\"\n    };\n  }\n}\nfunction getMonacoCompletionItemKind(type, monaco) {\n  switch (type) {\n    case \"TAG_NAME\":\n      return monaco.languages.CompletionItemKind.Enum;\n    case \"KEYWORD\":\n      return monaco.languages.CompletionItemKind.Keyword;\n    case \"OPERATOR\":\n      return monaco.languages.CompletionItemKind.Operator;\n    case \"TAG_VALUE\":\n      return monaco.languages.CompletionItemKind.EnumMember;\n    case \"SCOPE\":\n      return monaco.languages.CompletionItemKind.Class;\n    default:\n      throw new Error(`Unexpected CompletionType: ${type}`);\n  }\n}\nfunction getRangeAndOffset(monaco, model, position) {\n  const word = model.getWordAtPosition(position);\n  const range = word != null ? monaco.Range.lift({\n    startLineNumber: position.lineNumber,\n    endLineNumber: position.lineNumber,\n    startColumn: word.startColumn,\n    endColumn: word.endColumn\n  }) : monaco.Range.fromPositions(position);\n  const positionClone = {\n    column: position.column,\n    lineNumber: position.lineNumber\n  };\n  const offset = model.getOffsetAt(positionClone);\n  return { offset, range };\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9wdWJsaWMvYXBwL3BsdWdpbnMvZGF0YXNvdXJjZS90ZW1wby9OYXRpdmVTZWFyY2gvVGFnc0ZpZWxkL2F1dG9jb21wbGV0ZS50cyIsIm1hcHBpbmdzIjoiOzs7OztBQWFPLE1BQU0sbUJBQTJFO0FBQUEsRUFHdEYsWUFBWSxPQUFjO0FBSTFCLDZCQUFvQixDQUFDLEtBQUssR0FBRztBQU03QixTQUFRLGVBQWtFLENBQUM7QUFUekUsU0FBSyxtQkFBbUIsTUFBTTtBQUFBLEVBQ2hDO0FBQUEsRUFVQSx1QkFDRSxPQUNBLFVBQzRFO0FBRTVFLFFBQUksRUFBRSxLQUFLLFVBQVUsS0FBSyxTQUFTO0FBQ2pDLFlBQU0sSUFBSSxNQUFNLHlFQUF5RTtBQUFBLElBQzNGO0FBSUEsUUFBSSxLQUFLLE9BQU8sU0FBUyxHQUFHLE9BQU8sTUFBTSxJQUFJO0FBQzNDLGFBQU8sRUFBRSxhQUFhLENBQUMsRUFBRTtBQUFBLElBQzNCO0FBRUEsVUFBTSxFQUFFLE9BQU8sT0FBTyxJQUFJLGtCQUFrQixLQUFLLFFBQVEsT0FBTyxRQUFRO0FBQ3hFLFVBQU0sWUFBWSxLQUFLLGFBQWEsTUFBTSxTQUFTLEdBQUcsTUFBTTtBQUM1RCxVQUFNLGtCQUFrQixLQUFLLGVBQWUsU0FBUztBQUVyRCxXQUFPLGdCQUFnQixLQUFLLENBQUMsVUFBVTtBQUlyQyxZQUFNLGlCQUFpQixNQUFNLE9BQU8sU0FBUyxFQUFFO0FBQy9DLFlBQU0sY0FBc0QsTUFBTSxJQUFJLENBQUMsTUFBTSxVQUFVO0FBQ3JGLGNBQU0sYUFBbUQ7QUFBQSxVQUN2RCxNQUFNLDRCQUE0QixLQUFLLE1BQU0sS0FBSyxNQUFPO0FBQUEsVUFDekQsT0FBTyxLQUFLO0FBQUEsVUFDWixZQUFZLEtBQUs7QUFBQSxVQUNqQixVQUFVLE1BQU0sU0FBUyxFQUFFLFNBQVMsZ0JBQWdCLEdBQUc7QUFBQTtBQUFBLFVBQ3ZEO0FBQUEsUUFDRjtBQUNBLGVBQU87QUFBQSxNQUNULENBQUM7QUFDRCxhQUFPLEVBQUUsWUFBWTtBQUFB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QU8sT0FBTyxVQUFVLG1CQUFtQjtBQUFBLElBQzdDLEtBQUs7QUFDSCxhQUFPLE9BQU8sVUFBVSxtQkFBbUI7QUFBQSxJQUM3QyxLQUFLO0FBQ0gsYUFBTyxPQUFPLFVBQVUsbUJBQW1CO0FBQUEsSUFDN0MsS0FBSztBQUNILGFBQU8sT0FBTyxVQUFVLG1CQUFtQjtBQUFBLElBQzdDO0FBQ0UsWUFBTSxJQUFJLE1BQU0sOEJBQThCLE1BQU07QUFBQSxFQUN4RDtBQUNGO0FBNkJBLFNBQVMsa0JBQWtCLFFBQWdCLE9BQXNDLFVBQWdDO0FBQy9HLFFBQU0sT0FBTyxNQUFNLGtCQUFrQixRQUFRO0FBQzdDLFFBQU0sUUFDSixRQUFRLE9BQ0osT0FBTyxNQUFNLEtBQUs7QUFBQSxJQUNoQixpQkFBaUIsU0FBUztBQUFBLElBQzFCLGVBQWUsU0FBUztBQUFBLElBQ3hCLGFBQWEsS0FBSztBQUFBLElBQ2xCLFdBQVcsS0FBSztBQUFBLEVBQ2xCLENBQUMsSUFDRCxPQUFPLE1BQU0sY0FBYyxRQUFRO0FBR3pDLFFBQU0sZ0JBQWdCO0FBQUEsSUFDcEIsUUFBUSxTQUFTO0FBQUEsSUFDakIsWUFBWSxTQUFTO0FBQUEsRUFDdkI7QUFFQSxRQUFNLFNBQVMsTUFBTSxZQUFZLGFBQWE7QUFDOUMsU0FBTyxFQUFFLFFBQVEsTUFBTTtBQUN6QiIsInNvdXJjZXMiOlsid2VicGFjazovL2dyYWZhbmEvLi9wdWJsaWMvYXBwL3BsdWdpbnMvZGF0YXNvdXJjZS90ZW1wby9OYXRpdmVTZWFyY2gvVGFnc0ZpZWxkL2F1dG9jb21wbGV0ZS50cz8yMjllIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFNlbGVjdGFibGVWYWx1ZSB9IGZyb20gJ0BncmFmYW5hL2RhdGEnO1xuaW1wb3J0IHR5cGUgeyBNb25hY28sIG1vbmFjb1R5cGVzIH0gZnJvbSAnQGdyYWZhbmEvdWknO1xuXG5pbXBvcnQgVGVtcG9MYW5ndWFnZVByb3ZpZGVyIGZyb20gJy4uLy4uL2xhbmd1YWdlX3Byb3ZpZGVyJztcblxuaW50ZXJmYWNlIFByb3BzIHtcbiAgbGFuZ3VhZ2VQcm92aWRlcjogVGVtcG9MYW5ndWFnZVByb3ZpZGVyO1xufVxuXG4vKipcbiAqIENsYXNzIHRoYXQgaW1wbGVtZW50cyBDb21wbGV0aW9uSXRlbVByb3ZpZGVyIGludGVyZmFjZSBhbmQgYWxsb3dzIHVzIHRvIHByb3ZpZGUgc3VnZ2VzdGlvbiBmb3IgdGhlIE1vbmFjb1xuICogYXV0b2NvbXBsZXRlIHN5c3RlbS5cbiAqL1xuZXhwb3J0IGNsYXNzIENvbXBsZXRpb25Qcm92aWRlciBpbXBsZW1lbnRzIG1vbmFjb1R5cGVzLmxhbmd1YWdlcy5Db21wbGV0aW9uSXRlbVByb3ZpZGVyIHtcbiAgbGFuZ3VhZ2VQcm92aWRlcjogVGVtcG9MYW5ndWFnZVByb3ZpZGVyO1xuXG4gIGNvbnN0cnVjdG9yKHByb3BzOiBQcm9wcykge1xuICAgIHRoaXMubGFuZ3VhZ2VQcm92aWRlciA9IHByb3BzLmxhbmd1YWdlUHJvdmlkZXI7XG4gIH1cblxuICB0cmlnZ2VyQ2hhcmFjdGVycyA9IFsnPScsICcgJ107XG5cbiAgLy8gV2Ugc2V0IHRoZXNlIGRpcmVjdGx5IGFuZCBhZSByZXF1aXJlZCBmb3IgdGhlIHByb3ZpZGVyIHRvIGZ1bmN0aW9uLlxuICBtb25hY286IE1vbmFjbyB8IHVuZGVmaW5lZDtcbiAgZWRpdG9yOiBtb25hY29UeXBlcy5lZGl0b3IuSVN0YW5kYWxvbmVDb2RlRWRpdG9yIHwgdW5kZWZpbmVkO1xuXG4gIHByaXZhdGUgY2FjaGVkVmFsdWVzOiB7IFtrZXk6IHN0cmluZ106IEFycmF5PFNlbGVjdGFibGVWYWx1ZTxzdHJpbmc+PiB9ID0ge307XG5cbiAgcHJvdmlkZUNvbXBsZXRpb25JdGVtcyhcbiAgICBtb2RlbDogbW9uYWNvVHlwZXMuZWRpdG9yLklUZXh0TW9kZWwsXG4gICAgcG9zaXRpb246IG1vbmFjb1R5cGVzLlBvc2l0aW9uXG4gICk6IG1vbmFjb1R5cGVzLmxhbmd1YWdlcy5Qcm92aWRlclJlc3VsdDxtb25hY29UeXBlcy5sYW5ndWFnZXMuQ29tcGxldGlvbkxpc3Q+IHtcbiAgICAvLyBTaG91bGQgbm90IGhhcHBlbiwgdGhpcyBzaG91bGQgbm90IGJlIGNhbGxlZCBiZWZvcmUgaXQgaXMgaW5pdGlhbGl6ZWRcbiAgICBpZiAoISh0aGlzLm1vbmFjbyAmJiB0aGlzLmVkaXRvcikpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcigncHJvdmlkZUNvbXBsZXRpb25JdGVtcyBjYWxsZWQgYmVmb3JlIENvbXBsZXRpb25Qcm92aWRlciB3YXMgaW5pdGlhbGl6ZWQnKTtcbiAgICB9XG5cbiAgICAvLyBpZiB0aGUgbW9kZWwtaWQgZG9lcyBub3QgbWF0Y2gsIHRoZW4gdGhpcyBjYWxsIGlzIGZyb20gYSBkaWZmZXJlbnQgZWRpdG9yLWluc3RhbmNlLFxuICAgIC8vIG5vdCBcIm91ciBpbnN0YW5jZVwiLCBzbyByZXR1cm4gbm90aGluZ1xuICAgIGlmICh0aGlzLmVkaXRvci5nZXRNb2RlbCgpPy5pZCAhPT0gbW9kZWwuaWQpIHtcbiAgICAgIHJldHVybiB7IHN1Z2dlc3Rpb25zOiBbXSB9O1xuICAgIH1cblxuICAgIGNvbnN0IHsgcmFuZ2UsIG9mZnNldCB9ID0gZ2V0UmFuZ2VBbmRPZmZzZXQodGhpcy5tb25hY28sIG1vZGVsLCBwb3NpdGlvbik7XG4gICAgY29uc3Qgc2l0dWF0aW9uID0gdGhpcy5nZXRTaXR1YXRpb24obW9kZWwuZ2V0VmFsdWUoKSwgb2Zmc2V0KTtcbiAgICBjb25zdCBjb21wbGV0aW9uSXRlbXMgPSB0aGlzLmdldENvbXBsZXRpb25zKHNpdHVhdGlvbik7XG5cbiAgICByZXR1cm4gY29tcGxldGlvbkl0ZW1zLnRoZW4oKGl0ZW1zKSA9PiB7XG4gICAgICAvLyBtb25hY28gYnktZGVmYXVsdCBhbHBoYWJldGljYWxseSBvcmRlcnMgdGhlIGl0ZW1zLlxuICAgICAgLy8gdG8gc3RvcCBpdCwgd2UgdXNlIGEgbnVtYmVyLWFzLXN0cmluZyBzb3J0a2V5LFxuICAgICAgLy8gc28gdGhhdCBtb25hY28ga2VlcHMgdGhlIG9yZGVyIHdlIHVzZVxuICAgICAgY29uc3QgbWF4SW5kZXhEaWdpdHMgPSBpdGVtcy5sZW5ndGgudG9TdHJpbmcoKS5sZW5ndGg7XG4gICAgICBjb25zdCBzdWdnZXN0aW9uczogbW9uYWNvVHlwZXMubGFuZ3VhZ2VzLkNvbXBsZXRpb25JdGVtW10gPSBpdGVtcy5tYXAoKGl0ZW0sIGluZGV4KSA9PiB7XG4gICAgICAgIGNvbnN0IHN1Z2dlc3Rpb246IG1vbmFjb1R5cGVzLmxhbmd1YWdlcy5Db21wbGV0aW9uSXRlbSA9IHtcbiAgICAgICAgICBraW5kOiBnZXRNb25hY29Db21wbGV0aW9uSXRlbUtpbmQoaXRlbS50eXBlLCB0aGlzLm1vbmFjbyEpLFxuICAgICAgICAgIGxhYmVsOiBpdGVtLmxhYmVsLFxuICAgICAgICAgIGluc2VydFRleHQ6IGl0ZW0uaW5zZXJ0VGV4dCxcbiAgICAgICAgICBzb3J0VGV4dDogaW5kZXgudG9TdHJpbmcoKS5wYWRTdGFydChtYXhJbmRleERpZ2l0cywgJzAnKSwgLy8gdG8gZm9yY2UgdGhlIG9yZGVyIHdlIGhhdmVcbiAgICAgICAgICByYW5nZSxcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIHN1Z2dlc3Rpb247XG4gICAgICB9KTtcbiAgICAgIHJldHVybiB7IHN1Z2dlc3Rpb25zIH07XG4gICAgfSk7XG4gIH1cblxuICBwcml2YXRlIGFzeW5jIGdldFRhZ1ZhbHVlcyh0YWdOYW1lOiBzdHJpbmcpOiBQcm9taXNlPEFycmF5PFNlbGVjdGFibGVWYWx1ZTxzdHJpbmc+Pj4ge1xuICAgIGxldCB0YWdWYWx1ZXM6IEFycmF5PFNlbGVjdGFibGVWYWx1ZTxzdHJpbmc+PjtcblxuICAgIGlmICh0aGlzLmNhY2hlZFZhbHVlcy5oYXNPd25Qcm9wZXJ0eSh0YWdOYW1lKSkge1xuICAgICAgdGFnVmFsdWVzID0gdGhpcy5jYWNoZWRWYWx1ZXNbdGFnTmFtZV07XG4gICAgfSBlbHNlIHtcbiAgICAgIHRhZ1ZhbHVlcyA9IGF3YWl0IHRoaXMubGFuZ3VhZ2VQcm92aWRlci5nZXRPcHRpb25zVjEodGFnTmFtZSk7XG4gICAgICB0aGlzLmNhY2hlZFZhbHVlc1t0YWdOYW1lXSA9IHRhZ1ZhbHVlcztcbiAgICB9XG4gICAgcmV0dXJuIHRhZ1ZhbHVlcztcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgc3VnZ2VzdGlvbiBiYXNlZCBvbiB0aGUgc2l0dWF0aW9uIHdlIGFyZSBpbiBsaWtlIHdoZXRoZXIgd2Ugc2hvdWxkIHN1Z2dlc3QgdGFnIG5hbWVzIG9yIHZhbHVlcy5cbiAgICogQHBhcmFtIHNpdHVhdGlvblxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgcHJpdmF0ZSBhc3luYyBnZXRDb21wbGV0aW9ucyhzaXR1YXRpb246IFNpdHVhdGlvbik6IFByb21pc2U8Q29tcGxldGlvbltdPiB7XG4gICAgc3dpdGNoIChzaXR1YXRpb24udHlwZSkge1xuICAgICAgLy8gTm90IHJlYWxseSBzdXJlIHdoYXQgd291bGQgbWFrZSBzZW5zZSB0byBzdWdnZXN0IGluIHRoaXMgY2FzZSBzbyBqdXN0IGxlYXZlIGl0XG4gICAgICBjYXNlICdVTktOT1dOJzoge1xuICAgICAgICByZXR1cm4gW107XG4gICAgICB9XG4gICAgICBjYXNlICdFTVBUWSc6IHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0VGFnc0NvbXBsZXRpb25zKCk7XG4gICAgICB9XG4gICAgICBjYXNlICdJTl9OQU1FJzpcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0VGFnc0NvbXBsZXRpb25zKCk7XG4gICAgICBjYXNlICdJTl9WQUxVRSc6XG4gICAgICAgIGNvbnN0IHRhZ1ZhbHVlcyA9IGF3YWl0IHRoaXMuZ2V0VGFnVmFsdWVzKHNpdHVhdGlvbi50YWdOYW1lKTtcbiAgICAgICAgY29uc3QgaXRlbXM6IENvbXBsZXRpb25bXSA9IFtdO1xuXG4gICAgICAgIGNvbnN0IGdldEluc2VydGlvblRleHQgPSAodmFsOiBTZWxlY3RhYmxlVmFsdWU8c3RyaW5nPik6IHN0cmluZyA9PiBgXCIke3ZhbC5sYWJlbH1cImA7XG5cbiAgICAgICAgdGFnVmFsdWVzLmZvckVhY2goKHZhbCkgPT4ge1xuICAgICAgICAgIGlmICh2YWw/LmxhYmVsKSB7XG4gICAgICAgICAgICBpdGVtcy5wdXNoKHtcbiAgICAgICAgICAgICAgbGFiZWw6IHZhbC5sYWJlbCxcbiAgICAgICAgICAgICAgaW5zZXJ0VGV4dDogZ2V0SW5zZXJ0aW9uVGV4dCh2YWwpLFxuICAgICAgICAgICAgICB0eXBlOiAnVEFHX1ZBTFVFJyxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBpdGVtcztcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgVW5leHBlY3RlZCBzaXR1YXRpb24gJHtzaXR1YXRpb259YCk7XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBnZXRUYWdzQ29tcGxldGlvbnMoKTogQ29tcGxldGlvbltdIHtcbiAgICBjb25zdCB0YWdzID0gdGhpcy5sYW5ndWFnZVByb3ZpZGVyLmdldEF1dG9jb21wbGV0ZVRhZ3MoKTtcbiAgICByZXR1cm4gdGFnc1xuICAgICAgLnNvcnQoKGEsIGIpID0+IGEubG9jYWxlQ29tcGFyZShiLCB1bmRlZmluZWQsIHsgc2Vuc2l0aXZpdHk6ICdhY2NlbnQnIH0pKVxuICAgICAgLm1hcCgoa2V5KSA9PiAoe1xuICAgICAgICBsYWJlbDoga2V5LFxuICAgICAgICBpbnNlcnRUZXh0OiBrZXksXG4gICAgICAgIHR5cGU6ICdUQUdfTkFNRScsXG4gICAgICB9KSk7XG4gIH1cblxuICAvKipcbiAgICogRmlndXJlIG91dCB3aGVyZSBpcyB0aGUgY3Vyc29yIGFuZCB3aGF0IGtpbmQgb2Ygc3VnZ2VzdGlvbnMgYXJlIGFwcHJvcHJpYXRlLlxuICAgKiBAcGFyYW0gdGV4dFxuICAgKiBAcGFyYW0gb2Zmc2V0XG4gICAqL1xuICBwcml2YXRlIGdldFNpdHVhdGlvbih0ZXh0OiBzdHJpbmcsIG9mZnNldDogbnVtYmVyKTogU2l0dWF0aW9uIHtcbiAgICBpZiAodGV4dCA9PT0gJycgfHwgb2Zmc2V0ID09PSAwIHx8IHRleHRbdGV4dC5sZW5ndGggLSAxXSA9PT0gJyAnKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICB0eXBlOiAnRU1QVFknLFxuICAgICAgfTtcbiAgICB9XG5cbiAgICBjb25zdCB0ZXh0VW50aWxDYXJldCA9IHRleHQuc3Vic3RyaW5nKDAsIG9mZnNldCk7XG5cbiAgICBjb25zdCByZWdleCA9IC8oPzxrZXk+W149IF0rKSg/PGVxdWFscz49KT8oPzx2YWx1ZT4oW14gXCJdKyl8XCIoW15cIl0qKVwiKT8vO1xuICAgIGNvbnN0IG1hdGNoZXMgPSB0ZXh0VW50aWxDYXJldC5tYXRjaChuZXcgUmVnRXhwKHJlZ2V4LCAnZycpKTtcblxuICAgIGlmIChtYXRjaGVzPy5sZW5ndGgpIHtcbiAgICAgIGNvbnN0IGxhc3QgPSBtYXRjaGVzW21hdGNoZXMubGVuZ3RoIC0gMV07XG4gICAgICBjb25zdCBsYXN0TWF0Y2hlZCA9IGxhc3QubWF0Y2gocmVnZXgpO1xuICAgICAgaWYgKGxhc3RNYXRjaGVkKSB7XG4gICAgICAgIGNvbnN0IGtleSA9IGxhc3RNYXRjaGVkLmdyb3Vwcz8ua2V5O1xuICAgICAgICBjb25zdCBlcXVhbHMgPSBsYXN0TWF0Y2hlZC5ncm91cHM/LmVxdWFscztcblxuICAgICAgICBpZiAoIWtleSkge1xuICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB0eXBlOiAnRU1QVFknLFxuICAgICAgICAgIH07XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIWVxdWFscykge1xuICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB0eXBlOiAnSU5fTkFNRScsXG4gICAgICAgICAgfTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgdHlwZTogJ0lOX1ZBTFVFJyxcbiAgICAgICAgICB0YWdOYW1lOiBrZXksXG4gICAgICAgIH07XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHtcbiAgICAgIHR5cGU6ICdFTVBUWScsXG4gICAgfTtcbiAgfVxufVxuXG4vKipcbiAqIEdldCBpdGVtIGtpbmQgd2hpY2ggaXMgdXNlZCBmb3IgaWNvbiBuZXh0IHRvIHRoZSBzdWdnZXN0aW9uLlxuICogQHBhcmFtIHR5cGVcbiAqIEBwYXJhbSBtb25hY29cbiAqL1xuZnVuY3Rpb24gZ2V0TW9uYWNvQ29tcGxldGlvbkl0ZW1LaW5kKHR5cGU6IENvbXBsZXRpb25UeXBlLCBtb25hY286IE1vbmFjbyk6IG1vbmFjb1R5cGVzLmxhbmd1YWdlcy5Db21wbGV0aW9uSXRlbUtpbmQge1xuICBzd2l0Y2ggKHR5cGUpIHtcbiAgICBjYXNlICdUQUdfTkFNRSc6XG4gICAgICByZXR1cm4gbW9uYWNvLmxhbmd1YWdlcy5Db21wbGV0aW9uSXRlbUtpbmQuRW51bTtcbiAgICBjYXNlICdLRVlXT1JEJzpcbiAgICAgIHJldHVybiBtb25hY28ubGFuZ3VhZ2VzLkNvbXBsZXRpb25JdGVtS2luZC5LZXl3b3JkO1xuICAgIGNhc2UgJ09QRVJBVE9SJzpcbiAgICAgIHJldHVybiBtb25hY28ubGFuZ3VhZ2VzLkNvbXBsZXRpb25JdGVtS2luZC5PcGVyYXRvcjtcbiAgICBjYXNlICdUQUdfVkFMVUUnOlxuICAgICAgcmV0dXJuIG1vbmFjby5sYW5ndWFnZXMuQ29tcGxldGlvbkl0ZW1LaW5kLkVudW1NZW1iZXI7XG4gICAgY2FzZSAnU0NPUEUnOlxuICAgICAgcmV0dXJuIG1vbmFjby5sYW5ndWFnZXMuQ29tcGxldGlvbkl0ZW1LaW5kLkNsYXNzO1xuICAgIGRlZmF1bHQ6XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoYFVuZXhwZWN0ZWQgQ29tcGxldGlvblR5cGU6ICR7dHlwZX1gKTtcbiAgfVxufVxuXG5leHBvcnQgdHlwZSBDb21wbGV0aW9uVHlwZSA9ICdUQUdfTkFNRScgfCAnVEFHX1ZBTFVFJyB8ICdLRVlXT1JEJyB8ICdPUEVSQVRPUicgfCAnU0NPUEUnO1xudHlwZSBDb21wbGV0aW9uID0ge1xuICB0eXBlOiBDb21wbGV0aW9uVHlwZTtcbiAgbGFiZWw6IHN0cmluZztcbiAgaW5zZXJ0VGV4dDogc3RyaW5nO1xufTtcblxuZXhwb3J0IHR5cGUgVGFnID0ge1xuICBuYW1lOiBzdHJpbmc7XG4gIHZhbHVlOiBzdHJpbmc7XG59O1xuXG5leHBvcnQgdHlwZSBTaXR1YXRpb24gPVxuICB8IHtcbiAgICAgIHR5cGU6ICdVTktOT1dOJztcbiAgICB9XG4gIHwge1xuICAgICAgdHlwZTogJ0VNUFRZJztcbiAgICB9XG4gIHwge1xuICAgICAgdHlwZTogJ0lOX05BTUUnO1xuICAgIH1cbiAgfCB7XG4gICAgICB0eXBlOiAnSU5fVkFMVUUnO1xuICAgICAgdGFnTmFtZTogc3RyaW5nO1xuICAgIH07XG5cbmZ1bmN0aW9uIGdldFJhbmdlQW5kT2Zmc2V0KG1vbmFjbzogTW9uYWNvLCBtb2RlbDogbW9uYWNvVHlwZXMuZWRpdG9yLklUZXh0TW9kZWwsIHBvc2l0aW9uOiBtb25hY29UeXBlcy5Qb3NpdGlvbikge1xuICBjb25zdCB3b3JkID0gbW9kZWwuZ2V0V29yZEF0UG9zaXRpb24ocG9zaXRpb24pO1xuICBjb25zdCByYW5nZSA9XG4gICAgd29yZCAhPSBudWxsXG4gICAgICA/IG1vbmFjby5SYW5nZS5saWZ0KHtcbiAgICAgICAgICBzdGFydExpbmVOdW1iZXI6IHBvc2l0aW9uLmxpbmVOdW1iZXIsXG4gICAgICAgICAgZW5kTGluZU51bWJlcjogcG9zaXRpb24ubGluZU51bWJlcixcbiAgICAgICAgICBzdGFydENvbHVtbjogd29yZC5zdGFydENvbHVtbixcbiAgICAgICAgICBlbmRDb2x1bW46IHdvcmQuZW5kQ29sdW1uLFxuICAgICAgICB9KVxuICAgICAgOiBtb25hY28uUmFuZ2UuZnJvbVBvc2l0aW9ucyhwb3NpdGlvbik7XG5cbiAgLy8gZG9jdW1lbnRhdGlvbiBzYXlzIGBwb3NpdGlvbmAgd2lsbCBiZSBcImFkanVzdGVkXCIgaW4gYGdldE9mZnNldEF0YCBzbyB3ZSBjbG9uZSBpdCBoZXJlIGp1c3QgZm9yIHN1cmUuXG4gIGNvbnN0IHBvc2l0aW9uQ2xvbmUgPSB7XG4gICAgY29sdW1uOiBwb3NpdGlvbi5jb2x1bW4sXG4gICAgbGluZU51bWJlcjogcG9zaXRpb24ubGluZU51bWJlcixcbiAgfTtcblxuICBjb25zdCBvZmZzZXQgPSBtb2RlbC5nZXRPZmZzZXRBdChwb3NpdGlvbkNsb25lKTtcbiAgcmV0dXJuIHsgb2Zmc2V0LCByYW5nZSB9O1xufVxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./public/app/plugins/datasource/tempo/NativeSearch/TagsField/autocomplete.ts\n");

/***/ }),

/***/ "./public/app/plugins/datasource/tempo/NativeSearch/TagsField/syntax.ts":
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   language: () => (/* binding */ language),\n/* harmony export */   languageConfiguration: () => (/* binding */ languageConfiguration),\n/* harmony export */   languageDefinition: () => (/* binding */ languageDefinition)\n/* harmony export */ });\n\nconst languageConfiguration = {\n  // the default separators except `@$`\n  wordPattern: /(-?\\d*\\.\\d\\w*)|([^`~!#%^&*()\\-=+\\[{\\]}\\\\|;:'\",.<>\\/?\\s]+)/g,\n  brackets: [\n    [\"{\", \"}\"],\n    [\"(\", \")\"]\n  ],\n  autoClosingPairs: [\n    { open: \"{\", close: \"}\" },\n    { open: \"(\", close: \")\" },\n    { open: '\"', close: '\"' },\n    { open: \"'\", close: \"'\" }\n  ],\n  surroundingPairs: [\n    { open: \"{\", close: \"}\" },\n    { open: \"(\", close: \")\" },\n    { open: '\"', close: '\"' },\n    { open: \"'\", close: \"'\" }\n  ],\n  folding: {}\n};\nconst operators = [\"=\"];\nconst language = {\n  ignoreCase: false,\n  defaultToken: \"\",\n  tokenPostfix: \".tagsfield\",\n  operators,\n  // we include these common regular expressions\n  symbols: /[=><!~?:&|+\\-*\\/^%]+/,\n  escapes: /\\\\(?:[abfnrtv\\\\\"']|x[0-9A-Fa-f]{1,4}|u[0-9A-Fa-f]{4}|U[0-9A-Fa-f]{8})/,\n  digits: /\\d+(_+\\d+)*/,\n  octaldigits: /[0-7]+(_+[0-7]+)*/,\n  binarydigits: /[0-1]+(_+[0-1]+)*/,\n  hexdigits: /[[0-9a-fA-F]+(_+[0-9a-fA-F]+)*/,\n  integersuffix: /(ll|LL|u|U|l|L)?(ll|LL|u|U|l|L)?/,\n  floatsuffix: /[fFlL]?/,\n  tokenizer: {\n    root: [\n      // labels\n      [/[a-z_.][\\w./_-]*(?=\\s*(=|!=|>|<|>=|<=|=~|!~))/, \"tag\"],\n      // all keywords have the same color\n      [\n        /[a-zA-Z_.]\\w*/,\n        {\n          cases: {\n            \"@default\": \"identifier\"\n          }\n        }\n      ],\n      // strings\n      [/\"([^\"\\\\]|\\\\.)*$/, \"string.invalid\"],\n      // non-teminated string\n      [/'([^'\\\\]|\\\\.)*$/, \"string.invalid\"],\n      // non-teminated string\n      [/\"/, \"string\", \"@string_double\"],\n      [/'/, \"string\", \"@string_single\"],\n      // whitespace\n      { include: \"@whitespace\" },\n      // delimiters and operators\n      [/[{}()\\[\\]]/, \"@brackets\"],\n      [/[<>](?!@symbols)/, \"@brackets\"],\n      [\n        /@symbols/,\n        {\n          cases: {\n            \"@operators\": \"delimiter\",\n            \"@default\": \"\"\n          }\n        }\n      ],\n      // numbers\n      [/\\d+/, \"number\"],\n      [/\\d*\\d+[eE]([\\-+]?\\d+)?(@floatsuffix)/, \"number.float\"],\n      [/\\d*\\.\\d+([eE][\\-+]?\\d+)?(@floatsuffix)/, \"number.float\"],\n      [/0[xX][0-9a-fA-F']*[0-9a-fA-F](@integersuffix)/, \"number.hex\"],\n      [/0[0-7']*[0-7](@integersuffix)/, \"number.octal\"],\n      [/0[bB][0-1']*[0-1](@integersuffix)/, \"number.binary\"],\n      [/\\d[\\d']*\\d(@integersuffix)/, \"number\"],\n      [/\\d(@integersuffix)/, \"number\"]\n    ],\n    string_double: [\n      [/[^\\\\\"]+/, \"string\"],\n      [/@escapes/, \"string.escape\"],\n      [/\\\\./, \"string.escape.invalid\"],\n      [/\"/, \"string\", \"@pop\"]\n    ],\n    string_single: [\n      [/[^\\\\']+/, \"string\"],\n      [/@escapes/, \"string.escape\"],\n      [/\\\\./, \"string.escape.invalid\"],\n      [/'/, \"string\", \"@pop\"]\n    ],\n    clauses: [\n      [/[^(,)]/, \"tag\"],\n      [/\\)/, \"identifier\", \"@pop\"]\n    ],\n    whitespace: [[/[ \\t\\r\\n]+/, \"white\"]]\n  }\n};\nconst languageDefinition = {\n  id: \"tagsfield\",\n  extensions: [\".tagsfield\"],\n  aliases: [\"tagsfield\"],\n  mimetypes: [],\n  def: {\n    language,\n    languageConfiguration\n  }\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9wdWJsaWMvYXBwL3BsdWdpbnMvZGF0YXNvdXJjZS90ZW1wby9OYXRpdmVTZWFyY2gvVGFnc0ZpZWxkL3N5bnRheC50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7O0FBRU8sTUFBTSx3QkFBeUQ7QUFBQTtBQUFBLEVBRXBFLGFBQWE7QUFBQSxFQUNiLFVBQVU7QUFBQSxJQUNSLENBQUMsS0FBSyxHQUFHO0FBQUEsSUFDVCxDQUFDLEtBQUssR0FBRztBQUFBLEVBQ1g7QUFBQSxFQUNBLGtCQUFrQjtBQUFBLElBQ2hCLEVBQUUsTUFBTSxLQUFLLE9BQU8sSUFBSTtBQUFBLElBQ3hCLEVBQUUsTUFBTSxLQUFLLE9BQU8sSUFBSTtBQUFBLElBQ3hCLEVBQUUsTUFBTSxLQUFLLE9BQU8sSUFBSTtBQUFBLElBQ3hCLEVBQUUsTUFBTSxLQUFLLE9BQU8sSUFBSTtBQUFBLEVBQzFCO0FBQUEsRUFDQSxrQkFBa0I7QUFBQSxJQUNoQixFQUFFLE1BQU0sS0FBSyxPQUFPLElBQUk7QUFBQSxJQUN4QixFQUFFLE1BQU0sS0FBSyxPQUFPLElBQUk7QUFBQSxJQUN4QixFQUFFLE1BQU0sS0FBSyxPQUFPLElBQUk7QUFBQSxJQUN4QixFQUFFLE1BQU0sS0FBSyxPQUFPLElBQUk7QUFBQSxFQUMxQjtBQUFBLEVBQ0EsU0FBUyxDQUFDO0FBQ1o7QUFFQSxNQUFNLFlBQVksQ0FBQyxHQUFHO0FBRWYsTUFBTSxXQUF1QztBQUFBLEVBQ2xELFlBQVk7QUFBQSxFQUNaLGNBQWM7QUFBQSxFQUNkLGNBQWM7QUFBQSxFQUVkO0FBQUE7QUFBQSxFQUdBLFNBQVM7QUFBQSxFQUNULFNBQVM7QUFBQSxFQUNULFFBQVE7QUFBQSxFQUNSLGFBQWE7QUFBQSxFQUNiLGNBQWM7QUFBQSxFQUNkLFdBQVc7QUFBQSxFQUNYLGVBQWU7QUFBQSxFQUNmLGFBQWE7QUFBQSxFQUViLFdBQVc7QUFBQSxJQUNULE1BQU07QUFBQTtBQUFBLE1BRUosQ0FBQyxpREFBaUQsS0FBSztBQUFBO0FBQUEsTUFHdkQ7QUFBQSxRQUNFO0FBQUEsUUFDQTtBQUFBLFVBQ0UsT0FBTztBQUFBLFlBQ0wsWUFBWTtBQUFBLFVBQ2Q7QUFBQSxRQUNGO0FBQUEsTUFDRjtBQUFBO0FBQUEsTUFHQSxDQUFDLG1CQUFtQixnQkFBZ0I7QUFBQTtBQUFBLE1BQ3BDLENBQUMsbUJBQW1CLGdCQUFnQjtBQUFBO0FBQUEsTUFDcEMsQ0FBQyxLQUFLLFVBQVUsZ0JBQWdCO0FBQUEsTUFDaEMsQ0FBQyxLQUFLLFVBQVUsZ0JBQWdCO0FBQUE7QUFBQSxNQUdoQyxFQUFFLFNBQVMsY0FBYztBQUFBO0FBQUEsTUFHekIsQ0FBQyxjQUFjLFdBQVc7QUFBQSxNQUMxQixDQUFDLG9CQUFvQixXQUFXO0FBQUEsTUFDaEM7QUFBQSxRQUNFO0FBQUEsUUFDQTtBQUFBLFVBQ0UsT0FBTztBQUFBLFlBQ0wsY0FBYztBQUFBLFlBQ2QsWUFBWTtBQUFBLFVBQ2Q7QUFBQSxRQUNGO0FBQUEsTUFDRjtBQUFBO0FBQUEsTUFHQSxDQUFDLE9BQU8sUUFBUTtBQUFBLE1BQ2hCLENBQUMsd0NBQXdDLGNBQWM7QUFBQSxNQUN2RCxDQUFDLDBDQUEwQyxjQUFjO0FBQUEsTUFDekQsQ0FBQyxpREFBaUQsWUFBWTtBQUFBLE1BQzlELENBQUMsaUNBQWlDLGNBQWM7QUFBQSxNQUNoRCxDQUFDLHFDQUFxQyxlQUFlO0FBQUEsTUFDckQsQ0FBQyw4QkFBOEIsUUFBUTtBQUFBLE1BQ3ZDLENBQUMsc0JBQXNCLFFBQVE7QUFBQSxJQUNqQztBQUFBLElBRUEsZUFBZTtBQUFBLE1BQ2IsQ0FBQyxXQUFXLFFBQVE7QUFBQSxNQUNwQixDQUFDLFlBQVksZUFBZTtBQUFBLE1BQzVCLENBQUMsT0FBTyx1QkFBdUI7QUFBQSxNQUMvQixDQUFDLEtBQUssVUFBVSxNQUFNO0FBQUEsSUFDeEI7QUFBQSxJQUVBLGVBQWU7QUFBQSxNQUNiLENBQUMsV0FBVyxRQUFRO0FBQUEsTUFDcEIsQ0FBQyxZQUFZLGVBQWU7QUFBQSxNQUM1QixDQUFDLE9BQU8sdUJBQXVCO0FBQUEsTUFDL0IsQ0FBQyxLQUFLLFVBQVUsTUFBTTtBQUFBLElBQ3hCO0FBQUEsSUFFQSxTQUFTO0FBQUEsTUFDUCxDQUFDLFVBQVUsS0FBSztBQUFBLE1BQ2hCLENBQUMsTUFBTSxjQUFjLE1BQU07QUFBQSxJQUM3QjtBQUFBLElBRUEsWUFBWSxDQUFDLENBQUMsY0FBYyxPQUFPLENBQUM7QUFBQSxFQUN0QztBQUNGO0FBRU8sTUFBTSxxQkFBcUI7QUFBQSxFQUNoQyxJQUFJO0FBQUEsRUFDSixZQUFZLENBQUMsWUFBWTtBQUFBLEVBQ3pCLFNBQVMsQ0FBQyxXQUFXO0FBQUEsRUFDckIsV0FBVyxDQUFDO0FBQUEsRUFDWixLQUFLO0FBQUEsSUFDSDtBQUFBLElBQ0E7QUFBQSxFQUNGO0FBQ0YiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9ncmFmYW5hLy4vcHVibGljL2FwcC9wbHVnaW5zL2RhdGFzb3VyY2UvdGVtcG8vTmF0aXZlU2VhcmNoL1RhZ3NGaWVsZC9zeW50YXgudHM/ODE2MiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgdHlwZSB7IGxhbmd1YWdlcyB9IGZyb20gJ21vbmFjby1lZGl0b3InO1xuXG5leHBvcnQgY29uc3QgbGFuZ3VhZ2VDb25maWd1cmF0aW9uOiBsYW5ndWFnZXMuTGFuZ3VhZ2VDb25maWd1cmF0aW9uID0ge1xuICAvLyB0aGUgZGVmYXVsdCBzZXBhcmF0b3JzIGV4Y2VwdCBgQCRgXG4gIHdvcmRQYXR0ZXJuOiAvKC0/XFxkKlxcLlxcZFxcdyopfChbXmB+ISMlXiYqKClcXC09K1xcW3tcXF19XFxcXHw7OidcIiwuPD5cXC8/XFxzXSspL2csXG4gIGJyYWNrZXRzOiBbXG4gICAgWyd7JywgJ30nXSxcbiAgICBbJygnLCAnKSddLFxuICBdLFxuICBhdXRvQ2xvc2luZ1BhaXJzOiBbXG4gICAgeyBvcGVuOiAneycsIGNsb3NlOiAnfScgfSxcbiAgICB7IG9wZW46ICcoJywgY2xvc2U6ICcpJyB9LFxuICAgIHsgb3BlbjogJ1wiJywgY2xvc2U6ICdcIicgfSxcbiAgICB7IG9wZW46IFwiJ1wiLCBjbG9zZTogXCInXCIgfSxcbiAgXSxcbiAgc3Vycm91bmRpbmdQYWlyczogW1xuICAgIHsgb3BlbjogJ3snLCBjbG9zZTogJ30nIH0sXG4gICAgeyBvcGVuOiAnKCcsIGNsb3NlOiAnKScgfSxcbiAgICB7IG9wZW46ICdcIicsIGNsb3NlOiAnXCInIH0sXG4gICAgeyBvcGVuOiBcIidcIiwgY2xvc2U6IFwiJ1wiIH0sXG4gIF0sXG4gIGZvbGRpbmc6IHt9LFxufTtcblxuY29uc3Qgb3BlcmF0b3JzID0gWyc9J107XG5cbmV4cG9ydCBjb25zdCBsYW5ndWFnZTogbGFuZ3VhZ2VzLklNb25hcmNoTGFuZ3VhZ2UgPSB7XG4gIGlnbm9yZUNhc2U6IGZhbHNlLFxuICBkZWZhdWx0VG9rZW46ICcnLFxuICB0b2tlblBvc3RmaXg6ICcudGFnc2ZpZWxkJyxcblxuICBvcGVyYXRvcnMsXG5cbiAgLy8gd2UgaW5jbHVkZSB0aGVzZSBjb21tb24gcmVndWxhciBleHByZXNzaW9uc1xuICBzeW1ib2xzOiAvWz0+PCF+PzomfCtcXC0qXFwvXiVdKy8sXG4gIGVzY2FwZXM6IC9cXFxcKD86W2FiZm5ydHZcXFxcXCInXXx4WzAtOUEtRmEtZl17MSw0fXx1WzAtOUEtRmEtZl17NH18VVswLTlBLUZhLWZdezh9KS8sXG4gIGRpZ2l0czogL1xcZCsoXytcXGQrKSovLFxuICBvY3RhbGRpZ2l0czogL1swLTddKyhfK1swLTddKykqLyxcbiAgYmluYXJ5ZGlnaXRzOiAvWzAtMV0rKF8rWzAtMV0rKSovLFxuICBoZXhkaWdpdHM6IC9bWzAtOWEtZkEtRl0rKF8rWzAtOWEtZkEtRl0rKSovLFxuICBpbnRlZ2Vyc3VmZml4OiAvKGxsfExMfHV8VXxsfEwpPyhsbHxMTHx1fFV8bHxMKT8vLFxuICBmbG9hdHN1ZmZpeDogL1tmRmxMXT8vLFxuXG4gIHRva2VuaXplcjoge1xuICAgIHJvb3Q6IFtcbiAgICAgIC8vIGxhYmVsc1xuICAgICAgWy9bYS16Xy5dW1xcdy4vXy1dKig/PVxccyooPXwhPXw+fDx8Pj18PD18PX58IX4pKS8sICd0YWcnXSxcblxuICAgICAgLy8gYWxsIGtleXdvcmRzIGhhdmUgdGhlIHNhbWUgY29sb3JcbiAgICAgIFtcbiAgICAgICAgL1thLXpBLVpfLl1cXHcqLyxcbiAgICAgICAge1xuICAgICAgICAgIGNhc2VzOiB7XG4gICAgICAgICAgICAnQGRlZmF1bHQnOiAnaWRlbnRpZmllcicsXG4gICAgICAgICAgfSxcbiAgICAgICAgfSxcbiAgICAgIF0sXG5cbiAgICAgIC8vIHN0cmluZ3NcbiAgICAgIFsvXCIoW15cIlxcXFxdfFxcXFwuKSokLywgJ3N0cmluZy5pbnZhbGlkJ10sIC8vIG5vbi10ZW1pbmF0ZWQgc3RyaW5nXG4gICAgICBbLycoW14nXFxcXF18XFxcXC4pKiQvLCAnc3RyaW5nLmludmFsaWQnXSwgLy8gbm9uLXRlbWluYXRlZCBzdHJpbmdcbiAgICAgIFsvXCIvLCAnc3RyaW5nJywgJ0BzdHJpbmdfZG91YmxlJ10sXG4gICAgICBbLycvLCAnc3RyaW5nJywgJ0BzdHJpbmdfc2luZ2xlJ10sXG5cbiAgICAgIC8vIHdoaXRlc3BhY2VcbiAgICAgIHsgaW5jbHVkZTogJ0B3aGl0ZXNwYWNlJyB9LFxuXG4gICAgICAvLyBkZWxpbWl0ZXJzIGFuZCBvcGVyYXRvcnNcbiAgICAgIFsvW3t9KClcXFtcXF1dLywgJ0BicmFja2V0cyddLFxuICAgICAgWy9bPD5dKD8hQHN5bWJvbHMpLywgJ0BicmFja2V0cyddLFxuICAgICAgW1xuICAgICAgICAvQHN5bWJvbHMvLFxuICAgICAgICB7XG4gICAgICAgICAgY2FzZXM6IHtcbiAgICAgICAgICAgICdAb3BlcmF0b3JzJzogJ2RlbGltaXRlcicsXG4gICAgICAgICAgICAnQGRlZmF1bHQnOiAnJyxcbiAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgICAgXSxcblxuICAgICAgLy8gbnVtYmVyc1xuICAgICAgWy9cXGQrLywgJ251bWJlciddLFxuICAgICAgWy9cXGQqXFxkK1tlRV0oW1xcLStdP1xcZCspPyhAZmxvYXRzdWZmaXgpLywgJ251bWJlci5mbG9hdCddLFxuICAgICAgWy9cXGQqXFwuXFxkKyhbZUVdW1xcLStdP1xcZCspPyhAZmxvYXRzdWZmaXgpLywgJ251bWJlci5mbG9hdCddLFxuICAgICAgWy8wW3hYXVswLTlhLWZBLUYnXSpbMC05YS1mQS1GXShAaW50ZWdlcnN1ZmZpeCkvLCAnbnVtYmVyLmhleCddLFxuICAgICAgWy8wWzAtNyddKlswLTddKEBpbnRlZ2Vyc3VmZml4KS8sICdudW1iZXIub2N0YWwnXSxcbiAgICAgIFsvMFtiQl1bMC0xJ10qWzAtMV0oQGludGVnZXJzdWZmaXgpLywgJ251bWJlci5iaW5hcnknXSxcbiAgICAgIFsvXFxkW1xcZCddKlxcZChAaW50ZWdlcnN1ZmZpeCkvLCAnbnVtYmVyJ10sXG4gICAgICBbL1xcZChAaW50ZWdlcnN1ZmZpeCkvLCAnbnVtYmVyJ10sXG4gICAgXSxcblxuICAgIHN0cmluZ19kb3VibGU6IFtcbiAgICAgIFsvW15cXFxcXCJdKy8sICdzdHJpbmcnXSxcbiAgICAgIFsvQGVzY2FwZXMvLCAnc3RyaW5nLmVzY2FwZSddLFxuICAgICAgWy9cXFxcLi8sICdzdHJpbmcuZXNjYXBlLmludmFsaWQnXSxcbiAgICAgIFsvXCIvLCAnc3RyaW5nJywgJ0Bwb3AnXSxcbiAgICBdLFxuXG4gICAgc3RyaW5nX3NpbmdsZTogW1xuICAgICAgWy9bXlxcXFwnXSsvLCAnc3RyaW5nJ10sXG4gICAgICBbL0Blc2NhcGVzLywgJ3N0cmluZy5lc2NhcGUnXSxcbiAgICAgIFsvXFxcXC4vLCAnc3RyaW5nLmVzY2FwZS5pbnZhbGlkJ10sXG4gICAgICBbLycvLCAnc3RyaW5nJywgJ0Bwb3AnXSxcbiAgICBdLFxuXG4gICAgY2xhdXNlczogW1xuICAgICAgWy9bXigsKV0vLCAndGFnJ10sXG4gICAgICBbL1xcKS8sICdpZGVudGlmaWVyJywgJ0Bwb3AnXSxcbiAgICBdLFxuXG4gICAgd2hpdGVzcGFjZTogW1svWyBcXHRcXHJcXG5dKy8sICd3aGl0ZSddXSxcbiAgfSxcbn07XG5cbmV4cG9ydCBjb25zdCBsYW5ndWFnZURlZmluaXRpb24gPSB7XG4gIGlkOiAndGFnc2ZpZWxkJyxcbiAgZXh0ZW5zaW9uczogWycudGFnc2ZpZWxkJ10sXG4gIGFsaWFzZXM6IFsndGFnc2ZpZWxkJ10sXG4gIG1pbWV0eXBlczogW10sXG4gIGRlZjoge1xuICAgIGxhbmd1YWdlLFxuICAgIGxhbmd1YWdlQ29uZmlndXJhdGlvbixcbiAgfSxcbn07XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./public/app/plugins/datasource/tempo/NativeSearch/TagsField/syntax.ts\n");

/***/ }),

/***/ "./public/app/plugins/datasource/tempo/QueryField.tsx":
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   TempoQueryField: () => (/* binding */ TempoQueryField)\n/* harmony export */ });\n/* harmony import */ var _emotion_css__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"./.yarn/cache/@emotion-css-npm-11.11.2-dbfa42cf83-1edea109df.zip/node_modules/@emotion/css/dist/emotion-css.esm.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(\"./.yarn/cache/react-npm-18.2.0-1eae08fee2-88e38092da.zip/node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _grafana_runtime__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(\"./.yarn/__virtual__/@grafana-runtime-virtual-68c57d4c0c/1/packages/grafana-runtime/src/analytics/utils.ts\");\n/* harmony import */ var _grafana_runtime__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(\"./.yarn/__virtual__/@grafana-runtime-virtual-68c57d4c0c/1/packages/grafana-runtime/src/config.ts\");\n/* harmony import */ var _grafana_ui__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(\"./.yarn/__virtual__/@grafana-ui-virtual-d722efae30/1/packages/grafana-ui/src/components/Modal/Modal.tsx\");\n/* harmony import */ var _grafana_ui__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(\"./.yarn/__virtual__/@grafana-ui-virtual-d722efae30/1/packages/grafana-ui/src/components/FileDropzone/FileDropzone.tsx\");\n/* harmony import */ var _grafana_ui__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(\"./.yarn/__virtual__/@grafana-ui-virtual-d722efae30/1/packages/grafana-ui/src/components/Forms/InlineFieldRow.tsx\");\n/* harmony import */ var _grafana_ui__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(\"./.yarn/__virtual__/@grafana-ui-virtual-d722efae30/1/packages/grafana-ui/src/components/Forms/InlineField.tsx\");\n/* harmony import */ var _grafana_ui__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(\"./.yarn/__virtual__/@grafana-ui-virtual-d722efae30/1/packages/grafana-ui/src/components/Layout/Layout.tsx\");\n/* harmony import */ var _grafana_ui__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(\"./.yarn/__virtual__/@grafana-ui-virtual-d722efae30/1/packages/grafana-ui/src/components/Forms/RadioButtonGroup/RadioButtonGroup.tsx\");\n/* harmony import */ var _grafana_ui__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(\"./.yarn/__virtual__/@grafana-ui-virtual-d722efae30/1/packages/grafana-ui/src/components/Button/Button.tsx\");\n/* harmony import */ var _grafana_ui__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(\"./.yarn/__virtual__/@grafana-ui-virtual-d722efae30/1/packages/grafana-ui/src/themes/ThemeContext.tsx\");\n/* harmony import */ var _LokiSearch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(\"./public/app/plugins/datasource/tempo/LokiSearch.tsx\");\n/* harmony import */ var _NativeSearch_NativeSearch__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(\"./public/app/plugins/datasource/tempo/NativeSearch/NativeSearch.tsx\");\n/* harmony import */ var _SearchTraceQLEditor_TraceQLSearch__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(\"./public/app/plugins/datasource/tempo/SearchTraceQLEditor/TraceQLSearch.tsx\");\n/* harmony import */ var _ServiceGraphSection__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(\"./public/app/plugins/datasource/tempo/ServiceGraphSection.tsx\");\n/* harmony import */ var _traceql_QueryEditor__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(\"./public/app/plugins/datasource/tempo/traceql/QueryEditor.tsx\");\n\n\n\n\n\n\n\n\n\n\nconst DEFAULT_QUERY_TYPE = \"traceqlSearch\";\nclass TempoQueryFieldComponent extends (react__WEBPACK_IMPORTED_MODULE_1___default().PureComponent) {\n  constructor(props) {\n    super(props);\n    this.onChangeLinkedQuery = (value) => {\n      const { query, onChange } = this.props;\n      onChange({\n        ...query,\n        linkedQuery: { ...value, refId: \"linked\" }\n      });\n    };\n    this.onRunLinkedQuery = () => {\n      this.props.onRunQuery();\n    };\n    this.onClearResults = () => {\n      const { onChange, query, onRunQuery } = this.props;\n      onChange({\n        ...query,\n        queryType: \"clear\"\n      });\n      onRunQuery();\n    };\n    this.state = {\n      uploadModalOpen: false\n    };\n  }\n  // Set the default query type when the component mounts.\n  // Also do this if queryType is 'clear' (which is the case when the user changes the query type)\n  // otherwise if the user changes the query type and refreshes the page, no query type will be selected\n  // which is inconsistent with how the UI was originally when they selected the Tempo data source.\n  async componentDidMount() {\n    if (!this.props.query.queryType || this.props.query.queryType === \"clear\") {\n      this.props.onChange({\n        ...this.props.query,\n        queryType: DEFAULT_QUERY_TYPE\n      });\n    }\n  }\n  render() {\n    const { query, onChange, datasource, app } = this.props;\n    const logsDatasourceUid = datasource.getLokiSearchDS();\n    const graphDatasourceUid = datasource.serviceMap?.datasourceUid;\n    let queryTypeOptions = [\n      { value: \"traceqlSearch\", label: \"Search\" },\n      { value: \"traceql\", label: \"TraceQL\" },\n      { value: \"serviceMap\", label: \"Service Graph\" }\n    ];\n    if (logsDatasourceUid) {\n      if (datasource?.search?.hide) {\n        queryTypeOptions.unshift({ value: \"search\", label: \"Search\" });\n      } else {\n        queryTypeOptions.push({ value: \"search\", label: \"Loki Search\" });\n      }\n    }\n    if (query.spanName || query.serviceName || query.search || query.maxDuration || query.minDuration || query.queryType === \"nativeSearch\") {\n      queryTypeOptions.unshift({ value: \"nativeSearch\", label: \"[Deprecated] Search\" });\n    }\n    return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_1___default().createElement((react__WEBPACK_IMPORTED_MODULE_1___default().Fragment), null, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_1___default().createElement(\n      _grafana_ui__WEBPACK_IMPORTED_MODULE_7__.Modal,\n      {\n        title: \"Upload trace\",\n        isOpen: this.state.uploadModalOpen,\n        onDismiss: () => this.setState({ uploadModalOpen: false })\n      },\n      /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_1___default().createElement(\"div\", { className: (0,_emotion_css__WEBPACK_IMPORTED_MODULE_0__.css)({ padding: this.props.theme.spacing(2) }) }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_1___default().createElement(\n        _grafana_ui__WEBPACK_IMPORTED_MODULE_8__.FileDropzone,\n        {\n          options: { multiple: false },\n          onLoad: (result) => {\n            this.props.datasource.uploadedJson = result;\n            onChange({\n              ...query,\n              queryType: \"upload\"\n            });\n            this.setState({ uploadModalOpen: false });\n            this.props.onRunQuery();\n          }\n        }\n      ))\n    ), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_grafana_ui__WEBPACK_IMPORTED_MODULE_9__.InlineFieldRow, null, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_grafana_ui__WEBPACK_IMPORTED_MODULE_10__.InlineField, { label: \"Query type\", grow: true }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_grafana_ui__WEBPACK_IMPORTED_MODULE_11__.HorizontalGroup, { spacing: \"sm\", align: \"center\", justify: \"space-between\" }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_1___default().createElement(\n      _grafana_ui__WEBPACK_IMPORTED_MODULE_12__.RadioButtonGroup,\n      {\n        options: queryTypeOptions,\n        value: query.queryType,\n        onChange: (v) => {\n          (0,_grafana_runtime__WEBPACK_IMPORTED_MODULE_13__.reportInteraction)(\"grafana_traces_query_type_changed\", {\n            datasourceType: \"tempo\",\n            app: app ?? \"\",\n            grafana_version: _grafana_runtime__WEBPACK_IMPORTED_MODULE_14__.config.buildInfo.version,\n            newQueryType: v,\n            previousQueryType: query.queryType ?? \"\"\n          });\n          this.onClearResults();\n          onChange({\n            ...query,\n            queryType: v\n          });\n        },\n        size: \"md\"\n      }\n    ), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_1___default().createElement(\n      _grafana_ui__WEBPACK_IMPORTED_MODULE_15__.Button,\n      {\n        variant: \"secondary\",\n        size: \"sm\",\n        onClick: () => {\n          this.setState({ uploadModalOpen: true });\n        }\n      },\n      \"Import trace\"\n    )))), query.queryType === \"search\" && /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_1___default().createElement(\n      _LokiSearch__WEBPACK_IMPORTED_MODULE_2__.LokiSearch,\n      {\n        logsDatasourceUid,\n        query,\n        onRunQuery: this.onRunLinkedQuery,\n        onChange: this.onChangeLinkedQuery\n      }\n    ), query.queryType === \"nativeSearch\" && /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_1___default().createElement(\n      _NativeSearch_NativeSearch__WEBPACK_IMPORTED_MODULE_3__[\"default\"],\n      {\n        datasource: this.props.datasource,\n        query,\n        onChange,\n        onBlur: this.props.onBlur,\n        onRunQuery: this.props.onRunQuery\n      }\n    ), query.queryType === \"traceqlSearch\" && /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_1___default().createElement(\n      _SearchTraceQLEditor_TraceQLSearch__WEBPACK_IMPORTED_MODULE_4__[\"default\"],\n      {\n        datasource: this.props.datasource,\n        query,\n        onChange,\n        onBlur: this.props.onBlur\n      }\n    ), query.queryType === \"serviceMap\" && /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_ServiceGraphSection__WEBPACK_IMPORTED_MODULE_5__.ServiceGraphSection, { graphDatasourceUid, query, onChange }), query.queryType === \"traceql\" && /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_1___default().createElement(\n      _traceql_QueryEditor__WEBPACK_IMPORTED_MODULE_6__.QueryEditor,\n      {\n        datasource: this.props.datasource,\n        query,\n        onRunQuery: this.props.onRunQuery,\n        onChange\n      }\n    ));\n  }\n}\nconst TempoQueryField = (0,_grafana_ui__WEBPACK_IMPORTED_MODULE_16__.withTheme2)(TempoQueryFieldComponent);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9wdWJsaWMvYXBwL3BsdWdpbnMvZGF0YXNvdXJjZS90ZW1wby9RdWVyeUZpZWxkLnRzeCIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFvQjtBQUNGO0FBR3dCO0FBV25DO0FBSW9CO0FBQ0Y7QUFDQztBQUNVO0FBR1I7QUFRNUIsTUFBTSxxQkFBcUM7QUFFM0MsTUFBTSxpQ0FBaUMsNERBQW1CLENBQWU7QUFBQSxFQUN2RSxZQUFZLE9BQWM7QUFDeEIsVUFBTSxLQUFLO0FBbUJiLCtCQUFzQixDQUFDLFVBQXFCO0FBQzFDLFlBQU0sRUFBRSxPQUFPLFNBQVMsSUFBSSxLQUFLO0FBQ2pDLGVBQVM7QUFBQSxRQUNQLEdBQUc7QUFBQSxRQUNILGFBQWEsRUFBRSxHQUFHLE9BQU8sT0FBTyxTQUFTO0FBQUEsTUFDM0MsQ0FBQztBQUFBLElBQ0g7QUFFQSw0QkFBbUIsTUFBTTtBQUN2QixXQUFLLE1BQU0sV0FBVztBQUFBLElBQ3hCO0FBRUEsMEJBQWlCLE1BQU07QUFFckIsWUFBTSxFQUFFLFVBQVUsT0FBTyxXQUFXLElBQUksS0FBSztBQUM3QyxlQUFTO0FBQUEsUUFDUCxHQUFHO0FBQUEsUUFDSCxXQUFXO0FBQUEsTUFDYixDQUFDO0FBQ0QsaUJBQVc7QUFBQSxJQUNiO0FBdENFLFNBQUssUUFBUTtBQUFBLE1BQ1gsaUJBQWlCO0FBQUEsSUFDbkI7QUFBQSxFQUNGO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSxFQU1BLE1BQU0sb0JBQW9CO0FBQ3hCLFFBQUksQ0FBQyxLQUFLLE1BQU0sTUFBTSxhQUFhLEtBQUssTUFBTSxNQUFNLGNBQWMsU0FBUztBQUN6RSxXQUFLLE1BQU0sU0FBUztBQUFBLFFBQ2xCLEdBQUcsS0FBSyxNQUFNO0FBQUEsUUFDZCxXQUFXO0FBQUEsTUFDYixDQUFDO0FBQUEsSUFDSDtBQUFBLEVBQ0Y7QUFBQSxFQXdCQSxTQUFTO0FBQ1AsVUFBTSxFQUFFLE9BQU8sVUFBVSxZQUFZLElBQUksSUFBSSxLQUFLO0FBRWxE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QUFNO0FBQUEsUUFDdkI7QUFBQSxRQUNBO0FBQUEsUUFDQSxRQUFRLEtBQUssTUFBTTtBQUFBLFFBQ25CLFlBQVksS0FBSyxNQUFNO0FBQUE7QUFBQSxJQUN6QixHQUVELE1BQU0sY0FBYyxtQkFDbkI7QUFBQSxNQUFDLDBFQUFhO0FBQWI7QUFBQSxRQUNDLFlBQVksS0FBSyxNQUFNO0FBQUEsUUFDdkI7QUFBQSxRQUNBO0FBQUEsUUFDQSxRQUFRLEtBQUssTUFBTTtBQUFBO0FBQUEsSUFDckIsR0FFRCxNQUFNLGNBQWMsZ0JBQ25CLDJFQUFDLHFFQUFtQixJQUFDLG9CQUF3QyxPQUFjLFVBQW9CLEdBRWhHLE1BQU0sY0FBYyxhQUNuQjtBQUFBLE1BQUMsNkRBQVc7QUFBWDtBQUFBLFFBQ0MsWUFBWSxLQUFLLE1BQU07QUFBQSxRQUN2QjtBQUFBLFFBQ0EsWUFBWSxLQUFLLE1BQU07QUFBQSxRQUN2QjtBQUFBO0FBQUEsSUFDRixDQUVKO0FBQUEsRUFFSjtBQUNGO0FBRU8sTUFBTSxrQkFBa0Isd0RBQVUsQ0FBQyx3QkFBd0IiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9ncmFmYW5hLy4vcHVibGljL2FwcC9wbHVnaW5zL2RhdGFzb3VyY2UvdGVtcG8vUXVlcnlGaWVsZC50c3g/NmI1YyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBjc3MgfSBmcm9tICdAZW1vdGlvbi9jc3MnO1xuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcblxuaW1wb3J0IHsgUXVlcnlFZGl0b3JQcm9wcywgU2VsZWN0YWJsZVZhbHVlIH0gZnJvbSAnQGdyYWZhbmEvZGF0YSc7XG5pbXBvcnQgeyBjb25maWcsIHJlcG9ydEludGVyYWN0aW9uIH0gZnJvbSAnQGdyYWZhbmEvcnVudGltZSc7XG5pbXBvcnQge1xuICBCdXR0b24sXG4gIEZpbGVEcm9wem9uZSxcbiAgSG9yaXpvbnRhbEdyb3VwLFxuICBJbmxpbmVGaWVsZCxcbiAgSW5saW5lRmllbGRSb3csXG4gIE1vZGFsLFxuICBSYWRpb0J1dHRvbkdyb3VwLFxuICBUaGVtZWFibGUyLFxuICB3aXRoVGhlbWUyLFxufSBmcm9tICdAZ3JhZmFuYS91aSc7XG5cbmltcG9ydCB7IExva2lRdWVyeSB9IGZyb20gJy4uL2xva2kvdHlwZXMnO1xuXG5pbXBvcnQgeyBMb2tpU2VhcmNoIH0gZnJvbSAnLi9Mb2tpU2VhcmNoJztcbmltcG9ydCBOYXRpdmVTZWFyY2ggZnJvbSAnLi9OYXRpdmVTZWFyY2gvTmF0aXZlU2VhcmNoJztcbmltcG9ydCBUcmFjZVFMU2VhcmNoIGZyb20gJy4vU2VhcmNoVHJhY2VRTEVkaXRvci9UcmFjZVFMU2VhcmNoJztcbmltcG9ydCB7IFNlcnZpY2VHcmFwaFNlY3Rpb24gfSBmcm9tICcuL1NlcnZpY2VHcmFwaFNlY3Rpb24nO1xuaW1wb3J0IHsgVGVtcG9RdWVyeVR5cGUgfSBmcm9tICcuL2RhdGFxdWVyeS5nZW4nO1xuaW1wb3J0IHsgVGVtcG9EYXRhc291cmNlIH0gZnJvbSAnLi9kYXRhc291cmNlJztcbmltcG9ydCB7IFF1ZXJ5RWRpdG9yIH0gZnJvbSAnLi90cmFjZXFsL1F1ZXJ5RWRpdG9yJztcbmltcG9ydCB7IFRlbXBvUXVlcnkgfSBmcm9tICcuL3R5cGVzJztcblxuaW50ZXJmYWNlIFByb3BzIGV4dGVuZHMgUXVlcnlFZGl0b3JQcm9wczxUZW1wb0RhdGFzb3VyY2UsIFRlbXBvUXVlcnk+LCBUaGVtZWFibGUyIHt9XG5pbnRlcmZhY2UgU3RhdGUge1xuICB1cGxvYWRNb2RhbE9wZW46IGJvb2xlYW47XG59XG5cbmNvbnN0IERFRkFVTFRfUVVFUllfVFlQRTogVGVtcG9RdWVyeVR5cGUgPSAndHJhY2VxbFNlYXJjaCc7XG5cbmNsYXNzIFRlbXBvUXVlcnlGaWVsZENvbXBvbmVudCBleHRlbmRzIFJlYWN0LlB1cmVDb21wb25lbnQ8UHJvcHMsIFN0YXRlPiB7XG4gIGNvbnN0cnVjdG9yKHByb3BzOiBQcm9wcykge1xuICAgIHN1cGVyKHByb3BzKTtcbiAgICB0aGlzLnN0YXRlID0ge1xuICAgICAgdXBsb2FkTW9kYWxPcGVuOiBmYWxzZSxcbiAgICB9O1xuICB9XG5cbiAgLy8gU2V0IHRoZSBkZWZhdWx0IHF1ZXJ5IHR5cGUgd2hlbiB0aGUgY29tcG9uZW50IG1vdW50cy5cbiAgLy8gQWxzbyBkbyB0aGlzIGlmIHF1ZXJ5VHlwZSBpcyAnY2xlYXInICh3aGljaCBpcyB0aGUgY2FzZSB3aGVuIHRoZSB1c2VyIGNoYW5nZXMgdGhlIHF1ZXJ5IHR5cGUpXG4gIC8vIG90aGVyd2lzZSBpZiB0aGUgdXNlciBjaGFuZ2VzIHRoZSBxdWVyeSB0eXBlIGFuZCByZWZyZXNoZXMgdGhlIHBhZ2UsIG5vIHF1ZXJ5IHR5cGUgd2lsbCBiZSBzZWxlY3RlZFxuICAvLyB3aGljaCBpcyBpbmNvbnNpc3RlbnQgd2l0aCBob3cgdGhlIFVJIHdhcyBvcmlnaW5hbGx5IHdoZW4gdGhleSBzZWxlY3RlZCB0aGUgVGVtcG8gZGF0YSBzb3VyY2UuXG4gIGFzeW5jIGNvbXBvbmVudERpZE1vdW50KCkge1xuICAgIGlmICghdGhpcy5wcm9wcy5xdWVyeS5xdWVyeVR5cGUgfHwgdGhpcy5wcm9wcy5xdWVyeS5xdWVyeVR5cGUgPT09ICdjbGVhcicpIHtcbiAgICAgIHRoaXMucHJvcHMub25DaGFuZ2Uoe1xuICAgICAgICAuLi50aGlzLnByb3BzLnF1ZXJ5LFxuICAgICAgICBxdWVyeVR5cGU6IERFRkFVTFRfUVVFUllfVFlQRSxcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuXG4gIG9uQ2hhbmdlTGlua2VkUXVlcnkgPSAodmFsdWU6IExva2lRdWVyeSkgPT4ge1xuICAgIGNvbnN0IHsgcXVlcnksIG9uQ2hhbmdlIH0gPSB0aGlzLnByb3BzO1xuICAgIG9uQ2hhbmdlKHtcbiAgICAgIC4uLnF1ZXJ5LFxuICAgICAgbGlua2VkUXVlcnk6IHsgLi4udmFsdWUsIHJlZklkOiAnbGlua2VkJyB9LFxuICAgIH0pO1xuICB9O1xuXG4gIG9uUnVuTGlua2VkUXVlcnkgPSAoKSA9PiB7XG4gICAgdGhpcy5wcm9wcy5vblJ1blF1ZXJ5KCk7XG4gIH07XG5cbiAgb25DbGVhclJlc3VsdHMgPSAoKSA9PiB7XG4gICAgLy8gUnVuIGNsZWFyIHF1ZXJ5IHRvIGNsZWFyIHJlc3VsdHNcbiAgICBjb25zdCB7IG9uQ2hhbmdlLCBxdWVyeSwgb25SdW5RdWVyeSB9ID0gdGhpcy5wcm9wcztcbiAgICBvbkNoYW5nZSh7XG4gICAgICAuLi5xdWVyeSxcbiAgICAgIHF1ZXJ5VHlwZTogJ2NsZWFyJyxcbiAgICB9KTtcbiAgICBvblJ1blF1ZXJ5KCk7XG4gIH07XG5cbiAgcmVuZGVyKCkge1xuICAgIGNvbnN0IHsgcXVlcnksIG9uQ2hhbmdlLCBkYXRhc291cmNlLCBhcHAgfSA9IHRoaXMucHJvcHM7XG5cbiAgICBjb25zdCBsb2dzRGF0YXNvdXJjZVVpZCA9IGRhdGFzb3VyY2UuZ2V0TG9raVNlYXJjaERTKCk7XG5cbiAgICBjb25zdCBncmFwaERhdGFzb3VyY2VVaWQgPSBkYXRhc291cmNlLnNlcnZpY2VNYXA/LmRhdGFzb3VyY2VVaWQ7XG5cbiAgICBsZXQgcXVlcnlUeXBlT3B0aW9uczogQXJyYXk8U2VsZWN0YWJsZVZhbHVlPFRlbXBvUXVlcnlUeXBlPj4gPSBbXG4gICAgICB7IHZhbHVlOiAndHJhY2VxbFNlYXJjaCcsIGxhYmVsOiAnU2VhcmNoJyB9LFxuICAgICAgeyB2YWx1ZTogJ3RyYWNlcWwnLCBsYWJlbDogJ1RyYWNlUUwnIH0sXG4gICAgICB7IHZhbHVlOiAnc2VydmljZU1hcCcsIGxhYmVsOiAnU2VydmljZSBHcmFwaCcgfSxcbiAgICBdO1xuXG4gICAgaWYgKGxvZ3NEYXRhc291cmNlVWlkKSB7XG4gICAgICBpZiAoZGF0YXNvdXJjZT8uc2VhcmNoPy5oaWRlKSB7XG4gICAgICAgIC8vIFBsYWNlIGF0IGJlZ2lubmluZyBhcyBTZWFyY2ggaWYgbm8gbmF0aXZlIHNlYXJjaFxuICAgICAgICBxdWVyeVR5cGVPcHRpb25zLnVuc2hpZnQoeyB2YWx1ZTogJ3NlYXJjaCcsIGxhYmVsOiAnU2VhcmNoJyB9KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIFBsYWNlIGF0IGVuZCBhcyBMb2tpIFNlYXJjaCBpZiBuYXRpdmUgc2VhcmNoIGlzIGVuYWJsZWRcbiAgICAgICAgcXVlcnlUeXBlT3B0aW9ucy5wdXNoKHsgdmFsdWU6ICdzZWFyY2gnLCBsYWJlbDogJ0xva2kgU2VhcmNoJyB9KTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBTaG93IHRoZSBkZXByZWNhdGVkIHNlYXJjaCBvcHRpb24gaWYgYW55IG9mIHRoZSBkZXByZWNhdGVkIHNlYXJjaCBmaWVsZHMgYXJlIHNldFxuICAgIGlmIChcbiAgICAgIHF1ZXJ5LnNwYW5OYW1lIHx8XG4gICAgICBxdWVyeS5zZXJ2aWNlTmFtZSB8fFxuICAgICAgcXVlcnkuc2VhcmNoIHx8XG4gICAgICBxdWVyeS5tYXhEdXJhdGlvbiB8fFxuICAgICAgcXVlcnkubWluRHVyYXRpb24gfHxcbiAgICAgIHF1ZXJ5LnF1ZXJ5VHlwZSA9PT0gJ25hdGl2ZVNlYXJjaCdcbiAgICApIHtcbiAgICAgIHF1ZXJ5VHlwZU9wdGlvbnMudW5zaGlmdCh7IHZhbHVlOiAnbmF0aXZlU2VhcmNoJywgbGFiZWw6ICdbRGVwcmVjYXRlZF0gU2VhcmNoJyB9KTtcbiAgICB9XG5cbiAgICByZXR1cm4gKFxuICAgICAgPD5cbiAgICAgICAgPE1vZGFsXG4gICAgICAgICAgdGl0bGU9eydVcGxvYWQgdHJhY2UnfVxuICAgICAgICAgIGlzT3Blbj17dGhpcy5zdGF0ZS51cGxvYWRNb2RhbE9wZW59XG4gICAgICAgICAgb25EaXNtaXNzPXsoKSA9PiB0aGlzLnNldFN0YXRlKHsgdXBsb2FkTW9kYWxPcGVuOiBmYWxzZSB9KX1cbiAgICAgICAgPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPXtjc3MoeyBwYWRkaW5nOiB0aGlzLnByb3BzLnRoZW1lLnNwYWNpbmcoMikgfSl9PlxuICAgICAgICAgICAgPEZpbGVEcm9wem9uZVxuICAgICAgICAgICAgICBvcHRpb25zPXt7IG11bHRpcGxlOiBmYWxzZSB9fVxuICAgICAgICAgICAgICBvbkxvYWQ9eyhyZXN1bHQpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLnByb3BzLmRhdGFzb3VyY2UudXBsb2FkZWRKc29uID0gcmVzdWx0O1xuICAgICAgICAgICAgICAgIG9uQ2hhbmdlKHtcbiAgICAgICAgICAgICAgICAgIC4uLnF1ZXJ5LFxuICAgICAgICAgICAgICAgICAgcXVlcnlUeXBlOiAndXBsb2FkJyxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB0aGlzLnNldFN0YXRlKHsgdXBsb2FkTW9kYWxPcGVuOiBmYWxzZSB9KTtcbiAgICAgICAgICAgICAgICB0aGlzLnByb3BzLm9uUnVuUXVlcnkoKTtcbiAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgIC8+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvTW9kYWw+XG4gICAgICAgIDxJbmxpbmVGaWVsZFJvdz5cbiAgICAgICAgICA8SW5saW5lRmllbGQgbGFiZWw9XCJRdWVyeSB0eXBlXCIgZ3Jvdz17dHJ1ZX0+XG4gICAgICAgICAgICA8SG9yaXpvbnRhbEdyb3VwIHNwYWNpbmc9eydzbSd9IGFsaWduPXsnY2VudGVyJ30ganVzdGlmeT17J3NwYWNlLWJldHdlZW4nfT5cbiAgICAgICAgICAgICAgPFJhZGlvQnV0dG9uR3JvdXA8VGVtcG9RdWVyeVR5cGU+XG4gICAgICAgICAgICAgICAgb3B0aW9ucz17cXVlcnlUeXBlT3B0aW9uc31cbiAgICAgICAgICAgICAgICB2YWx1ZT17cXVlcnkucXVlcnlUeXBlfVxuICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsodikgPT4ge1xuICAgICAgICAgICAgICAgICAgcmVwb3J0SW50ZXJhY3Rpb24oJ2dyYWZhbmFfdHJhY2VzX3F1ZXJ5X3R5cGVfY2hhbmdlZCcsIHtcbiAgICAgICAgICAgICAgICAgICAgZGF0YXNvdXJjZVR5cGU6ICd0ZW1wbycsXG4gICAgICAgICAgICAgICAgICAgIGFwcDogYXBwID8/ICcnLFxuICAgICAgICAgICAgICAgICAgICBncmFmYW5hX3ZlcnNpb246IGNvbmZpZy5idWlsZEluZm8udmVyc2lvbixcbiAgICAgICAgICAgICAgICAgICAgbmV3UXVlcnlUeXBlOiB2LFxuICAgICAgICAgICAgICAgICAgICBwcmV2aW91c1F1ZXJ5VHlwZTogcXVlcnkucXVlcnlUeXBlID8/ICcnLFxuICAgICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICAgIHRoaXMub25DbGVhclJlc3VsdHMoKTtcblxuICAgICAgICAgICAgICAgICAgb25DaGFuZ2Uoe1xuICAgICAgICAgICAgICAgICAgICAuLi5xdWVyeSxcbiAgICAgICAgICAgICAgICAgICAgcXVlcnlUeXBlOiB2LFxuICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICBzaXplPVwibWRcIlxuICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICA8QnV0dG9uXG4gICAgICAgICAgICAgICAgdmFyaWFudD1cInNlY29uZGFyeVwiXG4gICAgICAgICAgICAgICAgc2l6ZT1cInNtXCJcbiAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICB0aGlzLnNldFN0YXRlKHsgdXBsb2FkTW9kYWxPcGVuOiB0cnVlIH0pO1xuICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICBJbXBvcnQgdHJhY2VcbiAgICAgICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgICA8L0hvcml6b250YWxHcm91cD5cbiAgICAgICAgICA8L0lubGluZUZpZWxkPlxuICAgICAgICA8L0lubGluZUZpZWxkUm93PlxuICAgICAgICB7cXVlcnkucXVlcnlUeXBlID09PSAnc2VhcmNoJyAmJiAoXG4gICAgICAgICAgPExva2lTZWFyY2hcbiAgICAgICAgICAgIGxvZ3NEYXRhc291cmNlVWlkPXtsb2dzRGF0YXNvdXJjZVVpZH1cbiAgICAgICAgICAgIHF1ZXJ5PXtxdWVyeX1cbiAgICAgICAgICAgIG9uUnVuUXVlcnk9e3RoaXMub25SdW5MaW5rZWRRdWVyeX1cbiAgICAgICAgICAgIG9uQ2hhbmdlPXt0aGlzLm9uQ2hhbmdlTGlua2VkUXVlcnl9XG4gICAgICAgICAgLz5cbiAgICAgICAgKX1cbiAgICAgICAge3F1ZXJ5LnF1ZXJ5VHlwZSA9PT0gJ25hdGl2ZVNlYXJjaCcgJiYgKFxuICAgICAgICAgIDxOYXRpdmVTZWFyY2hcbiAgICAgICAgICAgIGRhdGFzb3VyY2U9e3RoaXMucHJvcHMuZGF0YXNvdXJjZX1cbiAgICAgICAgICAgIHF1ZXJ5PXtxdWVyeX1cbiAgICAgICAgICAgIG9uQ2hhbmdlPXtvbkNoYW5nZX1cbiAgICAgICAgICAgIG9uQmx1cj17dGhpcy5wcm9wcy5vbkJsdXJ9XG4gICAgICAgICAgICBvblJ1blF1ZXJ5PXt0aGlzLnByb3BzLm9uUnVuUXVlcnl9XG4gICAgICAgICAgLz5cbiAgICAgICAgKX1cbiAgICAgICAge3F1ZXJ5LnF1ZXJ5VHlwZSA9PT0gJ3RyYWNlcWxTZWFyY2gnICYmIChcbiAgICAgICAgICA8VHJhY2VRTFNlYXJjaFxuICAgICAgICAgICAgZGF0YXNvdXJjZT17dGhpcy5wcm9wcy5kYXRhc291cmNlfVxuICAgICAgICAgICAgcXVlcnk9e3F1ZXJ5fVxuICAgICAgICAgICAgb25DaGFuZ2U9e29uQ2hhbmdlfVxuICAgICAgICAgICAgb25CbHVyPXt0aGlzLnByb3BzLm9uQmx1cn1cbiAgICAgICAgICAvPlxuICAgICAgICApfVxuICAgICAgICB7cXVlcnkucXVlcnlUeXBlID09PSAnc2VydmljZU1hcCcgJiYgKFxuICAgICAgICAgIDxTZXJ2aWNlR3JhcGhTZWN0aW9uIGdyYXBoRGF0YXNvdXJjZVVpZD17Z3JhcGhEYXRhc291cmNlVWlkfSBxdWVyeT17cXVlcnl9IG9uQ2hhbmdlPXtvbkNoYW5nZX0gLz5cbiAgICAgICAgKX1cbiAgICAgICAge3F1ZXJ5LnF1ZXJ5VHlwZSA9PT0gJ3RyYWNlcWwnICYmIChcbiAgICAgICAgICA8UXVlcnlFZGl0b3JcbiAgICAgICAgICAgIGRhdGFzb3VyY2U9e3RoaXMucHJvcHMuZGF0YXNvdXJjZX1cbiAgICAgICAgICAgIHF1ZXJ5PXtxdWVyeX1cbiAgICAgICAgICAgIG9uUnVuUXVlcnk9e3RoaXMucHJvcHMub25SdW5RdWVyeX1cbiAgICAgICAgICAgIG9uQ2hhbmdlPXtvbkNoYW5nZX1cbiAgICAgICAgICAvPlxuICAgICAgICApfVxuICAgICAgPC8+XG4gICAgKTtcbiAgfVxufVxuXG5leHBvcnQgY29uc3QgVGVtcG9RdWVyeUZpZWxkID0gd2l0aFRoZW1lMihUZW1wb1F1ZXJ5RmllbGRDb21wb25lbnQpO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./public/app/plugins/datasource/tempo/QueryField.tsx\n");

/***/ }),

/***/ "./public/app/plugins/datasource/tempo/SearchTraceQLEditor/DurationInput.tsx":
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _emotion_css__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"./.yarn/cache/@emotion-css-npm-11.11.2-dbfa42cf83-1edea109df.zip/node_modules/@emotion/css/dist/emotion-css.esm.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(\"./.yarn/cache/react-npm-18.2.0-1eae08fee2-88e38092da.zip/node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _grafana_ui__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(\"./.yarn/__virtual__/@grafana-ui-virtual-d722efae30/1/packages/grafana-ui/src/themes/ThemeContext.tsx\");\n/* harmony import */ var _grafana_ui__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(\"./.yarn/__virtual__/@grafana-ui-virtual-d722efae30/1/packages/grafana-ui/src/components/Layout/Layout.tsx\");\n/* harmony import */ var _grafana_ui__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(\"./.yarn/__virtual__/@grafana-ui-virtual-d722efae30/1/packages/grafana-ui/src/components/Select/Select.tsx\");\n/* harmony import */ var _grafana_ui__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(\"./.yarn/__virtual__/@grafana-ui-virtual-d722efae30/1/packages/grafana-ui/src/components/Input/Input.tsx\");\n/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(\"./public/app/plugins/datasource/tempo/SearchTraceQLEditor/utils.ts\");\n\n\n\n\n\nconst validationRegex = /^\\d+(?:\\.\\d)?\\d*(?:us|s|ns|ms|s|m|h)$/;\nconst getStyles = () => ({\n  noBoxShadow: (0,_emotion_css__WEBPACK_IMPORTED_MODULE_0__.css)`\n    box-shadow: none;\n    *:focus {\n      box-shadow: none;\n    }\n  `\n});\nconst DurationInput = ({ filter, operators, updateFilter }) => {\n  const styles = (0,_grafana_ui__WEBPACK_IMPORTED_MODULE_3__.useStyles2)(getStyles);\n  let invalid = false;\n  if (typeof filter.value === \"string\") {\n    invalid = filter.value ? !validationRegex.test(filter.value.concat(\"\")) : false;\n  }\n  return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_grafana_ui__WEBPACK_IMPORTED_MODULE_4__.HorizontalGroup, { spacing: \"none\" }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_1___default().createElement(\n    _grafana_ui__WEBPACK_IMPORTED_MODULE_5__.Select,\n    {\n      className: styles.noBoxShadow,\n      inputId: `${filter.id}-operator`,\n      options: operators.map(_utils__WEBPACK_IMPORTED_MODULE_2__.operatorSelectableValue),\n      value: filter.operator,\n      onChange: (v) => {\n        updateFilter({ ...filter, operator: v?.value });\n      },\n      isClearable: false,\n      \"aria-label\": `select ${filter.id} operator`,\n      allowCustomValue: true,\n      width: 8\n    }\n  ), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_1___default().createElement(\n    _grafana_ui__WEBPACK_IMPORTED_MODULE_6__.Input,\n    {\n      className: styles.noBoxShadow,\n      value: filter.value,\n      onChange: (v) => {\n        updateFilter({ ...filter, value: v.currentTarget.value });\n      },\n      placeholder: \"e.g. 100ms, 1.2s\",\n      \"aria-label\": `select ${filter.id} value`,\n      invalid,\n      width: 18\n    }\n  ));\n};\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (DurationInput);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9wdWJsaWMvYXBwL3BsdWdpbnMvZGF0YXNvdXJjZS90ZW1wby9TZWFyY2hUcmFjZVFMRWRpdG9yL0R1cmF0aW9uSW5wdXQudHN4IiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7QUFBb0I7QUFDRjtBQUV5QztBQUluQjtBQVN4QyxNQUFNLGtCQUFrQjtBQUV4QixNQUFNLFlBQVksT0FBTztBQUFBLEVBQ3ZCLGFBQWEsaURBQUc7QUFBSDtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBTWY7QUFFQSxNQUFNLGdCQUFnQixDQUFDLEVBQUUsUUFBUSxXQUFXLGFBQWEsTUFBYTtBQUNwRSxRQUFNLFNBQVMsdURBQVUsQ0FBQyxTQUFTO0FBRW5DLE1BQUksVUFBVTtBQUNkLE1BQUksT0FBTyxPQUFPLFVBQVUsVUFBVTtBQUNwQyxjQUFVLE9BQU8sUUFBUSxDQUFDLGdCQUFnQixLQUFLLE9BQU8sTUFBTSxPQUFPLEVBQUUsQ0FBQyxJQUFJO0FBQUEsRUFDNUU7QUFFQSxTQUNFLDJFQUFDLHdEQUFlLElBQUMsU0FBUyxVQUN4QjtBQUFBLElBQUMsK0NBQU07QUFBTjtBQUFBLE1BQ0MsV0FBVyxPQUFPO0FBQUEsTUFDbEIsU0FBUyxHQUFHLE9BQU87QUFBQSxNQUNuQixTQUFTLFVBQVUsSUFBSSwyREFBdUI7QUFBQSxNQUM5QyxPQUFPLE9BQU87QUFBQSxNQUNkLFVBQVUsQ0FBQyxNQUFNO0FBQ2YscUJBQWEsRUFBRSxHQUFHLFFBQVEsVUFBVSxHQUFHLE1BQU0sQ0FBQztBQUFBLE1BQ2hEO0FBQUEsTUFDQSxhQUFhO0FBQUEsTUFDYixjQUFZLFVBQVUsT0FBTztBQUFBLE1BQzdCLGtCQUFrQjtBQUFBLE1BQ2xCLE9BQU87QUFBQTtBQUFBLEVBQ1QsR0FDQTtBQUFBLElBQUMsOENBQUs7QUFBTDtBQUFBLE1BQ0MsV0FBVyxPQUFPO0FBQUEsTUFDbEIsT0FBTyxPQUFPO0FBQUEsTUFDZCxVQUFVLENBQUMsTUFBTTtBQUNmLHFCQUFhLEVBQUUsR0FBRyxRQUFRLE9BQU8sRUFBRSxjQUFjLE1BQU0sQ0FBQztBQUFBLE1BQzFEO0FBQUEsTUFDQSxhQUFZO0FBQUEsTUFDWixjQUFZLFVBQVUsT0FBTztBQUFBLE1BQzdCO0FBQUEsTUFDQSxPQUFPO0FBQUE7QUFBQSxFQUNULENBQ0Y7QUFFSjtBQUVBLGlFQUFlLGFBQWEsRUFBQyIsInNvdXJjZXMiOlsid2VicGFjazovL2dyYWZhbmEvLi9wdWJsaWMvYXBwL3BsdWdpbnMvZGF0YXNvdXJjZS90ZW1wby9TZWFyY2hUcmFjZVFMRWRpdG9yL0R1cmF0aW9uSW5wdXQudHN4P2ZjZDkiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgY3NzIH0gZnJvbSAnQGVtb3Rpb24vY3NzJztcbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5cbmltcG9ydCB7IFNlbGVjdCwgSG9yaXpvbnRhbEdyb3VwLCBJbnB1dCwgdXNlU3R5bGVzMiB9IGZyb20gJ0BncmFmYW5hL3VpJztcblxuaW1wb3J0IHsgVHJhY2VxbEZpbHRlciB9IGZyb20gJy4uL2RhdGFxdWVyeS5nZW4nO1xuXG5pbXBvcnQgeyBvcGVyYXRvclNlbGVjdGFibGVWYWx1ZSB9IGZyb20gJy4vdXRpbHMnO1xuXG5pbnRlcmZhY2UgUHJvcHMge1xuICBmaWx0ZXI6IFRyYWNlcWxGaWx0ZXI7XG4gIHVwZGF0ZUZpbHRlcjogKGY6IFRyYWNlcWxGaWx0ZXIpID0+IHZvaWQ7XG4gIGlzVGFnc0xvYWRpbmc/OiBib29sZWFuO1xuICBvcGVyYXRvcnM6IHN0cmluZ1tdO1xufVxuXG5jb25zdCB2YWxpZGF0aW9uUmVnZXggPSAvXlxcZCsoPzpcXC5cXGQpP1xcZCooPzp1c3zCtXN8bnN8bXN8c3xtfGgpJC87XG5cbmNvbnN0IGdldFN0eWxlcyA9ICgpID0+ICh7XG4gIG5vQm94U2hhZG93OiBjc3NgXG4gICAgYm94LXNoYWRvdzogbm9uZTtcbiAgICAqOmZvY3VzIHtcbiAgICAgIGJveC1zaGFkb3c6IG5vbmU7XG4gICAgfVxuICBgLFxufSk7XG5cbmNvbnN0IER1cmF0aW9uSW5wdXQgPSAoeyBmaWx0ZXIsIG9wZXJhdG9ycywgdXBkYXRlRmlsdGVyIH06IFByb3BzKSA9PiB7XG4gIGNvbnN0IHN0eWxlcyA9IHVzZVN0eWxlczIoZ2V0U3R5bGVzKTtcblxuICBsZXQgaW52YWxpZCA9IGZhbHNlO1xuICBpZiAodHlwZW9mIGZpbHRlci52YWx1ZSA9PT0gJ3N0cmluZycpIHtcbiAgICBpbnZhbGlkID0gZmlsdGVyLnZhbHVlID8gIXZhbGlkYXRpb25SZWdleC50ZXN0KGZpbHRlci52YWx1ZS5jb25jYXQoJycpKSA6IGZhbHNlO1xuICB9XG5cbiAgcmV0dXJuIChcbiAgICA8SG9yaXpvbnRhbEdyb3VwIHNwYWNpbmc9eydub25lJ30+XG4gICAgICA8U2VsZWN0XG4gICAgICAgIGNsYXNzTmFtZT17c3R5bGVzLm5vQm94U2hhZG93fVxuICAgICAgICBpbnB1dElkPXtgJHtmaWx0ZXIuaWR9LW9wZXJhdG9yYH1cbiAgICAgICAgb3B0aW9ucz17b3BlcmF0b3JzLm1hcChvcGVyYXRvclNlbGVjdGFibGVWYWx1ZSl9XG4gICAgICAgIHZhbHVlPXtmaWx0ZXIub3BlcmF0b3J9XG4gICAgICAgIG9uQ2hhbmdlPXsodikgPT4ge1xuICAgICAgICAgIHVwZGF0ZUZpbHRlcih7IC4uLmZpbHRlciwgb3BlcmF0b3I6IHY/LnZhbHVlIH0pO1xuICAgICAgICB9fVxuICAgICAgICBpc0NsZWFyYWJsZT17ZmFsc2V9XG4gICAgICAgIGFyaWEtbGFiZWw9e2BzZWxlY3QgJHtmaWx0ZXIuaWR9IG9wZXJhdG9yYH1cbiAgICAgICAgYWxsb3dDdXN0b21WYWx1ZT17dHJ1ZX1cbiAgICAgICAgd2lkdGg9ezh9XG4gICAgICAvPlxuICAgICAgPElucHV0XG4gICAgICAgIGNsYXNzTmFtZT17c3R5bGVzLm5vQm94U2hhZG93fVxuICAgICAgICB2YWx1ZT17ZmlsdGVyLnZhbHVlfVxuICAgICAgICBvbkNoYW5nZT17KHYpID0+IHtcbiAgICAgICAgICB1cGRhdGVGaWx0ZXIoeyAuLi5maWx0ZXIsIHZhbHVlOiB2LmN1cnJlbnRUYXJnZXQudmFsdWUgfSk7XG4gICAgICAgIH19XG4gICAgICAgIHBsYWNlaG9sZGVyPVwiZS5nLiAxMDBtcywgMS4yc1wiXG4gICAgICAgIGFyaWEtbGFiZWw9e2BzZWxlY3QgJHtmaWx0ZXIuaWR9IHZhbHVlYH1cbiAgICAgICAgaW52YWxpZD17aW52YWxpZH1cbiAgICAgICAgd2lkdGg9ezE4fVxuICAgICAgLz5cbiAgICA8L0hvcml6b250YWxHcm91cD5cbiAgKTtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IER1cmF0aW9uSW5wdXQ7XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./public/app/plugins/datasource/tempo/SearchTraceQLEditor/DurationInput.tsx\n");

/***/ }),

/***/ "./public/app/plugins/datasource/tempo/SearchTraceQLEditor/InlineSearchField.tsx":
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"./.yarn/cache/react-npm-18.2.0-1eae08fee2-88e38092da.zip/node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _grafana_ui__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(\"./.yarn/__virtual__/@grafana-ui-virtual-d722efae30/1/packages/grafana-ui/src/components/Forms/InlineFieldRow.tsx\");\n/* harmony import */ var _grafana_ui__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(\"./.yarn/__virtual__/@grafana-ui-virtual-d722efae30/1/packages/grafana-ui/src/components/Forms/InlineField.tsx\");\n\n\n\nconst SearchField = ({ label, tooltip, children }) => {\n  return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_grafana_ui__WEBPACK_IMPORTED_MODULE_1__.InlineFieldRow, null, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_grafana_ui__WEBPACK_IMPORTED_MODULE_2__.InlineField, { label, labelWidth: 28, grow: true, tooltip }, children));\n};\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (SearchField);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9wdWJsaWMvYXBwL3BsdWdpbnMvZGF0YXNvdXJjZS90ZW1wby9TZWFyY2hUcmFjZVFMRWRpdG9yL0lubGluZVNlYXJjaEZpZWxkLnRzeCIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7QUFBa0I7QUFFMEI7QUFPNUMsTUFBTSxjQUFjLENBQUMsRUFBRSxPQUFPLFNBQVMsU0FBUyxNQUFhO0FBQzNELFNBQ0UsMkVBQUMsdURBQWMsUUFDYiwyRUFBQyxvREFBVyxJQUFDLE9BQWMsWUFBWSxJQUFJLE1BQUksTUFBQyxXQUM3QyxRQUNILENBQ0Y7QUFFSjtBQUVBLGlFQUFlLFdBQVcsRUFBQyIsInNvdXJjZXMiOlsid2VicGFjazovL2dyYWZhbmEvLi9wdWJsaWMvYXBwL3BsdWdpbnMvZGF0YXNvdXJjZS90ZW1wby9TZWFyY2hUcmFjZVFMRWRpdG9yL0lubGluZVNlYXJjaEZpZWxkLnRzeD80MjhlIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5cbmltcG9ydCB7IElubGluZUZpZWxkUm93LCBJbmxpbmVGaWVsZCB9IGZyb20gJ0BncmFmYW5hL3VpJztcblxuaW50ZXJmYWNlIFByb3BzIHtcbiAgbGFiZWw6IHN0cmluZztcbiAgdG9vbHRpcD86IHN0cmluZztcbiAgY2hpbGRyZW46IFJlYWN0LlJlYWN0RWxlbWVudDtcbn1cbmNvbnN0IFNlYXJjaEZpZWxkID0gKHsgbGFiZWwsIHRvb2x0aXAsIGNoaWxkcmVuIH06IFByb3BzKSA9PiB7XG4gIHJldHVybiAoXG4gICAgPElubGluZUZpZWxkUm93PlxuICAgICAgPElubGluZUZpZWxkIGxhYmVsPXtsYWJlbH0gbGFiZWxXaWR0aD17Mjh9IGdyb3cgdG9vbHRpcD17dG9vbHRpcH0+XG4gICAgICAgIHtjaGlsZHJlbn1cbiAgICAgIDwvSW5saW5lRmllbGQ+XG4gICAgPC9JbmxpbmVGaWVsZFJvdz5cbiAgKTtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IFNlYXJjaEZpZWxkO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./public/app/plugins/datasource/tempo/SearchTraceQLEditor/InlineSearchField.tsx\n");

/***/ }),

/***/ "./public/app/plugins/datasource/tempo/SearchTraceQLEditor/SearchField.tsx":
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _emotion_css__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"./.yarn/cache/@emotion-css-npm-11.11.2-dbfa42cf83-1edea109df.zip/node_modules/@emotion/css/dist/emotion-css.esm.js\");\n/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(\"./.yarn/cache/lodash-npm-4.17.21-6382451519-eb835a2e51.zip/node_modules/lodash/lodash.js\");\n/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(\"./.yarn/cache/react-npm-18.2.0-1eae08fee2-88e38092da.zip/node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var react_use_lib_useAsync__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(\"./.yarn/__virtual__/react-use-virtual-dd7926f458/0/cache/react-use-npm-17.4.0-0ef4521544-0889da919b.zip/node_modules/react-use/lib/useAsync.js\");\n/* harmony import */ var _grafana_experimental__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(\"./.yarn/__virtual__/@grafana-experimental-virtual-ba767552fe/0/cache/@grafana-experimental-npm-1.6.1-f052d2ae51-64c32bc9e3.zip/node_modules/@grafana/experimental/dist/esm/QueryEditor/AccessoryButton.js\");\n/* harmony import */ var _grafana_runtime__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(\"./.yarn/__virtual__/@grafana-runtime-virtual-68c57d4c0c/1/packages/grafana-runtime/src/services/backendSrv.ts\");\n/* harmony import */ var _grafana_ui__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(\"./.yarn/__virtual__/@grafana-ui-virtual-d722efae30/1/packages/grafana-ui/src/themes/ThemeContext.tsx\");\n/* harmony import */ var _grafana_ui__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(\"./.yarn/__virtual__/@grafana-ui-virtual-d722efae30/1/packages/grafana-ui/src/components/Layout/Layout.tsx\");\n/* harmony import */ var _grafana_ui__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(\"./.yarn/__virtual__/@grafana-ui-virtual-d722efae30/1/packages/grafana-ui/src/components/Select/Select.tsx\");\n/* harmony import */ var _core_copy_appNotification__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(\"./public/app/core/copy/appNotification.ts\");\n/* harmony import */ var _core_reducers_appNotification__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(\"./public/app/core/reducers/appNotification.ts\");\n/* harmony import */ var _store_store__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(\"./public/app/store/store.ts\");\n/* harmony import */ var _dataquery_gen__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(\"./public/app/plugins/datasource/tempo/dataquery.gen.ts\");\n/* harmony import */ var _language_provider__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(\"./public/app/plugins/datasource/tempo/language_provider.ts\");\n/* harmony import */ var _traceql_traceql__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(\"./public/app/plugins/datasource/tempo/traceql/traceql.ts\");\n/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(\"./public/app/plugins/datasource/tempo/SearchTraceQLEditor/utils.ts\");\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nconst getStyles = () => ({\n  dropdown: (0,_emotion_css__WEBPACK_IMPORTED_MODULE_0__.css)`\n    box-shadow: none;\n  `\n});\nconst SearchField = ({\n  filter,\n  datasource,\n  updateFilter,\n  deleteFilter,\n  isTagsLoading,\n  tags,\n  setError,\n  hideScope,\n  hideTag,\n  hideValue,\n  allowDelete\n}) => {\n  const styles = (0,_grafana_ui__WEBPACK_IMPORTED_MODULE_10__.useStyles2)(getStyles);\n  const languageProvider = (0,react__WEBPACK_IMPORTED_MODULE_2__.useMemo)(() => new _language_provider__WEBPACK_IMPORTED_MODULE_7__[\"default\"](datasource), [datasource]);\n  const scopedTag = (0,react__WEBPACK_IMPORTED_MODULE_2__.useMemo)(() => (0,_utils__WEBPACK_IMPORTED_MODULE_9__.filterScopedTag)(filter), [filter]);\n  const [prevOperator, setPrevOperator] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(filter.operator);\n  const [prevValue, setPrevValue] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(filter.value);\n  const updateOptions = async () => {\n    try {\n      return await languageProvider.getOptionsV2(scopedTag);\n    } catch (error) {\n      if ((0,_grafana_runtime__WEBPACK_IMPORTED_MODULE_11__.isFetchError)(error) && error?.status === 404) {\n        setError(error);\n      } else if (error instanceof Error) {\n        (0,_store_store__WEBPACK_IMPORTED_MODULE_5__.dispatch)((0,_core_reducers_appNotification__WEBPACK_IMPORTED_MODULE_4__.notifyApp)((0,_core_copy_appNotification__WEBPACK_IMPORTED_MODULE_3__.createErrorNotification)(\"Error\", error)));\n      }\n    }\n    return [];\n  };\n  const { loading: isLoadingValues, value: options } = (0,react_use_lib_useAsync__WEBPACK_IMPORTED_MODULE_12__[\"default\"])(updateOptions, [scopedTag, languageProvider, setError]);\n  (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)(() => {\n    if (Array.isArray(filter.value) && filter.value.length > 1 && filter.operator !== \"=~\") {\n      setPrevOperator(filter.operator);\n      updateFilter({ ...filter, operator: \"=~\" });\n    }\n    if (Array.isArray(filter.value) && filter.value.length <= 1 && (prevValue?.length || 0) > 1) {\n      updateFilter({ ...filter, operator: prevOperator, value: filter.value[0] });\n    }\n  }, [prevValue, prevOperator, updateFilter, filter]);\n  (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)(() => {\n    setPrevValue(filter.value);\n  }, [filter.value]);\n  const scopeOptions = Object.values(_dataquery_gen__WEBPACK_IMPORTED_MODULE_6__.TraceqlSearchScope).map((t) => ({ label: t, value: t }));\n  const optionsOfFirstType = options?.filter((o) => o.type === options[0]?.type);\n  const uniqueOptionType = options?.length === optionsOfFirstType?.length ? options?.[0]?.type : void 0;\n  let operatorList = _traceql_traceql__WEBPACK_IMPORTED_MODULE_8__.operators;\n  switch (uniqueOptionType) {\n    case \"string\":\n      operatorList = _traceql_traceql__WEBPACK_IMPORTED_MODULE_8__.stringOperators;\n      break;\n    case \"int\":\n    case \"float\":\n      operatorList = _traceql_traceql__WEBPACK_IMPORTED_MODULE_8__.numberOperators;\n  }\n  return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_2___default().createElement(_grafana_ui__WEBPACK_IMPORTED_MODULE_13__.HorizontalGroup, { spacing: \"none\", width: \"auto\" }, !hideScope && /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_2___default().createElement(\n    _grafana_ui__WEBPACK_IMPORTED_MODULE_14__.Select,\n    {\n      className: styles.dropdown,\n      inputId: `${filter.id}-scope`,\n      options: scopeOptions,\n      value: filter.scope,\n      onChange: (v) => {\n        updateFilter({ ...filter, scope: v?.value });\n      },\n      placeholder: \"Select scope\",\n      \"aria-label\": `select ${filter.id} scope`\n    }\n  ), !hideTag && /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_2___default().createElement(\n    _grafana_ui__WEBPACK_IMPORTED_MODULE_14__.Select,\n    {\n      className: styles.dropdown,\n      inputId: `${filter.id}-tag`,\n      isLoading: isTagsLoading,\n      options: (filter.tag !== void 0 ? (0,lodash__WEBPACK_IMPORTED_MODULE_1__.uniq)([filter.tag, ...tags]) : tags).map((t) => ({\n        label: t,\n        value: t\n      })),\n      value: filter.tag,\n      onChange: (v) => {\n        updateFilter({ ...filter, tag: v?.value });\n      },\n      placeholder: \"Select tag\",\n      isClearable: true,\n      \"aria-label\": `select ${filter.id} tag`,\n      allowCustomValue: true\n    }\n  ), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_2___default().createElement(\n    _grafana_ui__WEBPACK_IMPORTED_MODULE_14__.Select,\n    {\n      className: styles.dropdown,\n      inputId: `${filter.id}-operator`,\n      options: operatorList.map(_utils__WEBPACK_IMPORTED_MODULE_9__.operatorSelectableValue),\n      value: filter.operator,\n      onChange: (v) => {\n        updateFilter({ ...filter, operator: v?.value });\n      },\n      isClearable: false,\n      \"aria-label\": `select ${filter.id} operator`,\n      allowCustomValue: true,\n      width: 8\n    }\n  ), !hideValue && /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_2___default().createElement(\n    _grafana_ui__WEBPACK_IMPORTED_MODULE_14__.Select,\n    {\n      className: styles.dropdown,\n      inputId: `${filter.id}-value`,\n      isLoading: isLoadingValues,\n      options,\n      value: filter.value,\n      onChange: (val) => {\n        if (Array.isArray(val)) {\n          updateFilter({ ...filter, value: val.map((v) => v.value), valueType: val[0]?.type || uniqueOptionType });\n        } else {\n          updateFilter({ ...filter, value: val?.value, valueType: val?.type || uniqueOptionType });\n        }\n      },\n      placeholder: \"Select value\",\n      isClearable: false,\n      \"aria-label\": `select ${filter.id} value`,\n      allowCustomValue: true,\n      isMulti: true,\n      allowCreateWhileLoading: true\n    }\n  ), allowDelete && /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_2___default().createElement(\n    _grafana_experimental__WEBPACK_IMPORTED_MODULE_15__.AccessoryButton,\n    {\n      variant: \"secondary\",\n      icon: \"times\",\n      onClick: () => deleteFilter?.(filter),\n      tooltip: \"Remove tag\",\n      \"aria-label\": `remove tag with ID ${filter.id}`\n    }\n  ));\n};\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (SearchField);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9wdWJsaWMvYXBwL3BsdWdpbnMvZGF0YXNvdXJjZS90ZW1wby9TZWFyY2hUcmFjZVFMRWRpdG9yL1NlYXJjaEZpZWxkLnRzeCIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFvQjtBQUNDO0FBQytCO0FBQy9CO0FBRVc7QUFDUztBQUNXO0FBRVo7QUFDZDtBQUNEO0FBQ3lCO0FBRWhCO0FBQzBDO0FBRW5CO0FBRXpELE1BQU0sWUFBWSxPQUFPO0FBQUEsRUFDdkIsVUFBVSxpREFBRztBQUFIO0FBQUE7QUFHWjtBQWVBLE1BQU0sY0FBYyxDQUFDO0FBQUEsRUFDbkI7QUFBQSxFQUNBO0FBQUEsRUFDQTtBQUFBLEVBQ0E7QUFBQSxFQUNBO0FBQUEsRUFDQTtBQUFBLEVBQ0E7QUFBQSxFQUNBO0FBQUEsRUFDQTtBQUFBLEVBQ0E7QUFBQSxFQUNBO0FBQ0YsTUFBYTtBQUNYLFFBQU0sU0FBUyx3REFBVSxDQUFDLFNBQVM7QUFDbkMsUUFBTSxtQkFBbUIsOENBQU8sQ0FBQyxNQUFNLElBQUksMERBQXFCLENBQUMsVUFBVSxHQUFHLENBQUMsVUFBVSxDQUFDO0FBQzFGLFFBQU0sWUFBWSw4Q0FBTyxDQUFDLE1BQU0sdURBQWUsQ0FBQyxNQUFNLEdBQUcsQ0FBQyxNQUFNLENBQUM7QUFJakUsUUFBTSxDQUFDLGNBQWMsZUFBZSxJQUFJLCtDQUFRLENBQUMsT0FBTyxRQUFRO0FBQ2hFLFFBQU0sQ0FBQyxXQUFXLFlBQVksSUFBSSwrQ0FBUSxDQUFDLE9BQU8sS0FBSztBQUV2RCxRQUFNLGdCQUFnQixZQUFZO0FBQ2hDLFFBQUk7QUFDRixhQUFPLE1BQU0saUJBQWlCLGFBQWEsU0FBUztBQUFBLElBQ3RELFNBQVMsT0FBUDtBQUVBLFVBQUksK0RBQVksQ0FBQyxLQUFLLEtBQUssT0FBTyxXQUFXLEtBQUs7QUFDaEQsaUJBQVMsS0FBSztBQUFBLE1BQ2hCLFdBQVcsaUJBQWlCLE9BQU87QUFDakMsOERBQVEsQ0FBQyx5RUFBUyxDQUFDLG1GQUF1QixDQUFDLFNBQVMsS0FBSyxDQUFDLENBQUM7QUFBQSxNQUM3RDtBQUFBLElBQ0Y7QUFDQSxXQUFPLENBQUM7QUFBQSxFQUNWO0FBRUEsUUFBTSxFQUFFLFNBQVMsaUJBQWlCLE9BQU8sUUFBUSxJQUFJLG1FQUFRLENBQUMsZUFBZSxDQUFDLFdBQVcsa0JBQWtCLFFBQVEsQ0FBQztBQUVwSCxrREFBUyxDQUFDLE1BQU07QUFDZCxRQUFJLE1BQU0sUUFBUSxPQUFPLEtBQUssS0FBSyxPQUFPLE1BQU0sU0FBUyxLQUFLLE9BQU8sYUFBYSxNQUFNO0FBQ3RGLHNCQUFnQixPQUFPLFFBQVE7QUFDL0IsbUJBQWEsRUFBRSxHQUFHLFFBQVEsVUFBVSxLQUFLLENBQUM7QUFBQSxJQUM1QztBQUNBLFFBQUksTUFBTSxRQUFRLE9BQU8sS0FBSyxLQUFLLE9BQU8sTUFBTSxVQUFVLE1BQU0sV0FBVyxVQUFVLEtBQUssR0FBRztBQUMzRixtQkFBYSxFQUFFLEdBQUcsUUFBUSxVQUFVLGNBQWMsT0FBTyxPQUFPLE1BQU0sQ0FBQyxFQUFFLENBQUM7QUFBQSxJQUM1RTtBQUFBLEVBQ0YsR0FBRyxDQUFDLFdBQVcsY0FBYyxjQUFjLE1BQU0sQ0FBQztBQUVsRCxrREFBUyxDQUFDLE1BQU07QUFDZCxpQkFBYSxPQUFPLEtBQUs7QUFBQSxFQUMzQixHQUFHLENBQUMsT0FBTyxLQUFLLENBQUM7QUFFakIsUUFBTSxlQUFlLE9BQU8sT0FBTyw4REFBa0IsRUFBRSxJQUFJLENBQUMsT0FBTyxFQUFFLE9BQU8sR0FBRyxPQUFPLEVBQUUsRUFBRTtBQUcxRixRQUFNLHFCQUFxQixTQUFTLE9BQU8sQ0FBQyxNQUFNLEVBQUUsU0FBUyxRQUFRLENBQUMsR0FBRyxJQUFJO0FBQzdFLFFBQU0sbUJBQW1CLFNBQVMsV0FBVyxvQkFBb0IsU0FBUyxVQUFVLENBQUMsR0FBRyxPQUFPO0FBQy9GLE1BQUksZUFBZSx1REFBWTtBQUMvQixVQUFRLGtCQUFrQjtBQUFBLElBQ3hCLEtBQUs7QUFDSCxxQkFBZSw2REFBZTtBQUM5QjtBQUFBLElBQ0YsS0FBSztBQUFBLElBQ0wsS0FBSztBQUNILHFCQUFlLDZEQUFlO0FBQWYsRUFDbkI7QUFFQSxTQUNFLDJFQUFDLHlEQUFlLElBQUMsU0FBUyxRQUFRLE9BQU8sVUFDdEMsQ0FBQyxhQUNBO0FBQUEsSUFBQyxnREFBTTtBQUFOO0FBQUEsTUFDQyxXQUFXLE9BQU87QUFBQSxNQUNsQixTQUFTLEdBQUcsT0FBTztBQUFBLE1BQ25CLFNBQVM7QUFBQSxNQUNULE9BQU8sT0FBTztBQUFBLE1BQ2QsVUFBVSxDQUFDLE1BQU07QUFDZixxQkFBYSxFQUFFLEdBQUcsUUFBUSxPQUFPLEdBQUcsTUFBTSxDQUFDO0FBQUEsTUFDN0M7QUFBQSxNQUNBLGFBQVk7QUFBQSxNQUNaLGNBQVksVUFBVSxPQUFPO0FBQUE7QUFBQSxFQUMvQixHQUVELENBQUMsV0FDQTtBQUFBLElBQUMsZ0RBQU07QUFBTjtBQUFBLE1BQ0MsV0FBVyxPQUFPO0FBQUEsTUFDbEIsU0FBUyxHQUFHLE9BQU87QUFBQSxNQUNuQixXQUFXO0FBQUEsTUFFWCxVQUFVLE9BQU8sUUFBUSxTQUFZLDRDQUFJLENBQUMsQ0FBQyxPQUFPLEtBQUssR0FBRyxJQUFJLENBQUMsSUFBSSxNQUFNLElBQUksQ0FBQyxPQUFPO0FBQUEsUUFDbkYsT0FBTztBQUFBLFFBQ1AsT0FBTztBQUFBLE1BQ1QsRUFBRTtBQUFBLE1BQ0YsT0FBTyxPQUFPO0FBQUEsTUFDZCxVQUFVLENBQUMsTUFBTTtBQUNmLHFCQUFhLEVBQUUsR0FBRyxRQUFRLEtBQUssR0FBRyxNQUFNLENBQUM7QUFBQSxNQUMzQztBQUFBLE1BQ0EsYUFBWTtBQUFBLE1BQ1osYUFBVztBQUFBLE1BQ1gsY0FBWSxVQUFVLE9BQU87QUFBQSxNQUM3QixrQkFBa0I7QUFBQTtBQUFBLEVBQ3BCLEdBRUY7QUFBQSxJQUFDLGdEQUFNO0FBQU47QUFBQSxNQUNDLFdBQVcsT0FBTztBQUFBLE1BQ2xCLFNBQVMsR0FBRyxPQUFPO0FBQUEsTUFDbkIsU0FBUyxhQUFhLElBQUksMkRBQXVCO0FBQUEsTUFDakQsT0FBTyxPQUFPO0FBQUEsTUFDZCxVQUFVLENBQUMsTUFBTTtBQUNmLHFCQUFhLEVBQUUsR0FBRyxRQUFRLFVBQVUsR0FBRyxNQUFNLENBQUM7QUFBQSxNQUNoRDtBQUFBLE1BQ0EsYUFBYTtBQUFBLE1BQ2IsY0FBWSxVQUFVLE9BQU87QUFBQSxNQUM3QixrQkFBa0I7QUFBQSxNQUNsQixPQUFPO0FBQUE7QUFBQSxFQUNULEdBQ0MsQ0FBQyxhQUNBO0FBQUEsSUFBQyxnREFBTTtBQUFOO0FBQUEsTUFDQyxXQUFXLE9BQU87QUFBQSxNQUNsQixTQUFTLEdBQUcsT0FBTztBQUFBLE1BQ25CLFdBQVc7QUFBQSxNQUNYO0FBQUEsTUFDQSxPQUFPLE9BQU87QUFBQSxNQUNkLFVBQVUsQ0FBQyxRQUFRO0FBQ2pCLFlBQUksTUFBTSxRQUFRLEdBQUcsR0FBRztBQUN0Qix1QkFBYSxFQUFFLEdBQUcsUUFBUSxPQUFPLElBQUksSUFBSSxDQUFDLE1BQU0sRUFBRSxLQUFLLEdBQUcsV0FBVyxJQUFJLENBQUMsR0FBRyxRQUFRLGlCQUFpQixDQUFDO0FBQUEsUUFDekcsT0FBTztBQUNMLHVCQUFhLEVBQUUsR0FBRyxRQUFRLE9BQU8sS0FBSyxPQUFPLFdBQVcsS0FBSyxRQUFRLGlCQUFpQixDQUFDO0FBQUEsUUFDekY7QUFBQSxNQUNGO0FBQUEsTUFDQSxhQUFZO0FBQUEsTUFDWixhQUFhO0FBQUEsTUFDYixjQUFZLFVBQVUsT0FBTztBQUFBLE1BQzdCLGtCQUFrQjtBQUFBLE1BQ2xCLFNBQU87QUFBQSxNQUNQLHlCQUF1QjtBQUFBO0FBQUEsRUFDekIsR0FFRCxlQUNDO0FBQUEsSUFBQyxtRUFBZTtBQUFmO0FBQUEsTUFDQyxTQUFTO0FBQUEsTUFDVCxNQUFNO0FBQUEsTUFDTixTQUFTLE1BQU0sZUFBZSxNQUFNO0FBQUEsTUFDcEMsU0FBUztBQUFBLE1BQ1QsY0FBWSxzQkFBc0IsT0FBTztBQUFBO0FBQUEsRUFDM0MsQ0FFSjtBQUVKO0FBRUEsaUVBQWUsV0FBVyxFQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZ3JhZmFuYS8uL3B1YmxpYy9hcHAvcGx1Z2lucy9kYXRhc291cmNlL3RlbXBvL1NlYXJjaFRyYWNlUUxFZGl0b3IvU2VhcmNoRmllbGQudHN4Pzg5MWIiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgY3NzIH0gZnJvbSAnQGVtb3Rpb24vY3NzJztcbmltcG9ydCB7IHVuaXEgfSBmcm9tICdsb2Rhc2gnO1xuaW1wb3J0IFJlYWN0LCB7IHVzZVN0YXRlLCB1c2VFZmZlY3QsIHVzZU1lbW8gfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgdXNlQXN5bmMgZnJvbSAncmVhY3QtdXNlL2xpYi91c2VBc3luYyc7XG5cbmltcG9ydCB7IEFjY2Vzc29yeUJ1dHRvbiB9IGZyb20gJ0BncmFmYW5hL2V4cGVyaW1lbnRhbCc7XG5pbXBvcnQgeyBGZXRjaEVycm9yLCBpc0ZldGNoRXJyb3IgfSBmcm9tICdAZ3JhZmFuYS9ydW50aW1lJztcbmltcG9ydCB7IFNlbGVjdCwgSG9yaXpvbnRhbEdyb3VwLCB1c2VTdHlsZXMyIH0gZnJvbSAnQGdyYWZhbmEvdWknO1xuXG5pbXBvcnQgeyBjcmVhdGVFcnJvck5vdGlmaWNhdGlvbiB9IGZyb20gJy4uLy4uLy4uLy4uL2NvcmUvY29weS9hcHBOb3RpZmljYXRpb24nO1xuaW1wb3J0IHsgbm90aWZ5QXBwIH0gZnJvbSAnLi4vLi4vLi4vLi4vY29yZS9yZWR1Y2Vycy9hcHBOb3RpZmljYXRpb24nO1xuaW1wb3J0IHsgZGlzcGF0Y2ggfSBmcm9tICcuLi8uLi8uLi8uLi9zdG9yZS9zdG9yZSc7XG5pbXBvcnQgeyBUcmFjZXFsRmlsdGVyLCBUcmFjZXFsU2VhcmNoU2NvcGUgfSBmcm9tICcuLi9kYXRhcXVlcnkuZ2VuJztcbmltcG9ydCB7IFRlbXBvRGF0YXNvdXJjZSB9IGZyb20gJy4uL2RhdGFzb3VyY2UnO1xuaW1wb3J0IFRlbXBvTGFuZ3VhZ2VQcm92aWRlciBmcm9tICcuLi9sYW5ndWFnZV9wcm92aWRlcic7XG5pbXBvcnQgeyBvcGVyYXRvcnMgYXMgYWxsT3BlcmF0b3JzLCBzdHJpbmdPcGVyYXRvcnMsIG51bWJlck9wZXJhdG9ycyB9IGZyb20gJy4uL3RyYWNlcWwvdHJhY2VxbCc7XG5cbmltcG9ydCB7IGZpbHRlclNjb3BlZFRhZywgb3BlcmF0b3JTZWxlY3RhYmxlVmFsdWUgfSBmcm9tICcuL3V0aWxzJztcblxuY29uc3QgZ2V0U3R5bGVzID0gKCkgPT4gKHtcbiAgZHJvcGRvd246IGNzc2BcbiAgICBib3gtc2hhZG93OiBub25lO1xuICBgLFxufSk7XG5cbmludGVyZmFjZSBQcm9wcyB7XG4gIGZpbHRlcjogVHJhY2VxbEZpbHRlcjtcbiAgZGF0YXNvdXJjZTogVGVtcG9EYXRhc291cmNlO1xuICB1cGRhdGVGaWx0ZXI6IChmOiBUcmFjZXFsRmlsdGVyKSA9PiB2b2lkO1xuICBkZWxldGVGaWx0ZXI/OiAoZjogVHJhY2VxbEZpbHRlcikgPT4gdm9pZDtcbiAgc2V0RXJyb3I6IChlcnJvcjogRmV0Y2hFcnJvcikgPT4gdm9pZDtcbiAgaXNUYWdzTG9hZGluZz86IGJvb2xlYW47XG4gIHRhZ3M6IHN0cmluZ1tdO1xuICBoaWRlU2NvcGU/OiBib29sZWFuO1xuICBoaWRlVGFnPzogYm9vbGVhbjtcbiAgaGlkZVZhbHVlPzogYm9vbGVhbjtcbiAgYWxsb3dEZWxldGU/OiBib29sZWFuO1xufVxuY29uc3QgU2VhcmNoRmllbGQgPSAoe1xuICBmaWx0ZXIsXG4gIGRhdGFzb3VyY2UsXG4gIHVwZGF0ZUZpbHRlcixcbiAgZGVsZXRlRmlsdGVyLFxuICBpc1RhZ3NMb2FkaW5nLFxuICB0YWdzLFxuICBzZXRFcnJvcixcbiAgaGlkZVNjb3BlLFxuICBoaWRlVGFnLFxuICBoaWRlVmFsdWUsXG4gIGFsbG93RGVsZXRlLFxufTogUHJvcHMpID0+IHtcbiAgY29uc3Qgc3R5bGVzID0gdXNlU3R5bGVzMihnZXRTdHlsZXMpO1xuICBjb25zdCBsYW5ndWFnZVByb3ZpZGVyID0gdXNlTWVtbygoKSA9PiBuZXcgVGVtcG9MYW5ndWFnZVByb3ZpZGVyKGRhdGFzb3VyY2UpLCBbZGF0YXNvdXJjZV0pO1xuICBjb25zdCBzY29wZWRUYWcgPSB1c2VNZW1vKCgpID0+IGZpbHRlclNjb3BlZFRhZyhmaWx0ZXIpLCBbZmlsdGVyXSk7XG4gIC8vIFdlIGF1dG9tYXRpY2FsbHkgY2hhbmdlIHRoZSBvcGVyYXRvciB0byB0aGUgcmVnZXggb3Agd2hlbiB1c2VycyBzZWxlY3QgMiBvciBtb3JlIHZhbHVlc1xuICAvLyBIb3dldmVyLCB0aGV5IGV4cGVjdCB0aGlzIHRvIGJlIGF1dG9tYXRpY2FsbHkgcm9sbGVkIGJhY2sgdG8gdGhlIHByZXZpb3VzIG9wZXJhdG9yIG9uY2VcbiAgLy8gdGhlcmUncyBvbmx5IG9uZSB2YWx1ZSBzZWxlY3RlZCwgc28gd2Ugc3RvcmUgdGhlIHByZXZpb3VzIG9wZXJhdG9yIGFuZCB2YWx1ZVxuICBjb25zdCBbcHJldk9wZXJhdG9yLCBzZXRQcmV2T3BlcmF0b3JdID0gdXNlU3RhdGUoZmlsdGVyLm9wZXJhdG9yKTtcbiAgY29uc3QgW3ByZXZWYWx1ZSwgc2V0UHJldlZhbHVlXSA9IHVzZVN0YXRlKGZpbHRlci52YWx1ZSk7XG5cbiAgY29uc3QgdXBkYXRlT3B0aW9ucyA9IGFzeW5jICgpID0+IHtcbiAgICB0cnkge1xuICAgICAgcmV0dXJuIGF3YWl0IGxhbmd1YWdlUHJvdmlkZXIuZ2V0T3B0aW9uc1YyKHNjb3BlZFRhZyk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIC8vIERpc3BsYXkgbWVzc2FnZSBpZiBUZW1wbyBpcyBjb25uZWN0ZWQgYnV0IHNlYXJjaCA0MDQnc1xuICAgICAgaWYgKGlzRmV0Y2hFcnJvcihlcnJvcikgJiYgZXJyb3I/LnN0YXR1cyA9PT0gNDA0KSB7XG4gICAgICAgIHNldEVycm9yKGVycm9yKTtcbiAgICAgIH0gZWxzZSBpZiAoZXJyb3IgaW5zdGFuY2VvZiBFcnJvcikge1xuICAgICAgICBkaXNwYXRjaChub3RpZnlBcHAoY3JlYXRlRXJyb3JOb3RpZmljYXRpb24oJ0Vycm9yJywgZXJyb3IpKSk7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBbXTtcbiAgfTtcblxuICBjb25zdCB7IGxvYWRpbmc6IGlzTG9hZGluZ1ZhbHVlcywgdmFsdWU6IG9wdGlvbnMgfSA9IHVzZUFzeW5jKHVwZGF0ZU9wdGlvbnMsIFtzY29wZWRUYWcsIGxhbmd1YWdlUHJvdmlkZXIsIHNldEVycm9yXSk7XG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoQXJyYXkuaXNBcnJheShmaWx0ZXIudmFsdWUpICYmIGZpbHRlci52YWx1ZS5sZW5ndGggPiAxICYmIGZpbHRlci5vcGVyYXRvciAhPT0gJz1+Jykge1xuICAgICAgc2V0UHJldk9wZXJhdG9yKGZpbHRlci5vcGVyYXRvcik7XG4gICAgICB1cGRhdGVGaWx0ZXIoeyAuLi5maWx0ZXIsIG9wZXJhdG9yOiAnPX4nIH0pO1xuICAgIH1cbiAgICBpZiAoQXJyYXkuaXNBcnJheShmaWx0ZXIudmFsdWUpICYmIGZpbHRlci52YWx1ZS5sZW5ndGggPD0gMSAmJiAocHJldlZhbHVlPy5sZW5ndGggfHwgMCkgPiAxKSB7XG4gICAgICB1cGRhdGVGaWx0ZXIoeyAuLi5maWx0ZXIsIG9wZXJhdG9yOiBwcmV2T3BlcmF0b3IsIHZhbHVlOiBmaWx0ZXIudmFsdWVbMF0gfSk7XG4gICAgfVxuICB9LCBbcHJldlZhbHVlLCBwcmV2T3BlcmF0b3IsIHVwZGF0ZUZpbHRlciwgZmlsdGVyXSk7XG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBzZXRQcmV2VmFsdWUoZmlsdGVyLnZhbHVlKTtcbiAgfSwgW2ZpbHRlci52YWx1ZV0pO1xuXG4gIGNvbnN0IHNjb3BlT3B0aW9ucyA9IE9iamVjdC52YWx1ZXMoVHJhY2VxbFNlYXJjaFNjb3BlKS5tYXAoKHQpID0+ICh7IGxhYmVsOiB0LCB2YWx1ZTogdCB9KSk7XG5cbiAgLy8gSWYgYWxsIHZhbHVlcyBoYXZlIHR5cGUgc3RyaW5nIG9yIGludC9mbG9hdCB1c2UgYSBmb2N1c2VkIGxpc3Qgb2Ygb3BlcmF0b3JzIGluc3RlYWQgb2YgYWxsIG9wZXJhdG9yc1xuICBjb25zdCBvcHRpb25zT2ZGaXJzdFR5cGUgPSBvcHRpb25zPy5maWx0ZXIoKG8pID0+IG8udHlwZSA9PT0gb3B0aW9uc1swXT8udHlwZSk7XG4gIGNvbnN0IHVuaXF1ZU9wdGlvblR5cGUgPSBvcHRpb25zPy5sZW5ndGggPT09IG9wdGlvbnNPZkZpcnN0VHlwZT8ubGVuZ3RoID8gb3B0aW9ucz8uWzBdPy50eXBlIDogdW5kZWZpbmVkO1xuICBsZXQgb3BlcmF0b3JMaXN0ID0gYWxsT3BlcmF0b3JzO1xuICBzd2l0Y2ggKHVuaXF1ZU9wdGlvblR5cGUpIHtcbiAgICBjYXNlICdzdHJpbmcnOlxuICAgICAgb3BlcmF0b3JMaXN0ID0gc3RyaW5nT3BlcmF0b3JzO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSAnaW50JzpcbiAgICBjYXNlICdmbG9hdCc6XG4gICAgICBvcGVyYXRvckxpc3QgPSBudW1iZXJPcGVyYXRvcnM7XG4gIH1cblxuICByZXR1cm4gKFxuICAgIDxIb3Jpem9udGFsR3JvdXAgc3BhY2luZz17J25vbmUnfSB3aWR0aD17J2F1dG8nfT5cbiAgICAgIHshaGlkZVNjb3BlICYmIChcbiAgICAgICAgPFNlbGVjdFxuICAgICAgICAgIGNsYXNzTmFtZT17c3R5bGVzLmRyb3Bkb3dufVxuICAgICAgICAgIGlucHV0SWQ9e2Ake2ZpbHRlci5pZH0tc2NvcGVgfVxuICAgICAgICAgIG9wdGlvbnM9e3Njb3BlT3B0aW9uc31cbiAgICAgICAgICB2YWx1ZT17ZmlsdGVyLnNjb3BlfVxuICAgICAgICAgIG9uQ2hhbmdlPXsodikgPT4ge1xuICAgICAgICAgICAgdXBkYXRlRmlsdGVyKHsgLi4uZmlsdGVyLCBzY29wZTogdj8udmFsdWUgfSk7XG4gICAgICAgICAgfX1cbiAgICAgICAgICBwbGFjZWhvbGRlcj1cIlNlbGVjdCBzY29wZVwiXG4gICAgICAgICAgYXJpYS1sYWJlbD17YHNlbGVjdCAke2ZpbHRlci5pZH0gc2NvcGVgfVxuICAgICAgICAvPlxuICAgICAgKX1cbiAgICAgIHshaGlkZVRhZyAmJiAoXG4gICAgICAgIDxTZWxlY3RcbiAgICAgICAgICBjbGFzc05hbWU9e3N0eWxlcy5kcm9wZG93bn1cbiAgICAgICAgICBpbnB1dElkPXtgJHtmaWx0ZXIuaWR9LXRhZ2B9XG4gICAgICAgICAgaXNMb2FkaW5nPXtpc1RhZ3NMb2FkaW5nfVxuICAgICAgICAgIC8vIEFkZCB0aGUgY3VycmVudCB0YWcgdG8gdGhlIGxpc3QgaWYgaXQgZG9lc24ndCBleGlzdCBpbiB0aGUgdGFncyBwcm9wLCBvdGhlcndpc2UgdGhlIGZpZWxkIHdpbGwgYmUgZW1wdHkgZXZlbiB0aG91Z2ggdGhlIHN0YXRlIGhhcyBhIHZhbHVlXG4gICAgICAgICAgb3B0aW9ucz17KGZpbHRlci50YWcgIT09IHVuZGVmaW5lZCA/IHVuaXEoW2ZpbHRlci50YWcsIC4uLnRhZ3NdKSA6IHRhZ3MpLm1hcCgodCkgPT4gKHtcbiAgICAgICAgICAgIGxhYmVsOiB0LFxuICAgICAgICAgICAgdmFsdWU6IHQsXG4gICAgICAgICAgfSkpfVxuICAgICAgICAgIHZhbHVlPXtmaWx0ZXIudGFnfVxuICAgICAgICAgIG9uQ2hhbmdlPXsodikgPT4ge1xuICAgICAgICAgICAgdXBkYXRlRmlsdGVyKHsgLi4uZmlsdGVyLCB0YWc6IHY/LnZhbHVlIH0pO1xuICAgICAgICAgIH19XG4gICAgICAgICAgcGxhY2Vob2xkZXI9XCJTZWxlY3QgdGFnXCJcbiAgICAgICAgICBpc0NsZWFyYWJsZVxuICAgICAgICAgIGFyaWEtbGFiZWw9e2BzZWxlY3QgJHtmaWx0ZXIuaWR9IHRhZ2B9XG4gICAgICAgICAgYWxsb3dDdXN0b21WYWx1ZT17dHJ1ZX1cbiAgICAgICAgLz5cbiAgICAgICl9XG4gICAgICA8U2VsZWN0XG4gICAgICAgIGNsYXNzTmFtZT17c3R5bGVzLmRyb3Bkb3dufVxuICAgICAgICBpbnB1dElkPXtgJHtmaWx0ZXIuaWR9LW9wZXJhdG9yYH1cbiAgICAgICAgb3B0aW9ucz17b3BlcmF0b3JMaXN0Lm1hcChvcGVyYXRvclNlbGVjdGFibGVWYWx1ZSl9XG4gICAgICAgIHZhbHVlPXtmaWx0ZXIub3BlcmF0b3J9XG4gICAgICAgIG9uQ2hhbmdlPXsodikgPT4ge1xuICAgICAgICAgIHVwZGF0ZUZpbHRlcih7IC4uLmZpbHRlciwgb3BlcmF0b3I6IHY/LnZhbHVlIH0pO1xuICAgICAgICB9fVxuICAgICAgICBpc0NsZWFyYWJsZT17ZmFsc2V9XG4gICAgICAgIGFyaWEtbGFiZWw9e2BzZWxlY3QgJHtmaWx0ZXIuaWR9IG9wZXJhdG9yYH1cbiAgICAgICAgYWxsb3dDdXN0b21WYWx1ZT17dHJ1ZX1cbiAgICAgICAgd2lkdGg9ezh9XG4gICAgICAvPlxuICAgICAgeyFoaWRlVmFsdWUgJiYgKFxuICAgICAgICA8U2VsZWN0XG4gICAgICAgICAgY2xhc3NOYW1lPXtzdHlsZXMuZHJvcGRvd259XG4gICAgICAgICAgaW5wdXRJZD17YCR7ZmlsdGVyLmlkfS12YWx1ZWB9XG4gICAgICAgICAgaXNMb2FkaW5nPXtpc0xvYWRpbmdWYWx1ZXN9XG4gICAgICAgICAgb3B0aW9ucz17b3B0aW9uc31cbiAgICAgICAgICB2YWx1ZT17ZmlsdGVyLnZhbHVlfVxuICAgICAgICAgIG9uQ2hhbmdlPXsodmFsKSA9PiB7XG4gICAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheSh2YWwpKSB7XG4gICAgICAgICAgICAgIHVwZGF0ZUZpbHRlcih7IC4uLmZpbHRlciwgdmFsdWU6IHZhbC5tYXAoKHYpID0+IHYudmFsdWUpLCB2YWx1ZVR5cGU6IHZhbFswXT8udHlwZSB8fCB1bmlxdWVPcHRpb25UeXBlIH0pO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgdXBkYXRlRmlsdGVyKHsgLi4uZmlsdGVyLCB2YWx1ZTogdmFsPy52YWx1ZSwgdmFsdWVUeXBlOiB2YWw/LnR5cGUgfHwgdW5pcXVlT3B0aW9uVHlwZSB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9fVxuICAgICAgICAgIHBsYWNlaG9sZGVyPVwiU2VsZWN0IHZhbHVlXCJcbiAgICAgICAgICBpc0NsZWFyYWJsZT17ZmFsc2V9XG4gICAgICAgICAgYXJpYS1sYWJlbD17YHNlbGVjdCAke2ZpbHRlci5pZH0gdmFsdWVgfVxuICAgICAgICAgIGFsbG93Q3VzdG9tVmFsdWU9e3RydWV9XG4gICAgICAgICAgaXNNdWx0aVxuICAgICAgICAgIGFsbG93Q3JlYXRlV2hpbGVMb2FkaW5nXG4gICAgICAgIC8+XG4gICAgICApfVxuICAgICAge2FsbG93RGVsZXRlICYmIChcbiAgICAgICAgPEFjY2Vzc29yeUJ1dHRvblxuICAgICAgICAgIHZhcmlhbnQ9eydzZWNvbmRhcnknfVxuICAgICAgICAgIGljb249eyd0aW1lcyd9XG4gICAgICAgICAgb25DbGljaz17KCkgPT4gZGVsZXRlRmlsdGVyPy4oZmlsdGVyKX1cbiAgICAgICAgICB0b29sdGlwPXsnUmVtb3ZlIHRhZyd9XG4gICAgICAgICAgYXJpYS1sYWJlbD17YHJlbW92ZSB0YWcgd2l0aCBJRCAke2ZpbHRlci5pZH1gfVxuICAgICAgICAvPlxuICAgICAgKX1cbiAgICA8L0hvcml6b250YWxHcm91cD5cbiAgKTtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IFNlYXJjaEZpZWxkO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./public/app/plugins/datasource/tempo/SearchTraceQLEditor/SearchField.tsx\n");

/***/ }),

/***/ "./public/app/plugins/datasource/tempo/SearchTraceQLEditor/TagsInput.tsx":
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _emotion_css__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"./.yarn/cache/@emotion-css-npm-11.11.2-dbfa42cf83-1edea109df.zip/node_modules/@emotion/css/dist/emotion-css.esm.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(\"./.yarn/cache/react-npm-18.2.0-1eae08fee2-88e38092da.zip/node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var uuid__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(\"./.yarn/cache/uuid-npm-9.0.0-46c41e3e43-8dd2c83c43.zip/node_modules/uuid/dist/esm-browser/v4.js\");\n/* harmony import */ var _grafana_experimental__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(\"./.yarn/__virtual__/@grafana-experimental-virtual-ba767552fe/0/cache/@grafana-experimental-npm-1.6.1-f052d2ae51-64c32bc9e3.zip/node_modules/@grafana/experimental/dist/esm/QueryEditor/AccessoryButton.js\");\n/* harmony import */ var _grafana_ui__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(\"./.yarn/__virtual__/@grafana-ui-virtual-d722efae30/1/packages/grafana-ui/src/themes/ThemeContext.tsx\");\n/* harmony import */ var _dataquery_gen__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(\"./public/app/plugins/datasource/tempo/dataquery.gen.ts\");\n/* harmony import */ var _SearchField__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(\"./public/app/plugins/datasource/tempo/SearchTraceQLEditor/SearchField.tsx\");\n/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(\"./public/app/plugins/datasource/tempo/SearchTraceQLEditor/utils.ts\");\n\n\n\n\n\n\n\n\n\nconst getStyles = () => ({\n  vertical: (0,_emotion_css__WEBPACK_IMPORTED_MODULE_0__.css)`\n    display: flex;\n    flex-direction: column;\n    gap: 0.25rem;\n  `,\n  horizontal: (0,_emotion_css__WEBPACK_IMPORTED_MODULE_0__.css)`\n    display: flex;\n    flex-direction: row;\n    gap: 1rem;\n  `\n});\nconst TagsInput = ({\n  updateFilter,\n  deleteFilter,\n  filters,\n  datasource,\n  setError,\n  staticTags,\n  isTagsLoading,\n  hideValues\n}) => {\n  const styles = (0,_grafana_ui__WEBPACK_IMPORTED_MODULE_5__.useStyles2)(getStyles);\n  const generateId = () => (0,uuid__WEBPACK_IMPORTED_MODULE_6__[\"default\"])().slice(0, 8);\n  const handleOnAdd = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(\n    () => updateFilter({ id: generateId(), operator: \"=\", scope: _dataquery_gen__WEBPACK_IMPORTED_MODULE_2__.TraceqlSearchScope.Span }),\n    [updateFilter]\n  );\n  (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(() => {\n    if (!filters?.length) {\n      handleOnAdd();\n    }\n  }, [filters, handleOnAdd]);\n  const getTags = (f) => {\n    const tags = datasource.languageProvider.getTags(f.scope);\n    return (0,_utils__WEBPACK_IMPORTED_MODULE_4__.getFilteredTags)(tags, staticTags);\n  };\n  return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_1___default().createElement(\"div\", { className: styles.vertical }, filters?.map((f, i) => /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_1___default().createElement(\"div\", { className: styles.horizontal, key: f.id }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_1___default().createElement(\n    _SearchField__WEBPACK_IMPORTED_MODULE_3__[\"default\"],\n    {\n      filter: f,\n      datasource,\n      setError,\n      updateFilter,\n      tags: getTags(f),\n      isTagsLoading,\n      deleteFilter,\n      allowDelete: true,\n      hideValue: hideValues\n    }\n  ), i === filters.length - 1 && /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_grafana_experimental__WEBPACK_IMPORTED_MODULE_7__.AccessoryButton, { variant: \"secondary\", icon: \"plus\", onClick: handleOnAdd, title: \"Add tag\" }))));\n};\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (TagsInput);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9wdWJsaWMvYXBwL3BsdWdpbnMvZGF0YXNvdXJjZS90ZW1wby9TZWFyY2hUcmFjZVFMRWRpdG9yL1RhZ3NJbnB1dC50c3giLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7QUFBb0I7QUFDMEI7QUFDakI7QUFFRztBQUVMO0FBRXVCO0FBRzFCO0FBQ1E7QUFFaEMsTUFBTSxZQUFZLE9BQU87QUFBQSxFQUN2QixVQUFVLGlEQUFHO0FBQUg7QUFBQTtBQUFBO0FBQUE7QUFBQSxFQUtWLFlBQVksaURBQUc7QUFBSDtBQUFBO0FBQUE7QUFBQTtBQUtkO0FBWUEsTUFBTSxZQUFZLENBQUM7QUFBQSxFQUNqQjtBQUFBLEVBQ0E7QUFBQSxFQUNBO0FBQUEsRUFDQTtBQUFBLEVBQ0E7QUFBQSxFQUNBO0FBQUEsRUFDQTtBQUFBLEVBQ0E7QUFDRixNQUFhO0FBQ1gsUUFBTSxTQUFTLHVEQUFVLENBQUMsU0FBUztBQUNuQyxRQUFNLGFBQWEsTUFBTSxnREFBTSxDQUFDLEVBQUUsTUFBTSxHQUFHLENBQUM7QUFDNUMsUUFBTSxjQUFjLGtEQUFXO0FBQVgsSUFDbEIsTUFBTSxhQUFhLEVBQUUsSUFBSSxXQUFXLEdBQUcsVUFBVSxLQUFLLE9BQU8sOERBQWtCLENBQUMsS0FBSyxDQUFDO0FBQUEsSUFDdEYsQ0FBQyxZQUFZO0FBQUEsRUFDZjtBQUVBLGtEQUFTLENBQUMsTUFBTTtBQUNkLFFBQUksQ0FBQyxTQUFTLFFBQVE7QUFDcEIsa0JBQVk7QUFBQSxJQUNkO0FBQUEsRUFDRixHQUFHLENBQUMsU0FBUyxXQUFXLENBQUM7QUFFekIsUUFBTSxVQUFVLENBQUMsTUFBcUI7QUFDcEMsVUFBTSxPQUFPLFdBQVcsaUJBQWlCLFFBQVEsRUFBRSxLQUFLO0FBQ3hELFdBQU8sdURBQWUsQ0FBQyxNQUFNLFVBQVU7QUFBQSxFQUN6QztBQUVBLFNBQ0UsMkVBQUMsU0FBSSxXQUFXLE9BQU8sWUFDcEIsU0FBUyxJQUFJLENBQUMsR0FBRyxNQUNoQiwyRUFBQyxTQUFJLFdBQVcsT0FBTyxZQUFZLEtBQUssRUFBRSxNQUN4QztBQUFBLElBQUMsb0RBQVc7QUFBWDtBQUFBLE1BQ0MsUUFBUTtBQUFBLE1BQ1I7QUFBQSxNQUNBO0FBQUEsTUFDQTtBQUFBLE1BQ0EsTUFBTSxRQUFRLENBQUM7QUFBQSxNQUNmO0FBQUEsTUFDQTtBQUFBLE1BQ0EsYUFBYTtBQUFBLE1BQ2IsV0FBVztBQUFBO0FBQUEsRUFDYixHQUNDLE1BQU0sUUFBUSxTQUFTLEtBQ3RCLDJFQUFDLGtFQUFlLElBQUMsU0FBUyxhQUFhLE1BQU0sUUFBUSxTQUFTLGFBQWEsT0FBTyxXQUFXLENBRWpHLENBQ0QsQ0FDSDtBQUVKO0FBRUEsaUVBQWUsU0FBUyxFQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZ3JhZmFuYS8uL3B1YmxpYy9hcHAvcGx1Z2lucy9kYXRhc291cmNlL3RlbXBvL1NlYXJjaFRyYWNlUUxFZGl0b3IvVGFnc0lucHV0LnRzeD9lYjE2Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGNzcyB9IGZyb20gJ0BlbW90aW9uL2Nzcyc7XG5pbXBvcnQgUmVhY3QsIHsgdXNlQ2FsbGJhY2ssIHVzZUVmZmVjdCB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IHY0IGFzIHV1aWR2NCB9IGZyb20gJ3V1aWQnO1xuXG5pbXBvcnQgeyBBY2Nlc3NvcnlCdXR0b24gfSBmcm9tICdAZ3JhZmFuYS9leHBlcmltZW50YWwnO1xuaW1wb3J0IHsgRmV0Y2hFcnJvciB9IGZyb20gJ0BncmFmYW5hL3J1bnRpbWUnO1xuaW1wb3J0IHsgdXNlU3R5bGVzMiB9IGZyb20gJ0BncmFmYW5hL3VpJztcblxuaW1wb3J0IHsgVHJhY2VxbEZpbHRlciwgVHJhY2VxbFNlYXJjaFNjb3BlIH0gZnJvbSAnLi4vZGF0YXF1ZXJ5Lmdlbic7XG5pbXBvcnQgeyBUZW1wb0RhdGFzb3VyY2UgfSBmcm9tICcuLi9kYXRhc291cmNlJztcblxuaW1wb3J0IFNlYXJjaEZpZWxkIGZyb20gJy4vU2VhcmNoRmllbGQnO1xuaW1wb3J0IHsgZ2V0RmlsdGVyZWRUYWdzIH0gZnJvbSAnLi91dGlscyc7XG5cbmNvbnN0IGdldFN0eWxlcyA9ICgpID0+ICh7XG4gIHZlcnRpY2FsOiBjc3NgXG4gICAgZGlzcGxheTogZmxleDtcbiAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xuICAgIGdhcDogMC4yNXJlbTtcbiAgYCxcbiAgaG9yaXpvbnRhbDogY3NzYFxuICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgZmxleC1kaXJlY3Rpb246IHJvdztcbiAgICBnYXA6IDFyZW07XG4gIGAsXG59KTtcblxuaW50ZXJmYWNlIFByb3BzIHtcbiAgdXBkYXRlRmlsdGVyOiAoZjogVHJhY2VxbEZpbHRlcikgPT4gdm9pZDtcbiAgZGVsZXRlRmlsdGVyOiAoZjogVHJhY2VxbEZpbHRlcikgPT4gdm9pZDtcbiAgZmlsdGVyczogVHJhY2VxbEZpbHRlcltdO1xuICBkYXRhc291cmNlOiBUZW1wb0RhdGFzb3VyY2U7XG4gIHNldEVycm9yOiAoZXJyb3I6IEZldGNoRXJyb3IpID0+IHZvaWQ7XG4gIHN0YXRpY1RhZ3M6IEFycmF5PHN0cmluZyB8IHVuZGVmaW5lZD47XG4gIGlzVGFnc0xvYWRpbmc6IGJvb2xlYW47XG4gIGhpZGVWYWx1ZXM/OiBib29sZWFuO1xufVxuY29uc3QgVGFnc0lucHV0ID0gKHtcbiAgdXBkYXRlRmlsdGVyLFxuICBkZWxldGVGaWx0ZXIsXG4gIGZpbHRlcnMsXG4gIGRhdGFzb3VyY2UsXG4gIHNldEVycm9yLFxuICBzdGF0aWNUYWdzLFxuICBpc1RhZ3NMb2FkaW5nLFxuICBoaWRlVmFsdWVzLFxufTogUHJvcHMpID0+IHtcbiAgY29uc3Qgc3R5bGVzID0gdXNlU3R5bGVzMihnZXRTdHlsZXMpO1xuICBjb25zdCBnZW5lcmF0ZUlkID0gKCkgPT4gdXVpZHY0KCkuc2xpY2UoMCwgOCk7XG4gIGNvbnN0IGhhbmRsZU9uQWRkID0gdXNlQ2FsbGJhY2soXG4gICAgKCkgPT4gdXBkYXRlRmlsdGVyKHsgaWQ6IGdlbmVyYXRlSWQoKSwgb3BlcmF0b3I6ICc9Jywgc2NvcGU6IFRyYWNlcWxTZWFyY2hTY29wZS5TcGFuIH0pLFxuICAgIFt1cGRhdGVGaWx0ZXJdXG4gICk7XG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoIWZpbHRlcnM/Lmxlbmd0aCkge1xuICAgICAgaGFuZGxlT25BZGQoKTtcbiAgICB9XG4gIH0sIFtmaWx0ZXJzLCBoYW5kbGVPbkFkZF0pO1xuXG4gIGNvbnN0IGdldFRhZ3MgPSAoZjogVHJhY2VxbEZpbHRlcikgPT4ge1xuICAgIGNvbnN0IHRhZ3MgPSBkYXRhc291cmNlLmxhbmd1YWdlUHJvdmlkZXIuZ2V0VGFncyhmLnNjb3BlKTtcbiAgICByZXR1cm4gZ2V0RmlsdGVyZWRUYWdzKHRhZ3MsIHN0YXRpY1RhZ3MpO1xuICB9O1xuXG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9e3N0eWxlcy52ZXJ0aWNhbH0+XG4gICAgICB7ZmlsdGVycz8ubWFwKChmLCBpKSA9PiAoXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPXtzdHlsZXMuaG9yaXpvbnRhbH0ga2V5PXtmLmlkfT5cbiAgICAgICAgICA8U2VhcmNoRmllbGRcbiAgICAgICAgICAgIGZpbHRlcj17Zn1cbiAgICAgICAgICAgIGRhdGFzb3VyY2U9e2RhdGFzb3VyY2V9XG4gICAgICAgICAgICBzZXRFcnJvcj17c2V0RXJyb3J9XG4gICAgICAgICAgICB1cGRhdGVGaWx0ZXI9e3VwZGF0ZUZpbHRlcn1cbiAgICAgICAgICAgIHRhZ3M9e2dldFRhZ3MoZil9XG4gICAgICAgICAgICBpc1RhZ3NMb2FkaW5nPXtpc1RhZ3NMb2FkaW5nfVxuICAgICAgICAgICAgZGVsZXRlRmlsdGVyPXtkZWxldGVGaWx0ZXJ9XG4gICAgICAgICAgICBhbGxvd0RlbGV0ZT17dHJ1ZX1cbiAgICAgICAgICAgIGhpZGVWYWx1ZT17aGlkZVZhbHVlc31cbiAgICAgICAgICAvPlxuICAgICAgICAgIHtpID09PSBmaWx0ZXJzLmxlbmd0aCAtIDEgJiYgKFxuICAgICAgICAgICAgPEFjY2Vzc29yeUJ1dHRvbiB2YXJpYW50PXsnc2Vjb25kYXJ5J30gaWNvbj17J3BsdXMnfSBvbkNsaWNrPXtoYW5kbGVPbkFkZH0gdGl0bGU9eydBZGQgdGFnJ30gLz5cbiAgICAgICAgICApfVxuICAgICAgICA8L2Rpdj5cbiAgICAgICkpfVxuICAgIDwvZGl2PlxuICApO1xufTtcblxuZXhwb3J0IGRlZmF1bHQgVGFnc0lucHV0O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./public/app/plugins/datasource/tempo/SearchTraceQLEditor/TagsInput.tsx\n");

/***/ }),

/***/ "./public/app/plugins/datasource/tempo/SearchTraceQLEditor/TraceQLSearch.tsx":
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _emotion_css__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"./.yarn/cache/@emotion-css-npm-11.11.2-dbfa42cf83-1edea109df.zip/node_modules/@emotion/css/dist/emotion-css.esm.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(\"./.yarn/cache/react-npm-18.2.0-1eae08fee2-88e38092da.zip/node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _grafana_experimental__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(\"./.yarn/__virtual__/@grafana-experimental-virtual-ba767552fe/0/cache/@grafana-experimental-npm-1.6.1-f052d2ae51-64c32bc9e3.zip/node_modules/@grafana/experimental/dist/esm/QueryEditor/EditorRow.js\");\n/* harmony import */ var _grafana_ui__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(\"./.yarn/__virtual__/@grafana-ui-virtual-d722efae30/1/packages/grafana-ui/src/themes/ThemeContext.tsx\");\n/* harmony import */ var _grafana_ui__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(\"./.yarn/__virtual__/@grafana-ui-virtual-d722efae30/1/packages/grafana-ui/src/components/Layout/Layout.tsx\");\n/* harmony import */ var _grafana_ui__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(\"./.yarn/__virtual__/@grafana-ui-virtual-d722efae30/1/packages/grafana-ui/src/components/Alert/Alert.tsx\");\n/* harmony import */ var _core_copy_appNotification__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(\"./public/app/core/copy/appNotification.ts\");\n/* harmony import */ var _core_reducers_appNotification__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(\"./public/app/core/reducers/appNotification.ts\");\n/* harmony import */ var _store_store__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(\"./public/app/store/store.ts\");\n/* harmony import */ var _prometheus_querybuilder_shared_RawQuery__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(\"./public/app/plugins/datasource/prometheus/querybuilder/shared/RawQuery.tsx\");\n/* harmony import */ var _traceql_TempoQueryBuilderOptions__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(\"./public/app/plugins/datasource/tempo/traceql/TempoQueryBuilderOptions.tsx\");\n/* harmony import */ var _traceql_traceql__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(\"./public/app/plugins/datasource/tempo/traceql/traceql.ts\");\n/* harmony import */ var _DurationInput__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(\"./public/app/plugins/datasource/tempo/SearchTraceQLEditor/DurationInput.tsx\");\n/* harmony import */ var _InlineSearchField__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(\"./public/app/plugins/datasource/tempo/SearchTraceQLEditor/InlineSearchField.tsx\");\n/* harmony import */ var _SearchField__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(\"./public/app/plugins/datasource/tempo/SearchTraceQLEditor/SearchField.tsx\");\n/* harmony import */ var _TagsInput__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(\"./public/app/plugins/datasource/tempo/SearchTraceQLEditor/TagsInput.tsx\");\n/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(\"./public/app/plugins/datasource/tempo/SearchTraceQLEditor/utils.ts\");\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nconst TraceQLSearch = ({ datasource, query, onChange }) => {\n  const styles = (0,_grafana_ui__WEBPACK_IMPORTED_MODULE_13__.useStyles2)(getStyles);\n  const [error, setError] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n  const [isTagsLoading, setIsTagsLoading] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(true);\n  const [traceQlQuery, setTraceQlQuery] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n  const updateFilter = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(\n    (s) => {\n      const copy = { ...query };\n      copy.filters ||= [];\n      const indexOfFilter = copy.filters.findIndex((f) => f.id === s.id);\n      if (indexOfFilter >= 0) {\n        copy.filters = (0,_utils__WEBPACK_IMPORTED_MODULE_12__.replaceAt)(copy.filters, indexOfFilter, s);\n      } else {\n        copy.filters.push(s);\n      }\n      onChange(copy);\n    },\n    [onChange, query]\n  );\n  const deleteFilter = (s) => {\n    onChange({ ...query, filters: query.filters.filter((f) => f.id !== s.id) });\n  };\n  (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(() => {\n    setTraceQlQuery((0,_utils__WEBPACK_IMPORTED_MODULE_12__.generateQueryFromFilters)(query.filters || []));\n  }, [query]);\n  const findFilter = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)((id) => query.filters?.find((f) => f.id === id), [query.filters]);\n  (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(() => {\n    const fetchTags = async () => {\n      try {\n        await datasource.languageProvider.start();\n        setIsTagsLoading(false);\n      } catch (error2) {\n        if (error2 instanceof Error) {\n          (0,_store_store__WEBPACK_IMPORTED_MODULE_4__.dispatch)((0,_core_reducers_appNotification__WEBPACK_IMPORTED_MODULE_3__.notifyApp)((0,_core_copy_appNotification__WEBPACK_IMPORTED_MODULE_2__.createErrorNotification)(\"Error\", error2)));\n        }\n      }\n    };\n    fetchTags();\n  }, [datasource]);\n  (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(() => {\n    datasource.search?.filters?.filter((f) => f.value).forEach((f) => {\n      if (!findFilter(f.id)) {\n        updateFilter(f);\n      }\n    });\n  }, [datasource.search?.filters, findFilter, updateFilter]);\n  const staticTags = datasource.search?.filters?.map((f) => f.tag) || [];\n  staticTags.push(\"duration\");\n  const dynamicFilters = (query.filters || []).filter(\n    (f) => f.tag !== \"duration\" && (datasource.search?.filters?.findIndex((sf) => sf.id === f.id) || 0) === -1\n  );\n  return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_1___default().createElement((react__WEBPACK_IMPORTED_MODULE_1___default().Fragment), null, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_1___default().createElement(\"div\", { className: styles.container }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_1___default().createElement(\"div\", null, datasource.search?.filters?.map((f) => /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_1___default().createElement(\n    _InlineSearchField__WEBPACK_IMPORTED_MODULE_9__[\"default\"],\n    {\n      key: f.id,\n      label: (0,_utils__WEBPACK_IMPORTED_MODULE_12__.filterTitle)(f),\n      tooltip: `Filter your search by ${(0,_utils__WEBPACK_IMPORTED_MODULE_12__.filterScopedTag)(\n        f\n      )}. To modify the default filters shown for search visit the Tempo datasource configuration page.`\n    },\n    /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_1___default().createElement(\n      _SearchField__WEBPACK_IMPORTED_MODULE_10__[\"default\"],\n      {\n        filter: findFilter(f.id) || f,\n        datasource,\n        setError,\n        updateFilter,\n        tags: [],\n        hideScope: true,\n        hideTag: true\n      }\n    )\n  )), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_1___default().createElement(\n    _InlineSearchField__WEBPACK_IMPORTED_MODULE_9__[\"default\"],\n    {\n      label: \"Duration\",\n      tooltip: \"The span duration, i.e.\tend - start time of the span. Accepted units are ns, ms, s, m, h\"\n    },\n    /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_grafana_ui__WEBPACK_IMPORTED_MODULE_14__.HorizontalGroup, { spacing: \"sm\" }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_1___default().createElement(\n      _DurationInput__WEBPACK_IMPORTED_MODULE_8__[\"default\"],\n      {\n        filter: findFilter(\"min-duration\") || {\n          id: \"min-duration\",\n          tag: \"duration\",\n          operator: \">\",\n          valueType: \"duration\"\n        },\n        operators: [\">\", \">=\"],\n        updateFilter\n      }\n    ), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_1___default().createElement(\n      _DurationInput__WEBPACK_IMPORTED_MODULE_8__[\"default\"],\n      {\n        filter: findFilter(\"max-duration\") || {\n          id: \"max-duration\",\n          tag: \"duration\",\n          operator: \"<\",\n          valueType: \"duration\"\n        },\n        operators: [\"<\", \"<=\"],\n        updateFilter\n      }\n    ))\n  ), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_InlineSearchField__WEBPACK_IMPORTED_MODULE_9__[\"default\"], { label: \"Tags\" }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_1___default().createElement(\n    _TagsInput__WEBPACK_IMPORTED_MODULE_11__[\"default\"],\n    {\n      filters: dynamicFilters,\n      datasource,\n      setError,\n      updateFilter,\n      deleteFilter,\n      staticTags,\n      isTagsLoading\n    }\n  ))), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_grafana_experimental__WEBPACK_IMPORTED_MODULE_15__.EditorRow, null, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_prometheus_querybuilder_shared_RawQuery__WEBPACK_IMPORTED_MODULE_5__.RawQuery, { query: traceQlQuery, lang: { grammar: _traceql_traceql__WEBPACK_IMPORTED_MODULE_7__.traceqlGrammar, name: \"traceql\" } })), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_traceql_TempoQueryBuilderOptions__WEBPACK_IMPORTED_MODULE_6__.TempoQueryBuilderOptions, { onChange, query })), error ? /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_grafana_ui__WEBPACK_IMPORTED_MODULE_16__.Alert, { title: \"Unable to connect to Tempo search\", severity: \"info\", className: styles.alert }, \"Please ensure that Tempo is configured with search enabled. If you would like to hide this tab, you can configure it in the \", /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_1___default().createElement(\"a\", { href: `/datasources/edit/${datasource.uid}` }, \"datasource settings\"), \".\") : null);\n};\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (TraceQLSearch);\nconst getStyles = (theme) => ({\n  alert: (0,_emotion_css__WEBPACK_IMPORTED_MODULE_0__.css)`\n    max-width: 75ch;\n    margin-top: ${theme.spacing(2)};\n  `,\n  container: (0,_emotion_css__WEBPACK_IMPORTED_MODULE_0__.css)`\n    display: flex;\n    gap: 4px;\n    flex-wrap: wrap;\n    flex-direction: column;\n  `\n});\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9wdWJsaWMvYXBwL3BsdWdpbnMvZGF0YXNvdXJjZS90ZW1wby9TZWFyY2hUcmFjZVFMRWRpdG9yL1RyYWNlUUxTZWFyY2gudHN4IiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQW9CO0FBQ29DO0FBRzlCO0FBRXlCO0FBRVg7QUFDZDtBQUNEO0FBQ0E7QUFHZ0I7QUFDVjtBQUdMO0FBQ0k7QUFDTjtBQUNGO0FBQzREO0FBU2xGLE1BQU0sZ0JBQWdCLENBQUMsRUFBRSxZQUFZLE9BQU8sU0FBUyxNQUFhO0FBQ2hFLFFBQU0sU0FBUyx3REFBVSxDQUFDLFNBQVM7QUFDbkMsUUFBTSxDQUFDLE9BQU8sUUFBUSxJQUFJLCtDQUFRLENBQTRCLElBQUk7QUFFbEUsUUFBTSxDQUFDLGVBQWUsZ0JBQWdCLElBQUksK0NBQVEsQ0FBQyxJQUFJO0FBQ3ZELFFBQU0sQ0FBQyxjQUFjLGVBQWUsSUFBSSwrQ0FBUSxDQUFTLEVBQUU7QUFFM0QsUUFBTSxlQUFlLGtEQUFXO0FBQVgsSUFDbkIsQ0FBQyxNQUFxQjtBQUNwQixZQUFNLE9BQU8sRUFBRSxHQUFHLE1BQU07QUFDeEIsV0FBSyxZQUFZLENBQUM7QUFDbEIsWUFBTSxnQkFBZ0IsS0FBSyxRQUFRLFVBQVUsQ0FBQyxNQUFNLEVBQUUsT0FBTyxFQUFFLEVBQUU7QUFDakUsVUFBSSxpQkFBaUIsR0FBRztBQUV0QixhQUFLLFVBQVUsa0RBQVMsQ0FBQyxLQUFLLFNBQVMsZUFBZSxDQUFDO0FBQUEsTUFDekQsT0FBTztBQUNMLGFBQUssUUFBUSxLQUFLLENBQUM7QUFBQSxNQUNyQjtBQUNBLGVBQVMsSUFBSTtBQUFBLElBQ2Y7QUFBQSxJQUNBLENBQUMsVUFBVSxLQUFLO0FBQUEsRUFDbEI7QUFFQSxRQUFNLGVBQWUsQ0FBQyxNQUFxQjtBQUN6QyxhQUFTLEVBQUUsR0FBRyxPQUFPLFNBQVMsTUFBTSxRQUFRLE9BQU8sQ0FBQyxNQUFNLEVBQUUsT0FBTyxFQUFFLEVBQUUsRUFBRSxDQUFDO0FBQUEsRUFD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MkVBQUMsMERBQWlCLElBQUMsT0FBTyxVQUN4QjtBQUFBLElBQUMsbURBQVM7QUFBVDtBQUFBLE1BQ0MsU0FBUztBQUFBLE1BQ1Q7QUFBQSxNQUNBO0FBQUEsTUFDQTtBQUFBLE1BQ0E7QUFBQSxNQUNBO0FBQUEsTUFDQTtBQUFBO0FBQUEsRUFDRixDQUNGLENBQ0YsR0FDQSwyRUFBQyw2REFBUyxRQUNSLDJFQUFDLDhFQUFRLElBQUMsT0FBTyxjQUFjLE1BQU0sRUFBRSxTQUFTLDREQUFjLEVBQUUsTUFBTSxVQUFVLEdBQUcsQ0FDckYsR0FDQSwyRUFBQyx1RkFBd0IsSUFBQyxVQUFvQixPQUFjLENBQzlELEdBQ0MsUUFDQywyRUFBQywrQ0FBSyxJQUFDLE9BQU0scUNBQW9DLFVBQVMsUUFBTyxXQUFXLE9BQU8sU0FBTyxnSUFFcEUsMkVBQUMsT0FBRSxNQUFNLHFCQUFxQixXQUFXLFNBQU8scUJBQW1CLEdBQUksR0FDN0YsSUFDRSxJQUNOO0FBRUo7QUFFQSxpRUFBZSxhQUFhLEVBQUM7QUFFN0IsTUFBTSxZQUFZLENBQUMsV0FBMEI7QUFBQSxFQUMzQyxPQUFPLGlEQUFHO0FBQUg7QUFBQSxrQkFFUyxNQUFNLFFBQVEsQ0FBQztBQUFBO0FBQUEsRUFFL0IsV0FBVyxpREFBRztBQUFIO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFNYiIsInNvdXJjZXMiOlsid2VicGFjazovL2dyYWZhbmEvLi9wdWJsaWMvYXBwL3BsdWdpbnMvZGF0YXNvdXJjZS90ZW1wby9TZWFyY2hUcmFjZVFMRWRpdG9yL1RyYWNlUUxTZWFyY2gudHN4PzllZTYiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgY3NzIH0gZnJvbSAnQGVtb3Rpb24vY3NzJztcbmltcG9ydCBSZWFjdCwgeyB1c2VDYWxsYmFjaywgdXNlRWZmZWN0LCB1c2VTdGF0ZSB9IGZyb20gJ3JlYWN0JztcblxuaW1wb3J0IHsgR3JhZmFuYVRoZW1lMiB9IGZyb20gJ0BncmFmYW5hL2RhdGEnO1xuaW1wb3J0IHsgRWRpdG9yUm93IH0gZnJvbSAnQGdyYWZhbmEvZXhwZXJpbWVudGFsJztcbmltcG9ydCB7IEZldGNoRXJyb3IgfSBmcm9tICdAZ3JhZmFuYS9ydW50aW1lJztcbmltcG9ydCB7IEFsZXJ0LCBIb3Jpem9udGFsR3JvdXAsIHVzZVN0eWxlczIgfSBmcm9tICdAZ3JhZmFuYS91aSc7XG5cbmltcG9ydCB7IGNyZWF0ZUVycm9yTm90aWZpY2F0aW9uIH0gZnJvbSAnLi4vLi4vLi4vLi4vY29yZS9jb3B5L2FwcE5vdGlmaWNhdGlvbic7XG5pbXBvcnQgeyBub3RpZnlBcHAgfSBmcm9tICcuLi8uLi8uLi8uLi9jb3JlL3JlZHVjZXJzL2FwcE5vdGlmaWNhdGlvbic7XG5pbXBvcnQgeyBkaXNwYXRjaCB9IGZyb20gJy4uLy4uLy4uLy4uL3N0b3JlL3N0b3JlJztcbmltcG9ydCB7IFJhd1F1ZXJ5IH0gZnJvbSAnLi4vLi4vcHJvbWV0aGV1cy9xdWVyeWJ1aWxkZXIvc2hhcmVkL1Jhd1F1ZXJ5JztcbmltcG9ydCB7IFRyYWNlcWxGaWx0ZXIgfSBmcm9tICcuLi9kYXRhcXVlcnkuZ2VuJztcbmltcG9ydCB7IFRlbXBvRGF0YXNvdXJjZSB9IGZyb20gJy4uL2RhdGFzb3VyY2UnO1xuaW1wb3J0IHsgVGVtcG9RdWVyeUJ1aWxkZXJPcHRpb25zIH0gZnJvbSAnLi4vdHJhY2VxbC9UZW1wb1F1ZXJ5QnVpbGRlck9wdGlvbnMnO1xuaW1wb3J0IHsgdHJhY2VxbEdyYW1tYXIgfSBmcm9tICcuLi90cmFjZXFsL3RyYWNlcWwnO1xuaW1wb3J0IHsgVGVtcG9RdWVyeSB9IGZyb20gJy4uL3R5cGVzJztcblxuaW1wb3J0IER1cmF0aW9uSW5wdXQgZnJvbSAnLi9EdXJhdGlvbklucHV0JztcbmltcG9ydCBJbmxpbmVTZWFyY2hGaWVsZCBmcm9tICcuL0lubGluZVNlYXJjaEZpZWxkJztcbmltcG9ydCBTZWFyY2hGaWVsZCBmcm9tICcuL1NlYXJjaEZpZWxkJztcbmltcG9ydCBUYWdzSW5wdXQgZnJvbSAnLi9UYWdzSW5wdXQnO1xuaW1wb3J0IHsgZmlsdGVyU2NvcGVkVGFnLCBmaWx0ZXJUaXRsZSwgZ2VuZXJhdGVRdWVyeUZyb21GaWx0ZXJzLCByZXBsYWNlQXQgfSBmcm9tICcuL3V0aWxzJztcblxuaW50ZXJmYWNlIFByb3BzIHtcbiAgZGF0YXNvdXJjZTogVGVtcG9EYXRhc291cmNlO1xuICBxdWVyeTogVGVtcG9RdWVyeTtcbiAgb25DaGFuZ2U6ICh2YWx1ZTogVGVtcG9RdWVyeSkgPT4gdm9pZDtcbiAgb25CbHVyPzogKCkgPT4gdm9pZDtcbn1cblxuY29uc3QgVHJhY2VRTFNlYXJjaCA9ICh7IGRhdGFzb3VyY2UsIHF1ZXJ5LCBvbkNoYW5nZSB9OiBQcm9wcykgPT4ge1xuICBjb25zdCBzdHlsZXMgPSB1c2VTdHlsZXMyKGdldFN0eWxlcyk7XG4gIGNvbnN0IFtlcnJvciwgc2V0RXJyb3JdID0gdXNlU3RhdGU8RXJyb3IgfCBGZXRjaEVycm9yIHwgbnVsbD4obnVsbCk7XG5cbiAgY29uc3QgW2lzVGFnc0xvYWRpbmcsIHNldElzVGFnc0xvYWRpbmddID0gdXNlU3RhdGUodHJ1ZSk7XG4gIGNvbnN0IFt0cmFjZVFsUXVlcnksIHNldFRyYWNlUWxRdWVyeV0gPSB1c2VTdGF0ZTxzdHJpbmc+KCcnKTtcblxuICBjb25zdCB1cGRhdGVGaWx0ZXIgPSB1c2VDYWxsYmFjayhcbiAgICAoczogVHJhY2VxbEZpbHRlcikgPT4ge1xuICAgICAgY29uc3QgY29weSA9IHsgLi4ucXVlcnkgfTtcbiAgICAgIGNvcHkuZmlsdGVycyB8fD0gW107XG4gICAgICBjb25zdCBpbmRleE9mRmlsdGVyID0gY29weS5maWx0ZXJzLmZpbmRJbmRleCgoZikgPT4gZi5pZCA9PT0gcy5pZCk7XG4gICAgICBpZiAoaW5kZXhPZkZpbHRlciA+PSAwKSB7XG4gICAgICAgIC8vIHVwZGF0ZSBpbiBwbGFjZSBpZiB0aGUgZmlsdGVyIGFscmVhZHkgZXhpc3RzLCBmb3IgY29uc2lzdGVuY3kgYW5kIHRvIGF2b2lkIFVJIGJ1Z3NcbiAgICAgICAgY29weS5maWx0ZXJzID0gcmVwbGFjZUF0KGNvcHkuZmlsdGVycywgaW5kZXhPZkZpbHRlciwgcyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb3B5LmZpbHRlcnMucHVzaChzKTtcbiAgICAgIH1cbiAgICAgIG9uQ2hhbmdlKGNvcHkpO1xuICAgIH0sXG4gICAgW29uQ2hhbmdlLCBxdWVyeV1cbiAgKTtcblxuICBjb25zdCBkZWxldGVGaWx0ZXIgPSAoczogVHJhY2VxbEZpbHRlcikgPT4ge1xuICAgIG9uQ2hhbmdlKHsgLi4ucXVlcnksIGZpbHRlcnM6IHF1ZXJ5LmZpbHRlcnMuZmlsdGVyKChmKSA9PiBmLmlkICE9PSBzLmlkKSB9KTtcbiAgfTtcblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIHNldFRyYWNlUWxRdWVyeShnZW5lcmF0ZVF1ZXJ5RnJvbUZpbHRlcnMocXVlcnkuZmlsdGVycyB8fCBbXSkpO1xuICB9LCBbcXVlcnldKTtcblxuICBjb25zdCBmaW5kRmlsdGVyID0gdXNlQ2FsbGJhY2soKGlkOiBzdHJpbmcpID0+IHF1ZXJ5LmZpbHRlcnM/LmZpbmQoKGYpID0+IGYuaWQgPT09IGlkKSwgW3F1ZXJ5LmZpbHRlcnNdKTtcblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGNvbnN0IGZldGNoVGFncyA9IGFzeW5jICgpID0+IHtcbiAgICAgIHRyeSB7XG4gICAgICAgIGF3YWl0IGRhdGFzb3VyY2UubGFuZ3VhZ2VQcm92aWRlci5zdGFydCgpO1xuICAgICAgICBzZXRJc1RhZ3NMb2FkaW5nKGZhbHNlKTtcbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGlmIChlcnJvciBpbnN0YW5jZW9mIEVycm9yKSB7XG4gICAgICAgICAgZGlzcGF0Y2gobm90aWZ5QXBwKGNyZWF0ZUVycm9yTm90aWZpY2F0aW9uKCdFcnJvcicsIGVycm9yKSkpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfTtcbiAgICBmZXRjaFRhZ3MoKTtcbiAgfSwgW2RhdGFzb3VyY2VdKTtcblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIC8vIEluaXRpYWxpemUgc3RhdGUgd2l0aCBjb25maWd1cmVkIHN0YXRpYyBmaWx0ZXJzIHRoYXQgYWxyZWFkeSBoYXZlIGEgdmFsdWUgZnJvbSB0aGUgY29uZmlnXG4gICAgZGF0YXNvdXJjZS5zZWFyY2g/LmZpbHRlcnNcbiAgICAgID8uZmlsdGVyKChmKSA9PiBmLnZhbHVlKVxuICAgICAgLmZvckVhY2goKGYpID0+IHtcbiAgICAgICAgaWYgKCFmaW5kRmlsdGVyKGYuaWQpKSB7XG4gICAgICAgICAgdXBkYXRlRmlsdGVyKGYpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgfSwgW2RhdGFzb3VyY2Uuc2VhcmNoPy5maWx0ZXJzLCBmaW5kRmlsdGVyLCB1cGRhdGVGaWx0ZXJdKTtcblxuICAvLyBmaWx0ZXIgb3V0IHRhZ3MgdGhhdCBhbHJlYWR5IGV4aXN0IGluIHRoZSBzdGF0aWMgZmllbGRzXG4gIGNvbnN0IHN0YXRpY1RhZ3MgPSBkYXRhc291cmNlLnNlYXJjaD8uZmlsdGVycz8ubWFwKChmKSA9PiBmLnRhZykgfHwgW107XG4gIHN0YXRpY1RhZ3MucHVzaCgnZHVyYXRpb24nKTtcblxuICAvLyBEeW5hbWljIGZpbHRlcnMgYXJlIGFsbCBmaWx0ZXJzIHRoYXQgZG9uJ3QgbWF0Y2ggdGhlIElEIG9mIGEgZmlsdGVyIGluIHRoZSBkYXRhc291cmNlIGNvbmZpZ3VyYXRpb25cbiAgLy8gVGhlIGR1cmF0aW9uIHRhZyBpcyBhIHNwZWNpYWwgY2FzZSBzaW5jZSBpdHMgc2VsZWN0b3IgaXMgaGFyZC1jb2RlZFxuICBjb25zdCBkeW5hbWljRmlsdGVycyA9IChxdWVyeS5maWx0ZXJzIHx8IFtdKS5maWx0ZXIoXG4gICAgKGYpID0+IGYudGFnICE9PSAnZHVyYXRpb24nICYmIChkYXRhc291cmNlLnNlYXJjaD8uZmlsdGVycz8uZmluZEluZGV4KChzZikgPT4gc2YuaWQgPT09IGYuaWQpIHx8IDApID09PSAtMVxuICApO1xuXG4gIHJldHVybiAoXG4gICAgPD5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPXtzdHlsZXMuY29udGFpbmVyfT5cbiAgICAgICAgPGRpdj5cbiAgICAgICAgICB7ZGF0YXNvdXJjZS5zZWFyY2g/LmZpbHRlcnM/Lm1hcCgoZikgPT4gKFxuICAgICAgICAgICAgPElubGluZVNlYXJjaEZpZWxkXG4gICAgICAgICAgICAgIGtleT17Zi5pZH1cbiAgICAgICAgICAgICAgbGFiZWw9e2ZpbHRlclRpdGxlKGYpfVxuICAgICAgICAgICAgICB0b29sdGlwPXtgRmlsdGVyIHlvdXIgc2VhcmNoIGJ5ICR7ZmlsdGVyU2NvcGVkVGFnKFxuICAgICAgICAgICAgICAgIGZcbiAgICAgICAgICAgICAgKX0uIFRvIG1vZGlmeSB0aGUgZGVmYXVsdCBmaWx0ZXJzIHNob3duIGZvciBzZWFyY2ggdmlzaXQgdGhlIFRlbXBvIGRhdGFzb3VyY2UgY29uZmlndXJhdGlvbiBwYWdlLmB9XG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgIDxTZWFyY2hGaWVsZFxuICAgICAgICAgICAgICAgIGZpbHRlcj17ZmluZEZpbHRlcihmLmlkKSB8fCBmfVxuICAgICAgICAgICAgICAgIGRhdGFzb3VyY2U9e2RhdGFzb3VyY2V9XG4gICAgICAgICAgICAgICAgc2V0RXJyb3I9e3NldEVycm9yfVxuICAgICAgICAgICAgICAgIHVwZGF0ZUZpbHRlcj17dXBkYXRlRmlsdGVyfVxuICAgICAgICAgICAgICAgIHRhZ3M9e1tdfVxuICAgICAgICAgICAgICAgIGhpZGVTY29wZT17dHJ1ZX1cbiAgICAgICAgICAgICAgICBoaWRlVGFnPXt0cnVlfVxuICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgPC9JbmxpbmVTZWFyY2hGaWVsZD5cbiAgICAgICAgICApKX1cbiAgICAgICAgICA8SW5saW5lU2VhcmNoRmllbGRcbiAgICAgICAgICAgIGxhYmVsPXsnRHVyYXRpb24nfVxuICAgICAgICAgICAgdG9vbHRpcD1cIlRoZSBzcGFuIGR1cmF0aW9uLCBpLmUuXHRlbmQgLSBzdGFydCB0aW1lIG9mIHRoZSBzcGFuLiBBY2NlcHRlZCB1bml0cyBhcmUgbnMsIG1zLCBzLCBtLCBoXCJcbiAgICAgICAgICA+XG4gICAgICAgICAgICA8SG9yaXpvbnRhbEdyb3VwIHNwYWNpbmc9eydzbSd9PlxuICAgICAgICAgICAgICA8RHVyYXRpb25JbnB1dFxuICAgICAgICAgICAgICAgIGZpbHRlcj17XG4gICAgICAgICAgICAgICAgICBmaW5kRmlsdGVyKCdtaW4tZHVyYXRpb24nKSB8fCB7XG4gICAgICAgICAgICAgICAgICAgIGlkOiAnbWluLWR1cmF0aW9uJyxcbiAgICAgICAgICAgICAgICAgICAgdGFnOiAnZHVyYXRpb24nLFxuICAgICAgICAgICAgICAgICAgICBvcGVyYXRvcjogJz4nLFxuICAgICAgICAgICAgICAgICAgICB2YWx1ZVR5cGU6ICdkdXJhdGlvbicsXG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIG9wZXJhdG9ycz17Wyc+JywgJz49J119XG4gICAgICAgICAgICAgICAgdXBkYXRlRmlsdGVyPXt1cGRhdGVGaWx0ZXJ9XG4gICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgIDxEdXJhdGlvbklucHV0XG4gICAgICAgICAgICAgICAgZmlsdGVyPXtcbiAgICAgICAgICAgICAgICAgIGZpbmRGaWx0ZXIoJ21heC1kdXJhdGlvbicpIHx8IHtcbiAgICAgICAgICAgICAgICAgICAgaWQ6ICdtYXgtZHVyYXRpb24nLFxuICAgICAgICAgICAgICAgICAgICB0YWc6ICdkdXJhdGlvbicsXG4gICAgICAgICAgICAgICAgICAgIG9wZXJhdG9yOiAnPCcsXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlVHlwZTogJ2R1cmF0aW9uJyxcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgb3BlcmF0b3JzPXtbJzwnLCAnPD0nXX1cbiAgICAgICAgICAgICAgICB1cGRhdGVGaWx0ZXI9e3VwZGF0ZUZpbHRlcn1cbiAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgIDwvSG9yaXpvbnRhbEdyb3VwPlxuICAgICAgICAgIDwvSW5saW5lU2VhcmNoRmllbGQ+XG4gICAgICAgICAgPElubGluZVNlYXJjaEZpZWxkIGxhYmVsPXsnVGFncyd9PlxuICAgICAgICAgICAgPFRhZ3NJbnB1dFxuICAgICAgICAgICAgICBmaWx0ZXJzPXtkeW5hbWljRmlsdGVyc31cbiAgICAgICAgICAgICAgZGF0YXNvdXJjZT17ZGF0YXNvdXJjZX1cbiAgICAgICAgICAgICAgc2V0RXJyb3I9e3NldEVycm9yfVxuICAgICAgICAgICAgICB1cGRhdGVGaWx0ZXI9e3VwZGF0ZUZpbHRlcn1cbiAgICAgICAgICAgICAgZGVsZXRlRmlsdGVyPXtkZWxldGVGaWx0ZXJ9XG4gICAgICAgICAgICAgIHN0YXRpY1RhZ3M9e3N0YXRpY1RhZ3N9XG4gICAgICAgICAgICAgIGlzVGFnc0xvYWRpbmc9e2lzVGFnc0xvYWRpbmd9XG4gICAgICAgICAgICAvPlxuICAgICAgICAgIDwvSW5saW5lU2VhcmNoRmllbGQ+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8RWRpdG9yUm93PlxuICAgICAgICAgIDxSYXdRdWVyeSBxdWVyeT17dHJhY2VRbFF1ZXJ5fSBsYW5nPXt7IGdyYW1tYXI6IHRyYWNlcWxHcmFtbWFyLCBuYW1lOiAndHJhY2VxbCcgfX0gLz5cbiAgICAgICAgPC9FZGl0b3JSb3c+XG4gICAgICAgIDxUZW1wb1F1ZXJ5QnVpbGRlck9wdGlvbnMgb25DaGFuZ2U9e29uQ2hhbmdlfSBxdWVyeT17cXVlcnl9IC8+XG4gICAgICA8L2Rpdj5cbiAgICAgIHtlcnJvciA/IChcbiAgICAgICAgPEFsZXJ0IHRpdGxlPVwiVW5hYmxlIHRvIGNvbm5lY3QgdG8gVGVtcG8gc2VhcmNoXCIgc2V2ZXJpdHk9XCJpbmZvXCIgY2xhc3NOYW1lPXtzdHlsZXMuYWxlcnR9PlxuICAgICAgICAgIFBsZWFzZSBlbnN1cmUgdGhhdCBUZW1wbyBpcyBjb25maWd1cmVkIHdpdGggc2VhcmNoIGVuYWJsZWQuIElmIHlvdSB3b3VsZCBsaWtlIHRvIGhpZGUgdGhpcyB0YWIsIHlvdSBjYW5cbiAgICAgICAgICBjb25maWd1cmUgaXQgaW4gdGhlIDxhIGhyZWY9e2AvZGF0YXNvdXJjZXMvZWRpdC8ke2RhdGFzb3VyY2UudWlkfWB9PmRhdGFzb3VyY2Ugc2V0dGluZ3M8L2E+LlxuICAgICAgICA8L0FsZXJ0PlxuICAgICAgKSA6IG51bGx9XG4gICAgPC8+XG4gICk7XG59O1xuXG5leHBvcnQgZGVmYXVsdCBUcmFjZVFMU2VhcmNoO1xuXG5jb25zdCBnZXRTdHlsZXMgPSAodGhlbWU6IEdyYWZhbmFUaGVtZTIpID0+ICh7XG4gIGFsZXJ0OiBjc3NgXG4gICAgbWF4LXdpZHRoOiA3NWNoO1xuICAgIG1hcmdpbi10b3A6ICR7dGhlbWUuc3BhY2luZygyKX07XG4gIGAsXG4gIGNvbnRhaW5lcjogY3NzYFxuICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgZ2FwOiA0cHg7XG4gICAgZmxleC13cmFwOiB3cmFwO1xuICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XG4gIGAsXG59KTtcbiJdLCJuYW1lcyI6WyJlcnJvciJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./public/app/plugins/datasource/tempo/SearchTraceQLEditor/TraceQLSearch.tsx\n");

/***/ }),

/***/ "./public/app/plugins/datasource/tempo/SearchTraceQLEditor/utils.ts":
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   filterScopedTag: () => (/* binding */ filterScopedTag),\n/* harmony export */   filterTitle: () => (/* binding */ filterTitle),\n/* harmony export */   generateQueryFromFilters: () => (/* binding */ generateQueryFromFilters),\n/* harmony export */   getAllTags: () => (/* binding */ getAllTags),\n/* harmony export */   getFilteredTags: () => (/* binding */ getFilteredTags),\n/* harmony export */   getTagsByScope: () => (/* binding */ getTagsByScope),\n/* harmony export */   getUnscopedTags: () => (/* binding */ getUnscopedTags),\n/* harmony export */   operatorSelectableValue: () => (/* binding */ operatorSelectableValue),\n/* harmony export */   replaceAt: () => (/* binding */ replaceAt)\n/* harmony export */ });\n/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"./.yarn/cache/lodash-npm-4.17.21-6382451519-eb835a2e51.zip/node_modules/lodash/lodash.js\");\n/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _dataquery_gen__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(\"./public/app/plugins/datasource/tempo/dataquery.gen.ts\");\n/* harmony import */ var _traceql_traceql__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(\"./public/app/plugins/datasource/tempo/traceql/traceql.ts\");\n\n\n\n\nconst generateQueryFromFilters = (filters) => {\n  return `{${filters.filter((f) => f.tag && f.operator && f.value?.length).map((f) => `${scopeHelper(f)}${f.tag}${f.operator}${valueHelper(f)}`).join(\" && \")}}`;\n};\nconst valueHelper = (f) => {\n  if (Array.isArray(f.value) && f.value.length > 1) {\n    return `\"${f.value.join(\"|\")}\"`;\n  }\n  if (f.valueType === \"string\") {\n    return `\"${f.value}\"`;\n  }\n  return f.value;\n};\nconst scopeHelper = (f) => {\n  if (_traceql_traceql__WEBPACK_IMPORTED_MODULE_2__.intrinsics.find((t) => t === f.tag)) {\n    return \"\";\n  }\n  return (f.scope === _dataquery_gen__WEBPACK_IMPORTED_MODULE_1__.TraceqlSearchScope.Resource || f.scope === _dataquery_gen__WEBPACK_IMPORTED_MODULE_1__.TraceqlSearchScope.Span ? f.scope?.toLowerCase() : \"\") + \".\";\n};\nconst filterScopedTag = (f) => {\n  return scopeHelper(f) + f.tag;\n};\nconst filterTitle = (f) => {\n  if (f.tag === \"name\") {\n    return \"Span Name\";\n  }\n  return (0,lodash__WEBPACK_IMPORTED_MODULE_0__.startCase)(filterScopedTag(f));\n};\nconst getFilteredTags = (tags, staticTags) => {\n  return [..._traceql_traceql__WEBPACK_IMPORTED_MODULE_2__.intrinsics, ...tags].filter((t) => !staticTags.includes(t));\n};\nconst getUnscopedTags = (scopes) => {\n  return (0,lodash__WEBPACK_IMPORTED_MODULE_0__.uniq)(\n    scopes.map((scope) => scope.name && scope.name !== \"intrinsic\" && scope.tags ? scope.tags : []).flat()\n  );\n};\nconst getAllTags = (scopes) => {\n  return (0,lodash__WEBPACK_IMPORTED_MODULE_0__.uniq)(scopes.map((scope) => scope.tags ? scope.tags : []).flat());\n};\nconst getTagsByScope = (scopes, scope) => {\n  return (0,lodash__WEBPACK_IMPORTED_MODULE_0__.uniq)(scopes.map((s) => s.name && s.name === scope && s.tags ? s.tags : []).flat());\n};\nfunction replaceAt(array, index, value) {\n  const ret = array.slice(0);\n  ret[index] = value;\n  return ret;\n}\nconst operatorSelectableValue = (op) => {\n  const result = { label: op, value: op };\n  switch (op) {\n    case \"=\":\n      result.description = \"Equals\";\n      break;\n    case \"!=\":\n      result.description = \"Not equals\";\n      break;\n    case \">\":\n      result.description = \"Greater\";\n      break;\n    case \">=\":\n      result.description = \"Greater or Equal\";\n      break;\n    case \"<\":\n      result.description = \"Less\";\n      break;\n    case \"<=\":\n      result.description = \"Less or Equal\";\n      break;\n    case \"=~\":\n      result.description = \"Matches regex\";\n      break;\n    case \"!~\":\n      result.description = \"Does not match regex\";\n      break;\n  }\n  return result;\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9wdWJsaWMvYXBwL3BsdWdpbnMvZGF0YXNvdXJjZS90ZW1wby9TZWFyY2hUcmFjZVFMRWRpdG9yL3V0aWxzLnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQWdDO0FBSWtCO0FBQ3ZCO0FBR3BCLE1BQU0sMkJBQTJCLENBQUMsWUFBNkI7QUFDcEUsU0FBTyxJQUFJLFFBQ1IsT0FBTyxDQUFDLE1BQU0sRUFBRSxPQUFPLEVBQUUsWUFBWSxFQUFFLE9BQU8sTUFBTSxFQUNwRCxJQUFJLENBQUMsTUFBTSxHQUFHLFlBQVksQ0FBQyxJQUFJLEVBQUUsTUFBTSxFQUFFLFdBQVcsWUFBWSxDQUFDLEdBQUcsRUFDcEUsS0FBSyxNQUFNO0FBQ2hCO0FBRUEsTUFBTSxjQUFjLENBQUMsTUFBcUI7QUFDeEMsTUFBSSxNQUFNLFFBQVEsRUFBRSxLQUFLLEtBQUssRUFBRSxNQUFNLFNBQVMsR0FBRztBQUNoRCxXQUFPLElBQUksRUFBRSxNQUFNLEtBQUssR0FBRztBQUFBLEVBQzdCO0FBQ0EsTUFBSSxFQUFFLGNBQWMsVUFBVTtBQUM1QixXQUFPLElBQUksRUFBRTtBQUFBLEVBQ2Y7QUFDQSxTQUFPLEVBQUU7QUFDWDtBQUNBLE1BQU0sY0FBYyxDQUFDLE1BQXFCO0FBRXhDLE1BQUksd0RBQVUsQ0FBQyxLQUFLLENBQUMsTUFBTSxNQUFNLEVBQUUsR0FBRyxHQUFHO0FBQ3ZDLFdBQU87QUFBQSxFQUNUO0FBQ0EsVUFDRyxFQUFFLFVBQVUsOERBQWtCLENBQUMsWUFBWSxFQUFFLFVBQVUsOERBQWtCLENBQUMsT0FBTyxFQUFFLE9BQU8sWUFBWSxJQUFJLE1BQU07QUFFckg7QUFFTyxNQUFNLGtCQUFrQixDQUFDLE1BQXFCO0FBQ25ELFNBQU8sWUFBWSxDQUFDLElBQUksRUFBRTtBQUM1QjtBQUVPLE1BQU0sY0FBYyxDQUFDLE1BQXFCO0FBRS9DLE1BQUksRUFBRSxRQUFRLFFBQVE7QUFDcEIsV0FBTztBQUFBLEVBQ1Q7QUFDQSxTQUFPLGlEQUFTLENBQUMsZ0JBQWdCLENBQUMsQ0FBQztBQUNyQztBQUVPLE1BQU0sa0JBQWtCLENBQUMsTUFBZ0IsZUFBMEM7QUFDeEYsU0FBTyxDQUFDLEdBQUcsd0RBQVUsRUFBRSxHQUFHLElBQUksRUFBRSxPQUFPLENBQUMsTUFBTSxDQUFDLFdBQVcsU0FBUyxDQUFDLENBQUM7QUFDdkU7QUFFTyxNQUFNLGtCQUFrQixDQUFDLFdBQW9CO0FBQ2xELFNBQU8sNENBQUk7QUFBSixJQUNMLE9BQU8sSUFBSSxDQUFDLFVBQWtCLE1BQU0sUUFBUSxNQUFNLFNBQVMsZUFBZSxNQUFNLE9BQU8sTUFBTSxPQUFPLENBQUMsQ0FBRSxFQUFFLEtBQUs7QUFBQSxFQUNoSDtBQUNGO0FBRU8sTUFBTSxhQUFhLENBQUMsV0FBb0I7QUFDN0MsU0FBTyw0Q0FBSSxDQUFDLE9BQU8sSUFBSSxDQUFDLFVBQWtCLE1BQU0sT0FBTyxNQUFNLE9BQU8sQ0FBQyxDQUFFLEVBQUUsS0FBSyxDQUFDO0FBQ2pGO0FBRU8sTUFBTSxpQkFBaUIsQ0FBQyxRQUFpQixVQUF1QztBQUNyRixTQUFPLDRDQUFJLENBQUMsT0FBTyxJQUFJLENBQUMsTUFBYyxFQUFFLFFBQVEsRUFBRSxTQUFTLFNBQVMsRUFBRSxPQUFPLEVBQUUsT0FBTyxDQUFDLENBQUUsRUFBRSxLQUFLLENBQUM7QUFDbkc7QUFFTyxTQUFTLFVBQWEsT0FBWSxPQUFlLE9BQVU7QUFDaEUsUUFBTSxNQUFNLE1BQU0sTUFBTSxDQUFDO0FBQ3pCLE1BQUksS0FBSyxJQUFJO0FBQ2IsU0FBTztBQUNUO0FBRU8sTUFBTSwwQkFBMEIsQ0FBQyxPQUFlO0FBQ3JELFFBQU0sU0FBMEIsRUFBRSxPQUFPLElBQUksT0FBTyxHQUFHO0FBQ3ZELFVBQVEsSUFBSTtBQUFBLElBQ1YsS0FBSztBQUNILGFBQU8sY0FBYztBQUNyQjtBQUFBLElBQ0YsS0FBSztBQUNILGFBQU8sY0FBYztBQUNyQjtBQUFBLElBQ0YsS0FBSztBQUNILGFBQU8sY0FBYztBQUNyQjtBQUFBLElBQ0YsS0FBSztBQUNILGFBQU8sY0FBYztBQUNyQjtBQUFBLElBQ0YsS0FBSztBQUNILGFBQU8sY0FBYztBQUNyQjtBQUFBLElBQ0YsS0FBSztBQUNILGFBQU8sY0FBYztBQUNyQjtBQUFBLElBQ0YsS0FBSztBQUNILGFBQU8sY0FBYztBQUNyQjtBQUFBLElBQ0YsS0FBSztBQUNILGFBQU8sY0FBYztBQUNyQjtBQUFBLEVBQ0o7QUFDQSxTQUFPO0FBQ1QiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9ncmFmYW5hLy4vcHVibGljL2FwcC9wbHVnaW5zL2RhdGFzb3VyY2UvdGVtcG8vU2VhcmNoVHJhY2VRTEVkaXRvci91dGlscy50cz9kYTUyIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHN0YXJ0Q2FzZSwgdW5pcSB9IGZyb20gJ2xvZGFzaCc7XG5cbmltcG9ydCB7IFNlbGVjdGFibGVWYWx1ZSB9IGZyb20gJ0BncmFmYW5hL2RhdGEnO1xuXG5pbXBvcnQgeyBUcmFjZXFsRmlsdGVyLCBUcmFjZXFsU2VhcmNoU2NvcGUgfSBmcm9tICcuLi9kYXRhcXVlcnkuZ2VuJztcbmltcG9ydCB7IGludHJpbnNpY3MgfSBmcm9tICcuLi90cmFjZXFsL3RyYWNlcWwnO1xuaW1wb3J0IHsgU2NvcGUgfSBmcm9tICcuLi90eXBlcyc7XG5cbmV4cG9ydCBjb25zdCBnZW5lcmF0ZVF1ZXJ5RnJvbUZpbHRlcnMgPSAoZmlsdGVyczogVHJhY2VxbEZpbHRlcltdKSA9PiB7XG4gIHJldHVybiBgeyR7ZmlsdGVyc1xuICAgIC5maWx0ZXIoKGYpID0+IGYudGFnICYmIGYub3BlcmF0b3IgJiYgZi52YWx1ZT8ubGVuZ3RoKVxuICAgIC5tYXAoKGYpID0+IGAke3Njb3BlSGVscGVyKGYpfSR7Zi50YWd9JHtmLm9wZXJhdG9yfSR7dmFsdWVIZWxwZXIoZil9YClcbiAgICAuam9pbignICYmICcpfX1gO1xufTtcblxuY29uc3QgdmFsdWVIZWxwZXIgPSAoZjogVHJhY2VxbEZpbHRlcikgPT4ge1xuICBpZiAoQXJyYXkuaXNBcnJheShmLnZhbHVlKSAmJiBmLnZhbHVlLmxlbmd0aCA+IDEpIHtcbiAgICByZXR1cm4gYFwiJHtmLnZhbHVlLmpvaW4oJ3wnKX1cImA7XG4gIH1cbiAgaWYgKGYudmFsdWVUeXBlID09PSAnc3RyaW5nJykge1xuICAgIHJldHVybiBgXCIke2YudmFsdWV9XCJgO1xuICB9XG4gIHJldHVybiBmLnZhbHVlO1xufTtcbmNvbnN0IHNjb3BlSGVscGVyID0gKGY6IFRyYWNlcWxGaWx0ZXIpID0+IHtcbiAgLy8gSW50cmluc2ljIGZpZWxkcyBkb24ndCBoYXZlIGEgc2NvcGVcbiAgaWYgKGludHJpbnNpY3MuZmluZCgodCkgPT4gdCA9PT0gZi50YWcpKSB7XG4gICAgcmV0dXJuICcnO1xuICB9XG4gIHJldHVybiAoXG4gICAgKGYuc2NvcGUgPT09IFRyYWNlcWxTZWFyY2hTY29wZS5SZXNvdXJjZSB8fCBmLnNjb3BlID09PSBUcmFjZXFsU2VhcmNoU2NvcGUuU3BhbiA/IGYuc2NvcGU/LnRvTG93ZXJDYXNlKCkgOiAnJykgKyAnLidcbiAgKTtcbn07XG5cbmV4cG9ydCBjb25zdCBmaWx0ZXJTY29wZWRUYWcgPSAoZjogVHJhY2VxbEZpbHRlcikgPT4ge1xuICByZXR1cm4gc2NvcGVIZWxwZXIoZikgKyBmLnRhZztcbn07XG5cbmV4cG9ydCBjb25zdCBmaWx0ZXJUaXRsZSA9IChmOiBUcmFjZXFsRmlsdGVyKSA9PiB7XG4gIC8vIFNwZWNpYWwgY2FzZSBmb3IgdGhlIGludHJpbnNpYyBcIm5hbWVcIiBzaW5jZSBhIGxhYmVsIGNhbGxlZCBcIk5hbWVcIiBpc24ndCBleHBsaWNpdFxuICBpZiAoZi50YWcgPT09ICduYW1lJykge1xuICAgIHJldHVybiAnU3BhbiBOYW1lJztcbiAgfVxuICByZXR1cm4gc3RhcnRDYXNlKGZpbHRlclNjb3BlZFRhZyhmKSk7XG59O1xuXG5leHBvcnQgY29uc3QgZ2V0RmlsdGVyZWRUYWdzID0gKHRhZ3M6IHN0cmluZ1tdLCBzdGF0aWNUYWdzOiBBcnJheTxzdHJpbmcgfCB1bmRlZmluZWQ+KSA9PiB7XG4gIHJldHVybiBbLi4uaW50cmluc2ljcywgLi4udGFnc10uZmlsdGVyKCh0KSA9PiAhc3RhdGljVGFncy5pbmNsdWRlcyh0KSk7XG59O1xuXG5leHBvcnQgY29uc3QgZ2V0VW5zY29wZWRUYWdzID0gKHNjb3BlczogU2NvcGVbXSkgPT4ge1xuICByZXR1cm4gdW5pcShcbiAgICBzY29wZXMubWFwKChzY29wZTogU2NvcGUpID0+IChzY29wZS5uYW1lICYmIHNjb3BlLm5hbWUgIT09ICdpbnRyaW5zaWMnICYmIHNjb3BlLnRhZ3MgPyBzY29wZS50YWdzIDogW10pKS5mbGF0KClcbiAgKTtcbn07XG5cbmV4cG9ydCBjb25zdCBnZXRBbGxUYWdzID0gKHNjb3BlczogU2NvcGVbXSkgPT4ge1xuICByZXR1cm4gdW5pcShzY29wZXMubWFwKChzY29wZTogU2NvcGUpID0+IChzY29wZS50YWdzID8gc2NvcGUudGFncyA6IFtdKSkuZmxhdCgpKTtcbn07XG5cbmV4cG9ydCBjb25zdCBnZXRUYWdzQnlTY29wZSA9IChzY29wZXM6IFNjb3BlW10sIHNjb3BlOiBUcmFjZXFsU2VhcmNoU2NvcGUgfCBzdHJpbmcpID0+IHtcbiAgcmV0dXJuIHVuaXEoc2NvcGVzLm1hcCgoczogU2NvcGUpID0+IChzLm5hbWUgJiYgcy5uYW1lID09PSBzY29wZSAmJiBzLnRhZ3MgPyBzLnRhZ3MgOiBbXSkpLmZsYXQoKSk7XG59O1xuXG5leHBvcnQgZnVuY3Rpb24gcmVwbGFjZUF0PFQ+KGFycmF5OiBUW10sIGluZGV4OiBudW1iZXIsIHZhbHVlOiBUKSB7XG4gIGNvbnN0IHJldCA9IGFycmF5LnNsaWNlKDApO1xuICByZXRbaW5kZXhdID0gdmFsdWU7XG4gIHJldHVybiByZXQ7XG59XG5cbmV4cG9ydCBjb25zdCBvcGVyYXRvclNlbGVjdGFibGVWYWx1ZSA9IChvcDogc3RyaW5nKSA9PiB7XG4gIGNvbnN0IHJlc3VsdDogU2VsZWN0YWJsZVZhbHVlID0geyBsYWJlbDogb3AsIHZhbHVlOiBvcCB9O1xuICBzd2l0Y2ggKG9wKSB7XG4gICAgY2FzZSAnPSc6XG4gICAgICByZXN1bHQuZGVzY3JpcHRpb24gPSAnRXF1YWxzJztcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgJyE9JzpcbiAgICAgIHJlc3VsdC5kZXNjcmlwdGlvbiA9ICdOb3QgZXF1YWxzJztcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgJz4nOlxuICAgICAgcmVzdWx0LmRlc2NyaXB0aW9uID0gJ0dyZWF0ZXInO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSAnPj0nOlxuICAgICAgcmVzdWx0LmRlc2NyaXB0aW9uID0gJ0dyZWF0ZXIgb3IgRXF1YWwnO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSAnPCc6XG4gICAgICByZXN1bHQuZGVzY3JpcHRpb24gPSAnTGVzcyc7XG4gICAgICBicmVhaztcbiAgICBjYXNlICc8PSc6XG4gICAgICByZXN1bHQuZGVzY3JpcHRpb24gPSAnTGVzcyBvciBFcXVhbCc7XG4gICAgICBicmVhaztcbiAgICBjYXNlICc9fic6XG4gICAgICByZXN1bHQuZGVzY3JpcHRpb24gPSAnTWF0Y2hlcyByZWdleCc7XG4gICAgICBicmVhaztcbiAgICBjYXNlICchfic6XG4gICAgICByZXN1bHQuZGVzY3JpcHRpb24gPSAnRG9lcyBub3QgbWF0Y2ggcmVnZXgnO1xuICAgICAgYnJlYWs7XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn07XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./public/app/plugins/datasource/tempo/SearchTraceQLEditor/utils.ts\n");

/***/ }),

/***/ "./public/app/plugins/datasource/tempo/ServiceGraphSection.tsx":
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ServiceGraphSection: () => (/* binding */ ServiceGraphSection)\n/* harmony export */ });\n/* harmony import */ var _emotion_css__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"./.yarn/cache/@emotion-css-npm-11.11.2-dbfa42cf83-1edea109df.zip/node_modules/@emotion/css/dist/emotion-css.esm.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(\"./.yarn/cache/react-npm-18.2.0-1eae08fee2-88e38092da.zip/node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var react_use_lib_useAsync__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(\"./.yarn/__virtual__/react-use-virtual-dd7926f458/0/cache/react-use-npm-17.4.0-0ef4521544-0889da919b.zip/node_modules/react-use/lib/useAsync.js\");\n/* harmony import */ var _grafana_ui__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(\"./.yarn/__virtual__/@grafana-ui-virtual-d722efae30/1/packages/grafana-ui/src/themes/ThemeContext.tsx\");\n/* harmony import */ var _grafana_ui__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(\"./.yarn/__virtual__/@grafana-ui-virtual-d722efae30/1/packages/grafana-ui/src/components/Forms/InlineFieldRow.tsx\");\n/* harmony import */ var _grafana_ui__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(\"./.yarn/__virtual__/@grafana-ui-virtual-d722efae30/1/packages/grafana-ui/src/components/Forms/InlineField.tsx\");\n/* harmony import */ var _grafana_ui__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(\"./.yarn/__virtual__/@grafana-ui-virtual-d722efae30/1/packages/grafana-ui/src/components/Alert/Alert.tsx\");\n/* harmony import */ var _features_variables_adhoc_picker_AdHocFilter__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(\"./public/app/features/variables/adhoc/picker/AdHocFilter.tsx\");\n/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(\"./public/app/plugins/datasource/tempo/utils.ts\");\n\n\n\n\n\n\n\nfunction ServiceGraphSection({\n  graphDatasourceUid,\n  query,\n  onChange\n}) {\n  const styles = (0,_grafana_ui__WEBPACK_IMPORTED_MODULE_4__.useStyles2)(getStyles);\n  const dsState = (0,react_use_lib_useAsync__WEBPACK_IMPORTED_MODULE_5__[\"default\"])(() => (0,_utils__WEBPACK_IMPORTED_MODULE_3__.getDS)(graphDatasourceUid), [graphDatasourceUid]);\n  const [hasKeys, setHasKeys] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(void 0);\n  (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(() => {\n    async function fn(ds2) {\n      const keys = await ds2.getTagKeys({\n        series: [\n          \"traces_service_graph_request_server_seconds_sum\",\n          \"traces_service_graph_request_total\",\n          \"traces_service_graph_request_failed_total\"\n        ]\n      });\n      setHasKeys(Boolean(keys.length));\n    }\n    if (!dsState.loading && dsState.value) {\n      fn(dsState.value);\n    }\n  }, [dsState]);\n  if (dsState.loading) {\n    return null;\n  }\n  const ds = dsState.value;\n  if (!graphDatasourceUid) {\n    return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_1___default().createElement(\"div\", { className: \"text-warning\" }, \"Please set up a service graph datasource in the datasource settings.\");\n  }\n  if (graphDatasourceUid && !ds) {\n    return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_1___default().createElement(\"div\", { className: \"text-warning\" }, \"Service graph datasource is configured but the data source no longer exists. Please configure existing data source to use the service graph functionality.\");\n  }\n  const filters = queryToFilter(query.serviceMapQuery || \"\");\n  return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_1___default().createElement(\"div\", null, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_grafana_ui__WEBPACK_IMPORTED_MODULE_6__.InlineFieldRow, null, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_grafana_ui__WEBPACK_IMPORTED_MODULE_7__.InlineField, { label: \"Filter\", labelWidth: 14, grow: true }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_1___default().createElement(\n    _features_variables_adhoc_picker_AdHocFilter__WEBPACK_IMPORTED_MODULE_2__.AdHocFilter,\n    {\n      datasource: { uid: graphDatasourceUid },\n      filters,\n      getTagKeysOptions: {\n        series: [\"traces_service_graph_request_total\", \"traces_spanmetrics_calls_total\"]\n      },\n      addFilter: (filter) => {\n        onChange({\n          ...query,\n          serviceMapQuery: filtersToQuery([...filters, filter])\n        });\n      },\n      removeFilter: (index) => {\n        const newFilters = [...filters];\n        newFilters.splice(index, 1);\n        onChange({ ...query, serviceMapQuery: filtersToQuery(newFilters) });\n      },\n      changeFilter: (index, filter) => {\n        const newFilters = [...filters];\n        newFilters.splice(index, 1, filter);\n        onChange({ ...query, serviceMapQuery: filtersToQuery(newFilters) });\n      }\n    }\n  ))), hasKeys === false ? /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_grafana_ui__WEBPACK_IMPORTED_MODULE_8__.Alert, { title: \"No service graph data found\", severity: \"info\", className: styles.alert }, \"Please ensure that service graph metrics are set up correctly according to the\", \" \", /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_1___default().createElement(\n    \"a\",\n    {\n      target: \"_blank\",\n      rel: \"noreferrer noopener\",\n      href: \"https://grafana.com/docs/grafana/latest/datasources/tempo/#service-graph\",\n      className: styles.link\n    },\n    \"Tempo documentation\"\n  ), \".\") : null);\n}\nfunction queryToFilter(query) {\n  let match;\n  let filters = [];\n  const re = /([\\w_]+)(=|!=|<|>|=~|!~)\"(.*?)\"/g;\n  while ((match = re.exec(query)) !== null) {\n    filters.push({\n      key: match[1],\n      operator: match[2],\n      value: match[3],\n      condition: \"\"\n    });\n  }\n  return filters;\n}\nfunction filtersToQuery(filters) {\n  return `{${filters.map((f) => `${f.key}${f.operator}\"${f.value}\"`).join(\",\")}}`;\n}\nconst getStyles = (theme) => ({\n  alert: (0,_emotion_css__WEBPACK_IMPORTED_MODULE_0__.css)`\n    max-width: 75ch;\n    margin-top: ${theme.spacing(2)};\n  `,\n  link: (0,_emotion_css__WEBPACK_IMPORTED_MODULE_0__.css)`\n    color: ${theme.colors.text.link};\n    text-decoration: underline;\n  `\n});\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9wdWJsaWMvYXBwL3BsdWdpbnMvZGF0YXNvdXJjZS90ZW1wby9TZXJ2aWNlR3JhcGhTZWN0aW9uLnRzeCIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7QUFBb0I7QUFDdUI7QUFDdEI7QUFHMEM7QUFFbkM7QUFLTjtBQUVmLFNBQVMsb0JBQW9CO0FBQUEsRUFDbEM7QUFBQSxFQUNBO0FBQUEsRUFDQTtBQUNGLEdBSUc7QUFDRCxRQUFNLFNBQVMsdURBQVUsQ0FBQyxTQUFTO0FBRW5DLFFBQU0sVUFBVSxrRUFBUSxDQUFDLE1BQU0sNkNBQUssQ0FBQyxrQkFBa0IsR0FBRyxDQUFDLGtCQUFrQixDQUFDO0FBRzlFLFFBQU0sQ0FBQyxTQUFTLFVBQVUsSUFBSSwrQ0FBUSxDQUFzQixNQUFTO0FBQ3JFLGtEQUFTLENBQUMsTUFBTTtBQUNkLG1CQUFlLEdBQUdBLEtBQTBCO0FBQzFDLFlBQU0sT0FBTyxNQUFNQSxJQUFHLFdBQVc7QUFBQSxRQUMvQixRQUFRO0FBQUEsVUFDTjtBQUFBLFVBQ0E7QUFBQSxVQUNBO0FBQUEsUUFDRjtBQUFBLE1BQ0YsQ0FBQztBQUNELGlCQUFXLFFBQVEsS0FBSyxNQUFNLENBQUM7QUFBQSxJQUNqQztBQUNBLFFBQUksQ0FBQyxRQUFRLFdBQVcsUUFBUSxPQUFPO0FBQ3JDLFNBQUcsUUFBUSxLQUE2QjtBQUFBLElBQzFDO0FBQUEsRUFDRixHQUFHLENBQUMsT0FBTyxDQUFDO0FBRVosTUFBSSxRQUFRLFNBQVM7QUFDbkIsV0FBTztBQUFBLEVBQ1Q7QUFFQSxRQUFNLEtBQUssUUFBUTtBQUVuQixNQUFJLENBQUMsb0JBQW9CO0FBQ3ZCLFdBQU8sMkVBQUMsU0FBSSxXQUFVLGtCQUFlLHNFQUFvRTtBQUFBLEVBQzNHO0FBRUEsTUFBSSxzQkFBc0IsQ0FBQyxJQUFJO0FBQzdCLFdBQ0UsMkVBQUMsU0FBSSxXQUFVLGtCQUFlLDRKQUc5QjtBQUFBLEVBRUo7QUFDQSxRQUFNLFVBQVUsY0FBYyxNQUFNLG1CQUFtQixFQUFFO0FBRXpELFNBQ0UsMkVBQUMsYUFDQywyRUFBQyx1REFBYyxRQUNiLDJFQUFDLG9EQUFXLElBQUMsT0FBTSxVQUFTLFlBQVksSUFBSSxNQUFJLFFBQzlDO0FBQUEsSUFBQyxxRkFBVztBQUFYO0FBQUEsTUFDQyxZQUFZLEVBQUUsS0FBSyxtQkFBbUI7QUFBQSxNQUN0QztBQUFBLE1BQ0EsbUJBQW1CO0FBQUEsUUFDakIsUUFBUSxDQUFDLHNDQUFzQyxnQ0FBZ0M7QUFBQSxNQUNqRjtBQUFBLE1BQ0EsV0FBVyxDQUFDLFdBQWdDO0FBQzFDLGlCQUFTO0FBQUEsVUFDUCxHQUFHO0FBQUEsVUFDSCxpQkFBaUIsZUFBZSxDQUFDLEdBQUcsU0FBUyxNQUFNLENBQUM7QUFBQSxRQUN0RCxDQUFDO0FBQUEsTUFDSDtBQUFBLE1BQ0EsY0FBYyxDQUFDLFVBQWtCO0FBQy9CLGNBQU0sYUFBYSxDQUFDLEdBQUcsT0FBTztBQUM5QixtQkFBVyxPQUFPLE9BQU8sQ0FBQztBQUMxQixpQkFBUyxFQUFFLEdBQUcsT0FBTyxpQkFBaUIsZUFBZSxVQUFVLEVBQUUsQ0FBQztBQUFBLE1BQ3BFO0FBQUEsTUFDQSxjQUFjLENBQUMsT0FBZSxXQUFnQztBQUM1RCxjQUFNLGFBQWEsQ0FBQyxHQUFHLE9BQU87QUFDOUIsbUJBQVcsT0FBTyxPQUFPLEdBQUcsTUFBTTtBQUNsQyxpQkFBUyxFQUFFLEdBQUcsT0FBTyxpQkFBaUIsZUFBZSxVQUFVLEVBQUUsQ0FBQztBQUFBLE1BQ3BFO0FBQUE7QUFBQSxFQUNGLENBQ0YsQ0FDRixHQUNDLFlBQVksUUFDWCwyRUFBQyw4Q0FBSyxJQUFDLE9BQU0sK0JBQThCLFVBQVMsUUFBTyxXQUFXLE9BQU8sU0FBTyxrRkFDSCxLQUMvRTtBQUFBLElBQUM7QUFBQTtBQUFBLE1BQ0MsUUFBTztBQUFBLE1BQ1AsS0FBSTtBQUFBLE1BQ0osTUFBSztBQUFBLE1BQ0wsV0FBVyxPQUFPO0FBQUE7QUFBQSxJQUNuQjtBQUFBLEVBRUQsR0FBSSxHQUVOLElBQ0UsSUFDTjtBQUVKO0FBRUEsU0FBUyxjQUFjLE9BQXNDO0FBQzNELE1BQUk7QUFDSixNQUFJLFVBQWlDLENBQUM7QUFDdEMsUUFBTSxLQUFLO0FBQ1gsVUFBUSxRQUFRLEdBQUcsS0FBSyxLQUFLLE9BQU8sTUFBTTtBQUN4QyxZQUFRLEtBQUs7QUFBQSxNQUNYLEtBQUssTUFBTSxDQUFDO0FBQUEsTUFDWixVQUFVLE1BQU0sQ0FBQztBQUFBLE1BQ2pCLE9BQU8sTUFBTSxDQUFDO0FBQUEsTUFDZCxXQUFXO0FBQUEsSUFDYixDQUFDO0FBQUEsRUFDSDtBQUNBLFNBQU87QUFDVDtBQUVBLFNBQVMsZUFBZSxTQUF3QztBQUM5RCxTQUFPLElBQUksUUFBUSxJQUFJLENBQUMsTUFBTSxHQUFHLEVBQUUsTUFBTSxFQUFFLFlBQVksRUFBRSxRQUFRLEVBQUUsS0FBSyxHQUFHO0FBQzdFO0FBRUEsTUFBTSxZQUFZLENBQUMsV0FBMEI7QUFBQSxFQUMzQyxPQUFPLGlEQUFHO0FBQUg7QUFBQSxrQkFFUyxNQUFNLFFBQVEsQ0FBQztBQUFBO0FBQUEsRUFFL0IsTUFBTSxpREFBRztBQUFILGFBQ0ssTUFBTSxPQUFPLEtBQUs7QUFBQTtBQUFBO0FBRy9CIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZ3JhZmFuYS8uL3B1YmxpYy9hcHAvcGx1Z2lucy9kYXRhc291cmNlL3RlbXBvL1NlcnZpY2VHcmFwaFNlY3Rpb24udHN4P2EyY2EiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgY3NzIH0gZnJvbSAnQGVtb3Rpb24vY3NzJztcbmltcG9ydCBSZWFjdCwgeyB1c2VFZmZlY3QsIHVzZVN0YXRlIH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHVzZUFzeW5jIGZyb20gJ3JlYWN0LXVzZS9saWIvdXNlQXN5bmMnO1xuXG5pbXBvcnQgeyBHcmFmYW5hVGhlbWUyIH0gZnJvbSAnQGdyYWZhbmEvZGF0YSc7XG5pbXBvcnQgeyBBbGVydCwgSW5saW5lRmllbGQsIElubGluZUZpZWxkUm93LCB1c2VTdHlsZXMyIH0gZnJvbSAnQGdyYWZhbmEvdWknO1xuXG5pbXBvcnQgeyBBZEhvY0ZpbHRlciB9IGZyb20gJy4uLy4uLy4uL2ZlYXR1cmVzL3ZhcmlhYmxlcy9hZGhvYy9waWNrZXIvQWRIb2NGaWx0ZXInO1xuaW1wb3J0IHsgQWRIb2NWYXJpYWJsZUZpbHRlciB9IGZyb20gJy4uLy4uLy4uL2ZlYXR1cmVzL3ZhcmlhYmxlcy90eXBlcyc7XG5pbXBvcnQgeyBQcm9tZXRoZXVzRGF0YXNvdXJjZSB9IGZyb20gJy4uL3Byb21ldGhldXMvZGF0YXNvdXJjZSc7XG5cbmltcG9ydCB7IFRlbXBvUXVlcnkgfSBmcm9tICcuL3R5cGVzJztcbmltcG9ydCB7IGdldERTIH0gZnJvbSAnLi91dGlscyc7XG5cbmV4cG9ydCBmdW5jdGlvbiBTZXJ2aWNlR3JhcGhTZWN0aW9uKHtcbiAgZ3JhcGhEYXRhc291cmNlVWlkLFxuICBxdWVyeSxcbiAgb25DaGFuZ2UsXG59OiB7XG4gIGdyYXBoRGF0YXNvdXJjZVVpZD86IHN0cmluZztcbiAgcXVlcnk6IFRlbXBvUXVlcnk7XG4gIG9uQ2hhbmdlOiAodmFsdWU6IFRlbXBvUXVlcnkpID0+IHZvaWQ7XG59KSB7XG4gIGNvbnN0IHN0eWxlcyA9IHVzZVN0eWxlczIoZ2V0U3R5bGVzKTtcblxuICBjb25zdCBkc1N0YXRlID0gdXNlQXN5bmMoKCkgPT4gZ2V0RFMoZ3JhcGhEYXRhc291cmNlVWlkKSwgW2dyYXBoRGF0YXNvdXJjZVVpZF0pO1xuXG4gIC8vIENoZWNrIGlmIHNlcnZpY2UgZ3JhcGggbWV0cmljcyBhcmUgYmVpbmcgY29sbGVjdGVkLiBJZiBub3QsIGRpc3BsYXlzIGEgd2FybmluZ1xuICBjb25zdCBbaGFzS2V5cywgc2V0SGFzS2V5c10gPSB1c2VTdGF0ZTxib29sZWFuIHwgdW5kZWZpbmVkPih1bmRlZmluZWQpO1xuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGFzeW5jIGZ1bmN0aW9uIGZuKGRzOiBQcm9tZXRoZXVzRGF0YXNvdXJjZSkge1xuICAgICAgY29uc3Qga2V5cyA9IGF3YWl0IGRzLmdldFRhZ0tleXMoe1xuICAgICAgICBzZXJpZXM6IFtcbiAgICAgICAgICAndHJhY2VzX3NlcnZpY2VfZ3JhcGhfcmVxdWVzdF9zZXJ2ZXJfc2Vjb25kc19zdW0nLFxuICAgICAgICAgICd0cmFjZXNfc2VydmljZV9ncmFwaF9yZXF1ZXN0X3RvdGFsJyxcbiAgICAgICAgICAndHJhY2VzX3NlcnZpY2VfZ3JhcGhfcmVxdWVzdF9mYWlsZWRfdG90YWwnLFxuICAgICAgICBdLFxuICAgICAgfSk7XG4gICAgICBzZXRIYXNLZXlzKEJvb2xlYW4oa2V5cy5sZW5ndGgpKTtcbiAgICB9XG4gICAgaWYgKCFkc1N0YXRlLmxvYWRpbmcgJiYgZHNTdGF0ZS52YWx1ZSkge1xuICAgICAgZm4oZHNTdGF0ZS52YWx1ZSBhcyBQcm9tZXRoZXVzRGF0YXNvdXJjZSk7XG4gICAgfVxuICB9LCBbZHNTdGF0ZV0pO1xuXG4gIGlmIChkc1N0YXRlLmxvYWRpbmcpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIGNvbnN0IGRzID0gZHNTdGF0ZS52YWx1ZSBhcyBQcm9tZXRoZXVzRGF0YXNvdXJjZTtcblxuICBpZiAoIWdyYXBoRGF0YXNvdXJjZVVpZCkge1xuICAgIHJldHVybiA8ZGl2IGNsYXNzTmFtZT1cInRleHQtd2FybmluZ1wiPlBsZWFzZSBzZXQgdXAgYSBzZXJ2aWNlIGdyYXBoIGRhdGFzb3VyY2UgaW4gdGhlIGRhdGFzb3VyY2Ugc2V0dGluZ3MuPC9kaXY+O1xuICB9XG5cbiAgaWYgKGdyYXBoRGF0YXNvdXJjZVVpZCAmJiAhZHMpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LXdhcm5pbmdcIj5cbiAgICAgICAgU2VydmljZSBncmFwaCBkYXRhc291cmNlIGlzIGNvbmZpZ3VyZWQgYnV0IHRoZSBkYXRhIHNvdXJjZSBubyBsb25nZXIgZXhpc3RzLiBQbGVhc2UgY29uZmlndXJlIGV4aXN0aW5nIGRhdGFcbiAgICAgICAgc291cmNlIHRvIHVzZSB0aGUgc2VydmljZSBncmFwaCBmdW5jdGlvbmFsaXR5LlxuICAgICAgPC9kaXY+XG4gICAgKTtcbiAgfVxuICBjb25zdCBmaWx0ZXJzID0gcXVlcnlUb0ZpbHRlcihxdWVyeS5zZXJ2aWNlTWFwUXVlcnkgfHwgJycpO1xuXG4gIHJldHVybiAoXG4gICAgPGRpdj5cbiAgICAgIDxJbmxpbmVGaWVsZFJvdz5cbiAgICAgICAgPElubGluZUZpZWxkIGxhYmVsPVwiRmlsdGVyXCIgbGFiZWxXaWR0aD17MTR9IGdyb3c+XG4gICAgICAgICAgPEFkSG9jRmlsdGVyXG4gICAgICAgICAgICBkYXRhc291cmNlPXt7IHVpZDogZ3JhcGhEYXRhc291cmNlVWlkIH19XG4gICAgICAgICAgICBmaWx0ZXJzPXtmaWx0ZXJzfVxuICAgICAgICAgICAgZ2V0VGFnS2V5c09wdGlvbnM9e3tcbiAgICAgICAgICAgICAgc2VyaWVzOiBbJ3RyYWNlc19zZXJ2aWNlX2dyYXBoX3JlcXVlc3RfdG90YWwnLCAndHJhY2VzX3NwYW5tZXRyaWNzX2NhbGxzX3RvdGFsJ10sXG4gICAgICAgICAgICB9fVxuICAgICAgICAgICAgYWRkRmlsdGVyPXsoZmlsdGVyOiBBZEhvY1ZhcmlhYmxlRmlsdGVyKSA9PiB7XG4gICAgICAgICAgICAgIG9uQ2hhbmdlKHtcbiAgICAgICAgICAgICAgICAuLi5xdWVyeSxcbiAgICAgICAgICAgICAgICBzZXJ2aWNlTWFwUXVlcnk6IGZpbHRlcnNUb1F1ZXJ5KFsuLi5maWx0ZXJzLCBmaWx0ZXJdKSxcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9fVxuICAgICAgICAgICAgcmVtb3ZlRmlsdGVyPXsoaW5kZXg6IG51bWJlcikgPT4ge1xuICAgICAgICAgICAgICBjb25zdCBuZXdGaWx0ZXJzID0gWy4uLmZpbHRlcnNdO1xuICAgICAgICAgICAgICBuZXdGaWx0ZXJzLnNwbGljZShpbmRleCwgMSk7XG4gICAgICAgICAgICAgIG9uQ2hhbmdlKHsgLi4ucXVlcnksIHNlcnZpY2VNYXBRdWVyeTogZmlsdGVyc1RvUXVlcnkobmV3RmlsdGVycykgfSk7XG4gICAgICAgICAgICB9fVxuICAgICAgICAgICAgY2hhbmdlRmlsdGVyPXsoaW5kZXg6IG51bWJlciwgZmlsdGVyOiBBZEhvY1ZhcmlhYmxlRmlsdGVyKSA9PiB7XG4gICAgICAgICAgICAgIGNvbnN0IG5ld0ZpbHRlcnMgPSBbLi4uZmlsdGVyc107XG4gICAgICAgICAgICAgIG5ld0ZpbHRlcnMuc3BsaWNlKGluZGV4LCAxLCBmaWx0ZXIpO1xuICAgICAgICAgICAgICBvbkNoYW5nZSh7IC4uLnF1ZXJ5LCBzZXJ2aWNlTWFwUXVlcnk6IGZpbHRlcnNUb1F1ZXJ5KG5ld0ZpbHRlcnMpIH0pO1xuICAgICAgICAgICAgfX1cbiAgICAgICAgICAvPlxuICAgICAgICA8L0lubGluZUZpZWxkPlxuICAgICAgPC9JbmxpbmVGaWVsZFJvdz5cbiAgICAgIHtoYXNLZXlzID09PSBmYWxzZSA/IChcbiAgICAgICAgPEFsZXJ0IHRpdGxlPVwiTm8gc2VydmljZSBncmFwaCBkYXRhIGZvdW5kXCIgc2V2ZXJpdHk9XCJpbmZvXCIgY2xhc3NOYW1lPXtzdHlsZXMuYWxlcnR9PlxuICAgICAgICAgIFBsZWFzZSBlbnN1cmUgdGhhdCBzZXJ2aWNlIGdyYXBoIG1ldHJpY3MgYXJlIHNldCB1cCBjb3JyZWN0bHkgYWNjb3JkaW5nIHRvIHRoZXsnICd9XG4gICAgICAgICAgPGFcbiAgICAgICAgICAgIHRhcmdldD1cIl9ibGFua1wiXG4gICAgICAgICAgICByZWw9XCJub3JlZmVycmVyIG5vb3BlbmVyXCJcbiAgICAgICAgICAgIGhyZWY9XCJodHRwczovL2dyYWZhbmEuY29tL2RvY3MvZ3JhZmFuYS9sYXRlc3QvZGF0YXNvdXJjZXMvdGVtcG8vI3NlcnZpY2UtZ3JhcGhcIlxuICAgICAgICAgICAgY2xhc3NOYW1lPXtzdHlsZXMubGlua31cbiAgICAgICAgICA+XG4gICAgICAgICAgICBUZW1wbyBkb2N1bWVudGF0aW9uXG4gICAgICAgICAgPC9hPlxuICAgICAgICAgIC5cbiAgICAgICAgPC9BbGVydD5cbiAgICAgICkgOiBudWxsfVxuICAgIDwvZGl2PlxuICApO1xufVxuXG5mdW5jdGlvbiBxdWVyeVRvRmlsdGVyKHF1ZXJ5OiBzdHJpbmcpOiBBZEhvY1ZhcmlhYmxlRmlsdGVyW10ge1xuICBsZXQgbWF0Y2g7XG4gIGxldCBmaWx0ZXJzOiBBZEhvY1ZhcmlhYmxlRmlsdGVyW10gPSBbXTtcbiAgY29uc3QgcmUgPSAvKFtcXHdfXSspKD18IT18PHw+fD1+fCF+KVwiKC4qPylcIi9nO1xuICB3aGlsZSAoKG1hdGNoID0gcmUuZXhlYyhxdWVyeSkpICE9PSBudWxsKSB7XG4gICAgZmlsdGVycy5wdXNoKHtcbiAgICAgIGtleTogbWF0Y2hbMV0sXG4gICAgICBvcGVyYXRvcjogbWF0Y2hbMl0sXG4gICAgICB2YWx1ZTogbWF0Y2hbM10sXG4gICAgICBjb25kaXRpb246ICcnLFxuICAgIH0pO1xuICB9XG4gIHJldHVybiBmaWx0ZXJzO1xufVxuXG5mdW5jdGlvbiBmaWx0ZXJzVG9RdWVyeShmaWx0ZXJzOiBBZEhvY1ZhcmlhYmxlRmlsdGVyW10pOiBzdHJpbmcge1xuICByZXR1cm4gYHske2ZpbHRlcnMubWFwKChmKSA9PiBgJHtmLmtleX0ke2Yub3BlcmF0b3J9XCIke2YudmFsdWV9XCJgKS5qb2luKCcsJyl9fWA7XG59XG5cbmNvbnN0IGdldFN0eWxlcyA9ICh0aGVtZTogR3JhZmFuYVRoZW1lMikgPT4gKHtcbiAgYWxlcnQ6IGNzc2BcbiAgICBtYXgtd2lkdGg6IDc1Y2g7XG4gICAgbWFyZ2luLXRvcDogJHt0aGVtZS5zcGFjaW5nKDIpfTtcbiAgYCxcbiAgbGluazogY3NzYFxuICAgIGNvbG9yOiAke3RoZW1lLmNvbG9ycy50ZXh0Lmxpbmt9O1xuICAgIHRleHQtZGVjb3JhdGlvbjogdW5kZXJsaW5lO1xuICBgLFxufSk7XG4iXSwibmFtZXMiOlsiZHMiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./public/app/plugins/datasource/tempo/ServiceGraphSection.tsx\n");

/***/ }),

/***/ "./public/app/plugins/datasource/tempo/configuration/ConfigEditor.tsx":
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ConfigEditor: () => (/* binding */ ConfigEditor)\n/* harmony export */ });\n/* harmony import */ var _emotion_css__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"./.yarn/cache/@emotion-css-npm-11.11.2-dbfa42cf83-1edea109df.zip/node_modules/@emotion/css/dist/emotion-css.esm.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(\"./.yarn/cache/react-npm-18.2.0-1eae08fee2-88e38092da.zip/node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _grafana_experimental__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(\"./.yarn/__virtual__/@grafana-experimental-virtual-ba767552fe/0/cache/@grafana-experimental-npm-1.6.1-f052d2ae51-64c32bc9e3.zip/node_modules/@grafana/experimental/dist/esm/ConfigEditor/DataSourceDescription.js\");\n/* harmony import */ var _grafana_experimental__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(\"./.yarn/__virtual__/@grafana-experimental-virtual-ba767552fe/0/cache/@grafana-experimental-npm-1.6.1-f052d2ae51-64c32bc9e3.zip/node_modules/@grafana/experimental/dist/esm/ConfigEditor/Connection/ConnectionSettings.js\");\n/* harmony import */ var _grafana_experimental__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(\"./.yarn/__virtual__/@grafana-experimental-virtual-ba767552fe/0/cache/@grafana-experimental-npm-1.6.1-f052d2ae51-64c32bc9e3.zip/node_modules/@grafana/experimental/dist/esm/ConfigEditor/Auth/Auth.js\");\n/* harmony import */ var _grafana_experimental__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(\"./.yarn/__virtual__/@grafana-experimental-virtual-ba767552fe/0/cache/@grafana-experimental-npm-1.6.1-f052d2ae51-64c32bc9e3.zip/node_modules/@grafana/experimental/dist/esm/ConfigEditor/Auth/utils.js\");\n/* harmony import */ var _grafana_experimental__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(\"./.yarn/__virtual__/@grafana-experimental-virtual-ba767552fe/0/cache/@grafana-experimental-npm-1.6.1-f052d2ae51-64c32bc9e3.zip/node_modules/@grafana/experimental/dist/esm/ConfigEditor/ConfigSection/ConfigSection.js\");\n/* harmony import */ var _grafana_experimental__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(\"./.yarn/__virtual__/@grafana-experimental-virtual-ba767552fe/0/cache/@grafana-experimental-npm-1.6.1-f052d2ae51-64c32bc9e3.zip/node_modules/@grafana/experimental/dist/esm/ConfigEditor/AdvancedSettings/AdvancedHttpSettings.js\");\n/* harmony import */ var _grafana_experimental__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(\"./.yarn/__virtual__/@grafana-experimental-virtual-ba767552fe/0/cache/@grafana-experimental-npm-1.6.1-f052d2ae51-64c32bc9e3.zip/node_modules/@grafana/experimental/dist/esm/ConfigEditor/ConfigSection/ConfigSubSection.js\");\n/* harmony import */ var _grafana_runtime__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(\"./.yarn/__virtual__/@grafana-runtime-virtual-68c57d4c0c/1/packages/grafana-runtime/src/config.ts\");\n/* harmony import */ var _grafana_ui__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(\"./.yarn/__virtual__/@grafana-ui-virtual-d722efae30/1/packages/grafana-ui/src/themes/ThemeContext.tsx\");\n/* harmony import */ var _grafana_ui__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(\"./.yarn/__virtual__/@grafana-ui-virtual-d722efae30/1/packages/grafana-ui/src/components/DataSourceSettings/SecureSocksProxySettings.tsx\");\n/* harmony import */ var app_core_components_ConfigDescriptionLink__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(\"./public/app/core/components/ConfigDescriptionLink.tsx\");\n/* harmony import */ var app_core_components_Divider__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(\"./public/app/core/components/Divider.tsx\");\n/* harmony import */ var app_core_components_NodeGraphSettings__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(\"./public/app/core/components/NodeGraphSettings.tsx\");\n/* harmony import */ var app_core_components_TraceToLogs_TraceToLogsSettings__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(\"./public/app/core/components/TraceToLogs/TraceToLogsSettings.tsx\");\n/* harmony import */ var app_core_components_TraceToMetrics_TraceToMetricsSettings__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(\"./public/app/core/components/TraceToMetrics/TraceToMetricsSettings.tsx\");\n/* harmony import */ var app_features_explore_TraceView_components_settings_SpanBarSettings__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(\"./public/app/features/explore/TraceView/components/settings/SpanBarSettings.tsx\");\n/* harmony import */ var _LokiSearchSettings__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(\"./public/app/plugins/datasource/tempo/configuration/LokiSearchSettings.tsx\");\n/* harmony import */ var _QuerySettings__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(\"./public/app/plugins/datasource/tempo/configuration/QuerySettings.tsx\");\n/* harmony import */ var _ServiceGraphSettings__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(\"./public/app/plugins/datasource/tempo/configuration/ServiceGraphSettings.tsx\");\n/* harmony import */ var _TraceQLSearchSettings__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(\"./public/app/plugins/datasource/tempo/configuration/TraceQLSearchSettings.tsx\");\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nconst ConfigEditor = ({ options, onOptionsChange }) => {\n  const styles = (0,_grafana_ui__WEBPACK_IMPORTED_MODULE_12__.useStyles2)(getStyles);\n  return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_1___default().createElement(\"div\", { className: styles.container }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_1___default().createElement(\n    _grafana_experimental__WEBPACK_IMPORTED_MODULE_13__.DataSourceDescription,\n    {\n      dataSourceName: \"Tempo\",\n      docsLink: \"https://grafana.com/docs/grafana/latest/datasources/tempo\",\n      hasRequiredFields: false\n    }\n  ), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_1___default().createElement(app_core_components_Divider__WEBPACK_IMPORTED_MODULE_3__.Divider, null), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_grafana_experimental__WEBPACK_IMPORTED_MODULE_14__.ConnectionSettings, { config: options, onChange: onOptionsChange }), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_1___default().createElement(app_core_components_Divider__WEBPACK_IMPORTED_MODULE_3__.Divider, null), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_1___default().createElement(\n    _grafana_experimental__WEBPACK_IMPORTED_MODULE_15__.Auth,\n    {\n      ...(0,_grafana_experimental__WEBPACK_IMPORTED_MODULE_16__.convertLegacyAuthProps)({\n        config: options,\n        onChange: onOptionsChange\n      })\n    }\n  ), _grafana_runtime__WEBPACK_IMPORTED_MODULE_17__.config.secureSocksDSProxyEnabled && /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_grafana_ui__WEBPACK_IMPORTED_MODULE_18__.SecureSocksProxySettings, { options, onOptionsChange }), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_1___default().createElement(app_core_components_Divider__WEBPACK_IMPORTED_MODULE_3__.Divider, null), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_1___default().createElement(app_core_components_TraceToLogs_TraceToLogsSettings__WEBPACK_IMPORTED_MODULE_5__.TraceToLogsSection, { options, onOptionsChange }), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_1___default().createElement(app_core_components_Divider__WEBPACK_IMPORTED_MODULE_3__.Divider, null), _grafana_runtime__WEBPACK_IMPORTED_MODULE_17__.config.featureToggles.traceToMetrics ? /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_1___default().createElement((react__WEBPACK_IMPORTED_MODULE_1___default().Fragment), null, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_1___default().createElement(app_core_components_TraceToMetrics_TraceToMetricsSettings__WEBPACK_IMPORTED_MODULE_6__.TraceToMetricsSection, { options, onOptionsChange }), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_1___default().createElement(app_core_components_Divider__WEBPACK_IMPORTED_MODULE_3__.Divider, null)) : null, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_1___default().createElement(\n    _grafana_experimental__WEBPACK_IMPORTED_MODULE_19__.ConfigSection,\n    {\n      title: \"Additional settings\",\n      description: \"Additional settings are optional settings that can be configured for more control over your data source.\",\n      isCollapsible: true,\n      isInitiallyOpen: false\n    },\n    /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_grafana_experimental__WEBPACK_IMPORTED_MODULE_20__.AdvancedHttpSettings, { config: options, onChange: onOptionsChange }),\n    /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_1___default().createElement(app_core_components_Divider__WEBPACK_IMPORTED_MODULE_3__.Divider, { hideLine: true }),\n    /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_1___default().createElement(\n      _grafana_experimental__WEBPACK_IMPORTED_MODULE_21__.ConfigSubSection,\n      {\n        title: \"Service graph\",\n        description: /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_1___default().createElement(\n          app_core_components_ConfigDescriptionLink__WEBPACK_IMPORTED_MODULE_2__.ConfigDescriptionLink,\n          {\n            description: \"Select a Prometheus data source that contains the service graph data.\",\n            suffix: \"tempo/#service-graph\",\n            feature: \"the service graph\"\n          }\n        )\n      },\n      /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_ServiceGraphSettings__WEBPACK_IMPORTED_MODULE_10__.ServiceGraphSettings, { options, onOptionsChange })\n    ),\n    /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_1___default().createElement(app_core_components_Divider__WEBPACK_IMPORTED_MODULE_3__.Divider, { hideLine: true }),\n    /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_1___default().createElement(app_core_components_NodeGraphSettings__WEBPACK_IMPORTED_MODULE_4__.NodeGraphSection, { options, onOptionsChange }),\n    /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_1___default().createElement(app_core_components_Divider__WEBPACK_IMPORTED_MODULE_3__.Divider, { hideLine: true }),\n    /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_1___default().createElement(\n      _grafana_experimental__WEBPACK_IMPORTED_MODULE_21__.ConfigSubSection,\n      {\n        title: \"Tempo search\",\n        description: /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_1___default().createElement(\n          app_core_components_ConfigDescriptionLink__WEBPACK_IMPORTED_MODULE_2__.ConfigDescriptionLink,\n          {\n            description: \"Modify how traces are searched.\",\n            suffix: \"tempo/#tempo-search\",\n            feature: \"Tempo search\"\n          }\n        )\n      },\n      /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_TraceQLSearchSettings__WEBPACK_IMPORTED_MODULE_11__.TraceQLSearchSettings, { options, onOptionsChange })\n    ),\n    /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_1___default().createElement(app_core_components_Divider__WEBPACK_IMPORTED_MODULE_3__.Divider, { hideLine: true }),\n    /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_1___default().createElement(\n      _grafana_experimental__WEBPACK_IMPORTED_MODULE_21__.ConfigSubSection,\n      {\n        title: \"Loki search\",\n        description: /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_1___default().createElement(\n          app_core_components_ConfigDescriptionLink__WEBPACK_IMPORTED_MODULE_2__.ConfigDescriptionLink,\n          {\n            description: \"Select a Loki data source to search for traces. Derived fields must be configured in the Loki data source.\",\n            suffix: \"tempo/#loki-search\",\n            feature: \"Loki search\"\n          }\n        )\n      },\n      /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_LokiSearchSettings__WEBPACK_IMPORTED_MODULE_8__.LokiSearchSettings, { options, onOptionsChange })\n    ),\n    /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_1___default().createElement(app_core_components_Divider__WEBPACK_IMPORTED_MODULE_3__.Divider, { hideLine: true }),\n    /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_1___default().createElement(\n      _grafana_experimental__WEBPACK_IMPORTED_MODULE_21__.ConfigSubSection,\n      {\n        title: \"TraceID query\",\n        description: /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_1___default().createElement(\n          app_core_components_ConfigDescriptionLink__WEBPACK_IMPORTED_MODULE_2__.ConfigDescriptionLink,\n          {\n            description: \"Modify how TraceID queries are run.\",\n            suffix: \"tempo/#traceid-query\",\n            feature: \"the TraceID query\"\n          }\n        )\n      },\n      /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_1___default().createElement(_QuerySettings__WEBPACK_IMPORTED_MODULE_9__.QuerySettings, { options, onOptionsChange })\n    ),\n    /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_1___default().createElement(app_core_components_Divider__WEBPACK_IMPORTED_MODULE_3__.Divider, { hideLine: true }),\n    /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_1___default().createElement(app_features_explore_TraceView_components_settings_SpanBarSettings__WEBPACK_IMPORTED_MODULE_7__.SpanBarSection, { options, onOptionsChange })\n  ));\n};\nconst getStyles = (theme) => ({\n  container: (0,_emotion_css__WEBPACK_IMPORTED_MODULE_0__.css)`\n    label: container;\n    margin-bottom: ${theme.spacing(2)};\n    max-width: 900px;\n  `\n});\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9wdWJsaWMvYXBwL3BsdWdpbnMvZGF0YXNvdXJjZS90ZW1wby9jb25maWd1cmF0aW9uL0NvbmZpZ0VkaXRvci50c3giLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFvQjtBQUNGO0FBV1g7QUFDZ0I7QUFDOEI7QUFDZjtBQUNkO0FBQ1M7QUFDRTtBQUNHO0FBQ1A7QUFFSTtBQUNMO0FBQ087QUFDQztBQUkvQixNQUFNLGVBQWUsQ0FBQyxFQUFFLFNBQVMsZ0JBQWdCLE1BQWE7QUFDbkUsUUFBTSxTQUFTLHdEQUFVLENBQUMsU0FBUztBQUVuQyxTQUNFLDJFQUFDLFNBQUksV0FBVyxPQUFPLGFBQ3JCO0FBQUEsSUFBQyx5RUFBcUI7QUFBckI7QUFBQSxNQUNDLGdCQUFlO0FBQUEsTUFDZixVQUFTO0FBQUEsTUFDVCxtQkFBbUI7QUFBQTtBQUFBLEVBQ3JCLEdBRUEsMkVBQUMsZ0VBQU8sTUFBQyxHQUVULDJFQUFDLHNFQUFrQixJQUFDLFFBQVEsU0FBUyxVQUFVLGlCQUFpQixHQUVoRSwyRUFBQyxnRUFBTyxNQUFDLEdBRVQ7QUFBQSxJQUFDLHdEQUFJO0FBQUo7QUFBQSxNQUNFLEdBQUcsOEVBQXNCLENBQUM7QUFBQSxRQUN6QixRQUFRO0FBQUEsUUFDUixVQUFVO0FBQUEsTUFDWixDQUFDO0FBQUE7QUFBQSxFQUNILEdBQ0MscURBQU0sQ0FBQyw2QkFDTiwyRUFBQyxrRUFBd0IsSUFBQyxTQUFrQixpQkFBa0MsR0FHaEYsMkVBQUMsZ0VBQU8sTUFBQyxHQUVULDJFQUFDLG1HQUFrQixJQUFDLFNBQWtCLGlCQUFrQyxHQUV4RSwyRUFBQyxnRUFBTyxNQUFDLEdBRVIscURBQU0sQ0FBQyxlQUFlLGlCQUNyQiwwSUFDRSwyRUFBQyw0R0FBcUIsSUFBQyxTQUFrQixpQkFBa0MsR0FDM0UsMkVBQUMsZ0VBQU8sTUFBQyxDQUNYLElBQ0UsTUFFSjtBQUFBLElBQUMsaUVBQWE7QUFBYjtBQUFBLE1BQ0MsT0FBTTtBQUFBLE1BQ04sYUFBWTtBQUFBLE1BQ1osZUFBZTtBQUFBLE1BQ2YsaUJBQWlCO0FBQUE7QUFBQSxJQUVqQiwyRUFBQyx3RUFBb0IsSUFBQyxRQUFRLFNBQVMsVUFBVSxpQkFBaUI7QUFBQSxJQUVsRSwyRUFBQyxnRUFBTyxJQUFDLFVBQVUsTUFBTTtBQUFBLElBRXpCO0FBQUEsTUFBQyxvRUFBZ0I7QUFBaEI7QUFBQSxRQUNDLE9BQU07QUFBQSxRQUNOLGFBQ0U7QUFBQSxVQUFDLDRGQUFxQjtBQUFyQjtBQUFBLFlBQ0MsYUFBWTtBQUFBLFlBQ1osUUFBTztBQUFBLFlBQ1AsU0FBUTtBQUFBO0FBQUEsUUFDVjtBQUFBO0FBQUEsTUFHRiwyRUFBQyx3RUFBb0IsSUFBQyxTQUFrQixpQkFBa0M7QUFBQSxJQUM1RTtBQUFBLElBRUEsMkVBQUMsZ0VBQU8sSUFBQyxVQUFVLE1BQU07QUFBQSxJQUV6QiwyRUFBQyxtRkFBZ0IsSUFBQyxTQUFrQixpQkFBa0M7QUFBQSxJQUN0RSwyRUFBQyxnRUFBTyxJQUFDLFVBQVUsTUFBTTtBQUFBLElBRXpCO0FBQUEsTUFBQyxvRUFBZ0I7QUFBaEI7QUFBQSxRQUNDLE9BQU07QUFBQSxRQUNOLGFBQ0U7QUFBQSxVQUFDLDRGQUFxQjtBQUFyQjtBQUFBLFlBQ0MsYUFBWTtBQUFBLFlBQ1osUUFBTztBQUFBLFlBQ1AsU0FBUTtBQUFBO0FBQUEsUUFDVjtBQUFBO0FBQUEsTUFHRiwyRUFBQywwRUFBcUIsSUFBQyxTQUFrQixpQkFBa0M7QUFBQSxJQUM3RTtBQUFBLElBRUEsMkVBQUMsZ0VBQU8sSUFBQyxVQUFVLE1BQU07QUFBQSxJQUV6QjtBQUFBLE1BQUMsb0VBQWdCO0FBQWhCO0FBQUEsUUFDQyxPQUFNO0FBQUEsUUFDTixhQUNFO0FBQUEsVUFBQyw0RkFBcUI7QUFBckI7QUFBQSxZQUNDLGFBQVk7QUFBQSxZQUNaLFFBQU87QUFBQSxZQUNQLFNBQVE7QUFBQTtBQUFBLFFBQ1Y7QUFBQTtBQUFBLE1BR0YsMkVBQUMsbUVBQWtCLElBQUMsU0FBa0IsaUJBQWtDO0FBQUEsSUFDMUU7QUFBQSxJQUVBLDJFQUFDLGdFQUFPLElBQUMsVUFBVSxNQUFNO0FBQUEsSUFFekI7QUFBQSxNQUFDLG9FQUFnQjtBQUFoQjtBQUFBLFFBQ0MsT0FBTTtBQUFBLFFBQ04sYUFDRTtBQUFBLFVBQUMsNEZBQXFCO0FBQXJCO0FBQUEsWUFDQyxhQUFZO0FBQUEsWUFDWixRQUFPO0FBQUEsWUFDUCxTQUFRO0FBQUE7QUFBQSxRQUNWO0FBQUE7QUFBQSxNQUdGLDJFQUFDLHlEQUFhLElBQUMsU0FBa0IsaUJBQWtDO0FBQUEsSUFDckU7QUFBQSxJQUVBLDJFQUFDLGdFQUFPLElBQUMsVUFBVSxNQUFNO0FBQUEsSUFFekIsMkVBQUMsOEdBQWMsSUFBQyxTQUFrQixpQkFBa0M7QUFBQSxFQUN0RSxDQUNGO0FBRUo7QUFFQSxNQUFNLFlBQVksQ0FBQyxXQUEwQjtBQUFBLEVBQzNDLFdBQVcsaURBQUc7QUFBSDtBQUFBLHFCQUVRLE1BQU0sUUFBUSxDQUFDO0FBQUE7QUFBQTtBQUdwQyIsInNvdXJjZXMiOlsid2VicGFjazovL2dyYWZhbmEvLi9wdWJsaWMvYXBwL3BsdWdpbnMvZGF0YXNvdXJjZS90ZW1wby9jb25maWd1cmF0aW9uL0NvbmZpZ0VkaXRvci50c3g/ZjNhMyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBjc3MgfSBmcm9tICdAZW1vdGlvbi9jc3MnO1xuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcblxuaW1wb3J0IHsgRGF0YVNvdXJjZVBsdWdpbk9wdGlvbnNFZGl0b3JQcm9wcywgR3JhZmFuYVRoZW1lMiB9IGZyb20gJ0BncmFmYW5hL2RhdGEnO1xuaW1wb3J0IHtcbiAgQWR2YW5jZWRIdHRwU2V0dGluZ3MsXG4gIEF1dGgsXG4gIENvbmZpZ1NlY3Rpb24sXG4gIENvbmZpZ1N1YlNlY3Rpb24sXG4gIENvbm5lY3Rpb25TZXR0aW5ncyxcbiAgY29udmVydExlZ2FjeUF1dGhQcm9wcyxcbiAgRGF0YVNvdXJjZURlc2NyaXB0aW9uLFxufSBmcm9tICdAZ3JhZmFuYS9leHBlcmltZW50YWwnO1xuaW1wb3J0IHsgY29uZmlnIH0gZnJvbSAnQGdyYWZhbmEvcnVudGltZSc7XG5pbXBvcnQgeyBTZWN1cmVTb2Nrc1Byb3h5U2V0dGluZ3MsIHVzZVN0eWxlczIgfSBmcm9tICdAZ3JhZmFuYS91aSc7XG5pbXBvcnQgeyBDb25maWdEZXNjcmlwdGlvbkxpbmsgfSBmcm9tICdhcHAvY29yZS9jb21wb25lbnRzL0NvbmZpZ0Rlc2NyaXB0aW9uTGluayc7XG5pbXBvcnQgeyBEaXZpZGVyIH0gZnJvbSAnYXBwL2NvcmUvY29tcG9uZW50cy9EaXZpZGVyJztcbmltcG9ydCB7IE5vZGVHcmFwaFNlY3Rpb24gfSBmcm9tICdhcHAvY29yZS9jb21wb25lbnRzL05vZGVHcmFwaFNldHRpbmdzJztcbmltcG9ydCB7IFRyYWNlVG9Mb2dzU2VjdGlvbiB9IGZyb20gJ2FwcC9jb3JlL2NvbXBvbmVudHMvVHJhY2VUb0xvZ3MvVHJhY2VUb0xvZ3NTZXR0aW5ncyc7XG5pbXBvcnQgeyBUcmFjZVRvTWV0cmljc1NlY3Rpb24gfSBmcm9tICdhcHAvY29yZS9jb21wb25lbnRzL1RyYWNlVG9NZXRyaWNzL1RyYWNlVG9NZXRyaWNzU2V0dGluZ3MnO1xuaW1wb3J0IHsgU3BhbkJhclNlY3Rpb24gfSBmcm9tICdhcHAvZmVhdHVyZXMvZXhwbG9yZS9UcmFjZVZpZXcvY29tcG9uZW50cy9zZXR0aW5ncy9TcGFuQmFyU2V0dGluZ3MnO1xuXG5pbXBvcnQgeyBMb2tpU2VhcmNoU2V0dGluZ3MgfSBmcm9tICcuL0xva2lTZWFyY2hTZXR0aW5ncyc7XG5pbXBvcnQgeyBRdWVyeVNldHRpbmdzIH0gZnJvbSAnLi9RdWVyeVNldHRpbmdzJztcbmltcG9ydCB7IFNlcnZpY2VHcmFwaFNldHRpbmdzIH0gZnJvbSAnLi9TZXJ2aWNlR3JhcGhTZXR0aW5ncyc7XG5pbXBvcnQgeyBUcmFjZVFMU2VhcmNoU2V0dGluZ3MgfSBmcm9tICcuL1RyYWNlUUxTZWFyY2hTZXR0aW5ncyc7XG5cbmV4cG9ydCB0eXBlIFByb3BzID0gRGF0YVNvdXJjZVBsdWdpbk9wdGlvbnNFZGl0b3JQcm9wcztcblxuZXhwb3J0IGNvbnN0IENvbmZpZ0VkaXRvciA9ICh7IG9wdGlvbnMsIG9uT3B0aW9uc0NoYW5nZSB9OiBQcm9wcykgPT4ge1xuICBjb25zdCBzdHlsZXMgPSB1c2VTdHlsZXMyKGdldFN0eWxlcyk7XG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT17c3R5bGVzLmNvbnRhaW5lcn0+XG4gICAgICA8RGF0YVNvdXJjZURlc2NyaXB0aW9uXG4gICAgICAgIGRhdGFTb3VyY2VOYW1lPVwiVGVtcG9cIlxuICAgICAgICBkb2NzTGluaz1cImh0dHBzOi8vZ3JhZmFuYS5jb20vZG9jcy9ncmFmYW5hL2xhdGVzdC9kYXRhc291cmNlcy90ZW1wb1wiXG4gICAgICAgIGhhc1JlcXVpcmVkRmllbGRzPXtmYWxzZX1cbiAgICAgIC8+XG5cbiAgICAgIDxEaXZpZGVyIC8+XG5cbiAgICAgIDxDb25uZWN0aW9uU2V0dGluZ3MgY29uZmlnPXtvcHRpb25zfSBvbkNoYW5nZT17b25PcHRpb25zQ2hhbmdlfSAvPlxuXG4gICAgICA8RGl2aWRlciAvPlxuXG4gICAgICA8QXV0aFxuICAgICAgICB7Li4uY29udmVydExlZ2FjeUF1dGhQcm9wcyh7XG4gICAgICAgICAgY29uZmlnOiBvcHRpb25zLFxuICAgICAgICAgIG9uQ2hhbmdlOiBvbk9wdGlvbnNDaGFuZ2UsXG4gICAgICAgIH0pfVxuICAgICAgLz5cbiAgICAgIHtjb25maWcuc2VjdXJlU29ja3NEU1Byb3h5RW5hYmxlZCAmJiAoXG4gICAgICAgIDxTZWN1cmVTb2Nrc1Byb3h5U2V0dGluZ3Mgb3B0aW9ucz17b3B0aW9uc30gb25PcHRpb25zQ2hhbmdlPXtvbk9wdGlvbnNDaGFuZ2V9IC8+XG4gICAgICApfVxuXG4gICAgICA8RGl2aWRlciAvPlxuXG4gICAgICA8VHJhY2VUb0xvZ3NTZWN0aW9uIG9wdGlvbnM9e29wdGlvbnN9IG9uT3B0aW9uc0NoYW5nZT17b25PcHRpb25zQ2hhbmdlfSAvPlxuXG4gICAgICA8RGl2aWRlciAvPlxuXG4gICAgICB7Y29uZmlnLmZlYXR1cmVUb2dnbGVzLnRyYWNlVG9NZXRyaWNzID8gKFxuICAgICAgICA8PlxuICAgICAgICAgIDxUcmFjZVRvTWV0cmljc1NlY3Rpb24gb3B0aW9ucz17b3B0aW9uc30gb25PcHRpb25zQ2hhbmdlPXtvbk9wdGlvbnNDaGFuZ2V9IC8+XG4gICAgICAgICAgPERpdmlkZXIgLz5cbiAgICAgICAgPC8+XG4gICAgICApIDogbnVsbH1cblxuICAgICAgPENvbmZpZ1NlY3Rpb25cbiAgICAgICAgdGl0bGU9XCJBZGRpdGlvbmFsIHNldHRpbmdzXCJcbiAgICAgICAgZGVzY3JpcHRpb249XCJBZGRpdGlvbmFsIHNldHRpbmdzIGFyZSBvcHRpb25hbCBzZXR0aW5ncyB0aGF0IGNhbiBiZSBjb25maWd1cmVkIGZvciBtb3JlIGNvbnRyb2wgb3ZlciB5b3VyIGRhdGEgc291cmNlLlwiXG4gICAgICAgIGlzQ29sbGFwc2libGU9e3RydWV9XG4gICAgICAgIGlzSW5pdGlhbGx5T3Blbj17ZmFsc2V9XG4gICAgICA+XG4gICAgICAgIDxBZHZhbmNlZEh0dHBTZXR0aW5ncyBjb25maWc9e29wdGlvbnN9IG9uQ2hhbmdlPXtvbk9wdGlvbnNDaGFuZ2V9IC8+XG5cbiAgICAgICAgPERpdmlkZXIgaGlkZUxpbmU9e3RydWV9IC8+XG5cbiAgICAgICAgPENvbmZpZ1N1YlNlY3Rpb25cbiAgICAgICAgICB0aXRsZT1cIlNlcnZpY2UgZ3JhcGhcIlxuICAgICAgICAgIGRlc2NyaXB0aW9uPXtcbiAgICAgICAgICAgIDxDb25maWdEZXNjcmlwdGlvbkxpbmtcbiAgICAgICAgICAgICAgZGVzY3JpcHRpb249XCJTZWxlY3QgYSBQcm9tZXRoZXVzIGRhdGEgc291cmNlIHRoYXQgY29udGFpbnMgdGhlIHNlcnZpY2UgZ3JhcGggZGF0YS5cIlxuICAgICAgICAgICAgICBzdWZmaXg9XCJ0ZW1wby8jc2VydmljZS1ncmFwaFwiXG4gICAgICAgICAgICAgIGZlYXR1cmU9XCJ0aGUgc2VydmljZSBncmFwaFwiXG4gICAgICAgICAgICAvPlxuICAgICAgICAgIH1cbiAgICAgICAgPlxuICAgICAgICAgIDxTZXJ2aWNlR3JhcGhTZXR0aW5ncyBvcHRpb25zPXtvcHRpb25zfSBvbk9wdGlvbnNDaGFuZ2U9e29uT3B0aW9uc0NoYW5nZX0gLz5cbiAgICAgICAgPC9Db25maWdTdWJTZWN0aW9uPlxuXG4gICAgICAgIDxEaXZpZGVyIGhpZGVMaW5lPXt0cnVlfSAvPlxuXG4gICAgICAgIDxOb2RlR3JhcGhTZWN0aW9uIG9wdGlvbnM9e29wdGlvbnN9IG9uT3B0aW9uc0NoYW5nZT17b25PcHRpb25zQ2hhbmdlfSAvPlxuICAgICAgICA8RGl2aWRlciBoaWRlTGluZT17dHJ1ZX0gLz5cblxuICAgICAgICA8Q29uZmlnU3ViU2VjdGlvblxuICAgICAgICAgIHRpdGxlPVwiVGVtcG8gc2VhcmNoXCJcbiAgICAgICAgICBkZXNjcmlwdGlvbj17XG4gICAgICAgICAgICA8Q29uZmlnRGVzY3JpcHRpb25MaW5rXG4gICAgICAgICAgICAgIGRlc2NyaXB0aW9uPVwiTW9kaWZ5IGhvdyB0cmFjZXMgYXJlIHNlYXJjaGVkLlwiXG4gICAgICAgICAgICAgIHN1ZmZpeD1cInRlbXBvLyN0ZW1wby1zZWFyY2hcIlxuICAgICAgICAgICAgICBmZWF0dXJlPVwiVGVtcG8gc2VhcmNoXCJcbiAgICAgICAgICAgIC8+XG4gICAgICAgICAgfVxuICAgICAgICA+XG4gICAgICAgICAgPFRyYWNlUUxTZWFyY2hTZXR0aW5ncyBvcHRpb25zPXtvcHRpb25zfSBvbk9wdGlvbnNDaGFuZ2U9e29uT3B0aW9uc0NoYW5nZX0gLz5cbiAgICAgICAgPC9Db25maWdTdWJTZWN0aW9uPlxuXG4gICAgICAgIDxEaXZpZGVyIGhpZGVMaW5lPXt0cnVlfSAvPlxuXG4gICAgICAgIDxDb25maWdTdWJTZWN0aW9uXG4gICAgICAgICAgdGl0bGU9XCJMb2tpIHNlYXJjaFwiXG4gICAgICAgICAgZGVzY3JpcHRpb249e1xuICAgICAgICAgICAgPENvbmZpZ0Rlc2NyaXB0aW9uTGlua1xuICAgICAgICAgICAgICBkZXNjcmlwdGlvbj1cIlNlbGVjdCBhIExva2kgZGF0YSBzb3VyY2UgdG8gc2VhcmNoIGZvciB0cmFjZXMuIERlcml2ZWQgZmllbGRzIG11c3QgYmUgY29uZmlndXJlZCBpbiB0aGUgTG9raSBkYXRhIHNvdXJjZS5cIlxuICAgICAgICAgICAgICBzdWZmaXg9XCJ0ZW1wby8jbG9raS1zZWFyY2hcIlxuICAgICAgICAgICAgICBmZWF0dXJlPVwiTG9raSBzZWFyY2hcIlxuICAgICAgICAgICAgLz5cbiAgICAgICAgICB9XG4gICAgICAgID5cbiAgICAgICAgICA8TG9raVNlYXJjaFNldHRpbmdzIG9wdGlvbnM9e29wdGlvbnN9IG9uT3B0aW9uc0NoYW5nZT17b25PcHRpb25zQ2hhbmdlfSAvPlxuICAgICAgICA8L0NvbmZpZ1N1YlNlY3Rpb24+XG5cbiAgICAgICAgPERpdmlkZXIgaGlkZUxpbmU9e3RydWV9IC8+XG5cbiAgICAgICAgPENvbmZpZ1N1YlNlY3Rpb25cbiAgICAgICAgICB0aXRsZT1cIlRyYWNlSUQgcXVlcnlcIlxuICAgICAgICAgIGRlc2NyaXB0aW9uPXtcbiAgICAgICAgICAgIDxDb25maWdEZXNjcmlwdGlvbkxpbmtcbiAgICAgICAgICAgICAgZGVzY3JpcHRpb249XCJNb2RpZnkgaG93IFRyYWNlSUQgcXVlcmllcyBhcmUgcnVuLlwiXG4gICAgICAgICAgICAgIHN1ZmZpeD1cInRlbXBvLyN0cmFjZWlkLXF1ZXJ5XCJcbiAgICAgICAgICAgICAgZmVhdHVyZT1cInRoZSBUcmFjZUlEIHF1ZXJ5XCJcbiAgICAgICAgICAgIC8+XG4gICAgICAgICAgfVxuICAgICAgICA+XG4gICAgICAgICAgPFF1ZXJ5U2V0dGluZ3Mgb3B0aW9ucz17b3B0aW9uc30gb25PcHRpb25zQ2hhbmdlPXtvbk9wdGlvbnNDaGFuZ2V9IC8+XG4gICAgICAgIDwvQ29uZmlnU3ViU2VjdGlvbj5cblxuICAgICAgICA8RGl2aWRlciBoaWRlTGluZT17dHJ1ZX0gLz5cblxuICAgICAgICA8U3BhbkJhclNlY3Rpb24gb3B0aW9ucz17b3B0aW9uc30gb25PcHRpb25zQ2hhbmdlPXtvbk9wdGlvbnNDaGFuZ2V9IC8+XG4gICAgICA8L0NvbmZpZ1NlY3Rpb24+XG4gICAgPC9kaXY+XG4gICk7XG59O1xuXG5jb25zdCBnZXRTdHlsZXMgPSAodGhlbWU6IEdyYWZhbmFUaGVtZTIpID0+ICh7XG4gIGNvbnRhaW5lcjogY3NzYFxuICAgIGxhYmVsOiBjb250YWluZXI7XG4gICAgbWFyZ2luLWJvdHRvbTogJHt0aGVtZS5zcGFjaW5nKDIpfTtcbiAgICBtYXgtd2lkdGg6IDkwMHB4O1xuICBgLFxufSk7XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./public/app/plugins/datasource/tempo/configuration/ConfigEditor.tsx\n");

/***/ }),

/***/ "./public/app/plugins/datasource/tempo/configuration/LokiSearchSettings.tsx":
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   LokiSearchSettings: () => (/* binding */ LokiSearchSettings)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"./.yarn/cache/react-npm-18.2.0-1eae08fee2-88e38092da.zip/node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _grafana_data__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(\"./.yarn/__virtual__/@grafana-data-virtual-0996183232/1/packages/grafana-data/src/utils/datasource.ts\");\n/* harmony import */ var _grafana_ui__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(\"./.yarn/__virtual__/@grafana-ui-virtual-d722efae30/1/packages/grafana-ui/src/themes/ThemeContext.tsx\");\n/* harmony import */ var _grafana_ui__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(\"./.yarn/__virtual__/@grafana-ui-virtual-d722efae30/1/packages/grafana-ui/src/components/Forms/InlineFieldRow.tsx\");\n/* harmony import */ var _grafana_ui__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(\"./.yarn/__virtual__/@grafana-ui-virtual-d722efae30/1/packages/grafana-ui/src/components/Forms/InlineField.tsx\");\n/* harmony import */ var _grafana_ui__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(\"./.yarn/__virtual__/@grafana-ui-virtual-d722efae30/1/packages/grafana-ui/src/components/Button/Button.tsx\");\n/* harmony import */ var app_features_datasources_components_picker_DataSourcePicker__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(\"./public/app/features/datasources/components/picker/DataSourcePicker.tsx\");\n/* harmony import */ var _QuerySettings__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(\"./public/app/plugins/datasource/tempo/configuration/QuerySettings.tsx\");\n\n\n\n\n\n\nfunction LokiSearchSettings({ options, onOptionsChange }) {\n  const styles = (0,_grafana_ui__WEBPACK_IMPORTED_MODULE_3__.useStyles2)(_QuerySettings__WEBPACK_IMPORTED_MODULE_2__.getStyles);\n  const legacyDatasource = options.jsonData.tracesToLogs?.lokiSearch !== false ? options.jsonData.tracesToLogs?.datasourceUid : void 0;\n  if (legacyDatasource && options.jsonData.lokiSearch === void 0) {\n    (0,_grafana_data__WEBPACK_IMPORTED_MODULE_4__.updateDatasourcePluginJsonDataOption)({ onOptionsChange, options }, \"lokiSearch\", {\n      datasourceUid: legacyDatasource\n    });\n  }\n  return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", { className: styles.container }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_grafana_ui__WEBPACK_IMPORTED_MODULE_5__.InlineFieldRow, { className: styles.row }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_grafana_ui__WEBPACK_IMPORTED_MODULE_6__.InlineField, { tooltip: \"The Loki data source with the service graph data\", label: \"Data source\", labelWidth: 26 }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\n    app_features_datasources_components_picker_DataSourcePicker__WEBPACK_IMPORTED_MODULE_1__.DataSourcePicker,\n    {\n      inputId: \"loki-search-data-source-picker\",\n      pluginId: \"loki\",\n      current: options.jsonData.lokiSearch?.datasourceUid,\n      noDefault: true,\n      width: 40,\n      onChange: (ds) => (0,_grafana_data__WEBPACK_IMPORTED_MODULE_4__.updateDatasourcePluginJsonDataOption)({ onOptionsChange, options }, \"lokiSearch\", {\n        datasourceUid: ds.uid\n      })\n    }\n  )), options.jsonData.lokiSearch?.datasourceUid ? /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\n    _grafana_ui__WEBPACK_IMPORTED_MODULE_7__.Button,\n    {\n      type: \"button\",\n      variant: \"secondary\",\n      size: \"sm\",\n      fill: \"text\",\n      onClick: () => {\n        (0,_grafana_data__WEBPACK_IMPORTED_MODULE_4__.updateDatasourcePluginJsonDataOption)({ onOptionsChange, options }, \"lokiSearch\", {\n          datasourceUid: void 0\n        });\n      }\n    },\n    \"Clear\"\n  ) : null));\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9wdWJsaWMvYXBwL3BsdWdpbnMvZGF0YXNvdXJjZS90ZW1wby9jb25maWd1cmF0aW9uL0xva2lTZWFyY2hTZXR0aW5ncy50c3giLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7QUFBa0I7QUFNWDtBQUN5RDtBQUMvQjtBQUlQO0FBSW5CLFNBQVMsbUJBQW1CLEVBQUUsU0FBUyxnQkFBZ0IsR0FBVTtBQUN0RSxRQUFNLFNBQVMsdURBQVUsQ0FBQyxxREFBUztBQUluQyxRQUFNLG1CQUNKLFFBQVEsU0FBUyxjQUFjLGVBQWUsUUFBUSxRQUFRLFNBQVMsY0FBYyxnQkFBZ0I7QUFDdkcsTUFBSSxvQkFBb0IsUUFBUSxTQUFTLGVBQWUsUUFBVztBQUNqRSx1RkFBb0MsQ0FBQyxFQUFFLGlCQUFpQixRQUFRLEdBQUcsY0FBYztBQUFBLE1BQy9FLGVBQWU7QUFBQSxJQUNqQixDQUFDO0FBQUEsRUFDSDtBQUVBLFNBQ0UsMkVBQUMsU0FBSSxXQUFXLE9BQU8sYUFDckIsMkVBQUMsdURBQWMsSUFBQyxXQUFXLE9BQU8sT0FDaEMsMkVBQUMsb0RBQVcsSUFBQyxTQUFRLG9EQUFtRCxPQUFNLGVBQWMsWUFBWSxNQUN0RztBQUFBLElBQUMseUdBQWdCO0FBQWhCO0FBQUEsTUFDQyxTQUFRO0FBQUEsTUFDUixVQUFTO0FBQUEsTUFDVCxTQUFTLFFBQVEsU0FBUyxZQUFZO0FBQUEsTUFDdEMsV0FBVztBQUFBLE1BQ1gsT0FBTztBQUFBLE1BQ1AsVUFBVSxDQUFDLE9BQ1QsbUZBQW9DLENBQUMsRUFBRSxpQkFBaUIsUUFBUSxHQUFHLGNBQWM7QUFBQSxRQUMvRSxlQUFlLEdBQUc7QUFBQSxNQUNwQixDQUFDO0FBQUE7QUFBQSxFQUVMLENBQ0YsR0FDQyxRQUFRLFNBQVMsWUFBWSxnQkFDNUI7QUFBQSxJQUFDLCtDQUFNO0FBQU47QUFBQSxNQUNDLE1BQU07QUFBQSxNQUNOLFNBQVM7QUFBQSxNQUNULE1BQU07QUFBQSxNQUNOLE1BQU07QUFBQSxNQUNOLFNBQVMsTUFBTTtBQUNiLDJGQUFvQyxDQUFDLEVBQUUsaUJBQWlCLFFBQVEsR0FBRyxjQUFjO0FBQUEsVUFDL0UsZUFBZTtBQUFBLFFBQ2pCLENBQUM7QUFBQSxNQUNIO0FBQUE7QUFBQSxJQUNEO0FBQUEsRUFFRCxJQUNFLElBQ04sQ0FDRjtBQUVKIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZ3JhZmFuYS8uL3B1YmxpYy9hcHAvcGx1Z2lucy9kYXRhc291cmNlL3RlbXBvL2NvbmZpZ3VyYXRpb24vTG9raVNlYXJjaFNldHRpbmdzLnRzeD9iMmY0Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5cbmltcG9ydCB7XG4gIERhdGFTb3VyY2VJbnN0YW5jZVNldHRpbmdzLFxuICBEYXRhU291cmNlUGx1Z2luT3B0aW9uc0VkaXRvclByb3BzLFxuICB1cGRhdGVEYXRhc291cmNlUGx1Z2luSnNvbkRhdGFPcHRpb24sXG59IGZyb20gJ0BncmFmYW5hL2RhdGEnO1xuaW1wb3J0IHsgQnV0dG9uLCBJbmxpbmVGaWVsZCwgSW5saW5lRmllbGRSb3csIHVzZVN0eWxlczIgfSBmcm9tICdAZ3JhZmFuYS91aSc7XG5pbXBvcnQgeyBEYXRhU291cmNlUGlja2VyIH0gZnJvbSAnYXBwL2ZlYXR1cmVzL2RhdGFzb3VyY2VzL2NvbXBvbmVudHMvcGlja2VyL0RhdGFTb3VyY2VQaWNrZXInO1xuXG5pbXBvcnQgeyBUZW1wb0pzb25EYXRhIH0gZnJvbSAnLi4vdHlwZXMnO1xuXG5pbXBvcnQgeyBnZXRTdHlsZXMgfSBmcm9tICcuL1F1ZXJ5U2V0dGluZ3MnO1xuXG5pbnRlcmZhY2UgUHJvcHMgZXh0ZW5kcyBEYXRhU291cmNlUGx1Z2luT3B0aW9uc0VkaXRvclByb3BzPFRlbXBvSnNvbkRhdGE+IHt9XG5cbmV4cG9ydCBmdW5jdGlvbiBMb2tpU2VhcmNoU2V0dGluZ3MoeyBvcHRpb25zLCBvbk9wdGlvbnNDaGFuZ2UgfTogUHJvcHMpIHtcbiAgY29uc3Qgc3R5bGVzID0gdXNlU3R5bGVzMihnZXRTdHlsZXMpO1xuXG4gIC8vIERlZmF1bHQgdG8gdGhlIHRyYWNlIHRvIGxvZ3MgZGF0YXNvdXJjZSBpZiBjb25maWd1cmVkIGFuZCBsb2tpIHNlYXJjaCB3YXMgZW5hYmxlZFxuICAvLyBidXQgb25seSBpZiBqc29uRGF0YS5sb2tpU2VhcmNoIGhhc24ndCBiZWVuIHNldFxuICBjb25zdCBsZWdhY3lEYXRhc291cmNlID1cbiAgICBvcHRpb25zLmpzb25EYXRhLnRyYWNlc1RvTG9ncz8ubG9raVNlYXJjaCAhPT0gZmFsc2UgPyBvcHRpb25zLmpzb25EYXRhLnRyYWNlc1RvTG9ncz8uZGF0YXNvdXJjZVVpZCA6IHVuZGVmaW5lZDtcbiAgaWYgKGxlZ2FjeURhdGFzb3VyY2UgJiYgb3B0aW9ucy5qc29uRGF0YS5sb2tpU2VhcmNoID09PSB1bmRlZmluZWQpIHtcbiAgICB1cGRhdGVEYXRhc291cmNlUGx1Z2luSnNvbkRhdGFPcHRpb24oeyBvbk9wdGlvbnNDaGFuZ2UsIG9wdGlvbnMgfSwgJ2xva2lTZWFyY2gnLCB7XG4gICAgICBkYXRhc291cmNlVWlkOiBsZWdhY3lEYXRhc291cmNlLFxuICAgIH0pO1xuICB9XG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT17c3R5bGVzLmNvbnRhaW5lcn0+XG4gICAgICA8SW5saW5lRmllbGRSb3cgY2xhc3NOYW1lPXtzdHlsZXMucm93fT5cbiAgICAgICAgPElubGluZUZpZWxkIHRvb2x0aXA9XCJUaGUgTG9raSBkYXRhIHNvdXJjZSB3aXRoIHRoZSBzZXJ2aWNlIGdyYXBoIGRhdGFcIiBsYWJlbD1cIkRhdGEgc291cmNlXCIgbGFiZWxXaWR0aD17MjZ9PlxuICAgICAgICAgIDxEYXRhU291cmNlUGlja2VyXG4gICAgICAgICAgICBpbnB1dElkPVwibG9raS1zZWFyY2gtZGF0YS1zb3VyY2UtcGlja2VyXCJcbiAgICAgICAgICAgIHBsdWdpbklkPVwibG9raVwiXG4gICAgICAgICAgICBjdXJyZW50PXtvcHRpb25zLmpzb25EYXRhLmxva2lTZWFyY2g/LmRhdGFzb3VyY2VVaWR9XG4gICAgICAgICAgICBub0RlZmF1bHQ9e3RydWV9XG4gICAgICAgICAgICB3aWR0aD17NDB9XG4gICAgICAgICAgICBvbkNoYW5nZT17KGRzOiBEYXRhU291cmNlSW5zdGFuY2VTZXR0aW5ncykgPT5cbiAgICAgICAgICAgICAgdXBkYXRlRGF0YXNvdXJjZVBsdWdpbkpzb25EYXRhT3B0aW9uKHsgb25PcHRpb25zQ2hhbmdlLCBvcHRpb25zIH0sICdsb2tpU2VhcmNoJywge1xuICAgICAgICAgICAgICAgIGRhdGFzb3VyY2VVaWQ6IGRzLnVpZCxcbiAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAvPlxuICAgICAgICA8L0lubGluZUZpZWxkPlxuICAgICAgICB7b3B0aW9ucy5qc29uRGF0YS5sb2tpU2VhcmNoPy5kYXRhc291cmNlVWlkID8gKFxuICAgICAgICAgIDxCdXR0b25cbiAgICAgICAgICAgIHR5cGU9eydidXR0b24nfVxuICAgICAgICAgICAgdmFyaWFudD17J3NlY29uZGFyeSd9XG4gICAgICAgICAgICBzaXplPXsnc20nfVxuICAgICAgICAgICAgZmlsbD17J3RleHQnfVxuICAgICAgICAgICAgb25DbGljaz17KCkgPT4ge1xuICAgICAgICAgICAgICB1cGRhdGVEYXRhc291cmNlUGx1Z2luSnNvbkRhdGFPcHRpb24oeyBvbk9wdGlvbnNDaGFuZ2UsIG9wdGlvbnMgfSwgJ2xva2lTZWFyY2gnLCB7XG4gICAgICAgICAgICAgICAgZGF0YXNvdXJjZVVpZDogdW5kZWZpbmVkLFxuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH19XG4gICAgICAgICAgPlxuICAgICAgICAgICAgQ2xlYXJcbiAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgKSA6IG51bGx9XG4gICAgICA8L0lubGluZUZpZWxkUm93PlxuICAgIDwvZGl2PlxuICApO1xufVxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./public/app/plugins/datasource/tempo/configuration/LokiSearchSettings.tsx\n");

/***/ }),

/***/ "./public/app/plugins/datasource/tempo/configuration/QuerySettings.tsx":
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   QuerySettings: () => (/* binding */ QuerySettings),\n/* harmony export */   getStyles: () => (/* binding */ getStyles)\n/* harmony export */ });\n/* harmony import */ var _emotion_css__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"./.yarn/cache/@emotion-css-npm-11.11.2-dbfa42cf83-1edea109df.zip/node_modules/@emotion/css/dist/emotion-css.esm.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(\"./.yarn/cache/react-npm-18.2.0-1eae08fee2-88e38092da.zip/node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _grafana_data__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(\"./.yarn/__virtual__/@grafana-data-virtual-0996183232/1/packages/grafana-data/src/utils/datasource.ts\");\n/* harmony import */ var _grafana_ui__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(\"./.yarn/__virtual__/@grafana-ui-virtual-d722efae30/1/packages/grafana-ui/src/themes/ThemeContext.tsx\");\n/* harmony import */ var _grafana_ui__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(\"./.yarn/__virtual__/@grafana-ui-virtual-d722efae30/1/packages/grafana-ui/src/components/Forms/InlineField.tsx\");\n/* harmony import */ var _grafana_ui__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(\"./.yarn/__virtual__/@grafana-ui-virtual-d722efae30/1/packages/grafana-ui/src/components/Switch/Switch.tsx\");\n/* harmony import */ var app_core_components_IntervalInput_IntervalInput__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(\"./public/app/core/components/IntervalInput/IntervalInput.tsx\");\n/* harmony import */ var app_core_components_TraceToLogs_TraceToLogsSettings__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(\"./public/app/core/components/TraceToLogs/TraceToLogsSettings.tsx\");\n\n\n\n\n\n\n\nfunction QuerySettings({ options, onOptionsChange }) {\n  const styles = (0,_grafana_ui__WEBPACK_IMPORTED_MODULE_4__.useStyles2)(getStyles);\n  const getLabel = (type) => {\n    return `Time shift for ${type} of search`;\n  };\n  const getTooltip = (type) => {\n    return `Shifts the ${type} of the time range when searching by TraceID. Searching can return traces that do not fully fall into the search time range, so we recommend using higher time shifts for longer traces. Default: 30m (Time units can be used here, for example: 5s, 1m, 3h`;\n  };\n  return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_1___default().createElement(\"div\", { className: styles.container }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_1___default().createElement(\n    _grafana_ui__WEBPACK_IMPORTED_MODULE_5__.InlineField,\n    {\n      label: \"Use time range in query\",\n      tooltip: \"The time range can be used when there are performance issues or timeouts since it will narrow down the search to the defined range. Default: disabled\",\n      labelWidth: 26\n    },\n    /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_1___default().createElement(\n      _grafana_ui__WEBPACK_IMPORTED_MODULE_6__.InlineSwitch,\n      {\n        id: \"enable-time-shift\",\n        value: options.jsonData.traceQuery?.timeShiftEnabled || false,\n        onChange: (event) => {\n          (0,_grafana_data__WEBPACK_IMPORTED_MODULE_7__.updateDatasourcePluginJsonDataOption)({ onOptionsChange, options }, \"traceQuery\", {\n            ...options.jsonData.traceQuery,\n            timeShiftEnabled: event.currentTarget.checked\n          });\n        }\n      }\n    )\n  ), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_1___default().createElement(\n    app_core_components_IntervalInput_IntervalInput__WEBPACK_IMPORTED_MODULE_2__.IntervalInput,\n    {\n      label: getLabel(\"start\"),\n      tooltip: getTooltip(\"start\"),\n      value: options.jsonData.traceQuery?.spanStartTimeShift || \"\",\n      disabled: !options.jsonData.traceQuery?.timeShiftEnabled,\n      onChange: (val) => {\n        (0,_grafana_data__WEBPACK_IMPORTED_MODULE_7__.updateDatasourcePluginJsonDataOption)({ onOptionsChange, options }, \"traceQuery\", {\n          ...options.jsonData.traceQuery,\n          spanStartTimeShift: val\n        });\n      },\n      isInvalidError: app_core_components_TraceToLogs_TraceToLogsSettings__WEBPACK_IMPORTED_MODULE_3__.invalidTimeShiftError\n    }\n  ), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_1___default().createElement(\n    app_core_components_IntervalInput_IntervalInput__WEBPACK_IMPORTED_MODULE_2__.IntervalInput,\n    {\n      label: getLabel(\"end\"),\n      tooltip: getTooltip(\"end\"),\n      value: options.jsonData.traceQuery?.spanEndTimeShift || \"\",\n      disabled: !options.jsonData.traceQuery?.timeShiftEnabled,\n      onChange: (val) => {\n        (0,_grafana_data__WEBPACK_IMPORTED_MODULE_7__.updateDatasourcePluginJsonDataOption)({ onOptionsChange, options }, \"traceQuery\", {\n          ...options.jsonData.traceQuery,\n          spanEndTimeShift: val\n        });\n      },\n      isInvalidError: app_core_components_TraceToLogs_TraceToLogsSettings__WEBPACK_IMPORTED_MODULE_3__.invalidTimeShiftError\n    }\n  ));\n}\nconst getStyles = (theme) => ({\n  infoText: (0,_emotion_css__WEBPACK_IMPORTED_MODULE_0__.css)`\n    padding-bottom: ${theme.spacing(2)};\n    color: ${theme.colors.text.secondary};\n  `,\n  container: (0,_emotion_css__WEBPACK_IMPORTED_MODULE_0__.css)`\n    width: 100%;\n  `,\n  row: (0,_emotion_css__WEBPACK_IMPORTED_MODULE_0__.css)`\n    align-items: baseline;\n  `\n});\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9wdWJsaWMvYXBwL3BsdWdpbnMvZGF0YXNvdXJjZS90ZW1wby9jb25maWd1cmF0aW9uL1F1ZXJ5U2V0dGluZ3MudHN4IiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7OztBQUFvQjtBQUNGO0FBRXNGO0FBQ2xEO0FBQ3hCO0FBQ1E7QUFNL0IsU0FBUyxjQUFjLEVBQUUsU0FBUyxnQkFBZ0IsR0FBVTtBQUNqRSxRQUFNLFNBQVMsdURBQVUsQ0FBQyxTQUFTO0FBRW5DLFFBQU0sV0FBVyxDQUFDLFNBQTBCO0FBQzFDLFdBQU8sa0JBQWtCO0FBQUEsRUFDM0I7QUFFQSxRQUFNLGFBQWEsQ0FBQyxTQUEwQjtBQUM1QyxXQUFPLGNBQWM7QUFBQSxFQUN2QjtBQUVBLFNBQ0UsMkVBQUMsU0FBSSxXQUFXLE9BQU8sYUFDckI7QUFBQSxJQUFDLG9EQUFXO0FBQVg7QUFBQSxNQUNDLE9BQU07QUFBQSxNQUNOLFNBQVE7QUFBQSxNQUNSLFlBQVk7QUFBQTtBQUFBLElBRVo7QUFBQSxNQUFDLHFEQUFZO0FBQVo7QUFBQSxRQUNDLElBQUc7QUFBQSxRQUNILE9BQU8sUUFBUSxTQUFTLFlBQVksb0JBQW9CO0FBQUEsUUFDeEQsVUFBVSxDQUFDLFVBQVU7QUFDbkIsNkZBQW9DLENBQUMsRUFBRSxpQkFBaUIsUUFBUSxHQUFHLGNBQWM7QUFBQSxZQUMvRSxHQUFHLFFBQVEsU0FBUztBQUFBLFlBQ3BCLGtCQUFrQixNQUFNLGNBQWM7QUFBQSxVQUN4QyxDQUFDO0FBQUEsUUFDSDtBQUFBO0FBQUEsSUFDRjtBQUFBLEVBQ0YsR0FFQTtBQUFBLElBQUMsMEZBQWE7QUFBYjtBQUFBLE1BQ0MsT0FBTyxTQUFTLE9BQU87QUFBQSxNQUN2QixTQUFTLFdBQVcsT0FBTztBQUFBLE1BQzNCLE9BQU8sUUFBUSxTQUFTLFlBQVksc0JBQXNCO0FBQUEsTUFDMUQsVUFBVSxDQUFDLFFBQVEsU0FBUyxZQUFZO0FBQUEsTUFDeEMsVUFBVSxDQUFDLFFBQVE7QUFDakIsMkZBQW9DLENBQUMsRUFBRSxpQkFBaUIsUUFBUSxHQUFHLGNBQWM7QUFBQSxVQUMvRSxHQUFHLFFBQVEsU0FBUztBQUFBLFVBQ3BCLG9CQUFvQjtBQUFBLFFBQ3RCLENBQUM7QUFBQSxNQUNIO0FBQUEsTUFDQSxnQkFBZ0Isc0dBQXFCO0FBQXJCO0FBQUEsRUFDbEIsR0FFQTtBQUFBLElBQUMsMEZBQWE7QUFBYjtBQUFBLE1BQ0MsT0FBTyxTQUFTLEtBQUs7QUFBQSxNQUNyQixTQUFTLFdBQVcsS0FBSztBQUFBLE1BQ3pCLE9BQU8sUUFBUSxTQUFTLFlBQVksb0JBQW9CO0FBQUEsTUFDeEQsVUFBVSxDQUFDLFFBQVEsU0FBUyxZQUFZO0FBQUEsTUFDeEMsVUFBVSxDQUFDLFFBQVE7QUFDakIsMkZBQW9DLENBQUMsRUFBRSxpQkFBaUIsUUFBUSxHQUFHLGNBQWM7QUFBQSxVQUMvRSxHQUFHLFFBQVEsU0FBUztBQUFBLFVBQ3BCLGtCQUFrQjtBQUFBLFFBQ3BCLENBQUM7QUFBQSxNQUNIO0FBQUEsTUFDQSxnQkFBZ0Isc0dBQXFCO0FBQXJCO0FBQUEsRUFDbEIsQ0FDRjtBQUVKO0FBRU8sTUFBTSxZQUFZLENBQUMsV0FBMEI7QUFBQSxFQUNsRCxVQUFVLGlEQUFHO0FBQUgsc0JBQ1UsTUFBTSxRQUFRLENBQUM7QUFBQSxhQUN4QixNQUFNLE9BQU8sS0FBSztBQUFBO0FBQUEsRUFFN0IsV0FBVyxpREFBRztBQUFIO0FBQUE7QUFBQSxFQUdYLEtBQUssaURBQUc7QUFBSDtBQUFBO0FBR1AiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9ncmFmYW5hLy4vcHVibGljL2FwcC9wbHVnaW5zL2RhdGFzb3VyY2UvdGVtcG8vY29uZmlndXJhdGlvbi9RdWVyeVNldHRpbmdzLnRzeD8yMWU1Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGNzcyB9IGZyb20gJ0BlbW90aW9uL2Nzcyc7XG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuXG5pbXBvcnQgeyBEYXRhU291cmNlUGx1Z2luT3B0aW9uc0VkaXRvclByb3BzLCBHcmFmYW5hVGhlbWUyLCB1cGRhdGVEYXRhc291cmNlUGx1Z2luSnNvbkRhdGFPcHRpb24gfSBmcm9tICdAZ3JhZmFuYS9kYXRhJztcbmltcG9ydCB7IElubGluZUZpZWxkLCBJbmxpbmVTd2l0Y2gsIHVzZVN0eWxlczIgfSBmcm9tICdAZ3JhZmFuYS91aSc7XG5pbXBvcnQgeyBJbnRlcnZhbElucHV0IH0gZnJvbSAnYXBwL2NvcmUvY29tcG9uZW50cy9JbnRlcnZhbElucHV0L0ludGVydmFsSW5wdXQnO1xuaW1wb3J0IHsgaW52YWxpZFRpbWVTaGlmdEVycm9yIH0gZnJvbSAnYXBwL2NvcmUvY29tcG9uZW50cy9UcmFjZVRvTG9ncy9UcmFjZVRvTG9nc1NldHRpbmdzJztcblxuaW1wb3J0IHsgVGVtcG9Kc29uRGF0YSB9IGZyb20gJy4uL3R5cGVzJztcblxuaW50ZXJmYWNlIFByb3BzIGV4dGVuZHMgRGF0YVNvdXJjZVBsdWdpbk9wdGlvbnNFZGl0b3JQcm9wczxUZW1wb0pzb25EYXRhPiB7fVxuXG5leHBvcnQgZnVuY3Rpb24gUXVlcnlTZXR0aW5ncyh7IG9wdGlvbnMsIG9uT3B0aW9uc0NoYW5nZSB9OiBQcm9wcykge1xuICBjb25zdCBzdHlsZXMgPSB1c2VTdHlsZXMyKGdldFN0eWxlcyk7XG5cbiAgY29uc3QgZ2V0TGFiZWwgPSAodHlwZTogJ3N0YXJ0JyB8ICdlbmQnKSA9PiB7XG4gICAgcmV0dXJuIGBUaW1lIHNoaWZ0IGZvciAke3R5cGV9IG9mIHNlYXJjaGA7XG4gIH07XG5cbiAgY29uc3QgZ2V0VG9vbHRpcCA9ICh0eXBlOiAnc3RhcnQnIHwgJ2VuZCcpID0+IHtcbiAgICByZXR1cm4gYFNoaWZ0cyB0aGUgJHt0eXBlfSBvZiB0aGUgdGltZSByYW5nZSB3aGVuIHNlYXJjaGluZyBieSBUcmFjZUlELiBTZWFyY2hpbmcgY2FuIHJldHVybiB0cmFjZXMgdGhhdCBkbyBub3QgZnVsbHkgZmFsbCBpbnRvIHRoZSBzZWFyY2ggdGltZSByYW5nZSwgc28gd2UgcmVjb21tZW5kIHVzaW5nIGhpZ2hlciB0aW1lIHNoaWZ0cyBmb3IgbG9uZ2VyIHRyYWNlcy4gRGVmYXVsdDogMzBtIChUaW1lIHVuaXRzIGNhbiBiZSB1c2VkIGhlcmUsIGZvciBleGFtcGxlOiA1cywgMW0sIDNoYDtcbiAgfTtcblxuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPXtzdHlsZXMuY29udGFpbmVyfT5cbiAgICAgIDxJbmxpbmVGaWVsZFxuICAgICAgICBsYWJlbD1cIlVzZSB0aW1lIHJhbmdlIGluIHF1ZXJ5XCJcbiAgICAgICAgdG9vbHRpcD1cIlRoZSB0aW1lIHJhbmdlIGNhbiBiZSB1c2VkIHdoZW4gdGhlcmUgYXJlIHBlcmZvcm1hbmNlIGlzc3VlcyBvciB0aW1lb3V0cyBzaW5jZSBpdCB3aWxsIG5hcnJvdyBkb3duIHRoZSBzZWFyY2ggdG8gdGhlIGRlZmluZWQgcmFuZ2UuIERlZmF1bHQ6IGRpc2FibGVkXCJcbiAgICAgICAgbGFiZWxXaWR0aD17MjZ9XG4gICAgICA+XG4gICAgICAgIDxJbmxpbmVTd2l0Y2hcbiAgICAgICAgICBpZD1cImVuYWJsZS10aW1lLXNoaWZ0XCJcbiAgICAgICAgICB2YWx1ZT17b3B0aW9ucy5qc29uRGF0YS50cmFjZVF1ZXJ5Py50aW1lU2hpZnRFbmFibGVkIHx8IGZhbHNlfVxuICAgICAgICAgIG9uQ2hhbmdlPXsoZXZlbnQpID0+IHtcbiAgICAgICAgICAgIHVwZGF0ZURhdGFzb3VyY2VQbHVnaW5Kc29uRGF0YU9wdGlvbih7IG9uT3B0aW9uc0NoYW5nZSwgb3B0aW9ucyB9LCAndHJhY2VRdWVyeScsIHtcbiAgICAgICAgICAgICAgLi4ub3B0aW9ucy5qc29uRGF0YS50cmFjZVF1ZXJ5LFxuICAgICAgICAgICAgICB0aW1lU2hpZnRFbmFibGVkOiBldmVudC5jdXJyZW50VGFyZ2V0LmNoZWNrZWQsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9fVxuICAgICAgICAvPlxuICAgICAgPC9JbmxpbmVGaWVsZD5cblxuICAgICAgPEludGVydmFsSW5wdXRcbiAgICAgICAgbGFiZWw9e2dldExhYmVsKCdzdGFydCcpfVxuICAgICAgICB0b29sdGlwPXtnZXRUb29sdGlwKCdzdGFydCcpfVxuICAgICAgICB2YWx1ZT17b3B0aW9ucy5qc29uRGF0YS50cmFjZVF1ZXJ5Py5zcGFuU3RhcnRUaW1lU2hpZnQgfHwgJyd9XG4gICAgICAgIGRpc2FibGVkPXshb3B0aW9ucy5qc29uRGF0YS50cmFjZVF1ZXJ5Py50aW1lU2hpZnRFbmFibGVkfVxuICAgICAgICBvbkNoYW5nZT17KHZhbCkgPT4ge1xuICAgICAgICAgIHVwZGF0ZURhdGFzb3VyY2VQbHVnaW5Kc29uRGF0YU9wdGlvbih7IG9uT3B0aW9uc0NoYW5nZSwgb3B0aW9ucyB9LCAndHJhY2VRdWVyeScsIHtcbiAgICAgICAgICAgIC4uLm9wdGlvbnMuanNvbkRhdGEudHJhY2VRdWVyeSxcbiAgICAgICAgICAgIHNwYW5TdGFydFRpbWVTaGlmdDogdmFsLFxuICAgICAgICAgIH0pO1xuICAgICAgICB9fVxuICAgICAgICBpc0ludmFsaWRFcnJvcj17aW52YWxpZFRpbWVTaGlmdEVycm9yfVxuICAgICAgLz5cblxuICAgICAgPEludGVydmFsSW5wdXRcbiAgICAgICAgbGFiZWw9e2dldExhYmVsKCdlbmQnKX1cbiAgICAgICAgdG9vbHRpcD17Z2V0VG9vbHRpcCgnZW5kJyl9XG4gICAgICAgIHZhbHVlPXtvcHRpb25zLmpzb25EYXRhLnRyYWNlUXVlcnk/LnNwYW5FbmRUaW1lU2hpZnQgfHwgJyd9XG4gICAgICAgIGRpc2FibGVkPXshb3B0aW9ucy5qc29uRGF0YS50cmFjZVF1ZXJ5Py50aW1lU2hpZnRFbmFibGVkfVxuICAgICAgICBvbkNoYW5nZT17KHZhbCkgPT4ge1xuICAgICAgICAgIHVwZGF0ZURhdGFzb3VyY2VQbHVnaW5Kc29uRGF0YU9wdGlvbih7IG9uT3B0aW9uc0NoYW5nZSwgb3B0aW9ucyB9LCAndHJhY2VRdWVyeScsIHtcbiAgICAgICAgICAgIC4uLm9wdGlvbnMuanNvbkRhdGEudHJhY2VRdWVyeSxcbiAgICAgICAgICAgIHNwYW5FbmRUaW1lU2hpZnQ6IHZhbCxcbiAgICAgICAgICB9KTtcbiAgICAgICAgfX1cbiAgICAgICAgaXNJbnZhbGlkRXJyb3I9e2ludmFsaWRUaW1lU2hpZnRFcnJvcn1cbiAgICAgIC8+XG4gICAgPC9kaXY+XG4gICk7XG59XG5cbmV4cG9ydCBjb25zdCBnZXRTdHlsZXMgPSAodGhlbWU6IEdyYWZhbmFUaGVtZTIpID0+ICh7XG4gIGluZm9UZXh0OiBjc3NgXG4gICAgcGFkZGluZy1ib3R0b206ICR7dGhlbWUuc3BhY2luZygyKX07XG4gICAgY29sb3I6ICR7dGhlbWUuY29sb3JzLnRleHQuc2Vjb25kYXJ5fTtcbiAgYCxcbiAgY29udGFpbmVyOiBjc3NgXG4gICAgd2lkdGg6IDEwMCU7XG4gIGAsXG4gIHJvdzogY3NzYFxuICAgIGFsaWduLWl0ZW1zOiBiYXNlbGluZTtcbiAgYCxcbn0pO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./public/app/plugins/datasource/tempo/configuration/QuerySettings.tsx\n");

/***/ }),

/***/ "./public/app/plugins/datasource/tempo/configuration/ServiceGraphSettings.tsx":
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ServiceGraphSettings: () => (/* binding */ ServiceGraphSettings)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"./.yarn/cache/react-npm-18.2.0-1eae08fee2-88e38092da.zip/node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _grafana_data__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(\"./.yarn/__virtual__/@grafana-data-virtual-0996183232/1/packages/grafana-data/src/utils/datasource.ts\");\n/* harmony import */ var _grafana_ui__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(\"./.yarn/__virtual__/@grafana-ui-virtual-d722efae30/1/packages/grafana-ui/src/themes/ThemeContext.tsx\");\n/* harmony import */ var _grafana_ui__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(\"./.yarn/__virtual__/@grafana-ui-virtual-d722efae30/1/packages/grafana-ui/src/components/Forms/InlineFieldRow.tsx\");\n/* harmony import */ var _grafana_ui__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(\"./.yarn/__virtual__/@grafana-ui-virtual-d722efae30/1/packages/grafana-ui/src/components/Forms/InlineField.tsx\");\n/* harmony import */ var _grafana_ui__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(\"./.yarn/__virtual__/@grafana-ui-virtual-d722efae30/1/packages/grafana-ui/src/components/Button/Button.tsx\");\n/* harmony import */ var app_features_datasources_components_picker_DataSourcePicker__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(\"./public/app/features/datasources/components/picker/DataSourcePicker.tsx\");\n/* harmony import */ var _QuerySettings__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(\"./public/app/plugins/datasource/tempo/configuration/QuerySettings.tsx\");\n\n\n\n\n\n\nfunction ServiceGraphSettings({ options, onOptionsChange }) {\n  const styles = (0,_grafana_ui__WEBPACK_IMPORTED_MODULE_3__.useStyles2)(_QuerySettings__WEBPACK_IMPORTED_MODULE_2__.getStyles);\n  return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", { className: styles.container }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_grafana_ui__WEBPACK_IMPORTED_MODULE_4__.InlineFieldRow, { className: styles.row }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\n    _grafana_ui__WEBPACK_IMPORTED_MODULE_5__.InlineField,\n    {\n      tooltip: \"The Prometheus data source with the service graph data\",\n      label: \"Data source\",\n      labelWidth: 26\n    },\n    /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\n      app_features_datasources_components_picker_DataSourcePicker__WEBPACK_IMPORTED_MODULE_1__.DataSourcePicker,\n      {\n        inputId: \"service-graph-data-source-picker\",\n        pluginId: \"prometheus\",\n        current: options.jsonData.serviceMap?.datasourceUid,\n        noDefault: true,\n        width: 40,\n        onChange: (ds) => (0,_grafana_data__WEBPACK_IMPORTED_MODULE_6__.updateDatasourcePluginJsonDataOption)({ onOptionsChange, options }, \"serviceMap\", {\n          datasourceUid: ds.uid\n        })\n      }\n    )\n  ), options.jsonData.serviceMap?.datasourceUid ? /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\n    _grafana_ui__WEBPACK_IMPORTED_MODULE_7__.Button,\n    {\n      type: \"button\",\n      variant: \"secondary\",\n      size: \"sm\",\n      fill: \"text\",\n      onClick: () => {\n        (0,_grafana_data__WEBPACK_IMPORTED_MODULE_6__.updateDatasourcePluginJsonDataOption)({ onOptionsChange, options }, \"serviceMap\", {\n          datasourceUid: void 0\n        });\n      }\n    },\n    \"Clear\"\n  ) : null));\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9wdWJsaWMvYXBwL3BsdWdpbnMvZGF0YXNvdXJjZS90ZW1wby9jb25maWd1cmF0aW9uL1NlcnZpY2VHcmFwaFNldHRpbmdzLnRzeCIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7OztBQUFrQjtBQU1YO0FBQ3lEO0FBQy9CO0FBSVA7QUFJbkIsU0FBUyxxQkFBcUIsRUFBRSxTQUFTLGdCQUFnQixHQUFVO0FBQ3hFLFFBQU0sU0FBUyx1REFBVSxDQUFDLHFEQUFTO0FBRW5DLFNBQ0UsMkVBQUMsU0FBSSxXQUFXLE9BQU8sYUFDckIsMkVBQUMsdURBQWMsSUFBQyxXQUFXLE9BQU8sT0FDaEM7QUFBQSxJQUFDLG9EQUFXO0FBQVg7QUFBQSxNQUNDLFNBQVE7QUFBQSxNQUNSLE9BQU07QUFBQSxNQUNOLFlBQVk7QUFBQTtBQUFBLElBRVo7QUFBQSxNQUFDLHlHQUFnQjtBQUFoQjtBQUFBLFFBQ0MsU0FBUTtBQUFBLFFBQ1IsVUFBUztBQUFBLFFBQ1QsU0FBUyxRQUFRLFNBQVMsWUFBWTtBQUFBLFFBQ3RDLFdBQVc7QUFBQSxRQUNYLE9BQU87QUFBQSxRQUNQLFVBQVUsQ0FBQyxPQUNULG1GQUFvQyxDQUFDLEVBQUUsaUJBQWlCLFFBQVEsR0FBRyxjQUFjO0FBQUEsVUFDL0UsZUFBZSxHQUFHO0FBQUEsUUFDcEIsQ0FBQztBQUFBO0FBQUEsSUFFTDtBQUFBLEVBQ0YsR0FDQyxRQUFRLFNBQVMsWUFBWSxnQkFDNUI7QUFBQSxJQUFDLCtDQUFNO0FBQU47QUFBQSxNQUNDLE1BQU07QUFBQSxNQUNOLFNBQVM7QUFBQSxNQUNULE1BQU07QUFBQSxNQUNOLE1BQU07QUFBQSxNQUNOLFNBQVMsTUFBTTtBQUNiLDJGQUFvQyxDQUFDLEVBQUUsaUJBQWlCLFFBQVEsR0FBRyxjQUFjO0FBQUEsVUFDL0UsZUFBZTtBQUFBLFFBQ2pCLENBQUM7QUFBQSxNQUNIO0FBQUE7QUFBQSxJQUNEO0FBQUEsRUFFRCxJQUNFLElBQ04sQ0FDRjtBQUVKIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZ3JhZmFuYS8uL3B1YmxpYy9hcHAvcGx1Z2lucy9kYXRhc291cmNlL3RlbXBvL2NvbmZpZ3VyYXRpb24vU2VydmljZUdyYXBoU2V0dGluZ3MudHN4PzdmZGMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcblxuaW1wb3J0IHtcbiAgRGF0YVNvdXJjZUluc3RhbmNlU2V0dGluZ3MsXG4gIERhdGFTb3VyY2VQbHVnaW5PcHRpb25zRWRpdG9yUHJvcHMsXG4gIHVwZGF0ZURhdGFzb3VyY2VQbHVnaW5Kc29uRGF0YU9wdGlvbixcbn0gZnJvbSAnQGdyYWZhbmEvZGF0YSc7XG5pbXBvcnQgeyBCdXR0b24sIElubGluZUZpZWxkLCBJbmxpbmVGaWVsZFJvdywgdXNlU3R5bGVzMiB9IGZyb20gJ0BncmFmYW5hL3VpJztcbmltcG9ydCB7IERhdGFTb3VyY2VQaWNrZXIgfSBmcm9tICdhcHAvZmVhdHVyZXMvZGF0YXNvdXJjZXMvY29tcG9uZW50cy9waWNrZXIvRGF0YVNvdXJjZVBpY2tlcic7XG5cbmltcG9ydCB7IFRlbXBvSnNvbkRhdGEgfSBmcm9tICcuLi90eXBlcyc7XG5cbmltcG9ydCB7IGdldFN0eWxlcyB9IGZyb20gJy4vUXVlcnlTZXR0aW5ncyc7XG5cbmludGVyZmFjZSBQcm9wcyBleHRlbmRzIERhdGFTb3VyY2VQbHVnaW5PcHRpb25zRWRpdG9yUHJvcHM8VGVtcG9Kc29uRGF0YT4ge31cblxuZXhwb3J0IGZ1bmN0aW9uIFNlcnZpY2VHcmFwaFNldHRpbmdzKHsgb3B0aW9ucywgb25PcHRpb25zQ2hhbmdlIH06IFByb3BzKSB7XG4gIGNvbnN0IHN0eWxlcyA9IHVzZVN0eWxlczIoZ2V0U3R5bGVzKTtcblxuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPXtzdHlsZXMuY29udGFpbmVyfT5cbiAgICAgIDxJbmxpbmVGaWVsZFJvdyBjbGFzc05hbWU9e3N0eWxlcy5yb3d9PlxuICAgICAgICA8SW5saW5lRmllbGRcbiAgICAgICAgICB0b29sdGlwPVwiVGhlIFByb21ldGhldXMgZGF0YSBzb3VyY2Ugd2l0aCB0aGUgc2VydmljZSBncmFwaCBkYXRhXCJcbiAgICAgICAgICBsYWJlbD1cIkRhdGEgc291cmNlXCJcbiAgICAgICAgICBsYWJlbFdpZHRoPXsyNn1cbiAgICAgICAgPlxuICAgICAgICAgIDxEYXRhU291cmNlUGlja2VyXG4gICAgICAgICAgICBpbnB1dElkPVwic2VydmljZS1ncmFwaC1kYXRhLXNvdXJjZS1waWNrZXJcIlxuICAgICAgICAgICAgcGx1Z2luSWQ9XCJwcm9tZXRoZXVzXCJcbiAgICAgICAgICAgIGN1cnJlbnQ9e29wdGlvbnMuanNvbkRhdGEuc2VydmljZU1hcD8uZGF0YXNvdXJjZVVpZH1cbiAgICAgICAgICAgIG5vRGVmYXVsdD17dHJ1ZX1cbiAgICAgICAgICAgIHdpZHRoPXs0MH1cbiAgICAgICAgICAgIG9uQ2hhbmdlPXsoZHM6IERhdGFTb3VyY2VJbnN0YW5jZVNldHRpbmdzKSA9PlxuICAgICAgICAgICAgICB1cGRhdGVEYXRhc291cmNlUGx1Z2luSnNvbkRhdGFPcHRpb24oeyBvbk9wdGlvbnNDaGFuZ2UsIG9wdGlvbnMgfSwgJ3NlcnZpY2VNYXAnLCB7XG4gICAgICAgICAgICAgICAgZGF0YXNvdXJjZVVpZDogZHMudWlkLFxuICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgfVxuICAgICAgICAgIC8+XG4gICAgICAgIDwvSW5saW5lRmllbGQ+XG4gICAgICAgIHtvcHRpb25zLmpzb25EYXRhLnNlcnZpY2VNYXA/LmRhdGFzb3VyY2VVaWQgPyAoXG4gICAgICAgICAgPEJ1dHRvblxuICAgICAgICAgICAgdHlwZT17J2J1dHRvbid9XG4gICAgICAgICAgICB2YXJpYW50PXsnc2Vjb25kYXJ5J31cbiAgICAgICAgICAgIHNpemU9eydzbSd9XG4gICAgICAgICAgICBmaWxsPXsndGV4dCd9XG4gICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgICAgIHVwZGF0ZURhdGFzb3VyY2VQbHVnaW5Kc29uRGF0YU9wdGlvbih7IG9uT3B0aW9uc0NoYW5nZSwgb3B0aW9ucyB9LCAnc2VydmljZU1hcCcsIHtcbiAgICAgICAgICAgICAgICBkYXRhc291cmNlVWlkOiB1bmRlZmluZWQsXG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfX1cbiAgICAgICAgICA+XG4gICAgICAgICAgICBDbGVhclxuICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICApIDogbnVsbH1cbiAgICAgIDwvSW5saW5lRmllbGRSb3c+XG4gICAgPC9kaXY+XG4gICk7XG59XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./public/app/plugins/datasource/tempo/configuration/ServiceGraphSettings.tsx\n");

/***/ }),

/***/ "./public/app/plugins/datasource/tempo/configuration/TraceQLSearchSettings.tsx":
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   TraceQLSearchSettings: () => (/* binding */ TraceQLSearchSettings)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"./.yarn/cache/react-npm-18.2.0-1eae08fee2-88e38092da.zip/node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react_use_lib_useAsync__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(\"./.yarn/__virtual__/react-use-virtual-dd7926f458/0/cache/react-use-npm-17.4.0-0ef4521544-0889da919b.zip/node_modules/react-use/lib/useAsync.js\");\n/* harmony import */ var _grafana_data__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(\"./.yarn/__virtual__/@grafana-data-virtual-0996183232/1/packages/grafana-data/src/utils/datasource.ts\");\n/* harmony import */ var _grafana_runtime__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(\"./.yarn/__virtual__/@grafana-runtime-virtual-68c57d4c0c/1/packages/grafana-runtime/src/services/dataSourceSrv.ts\");\n/* harmony import */ var _grafana_ui__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(\"./.yarn/__virtual__/@grafana-ui-virtual-d722efae30/1/packages/grafana-ui/src/themes/ThemeContext.tsx\");\n/* harmony import */ var _grafana_ui__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(\"./.yarn/__virtual__/@grafana-ui-virtual-d722efae30/1/packages/grafana-ui/src/components/Forms/InlineFieldRow.tsx\");\n/* harmony import */ var _grafana_ui__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(\"./.yarn/__virtual__/@grafana-ui-virtual-d722efae30/1/packages/grafana-ui/src/components/Forms/InlineField.tsx\");\n/* harmony import */ var _grafana_ui__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(\"./.yarn/__virtual__/@grafana-ui-virtual-d722efae30/1/packages/grafana-ui/src/components/Switch/Switch.tsx\");\n/* harmony import */ var _QuerySettings__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(\"./public/app/plugins/datasource/tempo/configuration/QuerySettings.tsx\");\n/* harmony import */ var _TraceQLSearchTags__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(\"./public/app/plugins/datasource/tempo/configuration/TraceQLSearchTags.tsx\");\n\n\n\n\n\n\n\n\nfunction TraceQLSearchSettings({ options, onOptionsChange }) {\n  const styles = (0,_grafana_ui__WEBPACK_IMPORTED_MODULE_3__.useStyles2)(_QuerySettings__WEBPACK_IMPORTED_MODULE_1__.getStyles);\n  const dataSourceSrv = (0,_grafana_runtime__WEBPACK_IMPORTED_MODULE_4__.getDataSourceSrv)();\n  const fetchDatasource = async () => {\n    return await dataSourceSrv.get({ type: options.type, uid: options.uid });\n  };\n  const { value: datasource } = (0,react_use_lib_useAsync__WEBPACK_IMPORTED_MODULE_5__[\"default\"])(fetchDatasource, [dataSourceSrv, options]);\n  return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", { className: styles.container }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_grafana_ui__WEBPACK_IMPORTED_MODULE_6__.InlineFieldRow, { className: styles.row }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_grafana_ui__WEBPACK_IMPORTED_MODULE_7__.InlineField, { tooltip: \"Removes the search tab from the query editor\", label: \"Hide search\", labelWidth: 26 }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\n    _grafana_ui__WEBPACK_IMPORTED_MODULE_8__.InlineSwitch,\n    {\n      id: \"hideSearch\",\n      value: options.jsonData.search?.hide,\n      onChange: (event) => (0,_grafana_data__WEBPACK_IMPORTED_MODULE_9__.updateDatasourcePluginJsonDataOption)({ onOptionsChange, options }, \"search\", {\n        ...options.jsonData.search,\n        hide: event.currentTarget.checked\n      })\n    }\n  ))), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_grafana_ui__WEBPACK_IMPORTED_MODULE_6__.InlineFieldRow, { className: styles.row }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_grafana_ui__WEBPACK_IMPORTED_MODULE_7__.InlineField, { tooltip: \"Configures which fields are available in the UI\", label: \"Static filters\", labelWidth: 26 }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_TraceQLSearchTags__WEBPACK_IMPORTED_MODULE_2__.TraceQLSearchTags, { datasource, options, onOptionsChange }))));\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9wdWJsaWMvYXBwL3BsdWdpbnMvZGF0YXNvdXJjZS90ZW1wby9jb25maWd1cmF0aW9uL1RyYWNlUUxTZWFyY2hTZXR0aW5ncy50c3giLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7OztBQUFrQjtBQUNHO0FBRW9FO0FBQ3hEO0FBQ3FDO0FBSzVDO0FBQ1E7QUFJM0IsU0FBUyxzQkFBc0IsRUFBRSxTQUFTLGdCQUFnQixHQUFVO0FBQ3pFLFFBQU0sU0FBUyx1REFBVSxDQUFDLHFEQUFTO0FBQ25DLFFBQU0sZ0JBQWdCLGtFQUFnQixDQUFDO0FBQ3ZDLFFBQU0sa0JBQWtCLFlBQVk7QUFDbEMsV0FBUSxNQUFNLGNBQWMsSUFBSSxFQUFFLE1BQU0sUUFBUSxNQUFNLEtBQUssUUFBUSxJQUFJLENBQUM7QUFBQSxFQUMxRTtBQUVBLFFBQU0sRUFBRSxPQUFPLFdBQVcsSUFBSSxrRUFBUSxDQUFDLGlCQUFpQixDQUFDLGVBQWUsT0FBTyxDQUFDO0FBRWhGLFNBQ0UsMkVBQUMsU0FBSSxXQUFXLE9BQU8sYUFDckIsMkVBQUMsdURBQWMsSUFBQyxXQUFXLE9BQU8sT0FDaEMsMkVBQUMsb0RBQVcsSUFBQyxTQUFRLGdEQUErQyxPQUFNLGVBQWMsWUFBWSxNQUNsRztBQUFBLElBQUMscURBQVk7QUFBWjtBQUFBLE1BQ0MsSUFBRztBQUFBLE1BQ0gsT0FBTyxRQUFRLFNBQVMsUUFBUTtBQUFBLE1BQ2hDLFVBQVUsQ0FBQyxVQUNULG1GQUFvQyxDQUFDLEVBQUUsaUJBQWlCLFFBQVEsR0FBRyxVQUFVO0FBQUEsUUFDM0UsR0FBRyxRQUFRLFNBQVM7QUFBQSxRQUNwQixNQUFNLE1BQU0sY0FBYztBQUFBLE1BQzVCLENBQUM7QUFBQTtBQUFBLEVBRUwsQ0FDRixDQUNGLEdBQ0EsMkVBQUMsdURBQWMsSUFBQyxXQUFXLE9BQU8sT0FDaEMsMkVBQUMsb0RBQVcsSUFBQyxTQUFRLG1EQUFrRCxPQUFNLGtCQUFpQixZQUFZLE1BQ3hHLDJFQUFDLGlFQUFpQixJQUFDLFlBQXdCLFNBQWtCLGlCQUFrQyxDQUNqRyxDQUNGLENBQ0Y7QUFFSiIsInNvdXJjZXMiOlsid2VicGFjazovL2dyYWZhbmEvLi9wdWJsaWMvYXBwL3BsdWdpbnMvZGF0YXNvdXJjZS90ZW1wby9jb25maWd1cmF0aW9uL1RyYWNlUUxTZWFyY2hTZXR0aW5ncy50c3g/ODRkOCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IHVzZUFzeW5jIGZyb20gJ3JlYWN0LXVzZS9saWIvdXNlQXN5bmMnO1xuXG5pbXBvcnQgeyBEYXRhU291cmNlUGx1Z2luT3B0aW9uc0VkaXRvclByb3BzLCB1cGRhdGVEYXRhc291cmNlUGx1Z2luSnNvbkRhdGFPcHRpb24gfSBmcm9tICdAZ3JhZmFuYS9kYXRhJztcbmltcG9ydCB7IGdldERhdGFTb3VyY2VTcnYgfSBmcm9tICdAZ3JhZmFuYS9ydW50aW1lJztcbmltcG9ydCB7IElubGluZUZpZWxkLCBJbmxpbmVGaWVsZFJvdywgSW5saW5lU3dpdGNoLCB1c2VTdHlsZXMyIH0gZnJvbSAnQGdyYWZhbmEvdWknO1xuXG5pbXBvcnQgeyBUZW1wb0RhdGFzb3VyY2UgfSBmcm9tICcuLi9kYXRhc291cmNlJztcbmltcG9ydCB7IFRlbXBvSnNvbkRhdGEgfSBmcm9tICcuLi90eXBlcyc7XG5cbmltcG9ydCB7IGdldFN0eWxlcyB9IGZyb20gJy4vUXVlcnlTZXR0aW5ncyc7XG5pbXBvcnQgeyBUcmFjZVFMU2VhcmNoVGFncyB9IGZyb20gJy4vVHJhY2VRTFNlYXJjaFRhZ3MnO1xuXG5pbnRlcmZhY2UgUHJvcHMgZXh0ZW5kcyBEYXRhU291cmNlUGx1Z2luT3B0aW9uc0VkaXRvclByb3BzPFRlbXBvSnNvbkRhdGE+IHt9XG5cbmV4cG9ydCBmdW5jdGlvbiBUcmFjZVFMU2VhcmNoU2V0dGluZ3MoeyBvcHRpb25zLCBvbk9wdGlvbnNDaGFuZ2UgfTogUHJvcHMpIHtcbiAgY29uc3Qgc3R5bGVzID0gdXNlU3R5bGVzMihnZXRTdHlsZXMpO1xuICBjb25zdCBkYXRhU291cmNlU3J2ID0gZ2V0RGF0YVNvdXJjZVNydigpO1xuICBjb25zdCBmZXRjaERhdGFzb3VyY2UgPSBhc3luYyAoKSA9PiB7XG4gICAgcmV0dXJuIChhd2FpdCBkYXRhU291cmNlU3J2LmdldCh7IHR5cGU6IG9wdGlvbnMudHlwZSwgdWlkOiBvcHRpb25zLnVpZCB9KSkgYXMgVGVtcG9EYXRhc291cmNlO1xuICB9O1xuXG4gIGNvbnN0IHsgdmFsdWU6IGRhdGFzb3VyY2UgfSA9IHVzZUFzeW5jKGZldGNoRGF0YXNvdXJjZSwgW2RhdGFTb3VyY2VTcnYsIG9wdGlvbnNdKTtcblxuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPXtzdHlsZXMuY29udGFpbmVyfT5cbiAgICAgIDxJbmxpbmVGaWVsZFJvdyBjbGFzc05hbWU9e3N0eWxlcy5yb3d9PlxuICAgICAgICA8SW5saW5lRmllbGQgdG9vbHRpcD1cIlJlbW92ZXMgdGhlIHNlYXJjaCB0YWIgZnJvbSB0aGUgcXVlcnkgZWRpdG9yXCIgbGFiZWw9XCJIaWRlIHNlYXJjaFwiIGxhYmVsV2lkdGg9ezI2fT5cbiAgICAgICAgICA8SW5saW5lU3dpdGNoXG4gICAgICAgICAgICBpZD1cImhpZGVTZWFyY2hcIlxuICAgICAgICAgICAgdmFsdWU9e29wdGlvbnMuanNvbkRhdGEuc2VhcmNoPy5oaWRlfVxuICAgICAgICAgICAgb25DaGFuZ2U9eyhldmVudDogUmVhY3QuU3ludGhldGljRXZlbnQ8SFRNTElucHV0RWxlbWVudD4pID0+XG4gICAgICAgICAgICAgIHVwZGF0ZURhdGFzb3VyY2VQbHVnaW5Kc29uRGF0YU9wdGlvbih7IG9uT3B0aW9uc0NoYW5nZSwgb3B0aW9ucyB9LCAnc2VhcmNoJywge1xuICAgICAgICAgICAgICAgIC4uLm9wdGlvbnMuanNvbkRhdGEuc2VhcmNoLFxuICAgICAgICAgICAgICAgIGhpZGU6IGV2ZW50LmN1cnJlbnRUYXJnZXQuY2hlY2tlZCxcbiAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAvPlxuICAgICAgICA8L0lubGluZUZpZWxkPlxuICAgICAgPC9JbmxpbmVGaWVsZFJvdz5cbiAgICAgIDxJbmxpbmVGaWVsZFJvdyBjbGFzc05hbWU9e3N0eWxlcy5yb3d9PlxuICAgICAgICA8SW5saW5lRmllbGQgdG9vbHRpcD1cIkNvbmZpZ3VyZXMgd2hpY2ggZmllbGRzIGFyZSBhdmFpbGFibGUgaW4gdGhlIFVJXCIgbGFiZWw9XCJTdGF0aWMgZmlsdGVyc1wiIGxhYmVsV2lkdGg9ezI2fT5cbiAgICAgICAgICA8VHJhY2VRTFNlYXJjaFRhZ3MgZGF0YXNvdXJjZT17ZGF0YXNvdXJjZX0gb3B0aW9ucz17b3B0aW9uc30gb25PcHRpb25zQ2hhbmdlPXtvbk9wdGlvbnNDaGFuZ2V9IC8+XG4gICAgICAgIDwvSW5saW5lRmllbGQ+XG4gICAgICA8L0lubGluZUZpZWxkUm93PlxuICAgIDwvZGl2PlxuICApO1xufVxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./public/app/plugins/datasource/tempo/configuration/TraceQLSearchSettings.tsx\n");

/***/ }),

/***/ "./public/app/plugins/datasource/tempo/configuration/TraceQLSearchTags.tsx":
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   TraceQLSearchTags: () => (/* binding */ TraceQLSearchTags)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"./.yarn/cache/react-npm-18.2.0-1eae08fee2-88e38092da.zip/node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react_use_lib_useAsync__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(\"./.yarn/__virtual__/react-use-virtual-dd7926f458/0/cache/react-use-npm-17.4.0-0ef4521544-0889da919b.zip/node_modules/react-use/lib/useAsync.js\");\n/* harmony import */ var _grafana_data__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(\"./.yarn/__virtual__/@grafana-data-virtual-0996183232/1/packages/grafana-data/src/utils/datasource.ts\");\n/* harmony import */ var _grafana_ui__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(\"./.yarn/__virtual__/@grafana-ui-virtual-d722efae30/1/packages/grafana-ui/src/components/Alert/Alert.tsx\");\n/* harmony import */ var _SearchTraceQLEditor_TagsInput__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(\"./public/app/plugins/datasource/tempo/SearchTraceQLEditor/TagsInput.tsx\");\n/* harmony import */ var _SearchTraceQLEditor_utils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(\"./public/app/plugins/datasource/tempo/SearchTraceQLEditor/utils.ts\");\n/* harmony import */ var _dataquery_gen__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(\"./public/app/plugins/datasource/tempo/dataquery.gen.ts\");\n/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(\"./public/app/plugins/datasource/tempo/utils.ts\");\n\n\n\n\n\n\n\n\n\nfunction TraceQLSearchTags({ options, onOptionsChange, datasource }) {\n  const fetchTags = async () => {\n    if (!datasource) {\n      throw new Error(\"Unable to retrieve datasource\");\n    }\n    try {\n      await datasource.languageProvider.start();\n    } catch (err) {\n      throw new Error((0,_utils__WEBPACK_IMPORTED_MODULE_4__.getErrorMessage)(err.data.message, \"Unable to query Tempo\"));\n    }\n  };\n  const { error, loading } = (0,react_use_lib_useAsync__WEBPACK_IMPORTED_MODULE_5__[\"default\"])(fetchTags, [datasource, options]);\n  const updateFilter = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(\n    (s) => {\n      let copy = options.jsonData.search?.filters;\n      copy ||= [];\n      const indexOfFilter = copy.findIndex((f) => f.id === s.id);\n      if (indexOfFilter >= 0) {\n        copy = (0,_SearchTraceQLEditor_utils__WEBPACK_IMPORTED_MODULE_2__.replaceAt)(copy, indexOfFilter, s);\n      } else {\n        copy.push(s);\n      }\n      (0,_grafana_data__WEBPACK_IMPORTED_MODULE_6__.updateDatasourcePluginJsonDataOption)({ onOptionsChange, options }, \"search\", {\n        ...options.jsonData.search,\n        filters: copy\n      });\n    },\n    [onOptionsChange, options]\n  );\n  const deleteFilter = (s) => {\n    (0,_grafana_data__WEBPACK_IMPORTED_MODULE_6__.updateDatasourcePluginJsonDataOption)({ onOptionsChange, options }, \"search\", {\n      ...options.jsonData.search,\n      filters: options.jsonData.search?.filters?.filter((f) => f.id !== s.id)\n    });\n  };\n  (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {\n    if (!options.jsonData.search?.filters) {\n      (0,_grafana_data__WEBPACK_IMPORTED_MODULE_6__.updateDatasourcePluginJsonDataOption)({ onOptionsChange, options }, \"search\", {\n        ...options.jsonData.search,\n        filters: [\n          {\n            id: \"service-name\",\n            tag: \"service.name\",\n            operator: \"=\",\n            scope: _dataquery_gen__WEBPACK_IMPORTED_MODULE_3__.TraceqlSearchScope.Resource\n          },\n          { id: \"span-name\", tag: \"name\", operator: \"=\", scope: _dataquery_gen__WEBPACK_IMPORTED_MODULE_3__.TraceqlSearchScope.Span }\n        ]\n      });\n    }\n  }, [onOptionsChange, options]);\n  const staticTags = [\"duration\"];\n  return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0___default().createElement((react__WEBPACK_IMPORTED_MODULE_0___default().Fragment), null, datasource ? /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\n    _SearchTraceQLEditor_TagsInput__WEBPACK_IMPORTED_MODULE_1__[\"default\"],\n    {\n      updateFilter,\n      deleteFilter,\n      filters: options.jsonData.search?.filters || [],\n      datasource,\n      setError: () => {\n      },\n      staticTags,\n      isTagsLoading: loading,\n      hideValues: true\n    }\n  ) : /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", null, \"Invalid data source, please create a valid data source and try again\"), error && /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_grafana_ui__WEBPACK_IMPORTED_MODULE_7__.Alert, { title: \"Unable to fetch TraceQL tags\", severity: \"error\", topSpacing: 1 }, error.message));\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9wdWJsaWMvYXBwL3BsdWdpbnMvZGF0YXNvdXJjZS90ZW1wby9jb25maWd1cmF0aW9uL1RyYWNlUUxTZWFyY2hUYWdzLnRzeCIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7OztBQUE4QztBQUN6QjtBQUVvRTtBQUNuRTtBQUVBO0FBQ0k7QUFDd0I7QUFHbEI7QUFNekIsU0FBUyxrQkFBa0IsRUFBRSxTQUFTLGlCQUFpQixXQUFXLEdBQVU7QUFDakYsUUFBTSxZQUFZLFlBQVk7QUFDNUIsUUFBSSxDQUFDLFlBQVk7QUFDZixZQUFNLElBQUksTUFBTSwrQkFBK0I7QUFBQSxJQUNqRDtBQUVBLFFBQUk7QUFDRixZQUFNLFdBQVcsaUJBQWlCLE1BQU07QUFBQSxJQUMxQyxTQUFTLEtBQVA7QUFFQSxZQUFNLElBQUksTUFBTSx1REFBZSxDQUFDLElBQUksS0FBSyxTQUFTLHVCQUF1QixDQUFDO0FBQUEsSUFDNUU7QUFBQSxFQUNGO0FBRUEsUUFBTSxFQUFFLE9BQU8sUUFBUSxJQUFJLGtFQUFRLENBQUMsV0FBVyxDQUFDLFlBQVksT0FBTyxDQUFDO0FBRXBFLFFBQU0sZUFBZSxrREFBVztBQUFYLElBQ25CLENBQUMsTUFBcUI7QUFDcEIsVUFBSSxPQUFPLFFBQVEsU0FBUyxRQUFRO0FBQ3BDLGVBQVMsQ0FBQztBQUNWLFlBQU0sZ0JBQWdCLEtBQUssVUFBVSxDQUFDLE1BQU0sRUFBRSxPQUFPLEVBQUUsRUFBRTtBQUN6RCxVQUFJLGlCQUFpQixHQUFHO0FBRXRCLGVBQU8scUVBQVMsQ0FBQyxNQUFNLGVBQWUsQ0FBQztBQUFBLE1BQ3pDLE9BQU87QUFDTCxhQUFLLEtBQUssQ0FBQztBQUFBLE1BQ2I7QUFDQSx5RkFBb0MsQ0FBQyxFQUFFLGlCQUFpQixRQUFRLEdBQUcsVUFBVTtBQUFBLFFBQzNFLEdBQUcsUUFBUSxTQUFTO0FBQUEsUUFDcEIsU0FBUztBQUFBLE1BQ1gsQ0FBQztBQUFBLElBQ0g7QUFBQSxJQUNBLENBQUMsaUJBQWlCLE9BQU87QUFBQSxFQUMzQjtBQUVBLFFBQU0sZUFBZSxDQUFDLE1BQXFCO0FBQ3pDLHVGQUFvQyxDQUFDLEVBQUUsaUJBQWlCLFFBQVEsR0FBRyxVQUFVO0FBQUEsTUFDM0UsR0FBRyxRQUFRLFNBQVM7QUFBQSxNQUNwQixTQUFTLFFBQVEsU0FBUyxRQUFRLFNBQVMsT0FBTyxDQUFDLE1BQU0sRUFBRSxPQUFPLEVBQUUsRUFBRTtBQUFBLElBQ3hFLENBQUM7QUFBQSxFQUNIO0FBRUEsa0RBQVMsQ0FBQyxNQUFNO0FBQ2QsUUFBSSxDQUFDLFFBQVEsU0FBUyxRQUFRLFNBQVM7QUFDckMseUZBQW9DLENBQUMsRUFBRSxpQkFBaUIsUUFBUSxHQUFHLFVBQVU7QUFBQSxRQUMzRSxHQUFHLFFBQVEsU0FBUztBQUFBLFFBQ3BCLFNBQVM7QUFBQSxVQUNQO0FBQUEsWUFDRSxJQUFJO0FBQUEsWUFDSixLQUFLO0FBQUEsWUFDTCxVQUFVO0FBQUEsWUFDVixPQUFPLDhEQUFrQixDQUFDO0FBQUEsVUFDNUI7QUFBQSxVQUNBLEVBQUUsSUFBSSxhQUFhLEtBQUssUUFBUSxVQUFVLEtBQUssT0FBTyw4REFBa0IsQ0FBQyxLQUFLO0FBQUEsUUFDaEY7QUFBQSxNQUNGLENBQUM7QUFBQSxJQUNIO0FBQUEsRUFDRixHQUFHLENBQUMsaUJBQWlCLE9BQU8sQ0FBQztBQUc3QixRQUFNLGFBQWEsQ0FBQyxVQUFVO0FBRTlCLFNBQ0UsMElBQ0csYUFDQztBQUFBLElBQUMsc0VBQVM7QUFBVDtBQUFBLE1BQ0M7QUFBQSxNQUNBO0FBQUEsTUFDQSxTQUFTLFFBQVEsU0FBUyxRQUFRLFdBQVcsQ0FBQztBQUFBLE1BQzlDO0FBQUEsTUFDQSxVQUFVLE1BQU07QUFBQSxNQUFDO0FBQUEsTUFDakI7QUFBQSxNQUNBLGVBQWU7QUFBQSxNQUNmLFlBQVk7QUFBQTtBQUFBLEVBQ2QsSUFFQSwyRUFBQyxhQUFJLHNFQUFvRSxHQUUxRSxTQUNDLDJFQUFDLDhDQUFLLElBQUMsT0FBTyxnQ0FBZ0MsVUFBVSxTQUFTLFlBQVksS0FDMUUsTUFBTSxPQUNULENBRUo7QUFFSiIsInNvdXJjZXMiOlsid2VicGFjazovL2dyYWZhbmEvLi9wdWJsaWMvYXBwL3BsdWdpbnMvZGF0YXNvdXJjZS90ZW1wby9jb25maWd1cmF0aW9uL1RyYWNlUUxTZWFyY2hUYWdzLnRzeD84MmZlIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBSZWFjdCwgeyB1c2VDYWxsYmFjaywgdXNlRWZmZWN0IH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHVzZUFzeW5jIGZyb20gJ3JlYWN0LXVzZS9saWIvdXNlQXN5bmMnO1xuXG5pbXBvcnQgeyBEYXRhU291cmNlUGx1Z2luT3B0aW9uc0VkaXRvclByb3BzLCB1cGRhdGVEYXRhc291cmNlUGx1Z2luSnNvbkRhdGFPcHRpb24gfSBmcm9tICdAZ3JhZmFuYS9kYXRhJztcbmltcG9ydCB7IEFsZXJ0IH0gZnJvbSAnQGdyYWZhbmEvdWknO1xuXG5pbXBvcnQgVGFnc0lucHV0IGZyb20gJy4uL1NlYXJjaFRyYWNlUUxFZGl0b3IvVGFnc0lucHV0JztcbmltcG9ydCB7IHJlcGxhY2VBdCB9IGZyb20gJy4uL1NlYXJjaFRyYWNlUUxFZGl0b3IvdXRpbHMnO1xuaW1wb3J0IHsgVHJhY2VxbEZpbHRlciwgVHJhY2VxbFNlYXJjaFNjb3BlIH0gZnJvbSAnLi4vZGF0YXF1ZXJ5Lmdlbic7XG5pbXBvcnQgeyBUZW1wb0RhdGFzb3VyY2UgfSBmcm9tICcuLi9kYXRhc291cmNlJztcbmltcG9ydCB7IFRlbXBvSnNvbkRhdGEgfSBmcm9tICcuLi90eXBlcyc7XG5pbXBvcnQgeyBnZXRFcnJvck1lc3NhZ2UgfSBmcm9tICcuLi91dGlscyc7XG5cbmludGVyZmFjZSBQcm9wcyBleHRlbmRzIERhdGFTb3VyY2VQbHVnaW5PcHRpb25zRWRpdG9yUHJvcHM8VGVtcG9Kc29uRGF0YT4ge1xuICBkYXRhc291cmNlPzogVGVtcG9EYXRhc291cmNlO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gVHJhY2VRTFNlYXJjaFRhZ3MoeyBvcHRpb25zLCBvbk9wdGlvbnNDaGFuZ2UsIGRhdGFzb3VyY2UgfTogUHJvcHMpIHtcbiAgY29uc3QgZmV0Y2hUYWdzID0gYXN5bmMgKCkgPT4ge1xuICAgIGlmICghZGF0YXNvdXJjZSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdVbmFibGUgdG8gcmV0cmlldmUgZGF0YXNvdXJjZScpO1xuICAgIH1cblxuICAgIHRyeSB7XG4gICAgICBhd2FpdCBkYXRhc291cmNlLmxhbmd1YWdlUHJvdmlkZXIuc3RhcnQoKTtcbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgIHRocm93IG5ldyBFcnJvcihnZXRFcnJvck1lc3NhZ2UoZXJyLmRhdGEubWVzc2FnZSwgJ1VuYWJsZSB0byBxdWVyeSBUZW1wbycpKTtcbiAgICB9XG4gIH07XG5cbiAgY29uc3QgeyBlcnJvciwgbG9hZGluZyB9ID0gdXNlQXN5bmMoZmV0Y2hUYWdzLCBbZGF0YXNvdXJjZSwgb3B0aW9uc10pO1xuXG4gIGNvbnN0IHVwZGF0ZUZpbHRlciA9IHVzZUNhbGxiYWNrKFxuICAgIChzOiBUcmFjZXFsRmlsdGVyKSA9PiB7XG4gICAgICBsZXQgY29weSA9IG9wdGlvbnMuanNvbkRhdGEuc2VhcmNoPy5maWx0ZXJzO1xuICAgICAgY29weSB8fD0gW107XG4gICAgICBjb25zdCBpbmRleE9mRmlsdGVyID0gY29weS5maW5kSW5kZXgoKGYpID0+IGYuaWQgPT09IHMuaWQpO1xuICAgICAgaWYgKGluZGV4T2ZGaWx0ZXIgPj0gMCkge1xuICAgICAgICAvLyB1cGRhdGUgaW4gcGxhY2UgaWYgdGhlIGZpbHRlciBhbHJlYWR5IGV4aXN0cywgZm9yIGNvbnNpc3RlbmN5IGFuZCB0byBhdm9pZCBVSSBidWdzXG4gICAgICAgIGNvcHkgPSByZXBsYWNlQXQoY29weSwgaW5kZXhPZkZpbHRlciwgcyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb3B5LnB1c2gocyk7XG4gICAgICB9XG4gICAgICB1cGRhdGVEYXRhc291cmNlUGx1Z2luSnNvbkRhdGFPcHRpb24oeyBvbk9wdGlvbnNDaGFuZ2UsIG9wdGlvbnMgfSwgJ3NlYXJjaCcsIHtcbiAgICAgICAgLi4ub3B0aW9ucy5qc29uRGF0YS5zZWFyY2gsXG4gICAgICAgIGZpbHRlcnM6IGNvcHksXG4gICAgICB9KTtcbiAgICB9LFxuICAgIFtvbk9wdGlvbnNDaGFuZ2UsIG9wdGlvbnNdXG4gICk7XG5cbiAgY29uc3QgZGVsZXRlRmlsdGVyID0gKHM6IFRyYWNlcWxGaWx0ZXIpID0+IHtcbiAgICB1cGRhdGVEYXRhc291cmNlUGx1Z2luSnNvbkRhdGFPcHRpb24oeyBvbk9wdGlvbnNDaGFuZ2UsIG9wdGlvbnMgfSwgJ3NlYXJjaCcsIHtcbiAgICAgIC4uLm9wdGlvbnMuanNvbkRhdGEuc2VhcmNoLFxuICAgICAgZmlsdGVyczogb3B0aW9ucy5qc29uRGF0YS5zZWFyY2g/LmZpbHRlcnM/LmZpbHRlcigoZikgPT4gZi5pZCAhPT0gcy5pZCksXG4gICAgfSk7XG4gIH07XG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoIW9wdGlvbnMuanNvbkRhdGEuc2VhcmNoPy5maWx0ZXJzKSB7XG4gICAgICB1cGRhdGVEYXRhc291cmNlUGx1Z2luSnNvbkRhdGFPcHRpb24oeyBvbk9wdGlvbnNDaGFuZ2UsIG9wdGlvbnMgfSwgJ3NlYXJjaCcsIHtcbiAgICAgICAgLi4ub3B0aW9ucy5qc29uRGF0YS5zZWFyY2gsXG4gICAgICAgIGZpbHRlcnM6IFtcbiAgICAgICAgICB7XG4gICAgICAgICAgICBpZDogJ3NlcnZpY2UtbmFtZScsXG4gICAgICAgICAgICB0YWc6ICdzZXJ2aWNlLm5hbWUnLFxuICAgICAgICAgICAgb3BlcmF0b3I6ICc9JyxcbiAgICAgICAgICAgIHNjb3BlOiBUcmFjZXFsU2VhcmNoU2NvcGUuUmVzb3VyY2UsXG4gICAgICAgICAgfSxcbiAgICAgICAgICB7IGlkOiAnc3Bhbi1uYW1lJywgdGFnOiAnbmFtZScsIG9wZXJhdG9yOiAnPScsIHNjb3BlOiBUcmFjZXFsU2VhcmNoU2NvcGUuU3BhbiB9LFxuICAgICAgICBdLFxuICAgICAgfSk7XG4gICAgfVxuICB9LCBbb25PcHRpb25zQ2hhbmdlLCBvcHRpb25zXSk7XG5cbiAgLy8gZmlsdGVyIG91dCB0YWdzIHRoYXQgYWxyZWFkeSBleGlzdCBpbiBUcmFjZVFMU2VhcmNoIGVkaXRvclxuICBjb25zdCBzdGF0aWNUYWdzID0gWydkdXJhdGlvbiddO1xuXG4gIHJldHVybiAoXG4gICAgPD5cbiAgICAgIHtkYXRhc291cmNlID8gKFxuICAgICAgICA8VGFnc0lucHV0XG4gICAgICAgICAgdXBkYXRlRmlsdGVyPXt1cGRhdGVGaWx0ZXJ9XG4gICAgICAgICAgZGVsZXRlRmlsdGVyPXtkZWxldGVGaWx0ZXJ9XG4gICAgICAgICAgZmlsdGVycz17b3B0aW9ucy5qc29uRGF0YS5zZWFyY2g/LmZpbHRlcnMgfHwgW119XG4gICAgICAgICAgZGF0YXNvdXJjZT17ZGF0YXNvdXJjZX1cbiAgICAgICAgICBzZXRFcnJvcj17KCkgPT4ge319XG4gICAgICAgICAgc3RhdGljVGFncz17c3RhdGljVGFnc31cbiAgICAgICAgICBpc1RhZ3NMb2FkaW5nPXtsb2FkaW5nfVxuICAgICAgICAgIGhpZGVWYWx1ZXM9e3RydWV9XG4gICAgICAgIC8+XG4gICAgICApIDogKFxuICAgICAgICA8ZGl2PkludmFsaWQgZGF0YSBzb3VyY2UsIHBsZWFzZSBjcmVhdGUgYSB2YWxpZCBkYXRhIHNvdXJjZSBhbmQgdHJ5IGFnYWluPC9kaXY+XG4gICAgICApfVxuICAgICAge2Vycm9yICYmIChcbiAgICAgICAgPEFsZXJ0IHRpdGxlPXsnVW5hYmxlIHRvIGZldGNoIFRyYWNlUUwgdGFncyd9IHNldmVyaXR5PXsnZXJyb3InfSB0b3BTcGFjaW5nPXsxfT5cbiAgICAgICAgICB7ZXJyb3IubWVzc2FnZX1cbiAgICAgICAgPC9BbGVydD5cbiAgICAgICl9XG4gICAgPC8+XG4gICk7XG59XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./public/app/plugins/datasource/tempo/configuration/TraceQLSearchTags.tsx\n");

/***/ }),

/***/ "./public/app/plugins/datasource/tempo/dataquery.gen.ts":
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   SearchStreamingState: () => (/* binding */ SearchStreamingState),\n/* harmony export */   TraceqlSearchScope: () => (/* binding */ TraceqlSearchScope),\n/* harmony export */   defaultTempoQuery: () => (/* binding */ defaultTempoQuery)\n/* harmony export */ });\n\nconst defaultTempoQuery = {\n  filters: []\n};\nvar SearchStreamingState = /* @__PURE__ */ ((SearchStreamingState2) => {\n  SearchStreamingState2[\"Done\"] = \"done\";\n  SearchStreamingState2[\"Error\"] = \"error\";\n  SearchStreamingState2[\"Pending\"] = \"pending\";\n  SearchStreamingState2[\"Streaming\"] = \"streaming\";\n  return SearchStreamingState2;\n})(SearchStreamingState || {});\nvar TraceqlSearchScope = /* @__PURE__ */ ((TraceqlSearchScope2) => {\n  TraceqlSearchScope2[\"Resource\"] = \"resource\";\n  TraceqlSearchScope2[\"Span\"] = \"span\";\n  TraceqlSearchScope2[\"Unscoped\"] = \"unscoped\";\n  return TraceqlSearchScope2;\n})(TraceqlSearchScope || {});\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9wdWJsaWMvYXBwL3BsdWdpbnMvZGF0YXNvdXJjZS90ZW1wby9kYXRhcXVlcnkuZ2VuLnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFvRE8sTUFBTSxvQkFBeUM7QUFBQSxFQUNwRCxTQUFTLENBQUM7QUFDWjtBQVVPLElBQUssdUJBQUwsa0JBQUtBLDBCQUFMO0FBQ0wsRUFBQUEsc0JBQUEsVUFBTztBQUNQLEVBQUFBLHNCQUFBLFdBQVE7QUFDUixFQUFBQSxzQkFBQSxhQUFVO0FBQ1YsRUFBQUEsc0JBQUEsZUFBWTtBQUpGLFNBQUFBO0FBQUE7QUFVTCxJQUFLLHFCQUFMLGtCQUFLQyx3QkFBTDtBQUNMLEVBQUFBLG9CQUFBLGNBQVc7QUFDWCxFQUFBQSxvQkFBQSxVQUFPO0FBQ1AsRUFBQUEsb0JBQUEsY0FBVztBQUhELFNBQUFBO0FBQUEiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9ncmFmYW5hLy4vcHVibGljL2FwcC9wbHVnaW5zL2RhdGFzb3VyY2UvdGVtcG8vZGF0YXF1ZXJ5Lmdlbi50cz80ODYyIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIENvZGUgZ2VuZXJhdGVkIC0gRURJVElORyBJUyBGVVRJTEUuIERPIE5PVCBFRElULlxuLy9cbi8vIEdlbmVyYXRlZCBieTpcbi8vICAgICBwdWJsaWMvYXBwL3BsdWdpbnMvZ2VuLmdvXG4vLyBVc2luZyBqZW5uaWVzOlxuLy8gICAgIFRTVHlwZXNKZW5ueVxuLy8gICAgIFBsdWdpblRTVHlwZXNKZW5ueVxuLy9cbi8vIFJ1biAnbWFrZSBnZW4tY3VlJyBmcm9tIHJlcG9zaXRvcnkgcm9vdCB0byByZWdlbmVyYXRlLlxuXG5pbXBvcnQgKiBhcyBjb21tb24gZnJvbSAnQGdyYWZhbmEvc2NoZW1hJztcblxuZXhwb3J0IGludGVyZmFjZSBUZW1wb1F1ZXJ5IGV4dGVuZHMgY29tbW9uLkRhdGFRdWVyeSB7XG4gIGZpbHRlcnM6IEFycmF5PFRyYWNlcWxGaWx0ZXI+O1xuICAvKipcbiAgICogRGVmaW5lcyB0aGUgbWF4aW11bSBudW1iZXIgb2YgdHJhY2VzIHRoYXQgYXJlIHJldHVybmVkIGZyb20gVGVtcG9cbiAgICovXG4gIGxpbWl0PzogbnVtYmVyO1xuICAvKipcbiAgICogQGRlcHJlY2F0ZWQgRGVmaW5lIHRoZSBtYXhpbXVtIGR1cmF0aW9uIHRvIHNlbGVjdCB0cmFjZXMuIFVzZSBkdXJhdGlvbiBmb3JtYXQsIGZvciBleGFtcGxlOiAxLjJzLCAxMDBtc1xuICAgKi9cbiAgbWF4RHVyYXRpb24/OiBzdHJpbmc7XG4gIC8qKlxuICAgKiBAZGVwcmVjYXRlZCBEZWZpbmUgdGhlIG1pbmltdW0gZHVyYXRpb24gdG8gc2VsZWN0IHRyYWNlcy4gVXNlIGR1cmF0aW9uIGZvcm1hdCwgZm9yIGV4YW1wbGU6IDEuMnMsIDEwMG1zXG4gICAqL1xuICBtaW5EdXJhdGlvbj86IHN0cmluZztcbiAgLyoqXG4gICAqIFRyYWNlUUwgcXVlcnkgb3IgdHJhY2UgSURcbiAgICovXG4gIHF1ZXJ5OiBzdHJpbmc7XG4gIC8qKlxuICAgKiBAZGVwcmVjYXRlZCBMb2dmbXQgcXVlcnkgdG8gZmlsdGVyIHRyYWNlcyBieSB0aGVpciB0YWdzLiBFeGFtcGxlOiBodHRwLnN0YXR1c19jb2RlPTIwMCBlcnJvcj10cnVlXG4gICAqL1xuICBzZWFyY2g/OiBzdHJpbmc7XG4gIC8qKlxuICAgKiBVc2Ugc2VydmljZS5uYW1lc3BhY2UgaW4gYWRkaXRpb24gdG8gc2VydmljZS5uYW1lIHRvIHVuaXF1ZWx5IGlkZW50aWZ5IGEgc2VydmljZS5cbiAgICovXG4gIHNlcnZpY2VNYXBJbmNsdWRlTmFtZXNwYWNlPzogYm9vbGVhbjtcbiAgLyoqXG4gICAqIEZpbHRlcnMgdG8gYmUgaW5jbHVkZWQgaW4gYSBQcm9tUUwgcXVlcnkgdG8gc2VsZWN0IGRhdGEgZm9yIHRoZSBzZXJ2aWNlIGdyYXBoLiBFeGFtcGxlOiB7Y2xpZW50PVwiYXBwXCIsc2VydmljZT1cImFwcFwifVxuICAgKi9cbiAgc2VydmljZU1hcFF1ZXJ5Pzogc3RyaW5nO1xuICAvKipcbiAgICogQGRlcHJlY2F0ZWQgUXVlcnkgdHJhY2VzIGJ5IHNlcnZpY2UgbmFtZVxuICAgKi9cbiAgc2VydmljZU5hbWU/OiBzdHJpbmc7XG4gIC8qKlxuICAgKiBAZGVwcmVjYXRlZCBRdWVyeSB0cmFjZXMgYnkgc3BhbiBuYW1lXG4gICAqL1xuICBzcGFuTmFtZT86IHN0cmluZztcbn1cblxuZXhwb3J0IGNvbnN0IGRlZmF1bHRUZW1wb1F1ZXJ5OiBQYXJ0aWFsPFRlbXBvUXVlcnk+ID0ge1xuICBmaWx0ZXJzOiBbXSxcbn07XG5cbi8qKlxuICogc2VhcmNoID0gTG9raSBzZWFyY2gsIG5hdGl2ZVNlYXJjaCA9IFRlbXBvIHNlYXJjaCBmb3IgYmFja3dhcmRzIGNvbXBhdGliaWxpdHlcbiAqL1xuZXhwb3J0IHR5cGUgVGVtcG9RdWVyeVR5cGUgPSAoJ3RyYWNlcWwnIHwgJ3RyYWNlcWxTZWFyY2gnIHwgJ3NlYXJjaCcgfCAnc2VydmljZU1hcCcgfCAndXBsb2FkJyB8ICduYXRpdmVTZWFyY2gnIHwgJ3RyYWNlSWQnIHwgJ2NsZWFyJyk7XG5cbi8qKlxuICogVGhlIHN0YXRlIG9mIHRoZSBUcmFjZVFMIHN0cmVhbWluZyBzZWFyY2ggcXVlcnlcbiAqL1xuZXhwb3J0IGVudW0gU2VhcmNoU3RyZWFtaW5nU3RhdGUge1xuICBEb25lID0gJ2RvbmUnLFxuICBFcnJvciA9ICdlcnJvcicsXG4gIFBlbmRpbmcgPSAncGVuZGluZycsXG4gIFN0cmVhbWluZyA9ICdzdHJlYW1pbmcnLFxufVxuXG4vKipcbiAqIHN0YXRpYyBmaWVsZHMgYXJlIHByZS1zZXQgaW4gdGhlIFVJLCBkeW5hbWljIGZpZWxkcyBhcmUgYWRkZWQgYnkgdGhlIHVzZXJcbiAqL1xuZXhwb3J0IGVudW0gVHJhY2VxbFNlYXJjaFNjb3BlIHtcbiAgUmVzb3VyY2UgPSAncmVzb3VyY2UnLFxuICBTcGFuID0gJ3NwYW4nLFxuICBVbnNjb3BlZCA9ICd1bnNjb3BlZCcsXG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgVHJhY2VxbEZpbHRlciB7XG4gIC8qKlxuICAgKiBVbmlxdWVseSBpZGVudGlmeSB0aGUgZmlsdGVyLCB3aWxsIG5vdCBiZSB1c2VkIGluIHRoZSBxdWVyeSBnZW5lcmF0aW9uXG4gICAqL1xuICBpZDogc3RyaW5nO1xuICAvKipcbiAgICogVGhlIG9wZXJhdG9yIHRoYXQgY29ubmVjdHMgdGhlIHRhZyB0byB0aGUgdmFsdWUsIGZvciBleGFtcGxlOiA9LCA+LCAhPSwgPX5cbiAgICovXG4gIG9wZXJhdG9yPzogc3RyaW5nO1xuICAvKipcbiAgICogVGhlIHNjb3BlIG9mIHRoZSBmaWx0ZXIsIGNhbiBlaXRoZXIgYmUgdW5zY29wZWQvYWxsIHNjb3BlcywgcmVzb3VyY2Ugb3Igc3BhblxuICAgKi9cbiAgc2NvcGU/OiBUcmFjZXFsU2VhcmNoU2NvcGU7XG4gIC8qKlxuICAgKiBUaGUgdGFnIGZvciB0aGUgc2VhcmNoIGZpbHRlciwgZm9yIGV4YW1wbGU6IC5odHRwLnN0YXR1c19jb2RlLCAuc2VydmljZS5uYW1lLCBzdGF0dXNcbiAgICovXG4gIHRhZz86IHN0cmluZztcbiAgLyoqXG4gICAqIFRoZSB2YWx1ZSBmb3IgdGhlIHNlYXJjaCBmaWx0ZXJcbiAgICovXG4gIHZhbHVlPzogKHN0cmluZyB8IEFycmF5PHN0cmluZz4pO1xuICAvKipcbiAgICogVGhlIHR5cGUgb2YgdGhlIHZhbHVlLCB1c2VkIGZvciBleGFtcGxlIHRvIGNoZWNrIHdoZXRoZXIgd2UgbmVlZCB0byB3cmFwIHRoZSB2YWx1ZSBpbiBxdW90ZXMgd2hlbiBnZW5lcmF0aW5nIHRoZSBxdWVyeVxuICAgKi9cbiAgdmFsdWVUeXBlPzogc3RyaW5nO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFRlbXBvIHt9XG4iXSwibmFtZXMiOlsiU2VhcmNoU3RyZWFtaW5nU3RhdGUiLCJUcmFjZXFsU2VhcmNoU2NvcGUiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./public/app/plugins/datasource/tempo/dataquery.gen.ts\n");

/***/ }),

/***/ "./public/app/plugins/datasource/tempo/datasource.ts":
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   DEFAULT_LIMIT: () => (/* binding */ DEFAULT_LIMIT),\n/* harmony export */   TempoDatasource: () => (/* binding */ TempoDatasource),\n/* harmony export */   buildExpr: () => (/* binding */ buildExpr),\n/* harmony export */   buildLinkExpr: () => (/* binding */ buildLinkExpr),\n/* harmony export */   getEscapedSpanNames: () => (/* binding */ getEscapedSpanNames),\n/* harmony export */   getFieldConfig: () => (/* binding */ getFieldConfig),\n/* harmony export */   getRateAlignedValues: () => (/* binding */ getRateAlignedValues),\n/* harmony export */   makeServiceGraphViewRequest: () => (/* binding */ makeServiceGraphViewRequest),\n/* harmony export */   makeTempoLink: () => (/* binding */ makeTempoLink)\n/* harmony export */ });\n/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"./.yarn/cache/lodash-npm-4.17.21-6382451519-eb835a2e51.zip/node_modules/lodash/lodash.js\");\n/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(\"./.yarn/cache/rxjs-npm-7.8.0-722f1c7172-61b4d4fd32.zip/node_modules/rxjs/dist/esm5/internal/observable/of.js\");\n/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(\"./.yarn/cache/rxjs-npm-7.8.0-722f1c7172-61b4d4fd32.zip/node_modules/rxjs/dist/esm5/internal/observable/from.js\");\n/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(\"./.yarn/cache/rxjs-npm-7.8.0-722f1c7172-61b4d4fd32.zip/node_modules/rxjs/dist/esm5/internal/observable/throwError.js\");\n/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(\"./.yarn/cache/rxjs-npm-7.8.0-722f1c7172-61b4d4fd32.zip/node_modules/rxjs/dist/esm5/internal/observable/merge.js\");\n/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(\"./.yarn/cache/rxjs-npm-7.8.0-722f1c7172-61b4d4fd32.zip/node_modules/rxjs/dist/esm5/internal/observable/empty.js\");\n/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(\"./.yarn/cache/rxjs-npm-7.8.0-722f1c7172-61b4d4fd32.zip/node_modules/rxjs/dist/esm5/internal/lastValueFrom.js\");\n/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(\"./.yarn/cache/rxjs-npm-7.8.0-722f1c7172-61b4d4fd32.zip/node_modules/rxjs/dist/esm5/internal/operators/mergeMap.js\");\n/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(\"./.yarn/cache/rxjs-npm-7.8.0-722f1c7172-61b4d4fd32.zip/node_modules/rxjs/dist/esm5/internal/operators/map.js\");\n/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(\"./.yarn/cache/rxjs-npm-7.8.0-722f1c7172-61b4d4fd32.zip/node_modules/rxjs/dist/esm5/internal/operators/catchError.js\");\n/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(\"./.yarn/cache/rxjs-npm-7.8.0-722f1c7172-61b4d4fd32.zip/node_modules/rxjs/dist/esm5/internal/operators/concatMap.js\");\n/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_30__ = __webpack_require__(\"./.yarn/cache/rxjs-npm-7.8.0-722f1c7172-61b4d4fd32.zip/node_modules/rxjs/dist/esm5/internal/operators/toArray.js\");\n/* harmony import */ var _grafana_data__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(\"./.yarn/__virtual__/@grafana-data-virtual-0996183232/1/packages/grafana-data/src/types/data.ts\");\n/* harmony import */ var _grafana_data__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(\"./.yarn/__virtual__/@grafana-data-virtual-0996183232/1/packages/grafana-data/src/datetime/rangeutil.ts\");\n/* harmony import */ var _grafana_data__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(\"./.yarn/__virtual__/@grafana-data-virtual-0996183232/1/packages/grafana-data/src/datetime/moment_wrapper.ts\");\n/* harmony import */ var _grafana_data__WEBPACK_IMPORTED_MODULE_29__ = __webpack_require__(\"./.yarn/__virtual__/@grafana-data-virtual-0996183232/1/packages/grafana-data/src/datetime/durationutil.ts\");\n/* harmony import */ var _grafana_data__WEBPACK_IMPORTED_MODULE_31__ = __webpack_require__(\"./.yarn/__virtual__/@grafana-data-virtual-0996183232/1/packages/grafana-data/src/types/app.ts\");\n/* harmony import */ var _grafana_data__WEBPACK_IMPORTED_MODULE_32__ = __webpack_require__(\"./.yarn/__virtual__/@grafana-data-virtual-0996183232/1/packages/grafana-data/src/types/dataFrame.ts\");\n/* harmony import */ var _grafana_runtime__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(\"./.yarn/__virtual__/@grafana-runtime-virtual-68c57d4c0c/1/packages/grafana-runtime/src/utils/DataSourceWithBackend.ts\");\n/* harmony import */ var _grafana_runtime__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(\"./.yarn/__virtual__/@grafana-runtime-virtual-68c57d4c0c/1/packages/grafana-runtime/src/services/templateSrv.ts\");\n/* harmony import */ var _grafana_runtime__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(\"./.yarn/__virtual__/@grafana-runtime-virtual-68c57d4c0c/1/packages/grafana-runtime/src/analytics/utils.ts\");\n/* harmony import */ var _grafana_runtime__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(\"./.yarn/__virtual__/@grafana-runtime-virtual-68c57d4c0c/1/packages/grafana-runtime/src/config.ts\");\n/* harmony import */ var _grafana_runtime__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(\"./.yarn/__virtual__/@grafana-runtime-virtual-68c57d4c0c/1/packages/grafana-runtime/src/services/backendSrv.ts\");\n/* harmony import */ var _grafana_schema__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(\"./packages/grafana-schema/src/common/common.gen.ts\");\n/* harmony import */ var app_core_utils_fetch__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(\"./public/app/core/utils/fetch.ts\");\n/* harmony import */ var app_features_plugins_datasource_srv__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(\"./public/app/features/plugins/datasource_srv.ts\");\n/* harmony import */ var _SearchTraceQLEditor_utils__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(\"./public/app/plugins/datasource/tempo/SearchTraceQLEditor/utils.ts\");\n/* harmony import */ var _dataquery_gen__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(\"./public/app/plugins/datasource/tempo/dataquery.gen.ts\");\n/* harmony import */ var _graphTransform__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(\"./public/app/plugins/datasource/tempo/graphTransform.ts\");\n/* harmony import */ var _language_provider__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(\"./public/app/plugins/datasource/tempo/language_provider.ts\");\n/* harmony import */ var _resultTransformer__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(\"./public/app/plugins/datasource/tempo/resultTransformer.ts\");\n/* harmony import */ var _streaming__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(\"./public/app/plugins/datasource/tempo/streaming.ts\");\n/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(\"./public/app/plugins/datasource/tempo/utils.ts\");\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nconst DEFAULT_LIMIT = 20;\nclass TempoDatasource extends _grafana_runtime__WEBPACK_IMPORTED_MODULE_10__.DataSourceWithBackend {\n  constructor(instanceSettings, templateSrv = (0,_grafana_runtime__WEBPACK_IMPORTED_MODULE_11__.getTemplateSrv)()) {\n    super(instanceSettings);\n    this.instanceSettings = instanceSettings;\n    this.templateSrv = templateSrv;\n    this.uploadedJson = null;\n    // Get linked loki search datasource. Fall back to legacy loki search/trace to logs config\n    this.getLokiSearchDS = () => {\n      const legacyLogsDatasourceUid = this.tracesToLogs?.lokiSearch !== false && this.lokiSearch === void 0 ? this.tracesToLogs?.datasourceUid : void 0;\n      return this.lokiSearch?.datasourceUid ?? legacyLogsDatasourceUid;\n    };\n    this.tracesToLogs = instanceSettings.jsonData.tracesToLogs;\n    this.serviceMap = instanceSettings.jsonData.serviceMap;\n    this.search = instanceSettings.jsonData.search;\n    this.nodeGraph = instanceSettings.jsonData.nodeGraph;\n    this.lokiSearch = instanceSettings.jsonData.lokiSearch;\n    this.traceQuery = instanceSettings.jsonData.traceQuery;\n    this.languageProvider = new _language_provider__WEBPACK_IMPORTED_MODULE_6__[\"default\"](this);\n    if (!this.search?.filters) {\n      this.search = {\n        ...this.search,\n        filters: [\n          {\n            id: \"service-name\",\n            tag: \"service.name\",\n            operator: \"=\",\n            scope: _dataquery_gen__WEBPACK_IMPORTED_MODULE_4__.TraceqlSearchScope.Resource\n          },\n          { id: \"span-name\", tag: \"name\", operator: \"=\", scope: _dataquery_gen__WEBPACK_IMPORTED_MODULE_4__.TraceqlSearchScope.Span }\n        ]\n      };\n    }\n  }\n  query(options) {\n    const subQueries = [];\n    const filteredTargets = options.targets.filter((target) => !target.hide);\n    const targets = (0,lodash__WEBPACK_IMPORTED_MODULE_0__.groupBy)(filteredTargets, (t) => t.queryType || \"traceql\");\n    if (targets.clear) {\n      return (0,rxjs__WEBPACK_IMPORTED_MODULE_12__.of)({ data: [], state: _grafana_data__WEBPACK_IMPORTED_MODULE_13__.LoadingState.Done });\n    }\n    const logsDatasourceUid = this.getLokiSearchDS();\n    if (logsDatasourceUid && targets.search?.length > 0) {\n      (0,_grafana_runtime__WEBPACK_IMPORTED_MODULE_14__.reportInteraction)(\"grafana_traces_loki_search_queried\", {\n        datasourceType: \"tempo\",\n        app: options.app ?? \"\",\n        grafana_version: _grafana_runtime__WEBPACK_IMPORTED_MODULE_15__.config.buildInfo.version,\n        hasLinkedQueryExpr: targets.search[0].linkedQuery?.expr && targets.search[0].linkedQuery?.expr !== \"\" ? true : false\n      });\n      const dsSrv = (0,app_features_plugins_datasource_srv__WEBPACK_IMPORTED_MODULE_2__.getDatasourceSrv)();\n      subQueries.push(\n        (0,rxjs__WEBPACK_IMPORTED_MODULE_16__.from)(dsSrv.get(logsDatasourceUid)).pipe(\n          (0,rxjs_operators__WEBPACK_IMPORTED_MODULE_17__.mergeMap)((linkedDatasource) => {\n            const linkedRequest = { ...options, targets: targets.search.map((t) => t.linkedQuery) };\n            const settings = linkedDatasource.instanceSettings;\n            const traceLinkMatcher = settings.jsonData.derivedFields?.filter((field) => field.datasourceUid === this.uid && field.matcherRegex).map((field) => field.matcherRegex) || [];\n            if (!traceLinkMatcher || traceLinkMatcher.length === 0) {\n              return (0,rxjs__WEBPACK_IMPORTED_MODULE_18__.throwError)(\n                () => new Error(\n                  \"No Loki datasource configured for search. Set up Derived Fields for traces in a Loki datasource settings and link it to this Tempo datasource.\"\n                )\n              );\n            } else {\n              return linkedDatasource.query(linkedRequest).pipe(\n                (0,rxjs_operators__WEBPACK_IMPORTED_MODULE_19__.map)(\n                  (response) => response.error ? response : (0,_resultTransformer__WEBPACK_IMPORTED_MODULE_7__.transformTraceList)(response, this.uid, this.name, traceLinkMatcher)\n                )\n              );\n            }\n          })\n        )\n      );\n    }\n    if (targets.nativeSearch?.length) {\n      try {\n        (0,_grafana_runtime__WEBPACK_IMPORTED_MODULE_14__.reportInteraction)(\"grafana_traces_search_queried\", {\n          datasourceType: \"tempo\",\n          app: options.app ?? \"\",\n          grafana_version: _grafana_runtime__WEBPACK_IMPORTED_MODULE_15__.config.buildInfo.version,\n          hasServiceName: targets.nativeSearch[0].serviceName ? true : false,\n          hasSpanName: targets.nativeSearch[0].spanName ? true : false,\n          resultLimit: targets.nativeSearch[0].limit ?? \"\",\n          hasSearch: targets.nativeSearch[0].search ? true : false,\n          minDuration: targets.nativeSearch[0].minDuration ?? \"\",\n          maxDuration: targets.nativeSearch[0].maxDuration ?? \"\"\n        });\n        const timeRange = { startTime: options.range.from.unix(), endTime: options.range.to.unix() };\n        const query = this.applyVariables(targets.nativeSearch[0], options.scopedVars);\n        const searchQuery = this.buildSearchQuery(query, timeRange);\n        subQueries.push(\n          this._request(\"/api/search\", searchQuery).pipe(\n            (0,rxjs_operators__WEBPACK_IMPORTED_MODULE_19__.map)((response) => {\n              return {\n                data: [(0,_resultTransformer__WEBPACK_IMPORTED_MODULE_7__.createTableFrameFromSearch)(response.data.traces, this.instanceSettings)]\n              };\n            }),\n            (0,rxjs_operators__WEBPACK_IMPORTED_MODULE_20__.catchError)((err) => {\n              return (0,rxjs__WEBPACK_IMPORTED_MODULE_12__.of)({ error: { message: (0,_utils__WEBPACK_IMPORTED_MODULE_9__.getErrorMessage)(err.data.message) }, data: [] });\n            })\n          )\n        );\n      } catch (error) {\n        return (0,rxjs__WEBPACK_IMPORTED_MODULE_12__.of)({ error: { message: error instanceof Error ? error.message : \"Unknown error occurred\" }, data: [] });\n      }\n    }\n    if (targets.traceql?.length) {\n      try {\n        const appliedQuery = this.applyVariables(targets.traceql[0], options.scopedVars);\n        const queryValue = appliedQuery?.query || \"\";\n        const hexOnlyRegex = /^[0-9A-Fa-f]*$/;\n        if (queryValue.trim().match(hexOnlyRegex)) {\n          (0,_grafana_runtime__WEBPACK_IMPORTED_MODULE_14__.reportInteraction)(\"grafana_traces_traceID_queried\", {\n            datasourceType: \"tempo\",\n            app: options.app ?? \"\",\n            grafana_version: _grafana_runtime__WEBPACK_IMPORTED_MODULE_15__.config.buildInfo.version,\n            hasQuery: queryValue !== \"\" ? true : false\n          });\n          subQueries.push(this.handleTraceIdQuery(options, targets.traceql));\n        } else {\n          (0,_grafana_runtime__WEBPACK_IMPORTED_MODULE_14__.reportInteraction)(\"grafana_traces_traceql_queried\", {\n            datasourceType: \"tempo\",\n            app: options.app ?? \"\",\n            grafana_version: _grafana_runtime__WEBPACK_IMPORTED_MODULE_15__.config.buildInfo.version,\n            query: queryValue ?? \"\",\n            streaming: _grafana_runtime__WEBPACK_IMPORTED_MODULE_15__.config.featureToggles.traceQLStreaming\n          });\n          if (_grafana_runtime__WEBPACK_IMPORTED_MODULE_15__.config.featureToggles.traceQLStreaming) {\n            subQueries.push(this.handleStreamingSearch(options, targets.traceql));\n          } else {\n            subQueries.push(\n              this._request(\"/api/search\", {\n                q: queryValue,\n                limit: options.targets[0].limit ?? DEFAULT_LIMIT,\n                start: options.range.from.unix(),\n                end: options.range.to.unix()\n              }).pipe(\n                (0,rxjs_operators__WEBPACK_IMPORTED_MODULE_19__.map)((response) => {\n                  return {\n                    data: (0,_resultTransformer__WEBPACK_IMPORTED_MODULE_7__.createTableFrameFromTraceQlQuery)(response.data.traces, this.instanceSettings)\n                  };\n                }),\n                (0,rxjs_operators__WEBPACK_IMPORTED_MODULE_20__.catchError)((err) => {\n                  return (0,rxjs__WEBPACK_IMPORTED_MODULE_12__.of)({ error: { message: (0,_utils__WEBPACK_IMPORTED_MODULE_9__.getErrorMessage)(err.data.message) }, data: [] });\n                })\n              )\n            );\n          }\n        }\n      } catch (error) {\n        return (0,rxjs__WEBPACK_IMPORTED_MODULE_12__.of)({ error: { message: error instanceof Error ? error.message : \"Unknown error occurred\" }, data: [] });\n      }\n    }\n    if (targets.traceqlSearch?.length) {\n      try {\n        const queryValue = (0,_SearchTraceQLEditor_utils__WEBPACK_IMPORTED_MODULE_3__.generateQueryFromFilters)(targets.traceqlSearch[0].filters);\n        (0,_grafana_runtime__WEBPACK_IMPORTED_MODULE_14__.reportInteraction)(\"grafana_traces_traceql_search_queried\", {\n          datasourceType: \"tempo\",\n          app: options.app ?? \"\",\n          grafana_version: _grafana_runtime__WEBPACK_IMPORTED_MODULE_15__.config.buildInfo.version,\n          query: queryValue ?? \"\",\n          streaming: _grafana_runtime__WEBPACK_IMPORTED_MODULE_15__.config.featureToggles.traceQLStreaming\n        });\n        if (_grafana_runtime__WEBPACK_IMPORTED_MODULE_15__.config.featureToggles.traceQLStreaming) {\n          subQueries.push(this.handleStreamingSearch(options, targets.traceqlSearch, queryValue));\n        } else {\n          subQueries.push(\n            this._request(\"/api/search\", {\n              q: queryValue,\n              limit: options.targets[0].limit ?? DEFAULT_LIMIT,\n              start: options.range.from.unix(),\n              end: options.range.to.unix()\n            }).pipe(\n              (0,rxjs_operators__WEBPACK_IMPORTED_MODULE_19__.map)((response) => {\n                return {\n                  data: (0,_resultTransformer__WEBPACK_IMPORTED_MODULE_7__.createTableFrameFromTraceQlQuery)(response.data.traces, this.instanceSettings)\n                };\n              }),\n              (0,rxjs_operators__WEBPACK_IMPORTED_MODULE_20__.catchError)((err) => {\n                return (0,rxjs__WEBPACK_IMPORTED_MODULE_12__.of)({ error: { message: (0,_utils__WEBPACK_IMPORTED_MODULE_9__.getErrorMessage)(err.data.message) }, data: [] });\n              })\n            )\n          );\n        }\n      } catch (error) {\n        return (0,rxjs__WEBPACK_IMPORTED_MODULE_12__.of)({ error: { message: error instanceof Error ? error.message : \"Unknown error occurred\" }, data: [] });\n      }\n    }\n    if (targets.upload?.length) {\n      if (this.uploadedJson) {\n        (0,_grafana_runtime__WEBPACK_IMPORTED_MODULE_14__.reportInteraction)(\"grafana_traces_json_file_uploaded\", {\n          datasourceType: \"tempo\",\n          app: options.app ?? \"\",\n          grafana_version: _grafana_runtime__WEBPACK_IMPORTED_MODULE_15__.config.buildInfo.version\n        });\n        const jsonData = JSON.parse(this.uploadedJson);\n        const isTraceData = jsonData.batches;\n        const isServiceGraphData = Array.isArray(jsonData) && jsonData.some((df) => df?.meta?.preferredVisualisationType === \"nodeGraph\");\n        if (isTraceData) {\n          subQueries.push((0,rxjs__WEBPACK_IMPORTED_MODULE_12__.of)((0,_resultTransformer__WEBPACK_IMPORTED_MODULE_7__.transformFromOTLP)(jsonData.batches, this.nodeGraph?.enabled)));\n        } else if (isServiceGraphData) {\n          subQueries.push((0,rxjs__WEBPACK_IMPORTED_MODULE_12__.of)({ data: jsonData, state: _grafana_data__WEBPACK_IMPORTED_MODULE_13__.LoadingState.Done }));\n        } else {\n          subQueries.push((0,rxjs__WEBPACK_IMPORTED_MODULE_12__.of)({ error: { message: \"Unable to parse uploaded data.\" }, data: [] }));\n        }\n      } else {\n        subQueries.push((0,rxjs__WEBPACK_IMPORTED_MODULE_12__.of)({ data: [], state: _grafana_data__WEBPACK_IMPORTED_MODULE_13__.LoadingState.Done }));\n      }\n    }\n    if (this.serviceMap?.datasourceUid && targets.serviceMap?.length > 0) {\n      (0,_grafana_runtime__WEBPACK_IMPORTED_MODULE_14__.reportInteraction)(\"grafana_traces_service_graph_queried\", {\n        datasourceType: \"tempo\",\n        app: options.app ?? \"\",\n        grafana_version: _grafana_runtime__WEBPACK_IMPORTED_MODULE_15__.config.buildInfo.version,\n        hasServiceMapQuery: targets.serviceMap[0].serviceMapQuery ? true : false\n      });\n      const dsId = this.serviceMap.datasourceUid;\n      const tempoDsUid = this.uid;\n      subQueries.push(\n        serviceMapQuery(options, dsId, tempoDsUid).pipe(\n          (0,rxjs_operators__WEBPACK_IMPORTED_MODULE_21__.concatMap)(\n            (result) => rateQuery(options, result, dsId).pipe(\n              (0,rxjs_operators__WEBPACK_IMPORTED_MODULE_21__.concatMap)((result2) => errorAndDurationQuery(options, result2, dsId, tempoDsUid))\n            )\n          )\n        )\n      );\n    }\n    return (0,rxjs__WEBPACK_IMPORTED_MODULE_22__.merge)(...subQueries);\n  }\n  applyTemplateVariables(query, scopedVars) {\n    return this.applyVariables(query, scopedVars);\n  }\n  interpolateVariablesInQueries(queries, scopedVars) {\n    if (!queries || queries.length === 0) {\n      return [];\n    }\n    return queries.map((query) => {\n      return {\n        ...query,\n        datasource: this.getRef(),\n        ...this.applyVariables(query, scopedVars)\n      };\n    });\n  }\n  applyVariables(query, scopedVars) {\n    const expandedQuery = { ...query };\n    if (query.linkedQuery) {\n      expandedQuery.linkedQuery = {\n        ...query.linkedQuery,\n        expr: this.templateSrv.replace(query.linkedQuery?.expr ?? \"\", scopedVars)\n      };\n    }\n    return {\n      ...expandedQuery,\n      query: this.templateSrv.replace(query.query ?? \"\", scopedVars, _grafana_schema__WEBPACK_IMPORTED_MODULE_23__.VariableFormatID.Pipe),\n      serviceName: this.templateSrv.replace(query.serviceName ?? \"\", scopedVars),\n      spanName: this.templateSrv.replace(query.spanName ?? \"\", scopedVars),\n      search: this.templateSrv.replace(query.search ?? \"\", scopedVars),\n      minDuration: this.templateSrv.replace(query.minDuration ?? \"\", scopedVars),\n      maxDuration: this.templateSrv.replace(query.maxDuration ?? \"\", scopedVars)\n    };\n  }\n  /**\n   * Handles the simplest of the queries where we have just a trace id and return trace data for it.\n   * @param options\n   * @param targets\n   * @private\n   */\n  handleTraceIdQuery(options, targets) {\n    const validTargets = targets.filter((t) => t.query).map((t) => ({ ...t, query: t.query.trim(), queryType: \"traceId\" }));\n    if (!validTargets.length) {\n      return rxjs__WEBPACK_IMPORTED_MODULE_24__.EMPTY;\n    }\n    const traceRequest = this.traceIdQueryRequest(options, validTargets);\n    return super.query(traceRequest).pipe(\n      (0,rxjs_operators__WEBPACK_IMPORTED_MODULE_19__.map)((response) => {\n        if (response.error) {\n          return response;\n        }\n        return (0,_resultTransformer__WEBPACK_IMPORTED_MODULE_7__.transformTrace)(response, this.nodeGraph?.enabled);\n      })\n    );\n  }\n  traceIdQueryRequest(options, targets) {\n    const request = {\n      ...options,\n      targets\n    };\n    if (this.traceQuery?.timeShiftEnabled) {\n      request.range = options.range && {\n        ...options.range,\n        from: options.range.from.subtract(\n          _grafana_data__WEBPACK_IMPORTED_MODULE_25__.intervalToMs(this.traceQuery?.spanStartTimeShift || \"30m\"),\n          \"milliseconds\"\n        ),\n        to: options.range.to.add(_grafana_data__WEBPACK_IMPORTED_MODULE_25__.intervalToMs(this.traceQuery?.spanEndTimeShift || \"30m\"), \"milliseconds\")\n      };\n    } else {\n      request.range = { from: (0,_grafana_data__WEBPACK_IMPORTED_MODULE_26__.dateTime)(0), to: (0,_grafana_data__WEBPACK_IMPORTED_MODULE_26__.dateTime)(0), raw: { from: (0,_grafana_data__WEBPACK_IMPORTED_MODULE_26__.dateTime)(0), to: (0,_grafana_data__WEBPACK_IMPORTED_MODULE_26__.dateTime)(0) } };\n    }\n    return request;\n  }\n  handleStreamingSearch(options, targets, query) {\n    const validTargets = targets.filter((t) => t.query || query).map((t) => ({ ...t, query: query || t.query.trim() }));\n    if (!validTargets.length) {\n      return rxjs__WEBPACK_IMPORTED_MODULE_24__.EMPTY;\n    }\n    return (0,rxjs__WEBPACK_IMPORTED_MODULE_22__.merge)(\n      ...validTargets.map(\n        (q) => (0,_streaming__WEBPACK_IMPORTED_MODULE_8__.doTempoChannelStream)(\n          q,\n          this,\n          // the datasource\n          options,\n          this.instanceSettings\n        )\n      )\n    );\n  }\n  async metadataRequest(url, params = {}) {\n    return await (0,rxjs__WEBPACK_IMPORTED_MODULE_27__.lastValueFrom)(this._request(url, params, { method: \"GET\", hideFromInspector: true }));\n  }\n  _request(apiUrl, data, options) {\n    const params = data ? (0,app_core_utils_fetch__WEBPACK_IMPORTED_MODULE_1__.serializeParams)(data) : \"\";\n    const url = `${this.instanceSettings.url}${apiUrl}${params.length ? `?${params}` : \"\"}`;\n    const req = { ...options, url };\n    return (0,_grafana_runtime__WEBPACK_IMPORTED_MODULE_28__.getBackendSrv)().fetch(req);\n  }\n  async testDatasource() {\n    const options = {\n      headers: {},\n      method: \"GET\",\n      url: `${this.instanceSettings.url}/api/echo`\n    };\n    return await (0,rxjs__WEBPACK_IMPORTED_MODULE_27__.lastValueFrom)(\n      (0,_grafana_runtime__WEBPACK_IMPORTED_MODULE_28__.getBackendSrv)().fetch(options).pipe(\n        (0,rxjs_operators__WEBPACK_IMPORTED_MODULE_17__.mergeMap)(() => {\n          return (0,rxjs__WEBPACK_IMPORTED_MODULE_12__.of)({ status: \"success\", message: \"Data source successfully connected.\" });\n        }),\n        (0,rxjs_operators__WEBPACK_IMPORTED_MODULE_20__.catchError)((err) => {\n          return (0,rxjs__WEBPACK_IMPORTED_MODULE_12__.of)({ status: \"error\", message: (0,_utils__WEBPACK_IMPORTED_MODULE_9__.getErrorMessage)(err.data.message, \"Unable to connect with Tempo\") });\n        })\n      )\n    );\n  }\n  getQueryDisplayText(query) {\n    if (query.queryType === \"nativeSearch\") {\n      let result = [];\n      for (const key of [\"serviceName\", \"spanName\", \"search\", \"minDuration\", \"maxDuration\", \"limit\"]) {\n        if (query.hasOwnProperty(key) && query[key]) {\n          result.push(`${(0,lodash__WEBPACK_IMPORTED_MODULE_0__.startCase)(key)}: ${query[key]}`);\n        }\n      }\n      return result.join(\", \");\n    }\n    return query.query;\n  }\n  buildSearchQuery(query, timeRange) {\n    let tags = query.search ?? \"\";\n    let tempoQuery = (0,lodash__WEBPACK_IMPORTED_MODULE_0__.pick)(query, [\"minDuration\", \"maxDuration\", \"limit\"]);\n    tempoQuery = (0,lodash__WEBPACK_IMPORTED_MODULE_0__.pickBy)(tempoQuery, lodash__WEBPACK_IMPORTED_MODULE_0__.identity);\n    if (query.serviceName) {\n      tags += ` service.name=\"${query.serviceName}\"`;\n    }\n    if (query.spanName) {\n      tags += ` name=\"${query.spanName}\"`;\n    }\n    if (!tempoQuery.limit) {\n      tempoQuery.limit = DEFAULT_LIMIT;\n    }\n    if (tempoQuery.minDuration) {\n      tempoQuery.minDuration = this.templateSrv.replace(tempoQuery.minDuration ?? \"\");\n      if (!(0,_grafana_data__WEBPACK_IMPORTED_MODULE_29__.isValidGoDuration)(tempoQuery.minDuration)) {\n        throw new Error(\"Please enter a valid min duration.\");\n      }\n      tempoQuery.minDuration = tempoQuery.minDuration.replace(/\\s/g, \"\");\n    }\n    if (tempoQuery.maxDuration) {\n      tempoQuery.maxDuration = this.templateSrv.replace(tempoQuery.maxDuration ?? \"\");\n      if (!(0,_grafana_data__WEBPACK_IMPORTED_MODULE_29__.isValidGoDuration)(tempoQuery.maxDuration)) {\n        throw new Error(\"Please enter a valid max duration.\");\n      }\n      tempoQuery.maxDuration = tempoQuery.maxDuration.replace(/\\s/g, \"\");\n    }\n    if (!Number.isInteger(tempoQuery.limit) || tempoQuery.limit <= 0) {\n      throw new Error(\"Please enter a valid limit.\");\n    }\n    let searchQuery = { tags, ...tempoQuery };\n    if (timeRange) {\n      searchQuery.start = timeRange.startTime;\n      searchQuery.end = timeRange.endTime;\n    }\n    return searchQuery;\n  }\n}\nfunction queryPrometheus(request, datasourceUid) {\n  return (0,rxjs__WEBPACK_IMPORTED_MODULE_16__.from)((0,app_features_plugins_datasource_srv__WEBPACK_IMPORTED_MODULE_2__.getDatasourceSrv)().get(datasourceUid)).pipe(\n    (0,rxjs_operators__WEBPACK_IMPORTED_MODULE_17__.mergeMap)((ds) => {\n      return ds.query(request);\n    })\n  );\n}\nfunction serviceMapQuery(request, datasourceUid, tempoDatasourceUid) {\n  const serviceMapRequest = makePromServiceMapRequest(request);\n  return queryPrometheus(serviceMapRequest, datasourceUid).pipe(\n    // Just collect all the responses first before processing into node graph data\n    (0,rxjs_operators__WEBPACK_IMPORTED_MODULE_30__.toArray)(),\n    (0,rxjs_operators__WEBPACK_IMPORTED_MODULE_19__.map)((responses) => {\n      const errorRes = responses.find((res) => !!res.error);\n      if (errorRes) {\n        throw new Error((0,_utils__WEBPACK_IMPORTED_MODULE_9__.getErrorMessage)(errorRes.error?.message));\n      }\n      const { nodes, edges } = (0,_graphTransform__WEBPACK_IMPORTED_MODULE_5__.mapPromMetricsToServiceMap)(responses, request.range);\n      if (nodes.fields.length > 0 && edges.fields.length > 0) {\n        const nodeLength = nodes.fields[0].values.length;\n        const edgeLength = edges.fields[0].values.length;\n        (0,_grafana_runtime__WEBPACK_IMPORTED_MODULE_14__.reportInteraction)(\"grafana_traces_service_graph_size\", {\n          datasourceType: \"tempo\",\n          grafana_version: _grafana_runtime__WEBPACK_IMPORTED_MODULE_15__.config.buildInfo.version,\n          nodeLength,\n          edgeLength\n        });\n      }\n      nodes.refId = request.targets[0].refId;\n      edges.refId = request.targets[0].refId;\n      nodes.fields[0].config = getFieldConfig(\n        datasourceUid,\n        tempoDatasourceUid,\n        \"__data.fields.id\",\n        \"__data.fields[0]\"\n      );\n      edges.fields[0].config = getFieldConfig(\n        datasourceUid,\n        tempoDatasourceUid,\n        \"__data.fields.target\",\n        \"__data.fields.target\",\n        \"__data.fields.source\"\n      );\n      return {\n        data: [nodes, edges],\n        state: _grafana_data__WEBPACK_IMPORTED_MODULE_13__.LoadingState.Done\n      };\n    })\n  );\n}\nfunction rateQuery(request, serviceMapResponse, datasourceUid) {\n  const serviceMapRequest = makePromServiceMapRequest(request);\n  serviceMapRequest.targets = makeServiceGraphViewRequest([buildExpr(_graphTransform__WEBPACK_IMPORTED_MODULE_5__.rateMetric, _graphTransform__WEBPACK_IMPORTED_MODULE_5__.defaultTableFilter, request)]);\n  return queryPrometheus(serviceMapRequest, datasourceUid).pipe(\n    (0,rxjs_operators__WEBPACK_IMPORTED_MODULE_30__.toArray)(),\n    (0,rxjs_operators__WEBPACK_IMPORTED_MODULE_19__.map)((responses) => {\n      const errorRes = responses.find((res) => !!res.error);\n      if (errorRes) {\n        throw new Error((0,_utils__WEBPACK_IMPORTED_MODULE_9__.getErrorMessage)(errorRes.error?.message));\n      }\n      return {\n        data: [responses[0]?.data ?? [], serviceMapResponse.data[0], serviceMapResponse.data[1]],\n        state: _grafana_data__WEBPACK_IMPORTED_MODULE_13__.LoadingState.Done\n      };\n    })\n  );\n}\nfunction errorAndDurationQuery(request, rateResponse, datasourceUid, tempoDatasourceUid) {\n  let serviceGraphViewMetrics = [];\n  let errorRateBySpanName = \"\";\n  let durationsBySpanName = [];\n  let labels = [];\n  if (rateResponse.data[0][0] && request.app === _grafana_data__WEBPACK_IMPORTED_MODULE_31__.CoreApp.Explore) {\n    const spanNameField = rateResponse.data[0][0].fields.find((field) => field.name === \"span_name\");\n    if (spanNameField && spanNameField.values) {\n      labels = spanNameField.values;\n    }\n  } else if (rateResponse.data[0]) {\n    rateResponse.data[0].map((df) => {\n      const spanNameLabels = df.fields.find((field) => field.labels?.[\"span_name\"]);\n      if (spanNameLabels) {\n        labels.push(spanNameLabels.labels?.[\"span_name\"]);\n      }\n    });\n  }\n  const spanNames = getEscapedSpanNames(labels);\n  if (spanNames.length > 0) {\n    errorRateBySpanName = buildExpr(_graphTransform__WEBPACK_IMPORTED_MODULE_5__.errorRateMetric, 'span_name=~\"' + spanNames.join(\"|\") + '\"', request);\n    serviceGraphViewMetrics.push(errorRateBySpanName);\n    spanNames.map((name) => {\n      const metric = buildExpr(_graphTransform__WEBPACK_IMPORTED_MODULE_5__.durationMetric, 'span_name=~\"' + name + '\"', request);\n      durationsBySpanName.push(metric);\n      serviceGraphViewMetrics.push(metric);\n    });\n  }\n  const serviceMapRequest = makePromServiceMapRequest(request);\n  serviceMapRequest.targets = makeServiceGraphViewRequest(serviceGraphViewMetrics);\n  return queryPrometheus(serviceMapRequest, datasourceUid).pipe(\n    // Just collect all the responses first before processing into node graph data\n    (0,rxjs_operators__WEBPACK_IMPORTED_MODULE_30__.toArray)(),\n    (0,rxjs_operators__WEBPACK_IMPORTED_MODULE_19__.map)((errorAndDurationResponse) => {\n      const errorRes = errorAndDurationResponse.find((res) => !!res.error);\n      if (errorRes) {\n        throw new Error((0,_utils__WEBPACK_IMPORTED_MODULE_9__.getErrorMessage)(errorRes.error?.message));\n      }\n      const serviceGraphView = getServiceGraphView(\n        request,\n        rateResponse,\n        errorAndDurationResponse[0],\n        errorRateBySpanName,\n        durationsBySpanName,\n        datasourceUid,\n        tempoDatasourceUid\n      );\n      if (serviceGraphView.fields.length === 0) {\n        return {\n          data: [rateResponse.data[1], rateResponse.data[2]],\n          state: _grafana_data__WEBPACK_IMPORTED_MODULE_13__.LoadingState.Done\n        };\n      }\n      return {\n        data: [serviceGraphView, rateResponse.data[1], rateResponse.data[2]],\n        state: _grafana_data__WEBPACK_IMPORTED_MODULE_13__.LoadingState.Done\n      };\n    })\n  );\n}\nfunction makePromLink(title, expr, datasourceUid, instant) {\n  return {\n    url: \"\",\n    title,\n    internal: {\n      query: {\n        expr,\n        range: !instant,\n        exemplar: !instant,\n        instant\n      },\n      datasourceUid,\n      datasourceName: (0,app_features_plugins_datasource_srv__WEBPACK_IMPORTED_MODULE_2__.getDatasourceSrv)().getDataSourceSettingsByUid(datasourceUid)?.name ?? \"\"\n    }\n  };\n}\nfunction getEscapedSpanNames(values) {\n  return values.map((value) => value.replace(/[.*+?^${}()|[\\]\\\\]/g, \"\\\\\\\\$&\"));\n}\nfunction getFieldConfig(datasourceUid, tempoDatasourceUid, targetField, tempoField, sourceField) {\n  sourceField = sourceField ? `client=\"\\${${sourceField}}\",` : \"\";\n  return {\n    links: [\n      makePromLink(\n        \"Request rate\",\n        `sum by (client, server)(rate(${_graphTransform__WEBPACK_IMPORTED_MODULE_5__.totalsMetric}{${sourceField}server=\"\\${${targetField}}\"}[$__rate_interval]))`,\n        datasourceUid,\n        false\n      ),\n      makePromLink(\n        \"Request histogram\",\n        `histogram_quantile(0.9, sum(rate(${_graphTransform__WEBPACK_IMPORTED_MODULE_5__.histogramMetric}{${sourceField}server=\"\\${${targetField}}\"}[$__rate_interval])) by (le, client, server))`,\n        datasourceUid,\n        false\n      ),\n      makePromLink(\n        \"Failed request rate\",\n        `sum by (client, server)(rate(${_graphTransform__WEBPACK_IMPORTED_MODULE_5__.failedMetric}{${sourceField}server=\"\\${${targetField}}\"}[$__rate_interval]))`,\n        datasourceUid,\n        false\n      ),\n      makeTempoLink(\"View traces\", `\\${${tempoField}}`, \"\", tempoDatasourceUid)\n    ]\n  };\n}\nfunction makeTempoLink(title, serviceName, spanName, datasourceUid) {\n  let query = { queryType: \"nativeSearch\" };\n  if (serviceName !== \"\") {\n    query.serviceName = serviceName;\n  }\n  if (spanName !== \"\") {\n    query.spanName = spanName;\n  }\n  return {\n    url: \"\",\n    title,\n    internal: {\n      query,\n      datasourceUid,\n      datasourceName: (0,app_features_plugins_datasource_srv__WEBPACK_IMPORTED_MODULE_2__.getDatasourceSrv)().getDataSourceSettingsByUid(datasourceUid)?.name ?? \"\"\n    }\n  };\n}\nfunction makePromServiceMapRequest(options) {\n  return {\n    ...options,\n    targets: _graphTransform__WEBPACK_IMPORTED_MODULE_5__.serviceMapMetrics.map((metric) => {\n      const { serviceMapQuery: serviceMapQuery2, serviceMapIncludeNamespace } = options.targets[0];\n      const extraSumByFields = serviceMapIncludeNamespace ? \", client_service_namespace, server_service_namespace\" : \"\";\n      return {\n        format: \"table\",\n        refId: metric,\n        // options.targets[0] is not correct here, but not sure what should happen if you have multiple queries for\n        // service map at the same time anyway\n        expr: `sum by (client, server${extraSumByFields}) (rate(${metric}${serviceMapQuery2 || \"\"}[$__range]))`,\n        instant: true\n      };\n    })\n  };\n}\nfunction getServiceGraphView(request, rateResponse, secondResponse, errorRateBySpanName, durationsBySpanName, datasourceUid, tempoDatasourceUid) {\n  let df = { fields: [] };\n  const rate = rateResponse.data[0]?.filter((x) => {\n    return x.refId === buildExpr(_graphTransform__WEBPACK_IMPORTED_MODULE_5__.rateMetric, _graphTransform__WEBPACK_IMPORTED_MODULE_5__.defaultTableFilter, request);\n  });\n  const errorRate = secondResponse.data.filter((x) => {\n    return x.refId === errorRateBySpanName;\n  });\n  const duration = secondResponse.data.filter((x) => {\n    return durationsBySpanName.includes(x.refId);\n  });\n  if (rate.length > 0 && rate[0].fields?.length > 2) {\n    df.fields.push({\n      ...rate[0].fields[1],\n      name: \"Name\",\n      config: {\n        filterable: false\n      }\n    });\n    df.fields.push({\n      ...rate[0].fields[2],\n      name: \"Rate\",\n      config: {\n        links: [\n          makePromLink(\n            \"Rate\",\n            buildLinkExpr(buildExpr(_graphTransform__WEBPACK_IMPORTED_MODULE_5__.rateMetric, 'span_name=\"${__data.fields[0]}\"', request)),\n            datasourceUid,\n            false\n          )\n        ],\n        decimals: 2\n      }\n    });\n    df.fields.push({\n      ...rate[0].fields[2],\n      name: \"  \",\n      labels: null,\n      config: {\n        color: {\n          mode: \"continuous-BlPu\"\n        },\n        custom: {\n          cellOptions: {\n            mode: _grafana_schema__WEBPACK_IMPORTED_MODULE_23__.BarGaugeDisplayMode.Lcd,\n            type: _grafana_schema__WEBPACK_IMPORTED_MODULE_23__.TableCellDisplayMode.Gauge\n          }\n        },\n        decimals: 3\n      }\n    });\n  }\n  if (errorRate.length > 0 && errorRate[0].fields?.length > 2) {\n    const errorRateNames = errorRate[0].fields[1]?.values ?? [];\n    const errorRateValues = errorRate[0].fields[2]?.values ?? [];\n    let errorRateObj = {};\n    errorRateNames.map((name, index) => {\n      errorRateObj[name] = { value: errorRateValues[index] };\n    });\n    const values = getRateAlignedValues({ ...rate }, errorRateObj);\n    df.fields.push({\n      ...errorRate[0].fields[2],\n      name: \"Error Rate\",\n      values,\n      config: {\n        links: [\n          makePromLink(\n            \"Error Rate\",\n            buildLinkExpr(buildExpr(_graphTransform__WEBPACK_IMPORTED_MODULE_5__.errorRateMetric, 'span_name=\"${__data.fields[0]}\"', request)),\n            datasourceUid,\n            false\n          )\n        ],\n        decimals: 2\n      }\n    });\n    df.fields.push({\n      ...errorRate[0].fields[2],\n      name: \"   \",\n      values,\n      labels: null,\n      config: {\n        color: {\n          mode: \"continuous-RdYlGr\"\n        },\n        custom: {\n          cellOptions: {\n            mode: _grafana_schema__WEBPACK_IMPORTED_MODULE_23__.BarGaugeDisplayMode.Lcd,\n            type: _grafana_schema__WEBPACK_IMPORTED_MODULE_23__.TableCellDisplayMode.Gauge\n          }\n        },\n        decimals: 3\n      }\n    });\n  }\n  if (duration.length > 0 && duration[0].fields?.length > 1) {\n    let durationObj = {};\n    duration.map((d) => {\n      const delimiter = d.refId?.includes('span_name=~\"') ? 'span_name=~\"' : 'span_name=\"';\n      const name = d.refId?.split(delimiter)[1].split('\"}')[0];\n      durationObj[name] = { value: d.fields[1].values[0] };\n    });\n    df.fields.push({\n      ...duration[0].fields[1],\n      name: \"Duration (p90)\",\n      values: getRateAlignedValues({ ...rate }, durationObj),\n      config: {\n        links: [\n          makePromLink(\n            \"Duration\",\n            buildLinkExpr(buildExpr(_graphTransform__WEBPACK_IMPORTED_MODULE_5__.durationMetric, 'span_name=\"${__data.fields[0]}\"', request)),\n            datasourceUid,\n            false\n          )\n        ],\n        unit: \"s\"\n      }\n    });\n  }\n  if (df.fields.length > 0 && df.fields[0].values) {\n    df.fields.push({\n      name: \"Links\",\n      type: _grafana_data__WEBPACK_IMPORTED_MODULE_32__.FieldType.string,\n      values: df.fields[0].values.map(() => {\n        return \"Tempo\";\n      }),\n      config: {\n        links: [makeTempoLink(\"Tempo\", \"\", `\\${__data.fields[0]}`, tempoDatasourceUid)]\n      }\n    });\n  }\n  return df;\n}\nfunction buildExpr(metric, extraParams, request) {\n  let serviceMapQuery2 = request.targets[0]?.serviceMapQuery ?? \"\";\n  const serviceMapQueryMatch = serviceMapQuery2.match(/^{(.*)}$/);\n  if (serviceMapQueryMatch?.length) {\n    serviceMapQuery2 = serviceMapQueryMatch[1];\n  }\n  serviceMapQuery2 = serviceMapQuery2.replace(\"client\", \"service\").replace(\"server\", \"service\");\n  const metricParams = serviceMapQuery2.includes(\"span_name\") ? metric.params.concat(serviceMapQuery2) : metric.params.concat(serviceMapQuery2).concat(extraParams).filter((item) => item);\n  return metric.expr.replace(\"{}\", \"{\" + metricParams.join(\",\") + \"}\");\n}\nfunction buildLinkExpr(expr) {\n  expr = expr.replace(\"topk(5, \", \"\").replace(\" by (span_name))\", \"\");\n  return expr.replace(\"__range\", \"__rate_interval\");\n}\nfunction getRateAlignedValues(rateResp, objToAlign) {\n  const rateNames = rateResp[0]?.fields[1]?.values ?? [];\n  let values = [];\n  for (let i = 0; i < rateNames.length; i++) {\n    if (Object.keys(objToAlign).includes(rateNames[i])) {\n      values.push(objToAlign[rateNames[i]].value);\n    } else {\n      values.push(\"0\");\n    }\n  }\n  return values;\n}\nfunction makeServiceGraphViewRequest(metrics) {\n  return metrics.map((metric) => {\n    return {\n      refId: metric,\n      expr: metric,\n      instant: true\n    };\n  });\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9wdWJsaWMvYXBwL3BsdWdpbnMvZGF0YXNvdXJjZS90ZW1wby9kYXRhc291cmNlLnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQTJEO0FBQ21CO0FBQ2hCO0FBaUJ2RDtBQVNBO0FBQ3FFO0FBRzVDO0FBRUM7QUFNUTtBQUNTO0FBVzNDO0FBQzJCO0FBTzNCO0FBQzhCO0FBRUw7QUFFekIsTUFBTSxnQkFBZ0I7QUFFdEIsTUFBTSx3QkFBd0Isb0VBQXFCLENBQTRCO0FBQUEsRUFzQnBGLFlBQ1Usa0JBQ1MsY0FBMkIsaUVBQWMsQ0FBQyxHQUMzRDtBQUNBLFVBQU0sZ0JBQWdCO0FBSGQ7QUFDUztBQU5uQix3QkFBNkM7QUErYzdDO0FBQUEsMkJBQWtCLE1BQTBCO0FBQzFDLFlBQU0sMEJBQ0osS0FBSyxjQUFjLGVBQWUsU0FBUyxLQUFLLGVBQWUsU0FDM0QsS0FBSyxjQUFjLGdCQUNuQjtBQUNOLGFBQU8sS0FBSyxZQUFZLGlCQUFpQjtBQUFBLElBQzNDO0FBNWNFLFNBQUssZUFBZSxpQkFBaUIsU0FBUztBQUM5QyxTQUFLLGFBQWEsaUJBQWlCLFNBQVM7QUFDNUMsU0FBSyxTQUFTLGlCQUFpQixTQUFTO0FBQ3hDLFNBQUssWUFBWSxpQkFBaUIsU0FBUztBQUMzQyxTQUFLLGFBQWEsaUJBQWlCLFNBQVM7QUFDNUMsU0FBSyxhQUFhLGlCQUFpQixTQUFTO0FBQzVDLFNBQUssbUJBQW1CLElBQUksMERBQXFCLENBQUMsSUFBSTtBQUV0RCxRQUFJLENBQUMsS0FBSyxRQUFRLFNBQVM7QUFDekIsV0FBSyxTQUFTO0FBQUEsUUFDWixHQUFHLEtBQUs7QUFBQSxRQUNSLFNBQVM7QUFBQSxVQUNQO0FBQUEsWUFDRSxJQUFJO0FBQUEsWUFDSixLQUFLO0FBQUEsWUFDTCxVQUFVO0FBQUEsWUFDVixPQUFPLDhEQUFrQixDQUFDO0FBQUEsVUFDNUI7QUFBQSxVQUNBLEVBQUUsSUFBSSxhQUFhLEtBQUss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LFVBQVUsU0FBUztBQUMxRixRQUFNLGVBQWVBLGlCQUFnQixTQUFTLFdBQVcsSUFDckQsT0FBTyxPQUFPLE9BQU9BLGdCQUFlLElBQ3BDLE9BQU8sT0FDSixPQUFPQSxnQkFBZSxFQUN0QixPQUFPLFdBQVcsRUFDbEIsT0FBTyxDQUFDLFNBQWlCLElBQUk7QUFDcEMsU0FBTyxPQUFPLEtBQUssUUFBUSxNQUFNLE1BQU0sYUFBYSxLQUFLLEdBQUcsSUFBSSxHQUFHO0FBQ3JFO0FBRU8sU0FBUyxjQUFjLE1BQWM7QUFFMUMsU0FBTyxLQUFLLFFBQVEsWUFBWSxFQUFFLEVBQUUsUUFBUSxvQkFBb0IsRUFBRTtBQUNsRSxTQUFPLEtBQUssUUFBUSxXQUFXLGlCQUFpQjtBQUNsRDtBQUlPLFNBQVMscUJBQ2QsVUFDQSxZQUNBO0FBQ0EsUUFBTSxZQUFZLFNBQVMsQ0FBQyxHQUFHLE9BQU8sQ0FBQyxHQUFHLFVBQVUsQ0FBQztBQUNyRCxNQUFJLFNBQW1CLENBQUM7QUFFeEIsV0FBUyxJQUFJLEdBQUcsSUFBSSxVQUFVLFFBQVEsS0FBSztBQUN6QyxRQUFJLE9BQU8sS0FBSyxVQUFVLEVBQUUsU0FBUyxVQUFVLENBQUMsQ0FBQyxHQUFHO0FBQ2xELGFBQU8sS0FBSyxXQUFXLFVBQVUsQ0FBQyxDQUFDLEVBQUUsS0FBSztBQUFBLElBQzVDLE9BQU87QUFDTCxhQUFPLEtBQUssR0FBRztBQUFBLElBQ2pCO0FBQUEsRUFDRjtBQUVBLFNBQU87QUFDVDtBQUVPLFNBQVMsNEJBQTRCLFNBQWdCO0FBQzFELFNBQU8sUUFBUSxJQUFJLENBQUMsV0FBVztBQUM3QixXQUFPO0FBQUEsTUFDTCxPQUFPO0FBQUEsTUFDUCxNQUFNO0FBQUEsTUFDTixTQUFTO0FBQUEsSUFDWDtBQUFBLEVBQ0YsQ0FBQztBQUNIIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZ3JhZmFuYS8uL3B1YmxpYy9hcHAvcGx1Z2lucy9kYXRhc291cmNlL3RlbXBvL2RhdGFzb3VyY2UudHM/NWJkMCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBpZGVudGl0eSwgcGljaywgcGlja0J5LCBncm91cEJ5LCBzdGFydENhc2UgfSBmcm9tICdsb2Rhc2gnO1xuaW1wb3J0IHsgRU1QVFksIGZyb20sIGxhc3RWYWx1ZUZyb20sIG1lcmdlLCBPYnNlcnZhYmxlLCBvZiwgdGhyb3dFcnJvciB9IGZyb20gJ3J4anMnO1xuaW1wb3J0IHsgY2F0Y2hFcnJvciwgY29uY2F0TWFwLCBtYXAsIG1lcmdlTWFwLCB0b0FycmF5IH0gZnJvbSAncnhqcy9vcGVyYXRvcnMnO1xuXG5pbXBvcnQge1xuICBDb3JlQXBwLFxuICBEYXRhRnJhbWUsXG4gIERhdGFRdWVyeVJlcXVlc3QsXG4gIERhdGFRdWVyeVJlc3BvbnNlLFxuICBEYXRhUXVlcnlSZXNwb25zZURhdGEsXG4gIERhdGFTb3VyY2VBcGksXG4gIERhdGFTb3VyY2VJbnN0YW5jZVNldHRpbmdzLFxuICBkYXRlVGltZSxcbiAgRmllbGQsXG4gIEZpZWxkVHlwZSxcbiAgaXNWYWxpZEdvRHVyYXRpb24sXG4gIExvYWRpbmdTdGF0ZSxcbiAgcmFuZ2VVdGlsLFxuICBTY29wZWRWYXJzLFxufSBmcm9tICdAZ3JhZmFuYS9kYXRhJztcbmltcG9ydCB7XG4gIGNvbmZpZyxcbiAgQmFja2VuZFNydlJlcXVlc3QsXG4gIERhdGFTb3VyY2VXaXRoQmFja2VuZCxcbiAgZ2V0QmFja2VuZFNydixcbiAgcmVwb3J0SW50ZXJhY3Rpb24sXG4gIFRlbXBsYXRlU3J2LFxuICBnZXRUZW1wbGF0ZVNydixcbn0gZnJvbSAnQGdyYWZhbmEvcnVudGltZSc7XG5pbXBvcnQgeyBCYXJHYXVnZURpc3BsYXlNb2RlLCBUYWJsZUNlbGxEaXNwbGF5TW9kZSwgVmFyaWFibGVGb3JtYXRJRCB9IGZyb20gJ0BncmFmYW5hL3NjaGVtYSc7XG5pbXBvcnQgeyBOb2RlR3JhcGhPcHRpb25zIH0gZnJvbSAnYXBwL2NvcmUvY29tcG9uZW50cy9Ob2RlR3JhcGhTZXR0aW5ncyc7XG5pbXBvcnQgeyBUcmFjZVRvTG9nc09wdGlvbnMgfSBmcm9tICdhcHAvY29yZS9jb21wb25lbnRzL1RyYWNlVG9Mb2dzL1RyYWNlVG9Mb2dzU2V0dGluZ3MnO1xuaW1wb3J0IHsgc2VyaWFsaXplUGFyYW1zIH0gZnJvbSAnYXBwL2NvcmUvdXRpbHMvZmV0Y2gnO1xuaW1wb3J0IHsgU3BhbkJhck9wdGlvbnMgfSBmcm9tICdhcHAvZmVhdHVyZXMvZXhwbG9yZS9UcmFjZVZpZXcvY29tcG9uZW50cyc7XG5pbXBvcnQgeyBnZXREYXRhc291cmNlU3J2IH0gZnJvbSAnYXBwL2ZlYXR1cmVzL3BsdWdpbnMvZGF0YXNvdXJjZV9zcnYnO1xuXG5pbXBvcnQgeyBMb2tpT3B0aW9ucyB9IGZyb20gJy4uL2xva2kvdHlwZXMnO1xuaW1wb3J0IHsgUHJvbWV0aGV1c0RhdGFzb3VyY2UgfSBmcm9tICcuLi9wcm9tZXRoZXVzL2RhdGFzb3VyY2UnO1xuaW1wb3J0IHsgUHJvbVF1ZXJ5IH0gZnJvbSAnLi4vcHJvbWV0aGV1cy90eXBlcyc7XG5cbmltcG9ydCB7IGdlbmVyYXRlUXVlcnlGcm9tRmlsdGVycyB9IGZyb20gJy4vU2VhcmNoVHJhY2VRTEVkaXRvci91dGlscyc7XG5pbXBvcnQgeyBUcmFjZXFsRmlsdGVyLCBUcmFjZXFsU2VhcmNoU2NvcGUgfSBmcm9tICcuL2RhdGFxdWVyeS5nZW4nO1xuaW1wb3J0IHtcbiAgZmFpbGVkTWV0cmljLFxuICBoaXN0b2dyYW1NZXRyaWMsXG4gIG1hcFByb21NZXRyaWNzVG9TZXJ2aWNlTWFwLFxuICBzZXJ2aWNlTWFwTWV0cmljcyxcbiAgdG90YWxzTWV0cmljLFxuICByYXRlTWV0cmljLFxuICBkdXJhdGlvbk1ldHJpYyxcbiAgZXJyb3JSYXRlTWV0cmljLFxuICBkZWZhdWx0VGFibGVGaWx0ZXIsXG59IGZyb20gJy4vZ3JhcGhUcmFuc2Zvcm0nO1xuaW1wb3J0IFRlbXBvTGFuZ3VhZ2VQcm92aWRlciBmcm9tICcuL2xhbmd1YWdlX3Byb3ZpZGVyJztcbmltcG9ydCB7XG4gIHRyYW5zZm9ybVRyYWNlLFxuICB0cmFuc2Zvcm1UcmFjZUxpc3QsXG4gIHRyYW5zZm9ybUZyb21PVExQIGFzIHRyYW5zZm9ybUZyb21PVEVMLFxuICBjcmVhdGVUYWJsZUZyYW1lRnJvbVNlYXJjaCxcbiAgY3JlYXRlVGFibGVGcmFtZUZyb21UcmFjZVFsUXVlcnksXG59IGZyb20gJy4vcmVzdWx0VHJhbnNmb3JtZXInO1xuaW1wb3J0IHsgZG9UZW1wb0NoYW5uZWxTdHJlYW0gfSBmcm9tICcuL3N0cmVhbWluZyc7XG5pbXBvcnQgeyBTZWFyY2hRdWVyeVBhcmFtcywgVGVtcG9RdWVyeSwgVGVtcG9Kc29uRGF0YSB9IGZyb20gJy4vdHlwZXMnO1xuaW1wb3J0IHsgZ2V0RXJyb3JNZXNzYWdlIH0gZnJvbSAnLi91dGlscyc7XG5cbmV4cG9ydCBjb25zdCBERUZBVUxUX0xJTUlUID0gMjA7XG5cbmV4cG9ydCBjbGFzcyBUZW1wb0RhdGFzb3VyY2UgZXh0ZW5kcyBEYXRhU291cmNlV2l0aEJhY2tlbmQ8VGVtcG9RdWVyeSwgVGVtcG9Kc29uRGF0YT4ge1xuICB0cmFjZXNUb0xvZ3M/OiBUcmFjZVRvTG9nc09wdGlvbnM7XG4gIHNlcnZpY2VNYXA/OiB7XG4gICAgZGF0YXNvdXJjZVVpZD86IHN0cmluZztcbiAgfTtcbiAgc2VhcmNoPzoge1xuICAgIGhpZGU/OiBib29sZWFuO1xuICAgIGZpbHRlcnM/OiBUcmFjZXFsRmlsdGVyW107XG4gIH07XG4gIG5vZGVHcmFwaD86IE5vZGVHcmFwaE9wdGlvbnM7XG4gIGxva2lTZWFyY2g/OiB7XG4gICAgZGF0YXNvdXJjZVVpZD86IHN0cmluZztcbiAgfTtcbiAgdHJhY2VRdWVyeT86IHtcbiAgICB0aW1lU2hpZnRFbmFibGVkPzogYm9vbGVhbjtcbiAgICBzcGFuU3RhcnRUaW1lU2hpZnQ/OiBzdHJpbmc7XG4gICAgc3BhbkVuZFRpbWVTaGlmdD86IHN0cmluZztcbiAgfTtcbiAgdXBsb2FkZWRKc29uPzogc3RyaW5nIHwgQXJyYXlCdWZmZXIgfCBudWxsID0gbnVsbDtcbiAgc3BhbkJhcj86IFNwYW5CYXJPcHRpb25zO1xuICBsYW5ndWFnZVByb3ZpZGVyOiBUZW1wb0xhbmd1YWdlUHJvdmlkZXI7XG5cbiAgY29uc3RydWN0b3IoXG4gICAgcHJpdmF0ZSBpbnN0YW5jZVNldHRpbmdzOiBEYXRhU291cmNlSW5zdGFuY2VTZXR0aW5nczxUZW1wb0pzb25EYXRhPixcbiAgICBwcml2YXRlIHJlYWRvbmx5IHRlbXBsYXRlU3J2OiBUZW1wbGF0ZVNydiA9IGdldFRlbXBsYXRlU3J2KClcbiAgKSB7XG4gICAgc3VwZXIoaW5zdGFuY2VTZXR0aW5ncyk7XG4gICAgdGhpcy50cmFjZXNUb0xvZ3MgPSBpbnN0YW5jZVNldHRpbmdzLmpzb25EYXRhLnRyYWNlc1RvTG9ncztcbiAgICB0aGlzLnNlcnZpY2VNYXAgPSBpbnN0YW5jZVNldHRpbmdzLmpzb25EYXRhLnNlcnZpY2VNYXA7XG4gICAgdGhpcy5zZWFyY2ggPSBpbnN0YW5jZVNldHRpbmdzLmpzb25EYXRhLnNlYXJjaDtcbiAgICB0aGlzLm5vZGVHcmFwaCA9IGluc3RhbmNlU2V0dGluZ3MuanNvbkRhdGEubm9kZUdyYXBoO1xuICAgIHRoaXMubG9raVNlYXJjaCA9IGluc3RhbmNlU2V0dGluZ3MuanNvbkRhdGEubG9raVNlYXJjaDtcbiAgICB0aGlzLnRyYWNlUXVlcnkgPSBpbnN0YW5jZVNldHRpbmdzLmpzb25EYXRhLnRyYWNlUXVlcnk7XG4gICAgdGhpcy5sYW5ndWFnZVByb3ZpZGVyID0gbmV3IFRlbXBvTGFuZ3VhZ2VQcm92aWRlcih0aGlzKTtcblxuICAgIGlmICghdGhpcy5zZWFyY2g/LmZpbHRlcnMpIHtcbiAgICAgIHRoaXMuc2VhcmNoID0ge1xuICAgICAgICAuLi50aGlzLnNlYXJjaCxcbiAgICAgICAgZmlsdGVyczogW1xuICAgICAgICAgIHtcbiAgICAgICAgICAgIGlkOiAnc2VydmljZS1uYW1lJyxcbiAgICAgICAgICAgIHRhZzogJ3NlcnZpY2UubmFtZScsXG4gICAgICAgICAgICBvcGVyYXRvcjogJz0nLFxuICAgICAgICAgICAgc2NvcGU6IFRyYWNlcWxTZWFyY2hTY29wZS5SZXNvdXJjZSxcbiAgICAgICAgICB9LFxuICAgICAgICAgIHsgaWQ6ICdzcGFuLW5hbWUnLCB0YWc6ICduYW1lJywgb3BlcmF0b3I6ICc9Jywgc2NvcGU6IFRyYWNlcWxTZWFyY2hTY29wZS5TcGFuIH0sXG4gICAgICAgIF0sXG4gICAgICB9O1xuICAgIH1cbiAgfVxuXG4gIHF1ZXJ5KG9wdGlvbnM6IERhdGFRdWVyeVJlcXVlc3Q8VGVtcG9RdWVyeT4pOiBPYnNlcnZhYmxlPERhdGFRdWVyeVJlc3BvbnNlPiB7XG4gICAgY29uc3Qgc3ViUXVlcmllczogQXJyYXk8T2JzZXJ2YWJsZTxEYXRhUXVlcnlSZXNwb25zZT4+ID0gW107XG4gICAgY29uc3QgZmlsdGVyZWRUYXJnZXRzID0gb3B0aW9ucy50YXJnZXRzLmZpbHRlcigodGFyZ2V0KSA9PiAhdGFyZ2V0LmhpZGUpO1xuICAgIGNvbnN0IHRhcmdldHM6IHsgW3R5cGU6IHN0cmluZ106IFRlbXBvUXVlcnlbXSB9ID0gZ3JvdXBCeShmaWx0ZXJlZFRhcmdldHMsICh0KSA9PiB0LnF1ZXJ5VHlwZSB8fCAndHJhY2VxbCcpO1xuXG4gICAgaWYgKHRhcmdldHMuY2xlYXIpIHtcbiAgICAgIHJldHVybiBvZih7IGRhdGE6IFtdLCBzdGF0ZTogTG9hZGluZ1N0YXRlLkRvbmUgfSk7XG4gICAgfVxuXG4gICAgY29uc3QgbG9nc0RhdGFzb3VyY2VVaWQgPSB0aGlzLmdldExva2lTZWFyY2hEUygpO1xuXG4gICAgLy8gUnVuIHNlYXJjaCBxdWVyaWVzIG9uIGxpbmtlZCBkYXRhc291cmNlXG4gICAgaWYgKGxvZ3NEYXRhc291cmNlVWlkICYmIHRhcmdldHMuc2VhcmNoPy5sZW5ndGggPiAwKSB7XG4gICAgICByZXBvcnRJbnRlcmFjdGlvbignZ3JhZmFuYV90cmFjZXNfbG9raV9zZWFyY2hfcXVlcmllZCcsIHtcbiAgICAgICAgZGF0YXNvdXJjZVR5cGU6ICd0ZW1wbycsXG4gICAgICAgIGFwcDogb3B0aW9ucy5hcHAgPz8gJycsXG4gICAgICAgIGdyYWZhbmFfdmVyc2lvbjogY29uZmlnLmJ1aWxkSW5mby52ZXJzaW9uLFxuICAgICAgICBoYXNMaW5rZWRRdWVyeUV4cHI6XG4gICAgICAgICAgdGFyZ2V0cy5zZWFyY2hbMF0ubGlua2VkUXVlcnk/LmV4cHIgJiYgdGFyZ2V0cy5zZWFyY2hbMF0ubGlua2VkUXVlcnk/LmV4cHIgIT09ICcnID8gdHJ1ZSA6IGZhbHNlLFxuICAgICAgfSk7XG5cbiAgICAgIGNvbnN0IGRzU3J2ID0gZ2V0RGF0YXNvdXJjZVNydigpO1xuICAgICAgc3ViUXVlcmllcy5wdXNoKFxuICAgICAgICBmcm9tKGRzU3J2LmdldChsb2dzRGF0YXNvdXJjZVVpZCkpLnBpcGUoXG4gICAgICAgICAgbWVyZ2VNYXAoKGxpbmtlZERhdGFzb3VyY2U6IERhdGFTb3VyY2VBcGkpID0+IHtcbiAgICAgICAgICAgIC8vIFdyYXAgbGlua2VkIHF1ZXJ5IGludG8gYSBkYXRhIHJlcXVlc3QgYmFzZWQgb24gb3JpZ2luYWwgcmVxdWVzdFxuICAgICAgICAgICAgY29uc3QgbGlua2VkUmVxdWVzdDogRGF0YVF1ZXJ5UmVxdWVzdCA9IHsgLi4ub3B0aW9ucywgdGFyZ2V0czogdGFyZ2V0cy5zZWFyY2gubWFwKCh0KSA9PiB0LmxpbmtlZFF1ZXJ5ISkgfTtcbiAgICAgICAgICAgIC8vIEZpbmQgdHJhY2UgbWF0Y2hlcnMgaW4gZGVyaXZlZCBmaWVsZHMgb2YgdGhlIGxpbmtlZCBkYXRhc291cmNlIHRoYXQncyBpZGVudGljYWwgdG8gdGhpcyBkYXRhc291cmNlXG4gICAgICAgICAgICBjb25zdCBzZXR0aW5nczogRGF0YVNvdXJjZUluc3RhbmNlU2V0dGluZ3M8TG9raU9wdGlvbnM+ID0gKGxpbmtlZERhdGFzb3VyY2UgYXMgYW55KS5pbnN0YW5jZVNldHRpbmdzO1xuICAgICAgICAgICAgY29uc3QgdHJhY2VMaW5rTWF0Y2hlcjogc3RyaW5nW10gPVxuICAgICAgICAgICAgICBzZXR0aW5ncy5qc29uRGF0YS5kZXJpdmVkRmllbGRzXG4gICAgICAgICAgICAgICAgPy5maWx0ZXIoKGZpZWxkKSA9PiBmaWVsZC5kYXRhc291cmNlVWlkID09PSB0aGlzLnVpZCAmJiBmaWVsZC5tYXRjaGVyUmVnZXgpXG4gICAgICAgICAgICAgICAgLm1hcCgoZmllbGQpID0+IGZpZWxkLm1hdGNoZXJSZWdleCkgfHwgW107XG5cbiAgICAgICAgICAgIGlmICghdHJhY2VMaW5rTWF0Y2hlciB8fCB0cmFjZUxpbmtNYXRjaGVyLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgICByZXR1cm4gdGhyb3dFcnJvcihcbiAgICAgICAgICAgICAgICAoKSA9PlxuICAgICAgICAgICAgICAgICAgbmV3IEVycm9yKFxuICAgICAgICAgICAgICAgICAgICAnTm8gTG9raSBkYXRhc291cmNlIGNvbmZpZ3VyZWQgZm9yIHNlYXJjaC4gU2V0IHVwIERlcml2ZWQgRmllbGRzIGZvciB0cmFjZXMgaW4gYSBMb2tpIGRhdGFzb3VyY2Ugc2V0dGluZ3MgYW5kIGxpbmsgaXQgdG8gdGhpcyBUZW1wbyBkYXRhc291cmNlLidcbiAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHJldHVybiAobGlua2VkRGF0YXNvdXJjZS5xdWVyeShsaW5rZWRSZXF1ZXN0KSBhcyBPYnNlcnZhYmxlPERhdGFRdWVyeVJlc3BvbnNlPikucGlwZShcbiAgICAgICAgICAgICAgICBtYXAoKHJlc3BvbnNlKSA9PlxuICAgICAgICAgICAgICAgICAgcmVzcG9uc2UuZXJyb3IgPyByZXNwb25zZSA6IHRyYW5zZm9ybVRyYWNlTGlzdChyZXNwb25zZSwgdGhpcy51aWQsIHRoaXMubmFtZSwgdHJhY2VMaW5rTWF0Y2hlcilcbiAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSlcbiAgICAgICAgKVxuICAgICAgKTtcbiAgICB9XG5cbiAgICBpZiAodGFyZ2V0cy5uYXRpdmVTZWFyY2g/Lmxlbmd0aCkge1xuICAgICAgdHJ5IHtcbiAgICAgICAgcmVwb3J0SW50ZXJhY3Rpb24oJ2dyYWZhbmFfdHJhY2VzX3NlYXJjaF9xdWVyaWVkJywge1xuICAgICAgICAgIGRhdGFzb3VyY2VUeXBlOiAndGVtcG8nLFxuICAgICAgICAgIGFwcDogb3B0aW9ucy5hcHAgPz8gJycsXG4gICAgICAgICAgZ3JhZmFuYV92ZXJzaW9uOiBjb25maWcuYnVpbGRJbmZvLnZlcnNpb24sXG4gICAgICAgICAgaGFzU2VydmljZU5hbWU6IHRhcmdldHMubmF0aXZlU2VhcmNoWzBdLnNlcnZpY2VOYW1lID8gdHJ1ZSA6IGZhbHNlLFxuICAgICAgICAgIGhhc1NwYW5OYW1lOiB0YXJnZXRzLm5hdGl2ZVNlYXJjaFswXS5zcGFuTmFtZSA/IHRydWUgOiBmYWxzZSxcbiAgICAgICAgICByZXN1bHRMaW1pdDogdGFyZ2V0cy5uYXRpdmVTZWFyY2hbMF0ubGltaXQgPz8gJycsXG4gICAgICAgICAgaGFzU2VhcmNoOiB0YXJnZXRzLm5hdGl2ZVNlYXJjaFswXS5zZWFyY2ggPyB0cnVlIDogZmFsc2UsXG4gICAgICAgICAgbWluRHVyYXRpb246IHRhcmdldHMubmF0aXZlU2VhcmNoWzBdLm1pbkR1cmF0aW9uID8/ICcnLFxuICAgICAgICAgIG1heER1cmF0aW9uOiB0YXJnZXRzLm5hdGl2ZVNlYXJjaFswXS5tYXhEdXJhdGlvbiA/PyAnJyxcbiAgICAgICAgfSk7XG5cbiAgICAgICAgY29uc3QgdGltZVJhbmdlID0geyBzdGFydFRpbWU6IG9wdGlvbnMucmFuZ2UuZnJvbS51bml4KCksIGVuZFRpbWU6IG9wdGlvbnMucmFuZ2UudG8udW5peCgpIH07XG4gICAgICAgIGNvbnN0IHF1ZXJ5ID0gdGhpcy5hcHBseVZhcmlhYmxlcyh0YXJnZXRzLm5hdGl2ZVNlYXJjaFswXSwgb3B0aW9ucy5zY29wZWRWYXJzKTtcbiAgICAgICAgY29uc3Qgc2VhcmNoUXVlcnkgPSB0aGlzLmJ1aWxkU2VhcmNoUXVlcnkocXVlcnksIHRpbWVSYW5nZSk7XG4gICAgICAgIHN1YlF1ZXJpZXMucHVzaChcbiAgICAgICAgICB0aGlzLl9yZXF1ZXN0KCcvYXBpL3NlYXJjaCcsIHNlYXJjaFF1ZXJ5KS5waXBlKFxuICAgICAgICAgICAgbWFwKChyZXNwb25zZSkgPT4ge1xuICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIGRhdGE6IFtjcmVhdGVUYWJsZUZyYW1lRnJvbVNlYXJjaChyZXNwb25zZS5kYXRhLnRyYWNlcywgdGhpcy5pbnN0YW5jZVNldHRpbmdzKV0sXG4gICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9KSxcbiAgICAgICAgICAgIGNhdGNoRXJyb3IoKGVycikgPT4ge1xuICAgICAgICAgICAgICByZXR1cm4gb2YoeyBlcnJvcjogeyBtZXNzYWdlOiBnZXRFcnJvck1lc3NhZ2UoZXJyLmRhdGEubWVzc2FnZSkgfSwgZGF0YTogW10gfSk7XG4gICAgICAgICAgICB9KVxuICAgICAgICAgIClcbiAgICAgICAgKTtcbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIHJldHVybiBvZih7IGVycm9yOiB7IG1lc3NhZ2U6IGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogJ1Vua25vd24gZXJyb3Igb2NjdXJyZWQnIH0sIGRhdGE6IFtdIH0pO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAodGFyZ2V0cy50cmFjZXFsPy5sZW5ndGgpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IGFwcGxpZWRRdWVyeSA9IHRoaXMuYXBwbHlWYXJpYWJsZXModGFyZ2V0cy50cmFjZXFsWzBdLCBvcHRpb25zLnNjb3BlZFZhcnMpO1xuICAgICAgICBjb25zdCBxdWVyeVZhbHVlID0gYXBwbGllZFF1ZXJ5Py5xdWVyeSB8fCAnJztcbiAgICAgICAgY29uc3QgaGV4T25seVJlZ2V4ID0gL15bMC05QS1GYS1mXSokLztcbiAgICAgICAgLy8gQ2hlY2sgd2hldGhlciB0aGlzIGlzIGEgdHJhY2UgSUQgb3IgdHJhY2VRTCBxdWVyeSBieSBjaGVja2luZyBpZiBpdCBvbmx5IGNvbnRhaW5zIGhleCBjaGFyYWN0ZXJzXG4gICAgICAgIGlmIChxdWVyeVZhbHVlLnRyaW0oKS5tYXRjaChoZXhPbmx5UmVnZXgpKSB7XG4gICAgICAgICAgLy8gVGhlcmUncyBvbmx5IGhleCBjaGFyYWN0ZXJzIHNvIGxldCdzIGFzc3VtZSB0aGF0IHRoaXMgaXMgYSB0cmFjZSBJRFxuICAgICAgICAgIHJlcG9ydEludGVyYWN0aW9uKCdncmFmYW5hX3RyYWNlc190cmFjZUlEX3F1ZXJpZWQnLCB7XG4gICAgICAgICAgICBkYXRhc291cmNlVHlwZTogJ3RlbXBvJyxcbiAgICAgICAgICAgIGFwcDogb3B0aW9ucy5hcHAgPz8gJycsXG4gICAgICAgICAgICBncmFmYW5hX3ZlcnNpb246IGNvbmZpZy5idWlsZEluZm8udmVyc2lvbixcbiAgICAgICAgICAgIGhhc1F1ZXJ5OiBxdWVyeVZhbHVlICE9PSAnJyA/IHRydWUgOiBmYWxzZSxcbiAgICAgICAgICB9KTtcblxuICAgICAgICAgIHN1YlF1ZXJpZXMucHVzaCh0aGlzLmhhbmRsZVRyYWNlSWRRdWVyeShvcHRpb25zLCB0YXJnZXRzLnRyYWNlcWwpKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXBvcnRJbnRlcmFjdGlvbignZ3JhZmFuYV90cmFjZXNfdHJhY2VxbF9xdWVyaWVkJywge1xuICAgICAgICAgICAgZGF0YXNvdXJjZVR5cGU6ICd0ZW1wbycsXG4gICAgICAgICAgICBhcHA6IG9wdGlvbnMuYXBwID8/ICcnLFxuICAgICAgICAgICAgZ3JhZmFuYV92ZXJzaW9uOiBjb25maWcuYnVpbGRJbmZvLnZlcnNpb24sXG4gICAgICAgICAgICBxdWVyeTogcXVlcnlWYWx1ZSA/PyAnJyxcbiAgICAgICAgICAgIHN0cmVhbWluZzogY29uZmlnLmZlYXR1cmVUb2dnbGVzLnRyYWNlUUxTdHJlYW1pbmcsXG4gICAgICAgICAgfSk7XG5cbiAgICAgICAgICBpZiAoY29uZmlnLmZlYXR1cmVUb2dnbGVzLnRyYWNlUUxTdHJlYW1pbmcpIHtcbiAgICAgICAgICAgIHN1YlF1ZXJpZXMucHVzaCh0aGlzLmhhbmRsZVN0cmVhbWluZ1NlYXJjaChvcHRpb25zLCB0YXJnZXRzLnRyYWNlcWwpKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgc3ViUXVlcmllcy5wdXNoKFxuICAgICAgICAgICAgICB0aGlzLl9yZXF1ZXN0KCcvYXBpL3NlYXJjaCcsIHtcbiAgICAgICAgICAgICAgICBxOiBxdWVyeVZhbHVlLFxuICAgICAgICAgICAgICAgIGxpbWl0OiBvcHRpb25zLnRhcmdldHNbMF0ubGltaXQgPz8gREVGQVVMVF9MSU1JVCxcbiAgICAgICAgICAgICAgICBzdGFydDogb3B0aW9ucy5yYW5nZS5mcm9tLnVuaXgoKSxcbiAgICAgICAgICAgICAgICBlbmQ6IG9wdGlvbnMucmFuZ2UudG8udW5peCgpLFxuICAgICAgICAgICAgICB9KS5waXBlKFxuICAgICAgICAgICAgICAgIG1hcCgocmVzcG9uc2UpID0+IHtcbiAgICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgIGRhdGE6IGNyZWF0ZVRhYmxlRnJhbWVGcm9tVHJhY2VRbFF1ZXJ5KHJlc3BvbnNlLmRhdGEudHJhY2VzLCB0aGlzLmluc3RhbmNlU2V0dGluZ3MpLFxuICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICBjYXRjaEVycm9yKChlcnIpID0+IHtcbiAgICAgICAgICAgICAgICAgIHJldHVybiBvZih7IGVycm9yOiB7IG1lc3NhZ2U6IGdldEVycm9yTWVzc2FnZShlcnIuZGF0YS5tZXNzYWdlKSB9LCBkYXRhOiBbXSB9KTtcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICApXG4gICAgICAgICAgICApO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgcmV0dXJuIG9mKHsgZXJyb3I6IHsgbWVzc2FnZTogZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiAnVW5rbm93biBlcnJvciBvY2N1cnJlZCcgfSwgZGF0YTogW10gfSk7XG4gICAgICB9XG4gICAgfVxuICAgIGlmICh0YXJnZXRzLnRyYWNlcWxTZWFyY2g/Lmxlbmd0aCkge1xuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QgcXVlcnlWYWx1ZSA9IGdlbmVyYXRlUXVlcnlGcm9tRmlsdGVycyh0YXJnZXRzLnRyYWNlcWxTZWFyY2hbMF0uZmlsdGVycyk7XG4gICAgICAgIHJlcG9ydEludGVyYWN0aW9uKCdncmFmYW5hX3RyYWNlc190cmFjZXFsX3NlYXJjaF9xdWVyaWVkJywge1xuICAgICAgICAgIGRhdGFzb3VyY2VUeXBlOiAndGVtcG8nLFxuICAgICAgICAgIGFwcDogb3B0aW9ucy5hcHAgPz8gJycsXG4gICAgICAgICAgZ3JhZmFuYV92ZXJzaW9uOiBjb25maWcuYnVpbGRJbmZvLnZlcnNpb24sXG4gICAgICAgICAgcXVlcnk6IHF1ZXJ5VmFsdWUgPz8gJycsXG4gICAgICAgICAgc3RyZWFtaW5nOiBjb25maWcuZmVhdHVyZVRvZ2dsZXMudHJhY2VRTFN0cmVhbWluZyxcbiAgICAgICAgfSk7XG5cbiAgICAgICAgaWYgKGNvbmZpZy5mZWF0dXJlVG9nZ2xlcy50cmFjZVFMU3RyZWFtaW5nKSB7XG4gICAgICAgICAgc3ViUXVlcmllcy5wdXNoKHRoaXMuaGFuZGxlU3RyZWFtaW5nU2VhcmNoKG9wdGlvbnMsIHRhcmdldHMudHJhY2VxbFNlYXJjaCwgcXVlcnlWYWx1ZSkpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHN1YlF1ZXJpZXMucHVzaChcbiAgICAgICAgICAgIHRoaXMuX3JlcXVlc3QoJy9hcGkvc2VhcmNoJywge1xuICAgICAgICAgICAgICBxOiBxdWVyeVZhbHVlLFxuICAgICAgICAgICAgICBsaW1pdDogb3B0aW9ucy50YXJnZXRzWzBdLmxpbWl0ID8/IERFRkFVTFRfTElNSVQsXG4gICAgICAgICAgICAgIHN0YXJ0OiBvcHRpb25zLnJhbmdlLmZyb20udW5peCgpLFxuICAgICAgICAgICAgICBlbmQ6IG9wdGlvbnMucmFuZ2UudG8udW5peCgpLFxuICAgICAgICAgICAgfSkucGlwZShcbiAgICAgICAgICAgICAgbWFwKChyZXNwb25zZSkgPT4ge1xuICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICBkYXRhOiBjcmVhdGVUYWJsZUZyYW1lRnJvbVRyYWNlUWxRdWVyeShyZXNwb25zZS5kYXRhLnRyYWNlcywgdGhpcy5pbnN0YW5jZVNldHRpbmdzKSxcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgY2F0Y2hFcnJvcigoZXJyKSA9PiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG9mKHsgZXJyb3I6IHsgbWVzc2FnZTogZ2V0RXJyb3JNZXNzYWdlKGVyci5kYXRhLm1lc3NhZ2UpIH0sIGRhdGE6IFtdIH0pO1xuICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgKVxuICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIHJldHVybiBvZih7IGVycm9yOiB7IG1lc3NhZ2U6IGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogJ1Vua25vd24gZXJyb3Igb2NjdXJyZWQnIH0sIGRhdGE6IFtdIH0pO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmICh0YXJnZXRzLnVwbG9hZD8ubGVuZ3RoKSB7XG4gICAgICBpZiAodGhpcy51cGxvYWRlZEpzb24pIHtcbiAgICAgICAgcmVwb3J0SW50ZXJhY3Rpb24oJ2dyYWZhbmFfdHJhY2VzX2pzb25fZmlsZV91cGxvYWRlZCcsIHtcbiAgICAgICAgICBkYXRhc291cmNlVHlwZTogJ3RlbXBvJyxcbiAgICAgICAgICBhcHA6IG9wdGlvbnMuYXBwID8/ICcnLFxuICAgICAgICAgIGdyYWZhbmFfdmVyc2lvbjogY29uZmlnLmJ1aWxkSW5mby52ZXJzaW9uLFxuICAgICAgICB9KTtcblxuICAgICAgICBjb25zdCBqc29uRGF0YSA9IEpTT04ucGFyc2UodGhpcy51cGxvYWRlZEpzb24gYXMgc3RyaW5nKTtcbiAgICAgICAgY29uc3QgaXNUcmFjZURhdGEgPSBqc29uRGF0YS5iYXRjaGVzO1xuICAgICAgICBjb25zdCBpc1NlcnZpY2VHcmFwaERhdGEgPVxuICAgICAgICAgIEFycmF5LmlzQXJyYXkoanNvbkRhdGEpICYmIGpzb25EYXRhLnNvbWUoKGRmKSA9PiBkZj8ubWV0YT8ucHJlZmVycmVkVmlzdWFsaXNhdGlvblR5cGUgPT09ICdub2RlR3JhcGgnKTtcblxuICAgICAgICBpZiAoaXNUcmFjZURhdGEpIHtcbiAgICAgICAgICBzdWJRdWVyaWVzLnB1c2gob2YodHJhbnNmb3JtRnJvbU9URUwoanNvbkRhdGEuYmF0Y2hlcywgdGhpcy5ub2RlR3JhcGg/LmVuYWJsZWQpKSk7XG4gICAgICAgIH0gZWxzZSBpZiAoaXNTZXJ2aWNlR3JhcGhEYXRhKSB7XG4gICAgICAgICAgc3ViUXVlcmllcy5wdXNoKG9mKHsgZGF0YToganNvbkRhdGEsIHN0YXRlOiBMb2FkaW5nU3RhdGUuRG9uZSB9KSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgc3ViUXVlcmllcy5wdXNoKG9mKHsgZXJyb3I6IHsgbWVzc2FnZTogJ1VuYWJsZSB0byBwYXJzZSB1cGxvYWRlZCBkYXRhLicgfSwgZGF0YTogW10gfSkpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzdWJRdWVyaWVzLnB1c2gob2YoeyBkYXRhOiBbXSwgc3RhdGU6IExvYWRpbmdTdGF0ZS5Eb25lIH0pKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAodGhpcy5zZXJ2aWNlTWFwPy5kYXRhc291cmNlVWlkICYmIHRhcmdldHMuc2VydmljZU1hcD8ubGVuZ3RoID4gMCkge1xuICAgICAgcmVwb3J0SW50ZXJhY3Rpb24oJ2dyYWZhbmFfdHJhY2VzX3NlcnZpY2VfZ3JhcGhfcXVlcmllZCcsIHtcbiAgICAgICAgZGF0YXNvdXJjZVR5cGU6ICd0ZW1wbycsXG4gICAgICAgIGFwcDogb3B0aW9ucy5hcHAgPz8gJycsXG4gICAgICAgIGdyYWZhbmFfdmVyc2lvbjogY29uZmlnLmJ1aWxkSW5mby52ZXJzaW9uLFxuICAgICAgICBoYXNTZXJ2aWNlTWFwUXVlcnk6IHRhcmdldHMuc2VydmljZU1hcFswXS5zZXJ2aWNlTWFwUXVlcnkgPyB0cnVlIDogZmFsc2UsXG4gICAgICB9KTtcblxuICAgICAgY29uc3QgZHNJZCA9IHRoaXMuc2VydmljZU1hcC5kYXRhc291cmNlVWlkO1xuICAgICAgY29uc3QgdGVtcG9Ec1VpZCA9IHRoaXMudWlkO1xuICAgICAgc3ViUXVlcmllcy5wdXNoKFxuICAgICAgICBzZXJ2aWNlTWFwUXVlcnkob3B0aW9ucywgZHNJZCwgdGVtcG9Ec1VpZCkucGlwZShcbiAgICAgICAgICBjb25jYXRNYXAoKHJlc3VsdCkgPT5cbiAgICAgICAgICAgIHJhdGVRdWVyeShvcHRpb25zLCByZXN1bHQsIGRzSWQpLnBpcGUoXG4gICAgICAgICAgICAgIGNvbmNhdE1hcCgocmVzdWx0KSA9PiBlcnJvckFuZER1cmF0aW9uUXVlcnkob3B0aW9ucywgcmVzdWx0LCBkc0lkLCB0ZW1wb0RzVWlkKSlcbiAgICAgICAgICAgIClcbiAgICAgICAgICApXG4gICAgICAgIClcbiAgICAgICk7XG4gICAgfVxuXG4gICAgcmV0dXJuIG1lcmdlKC4uLnN1YlF1ZXJpZXMpO1xuICB9XG5cbiAgYXBwbHlUZW1wbGF0ZVZhcmlhYmxlcyhxdWVyeTogVGVtcG9RdWVyeSwgc2NvcGVkVmFyczogU2NvcGVkVmFycyk6IFJlY29yZDxzdHJpbmcsIGFueT4ge1xuICAgIHJldHVybiB0aGlzLmFwcGx5VmFyaWFibGVzKHF1ZXJ5LCBzY29wZWRWYXJzKTtcbiAgfVxuXG4gIGludGVycG9sYXRlVmFyaWFibGVzSW5RdWVyaWVzKHF1ZXJpZXM6IFRlbXBvUXVlcnlbXSwgc2NvcGVkVmFyczogU2NvcGVkVmFycyk6IFRlbXBvUXVlcnlbXSB7XG4gICAgaWYgKCFxdWVyaWVzIHx8IHF1ZXJpZXMubGVuZ3RoID09PSAwKSB7XG4gICAgICByZXR1cm4gW107XG4gICAgfVxuXG4gICAgcmV0dXJuIHF1ZXJpZXMubWFwKChxdWVyeSkgPT4ge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgLi4ucXVlcnksXG4gICAgICAgIGRhdGFzb3VyY2U6IHRoaXMuZ2V0UmVmKCksXG4gICAgICAgIC4uLnRoaXMuYXBwbHlWYXJpYWJsZXMocXVlcnksIHNjb3BlZFZhcnMpLFxuICAgICAgfTtcbiAgICB9KTtcbiAgfVxuXG4gIGFwcGx5VmFyaWFibGVzKHF1ZXJ5OiBUZW1wb1F1ZXJ5LCBzY29wZWRWYXJzOiBTY29wZWRWYXJzKSB7XG4gICAgY29uc3QgZXhwYW5kZWRRdWVyeSA9IHsgLi4ucXVlcnkgfTtcblxuICAgIGlmIChxdWVyeS5saW5rZWRRdWVyeSkge1xuICAgICAgZXhwYW5kZWRRdWVyeS5saW5rZWRRdWVyeSA9IHtcbiAgICAgICAgLi4ucXVlcnkubGlua2VkUXVlcnksXG4gICAgICAgIGV4cHI6IHRoaXMudGVtcGxhdGVTcnYucmVwbGFjZShxdWVyeS5saW5rZWRRdWVyeT8uZXhwciA/PyAnJywgc2NvcGVkVmFycyksXG4gICAgICB9O1xuICAgIH1cblxuICAgIHJldHVybiB7XG4gICAgICAuLi5leHBhbmRlZFF1ZXJ5LFxuICAgICAgcXVlcnk6IHRoaXMudGVtcGxhdGVTcnYucmVwbGFjZShxdWVyeS5xdWVyeSA/PyAnJywgc2NvcGVkVmFycywgVmFyaWFibGVGb3JtYXRJRC5QaXBlKSxcbiAgICAgIHNlcnZpY2VOYW1lOiB0aGlzLnRlbXBsYXRlU3J2LnJlcGxhY2UocXVlcnkuc2VydmljZU5hbWUgPz8gJycsIHNjb3BlZFZhcnMpLFxuICAgICAgc3Bhbk5hbWU6IHRoaXMudGVtcGxhdGVTcnYucmVwbGFjZShxdWVyeS5zcGFuTmFtZSA/PyAnJywgc2NvcGVkVmFycyksXG4gICAgICBzZWFyY2g6IHRoaXMudGVtcGxhdGVTcnYucmVwbGFjZShxdWVyeS5zZWFyY2ggPz8gJycsIHNjb3BlZFZhcnMpLFxuICAgICAgbWluRHVyYXRpb246IHRoaXMudGVtcGxhdGVTcnYucmVwbGFjZShxdWVyeS5taW5EdXJhdGlvbiA/PyAnJywgc2NvcGVkVmFycyksXG4gICAgICBtYXhEdXJhdGlvbjogdGhpcy50ZW1wbGF0ZVNydi5yZXBsYWNlKHF1ZXJ5Lm1heER1cmF0aW9uID8/ICcnLCBzY29wZWRWYXJzKSxcbiAgICB9O1xuICB9XG5cbiAgLyoqXG4gICAqIEhhbmRsZXMgdGhlIHNpbXBsZXN0IG9mIHRoZSBxdWVyaWVzIHdoZXJlIHdlIGhhdmUganVzdCBhIHRyYWNlIGlkIGFuZCByZXR1cm4gdHJhY2UgZGF0YSBmb3IgaXQuXG4gICAqIEBwYXJhbSBvcHRpb25zXG4gICAqIEBwYXJhbSB0YXJnZXRzXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBoYW5kbGVUcmFjZUlkUXVlcnkob3B0aW9uczogRGF0YVF1ZXJ5UmVxdWVzdDxUZW1wb1F1ZXJ5PiwgdGFyZ2V0czogVGVtcG9RdWVyeVtdKTogT2JzZXJ2YWJsZTxEYXRhUXVlcnlSZXNwb25zZT4ge1xuICAgIGNvbnN0IHZhbGlkVGFyZ2V0cyA9IHRhcmdldHNcbiAgICAgIC5maWx0ZXIoKHQpID0+IHQucXVlcnkpXG4gICAgICAubWFwKCh0KTogVGVtcG9RdWVyeSA9PiAoeyAuLi50LCBxdWVyeTogdC5xdWVyeS50cmltKCksIHF1ZXJ5VHlwZTogJ3RyYWNlSWQnIH0pKTtcbiAgICBpZiAoIXZhbGlkVGFyZ2V0cy5sZW5ndGgpIHtcbiAgICAgIHJldHVybiBFTVBUWTtcbiAgICB9XG5cbiAgICBjb25zdCB0cmFjZVJlcXVlc3QgPSB0aGlzLnRyYWNlSWRRdWVyeVJlcXVlc3Qob3B0aW9ucywgdmFsaWRUYXJnZXRzKTtcblxuICAgIHJldHVybiBzdXBlci5xdWVyeSh0cmFjZVJlcXVlc3QpLnBpcGUoXG4gICAgICBtYXAoKHJlc3BvbnNlKSA9PiB7XG4gICAgICAgIGlmIChyZXNwb25zZS5lcnJvcikge1xuICAgICAgICAgIHJldHVybiByZXNwb25zZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdHJhbnNmb3JtVHJhY2UocmVzcG9uc2UsIHRoaXMubm9kZUdyYXBoPy5lbmFibGVkKTtcbiAgICAgIH0pXG4gICAgKTtcbiAgfVxuXG4gIHRyYWNlSWRRdWVyeVJlcXVlc3Qob3B0aW9uczogRGF0YVF1ZXJ5UmVxdWVzdDxUZW1wb1F1ZXJ5PiwgdGFyZ2V0czogVGVtcG9RdWVyeVtdKTogRGF0YVF1ZXJ5UmVxdWVzdDxUZW1wb1F1ZXJ5PiB7XG4gICAgY29uc3QgcmVxdWVzdCA9IHtcbiAgICAgIC4uLm9wdGlvbnMsXG4gICAgICB0YXJnZXRzLFxuICAgIH07XG5cbiAgICBpZiAodGhpcy50cmFjZVF1ZXJ5Py50aW1lU2hpZnRFbmFibGVkKSB7XG4gICAgICByZXF1ZXN0LnJhbmdlID0gb3B0aW9ucy5yYW5nZSAmJiB7XG4gICAgICAgIC4uLm9wdGlvbnMucmFuZ2UsXG4gICAgICAgIGZyb206IG9wdGlvbnMucmFuZ2UuZnJvbS5zdWJ0cmFjdChcbiAgICAgICAgICByYW5nZVV0aWwuaW50ZXJ2YWxUb01zKHRoaXMudHJhY2VRdWVyeT8uc3BhblN0YXJ0VGltZVNoaWZ0IHx8ICczMG0nKSxcbiAgICAgICAgICAnbWlsbGlzZWNvbmRzJ1xuICAgICAgICApLFxuICAgICAgICB0bzogb3B0aW9ucy5yYW5nZS50by5hZGQocmFuZ2VVdGlsLmludGVydmFsVG9Ncyh0aGlzLnRyYWNlUXVlcnk/LnNwYW5FbmRUaW1lU2hpZnQgfHwgJzMwbScpLCAnbWlsbGlzZWNvbmRzJyksXG4gICAgICB9O1xuICAgIH0gZWxzZSB7XG4gICAgICByZXF1ZXN0LnJhbmdlID0geyBmcm9tOiBkYXRlVGltZSgwKSwgdG86IGRhdGVUaW1lKDApLCByYXc6IHsgZnJvbTogZGF0ZVRpbWUoMCksIHRvOiBkYXRlVGltZSgwKSB9IH07XG4gICAgfVxuXG4gICAgcmV0dXJuIHJlcXVlc3Q7XG4gIH1cblxuICBoYW5kbGVTdHJlYW1pbmdTZWFyY2goXG4gICAgb3B0aW9uczogRGF0YVF1ZXJ5UmVxdWVzdDxUZW1wb1F1ZXJ5PixcbiAgICB0YXJnZXRzOiBUZW1wb1F1ZXJ5W10sXG4gICAgcXVlcnk/OiBzdHJpbmdcbiAgKTogT2JzZXJ2YWJsZTxEYXRhUXVlcnlSZXNwb25zZT4ge1xuICAgIGNvbnN0IHZhbGlkVGFyZ2V0cyA9IHRhcmdldHNcbiAgICAgIC5maWx0ZXIoKHQpID0+IHQucXVlcnkgfHwgcXVlcnkpXG4gICAgICAubWFwKCh0KTogVGVtcG9RdWVyeSA9PiAoeyAuLi50LCBxdWVyeTogcXVlcnkgfHwgdC5xdWVyeS50cmltKCkgfSkpO1xuICAgIGlmICghdmFsaWRUYXJnZXRzLmxlbmd0aCkge1xuICAgICAgcmV0dXJuIEVNUFRZO1xuICAgIH1cblxuICAgIHJldHVybiBtZXJnZShcbiAgICAgIC4uLnZhbGlkVGFyZ2V0cy5tYXAoKHEpID0+XG4gICAgICAgIGRvVGVtcG9DaGFubmVsU3RyZWFtKFxuICAgICAgICAgIHEsXG4gICAgICAgICAgdGhpcywgLy8gdGhlIGRhdGFzb3VyY2VcbiAgICAgICAgICBvcHRpb25zLFxuICAgICAgICAgIHRoaXMuaW5zdGFuY2VTZXR0aW5nc1xuICAgICAgICApXG4gICAgICApXG4gICAgKTtcbiAgfVxuXG4gIGFzeW5jIG1ldGFkYXRhUmVxdWVzdCh1cmw6IHN0cmluZywgcGFyYW1zID0ge30pIHtcbiAgICByZXR1cm4gYXdhaXQgbGFzdFZhbHVlRnJvbSh0aGlzLl9yZXF1ZXN0KHVybCwgcGFyYW1zLCB7IG1ldGhvZDogJ0dFVCcsIGhpZGVGcm9tSW5zcGVjdG9yOiB0cnVlIH0pKTtcbiAgfVxuXG4gIHByaXZhdGUgX3JlcXVlc3QoYXBpVXJsOiBzdHJpbmcsIGRhdGE/OiBhbnksIG9wdGlvbnM/OiBQYXJ0aWFsPEJhY2tlbmRTcnZSZXF1ZXN0Pik6IE9ic2VydmFibGU8UmVjb3JkPHN0cmluZywgYW55Pj4ge1xuICAgIGNvbnN0IHBhcmFtcyA9IGRhdGEgPyBzZXJpYWxpemVQYXJhbXMoZGF0YSkgOiAnJztcbiAgICBjb25zdCB1cmwgPSBgJHt0aGlzLmluc3RhbmNlU2V0dGluZ3MudXJsfSR7YXBpVXJsfSR7cGFyYW1zLmxlbmd0aCA/IGA/JHtwYXJhbXN9YCA6ICcnfWA7XG4gICAgY29uc3QgcmVxID0geyAuLi5vcHRpb25zLCB1cmwgfTtcblxuICAgIHJldHVybiBnZXRCYWNrZW5kU3J2KCkuZmV0Y2gocmVxKTtcbiAgfVxuXG4gIGFzeW5jIHRlc3REYXRhc291cmNlKCk6IFByb21pc2U8YW55PiB7XG4gICAgY29uc3Qgb3B0aW9uczogQmFja2VuZFNydlJlcXVlc3QgPSB7XG4gICAgICBoZWFkZXJzOiB7fSxcbiAgICAgIG1ldGhvZDogJ0dFVCcsXG4gICAgICB1cmw6IGAke3RoaXMuaW5zdGFuY2VTZXR0aW5ncy51cmx9L2FwaS9lY2hvYCxcbiAgICB9O1xuXG4gICAgcmV0dXJuIGF3YWl0IGxhc3RWYWx1ZUZyb20oXG4gICAgICBnZXRCYWNrZW5kU3J2KClcbiAgICAgICAgLmZldGNoKG9wdGlvbnMpXG4gICAgICAgIC5waXBlKFxuICAgICAgICAgIG1lcmdlTWFwKCgpID0+IHtcbiAgICAgICAgICAgIHJldHVybiBvZih7IHN0YXR1czogJ3N1Y2Nlc3MnLCBtZXNzYWdlOiAnRGF0YSBzb3VyY2Ugc3VjY2Vzc2Z1bGx5IGNvbm5lY3RlZC4nIH0pO1xuICAgICAgICAgIH0pLFxuICAgICAgICAgIGNhdGNoRXJyb3IoKGVycikgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIG9mKHsgc3RhdHVzOiAnZXJyb3InLCBtZXNzYWdlOiBnZXRFcnJvck1lc3NhZ2UoZXJyLmRhdGEubWVzc2FnZSwgJ1VuYWJsZSB0byBjb25uZWN0IHdpdGggVGVtcG8nKSB9KTtcbiAgICAgICAgICB9KVxuICAgICAgICApXG4gICAgKTtcbiAgfVxuXG4gIGdldFF1ZXJ5RGlzcGxheVRleHQocXVlcnk6IFRlbXBvUXVlcnkpIHtcbiAgICBpZiAocXVlcnkucXVlcnlUeXBlID09PSAnbmF0aXZlU2VhcmNoJykge1xuICAgICAgbGV0IHJlc3VsdCA9IFtdO1xuICAgICAgZm9yIChjb25zdCBrZXkgb2YgWydzZXJ2aWNlTmFtZScsICdzcGFuTmFtZScsICdzZWFyY2gnLCAnbWluRHVyYXRpb24nLCAnbWF4RHVyYXRpb24nLCAnbGltaXQnXSkge1xuICAgICAgICBpZiAocXVlcnkuaGFzT3duUHJvcGVydHkoa2V5KSAmJiBxdWVyeVtrZXkgYXMga2V5b2YgVGVtcG9RdWVyeV0pIHtcbiAgICAgICAgICByZXN1bHQucHVzaChgJHtzdGFydENhc2Uoa2V5KX06ICR7cXVlcnlba2V5IGFzIGtleW9mIFRlbXBvUXVlcnldfWApO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0LmpvaW4oJywgJyk7XG4gICAgfVxuICAgIHJldHVybiBxdWVyeS5xdWVyeTtcbiAgfVxuXG4gIGJ1aWxkU2VhcmNoUXVlcnkocXVlcnk6IFRlbXBvUXVlcnksIHRpbWVSYW5nZT86IHsgc3RhcnRUaW1lOiBudW1iZXI7IGVuZFRpbWU/OiBudW1iZXIgfSk6IFNlYXJjaFF1ZXJ5UGFyYW1zIHtcbiAgICBsZXQgdGFncyA9IHF1ZXJ5LnNlYXJjaCA/PyAnJztcblxuICAgIGxldCB0ZW1wb1F1ZXJ5ID0gcGljayhxdWVyeSwgWydtaW5EdXJhdGlvbicsICdtYXhEdXJhdGlvbicsICdsaW1pdCddKTtcbiAgICAvLyBSZW1vdmUgZW1wdHkgcHJvcGVydGllc1xuICAgIHRlbXBvUXVlcnkgPSBwaWNrQnkodGVtcG9RdWVyeSwgaWRlbnRpdHkpO1xuXG4gICAgaWYgKHF1ZXJ5LnNlcnZpY2VOYW1lKSB7XG4gICAgICB0YWdzICs9IGAgc2VydmljZS5uYW1lPVwiJHtxdWVyeS5zZXJ2aWNlTmFtZX1cImA7XG4gICAgfVxuICAgIGlmIChxdWVyeS5zcGFuTmFtZSkge1xuICAgICAgdGFncyArPSBgIG5hbWU9XCIke3F1ZXJ5LnNwYW5OYW1lfVwiYDtcbiAgICB9XG5cbiAgICAvLyBTZXQgZGVmYXVsdCBsaW1pdFxuICAgIGlmICghdGVtcG9RdWVyeS5saW1pdCkge1xuICAgICAgdGVtcG9RdWVyeS5saW1pdCA9IERFRkFVTFRfTElNSVQ7XG4gICAgfVxuXG4gICAgLy8gVmFsaWRhdGUgcXVlcnkgaW5wdXRzIGFuZCByZW1vdmUgc3BhY2VzIGlmIHZhbGlkXG4gICAgaWYgKHRlbXBvUXVlcnkubWluRHVyYXRpb24pIHtcbiAgICAgIHRlbXBvUXVlcnkubWluRHVyYXRpb24gPSB0aGlzLnRlbXBsYXRlU3J2LnJlcGxhY2UodGVtcG9RdWVyeS5taW5EdXJhdGlvbiA/PyAnJyk7XG4gICAgICBpZiAoIWlzVmFsaWRHb0R1cmF0aW9uKHRlbXBvUXVlcnkubWluRHVyYXRpb24pKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignUGxlYXNlIGVudGVyIGEgdmFsaWQgbWluIGR1cmF0aW9uLicpO1xuICAgICAgfVxuICAgICAgdGVtcG9RdWVyeS5taW5EdXJhdGlvbiA9IHRlbXBvUXVlcnkubWluRHVyYXRpb24ucmVwbGFjZSgvXFxzL2csICcnKTtcbiAgICB9XG4gICAgaWYgKHRlbXBvUXVlcnkubWF4RHVyYXRpb24pIHtcbiAgICAgIHRlbXBvUXVlcnkubWF4RHVyYXRpb24gPSB0aGlzLnRlbXBsYXRlU3J2LnJlcGxhY2UodGVtcG9RdWVyeS5tYXhEdXJhdGlvbiA/PyAnJyk7XG4gICAgICBpZiAoIWlzVmFsaWRHb0R1cmF0aW9uKHRlbXBvUXVlcnkubWF4RHVyYXRpb24pKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignUGxlYXNlIGVudGVyIGEgdmFsaWQgbWF4IGR1cmF0aW9uLicpO1xuICAgICAgfVxuICAgICAgdGVtcG9RdWVyeS5tYXhEdXJhdGlvbiA9IHRlbXBvUXVlcnkubWF4RHVyYXRpb24ucmVwbGFjZSgvXFxzL2csICcnKTtcbiAgICB9XG5cbiAgICBpZiAoIU51bWJlci5pc0ludGVnZXIodGVtcG9RdWVyeS5saW1pdCkgfHwgdGVtcG9RdWVyeS5saW1pdCA8PSAwKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ1BsZWFzZSBlbnRlciBhIHZhbGlkIGxpbWl0LicpO1xuICAgIH1cblxuICAgIGxldCBzZWFyY2hRdWVyeTogU2VhcmNoUXVlcnlQYXJhbXMgPSB7IHRhZ3MsIC4uLnRlbXBvUXVlcnkgfTtcblxuICAgIGlmICh0aW1lUmFuZ2UpIHtcbiAgICAgIHNlYXJjaFF1ZXJ5LnN0YXJ0ID0gdGltZVJhbmdlLnN0YXJ0VGltZTtcbiAgICAgIHNlYXJjaFF1ZXJ5LmVuZCA9IHRpbWVSYW5nZS5lbmRUaW1lO1xuICAgIH1cblxuICAgIHJldHVybiBzZWFyY2hRdWVyeTtcbiAgfVxuXG4gIC8vIEdldCBsaW5rZWQgbG9raSBzZWFyY2ggZGF0YXNvdXJjZS4gRmFsbCBiYWNrIHRvIGxlZ2FjeSBsb2tpIHNlYXJjaC90cmFjZSB0byBsb2dzIGNvbmZpZ1xuICBnZXRMb2tpU2VhcmNoRFMgPSAoKTogc3RyaW5nIHwgdW5kZWZpbmVkID0+IHtcbiAgICBjb25zdCBsZWdhY3lMb2dzRGF0YXNvdXJjZVVpZCA9XG4gICAgICB0aGlzLnRyYWNlc1RvTG9ncz8ubG9raVNlYXJjaCAhPT0gZmFsc2UgJiYgdGhpcy5sb2tpU2VhcmNoID09PSB1bmRlZmluZWRcbiAgICAgICAgPyB0aGlzLnRyYWNlc1RvTG9ncz8uZGF0YXNvdXJjZVVpZFxuICAgICAgICA6IHVuZGVmaW5lZDtcbiAgICByZXR1cm4gdGhpcy5sb2tpU2VhcmNoPy5kYXRhc291cmNlVWlkID8/IGxlZ2FjeUxvZ3NEYXRhc291cmNlVWlkO1xuICB9O1xufVxuXG5mdW5jdGlvbiBxdWVyeVByb21ldGhldXMocmVxdWVzdDogRGF0YVF1ZXJ5UmVxdWVzdDxQcm9tUXVlcnk+LCBkYXRhc291cmNlVWlkOiBzdHJpbmcpIHtcbiAgcmV0dXJuIGZyb20oZ2V0RGF0YXNvdXJjZVNydigpLmdldChkYXRhc291cmNlVWlkKSkucGlwZShcbiAgICBtZXJnZU1hcCgoZHMpID0+IHtcbiAgICAgIHJldHVybiAoZHMgYXMgUHJvbWV0aGV1c0RhdGFzb3VyY2UpLnF1ZXJ5KHJlcXVlc3QpO1xuICAgIH0pXG4gICk7XG59XG5cbmZ1bmN0aW9uIHNlcnZpY2VNYXBRdWVyeShyZXF1ZXN0OiBEYXRhUXVlcnlSZXF1ZXN0PFRlbXBvUXVlcnk+LCBkYXRhc291cmNlVWlkOiBzdHJpbmcsIHRlbXBvRGF0YXNvdXJjZVVpZDogc3RyaW5nKSB7XG4gIGNvbnN0IHNlcnZpY2VNYXBSZXF1ZXN0ID0gbWFrZVByb21TZXJ2aWNlTWFwUmVxdWVzdChyZXF1ZXN0KTtcblxuICByZXR1cm4gcXVlcnlQcm9tZXRoZXVzKHNlcnZpY2VNYXBSZXF1ZXN0LCBkYXRhc291cmNlVWlkKS5waXBlKFxuICAgIC8vIEp1c3QgY29sbGVjdCBhbGwgdGhlIHJlc3BvbnNlcyBmaXJzdCBiZWZvcmUgcHJvY2Vzc2luZyBpbnRvIG5vZGUgZ3JhcGggZGF0YVxuICAgIHRvQXJyYXkoKSxcbiAgICBtYXAoKHJlc3BvbnNlczogRGF0YVF1ZXJ5UmVzcG9uc2VbXSkgPT4ge1xuICAgICAgY29uc3QgZXJyb3JSZXMgPSByZXNwb25zZXMuZmluZCgocmVzKSA9PiAhIXJlcy5lcnJvcik7XG4gICAgICBpZiAoZXJyb3JSZXMpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGdldEVycm9yTWVzc2FnZShlcnJvclJlcy5lcnJvcj8ubWVzc2FnZSkpO1xuICAgICAgfVxuXG4gICAgICBjb25zdCB7IG5vZGVzLCBlZGdlcyB9ID0gbWFwUHJvbU1ldHJpY3NUb1NlcnZpY2VNYXAocmVzcG9uc2VzLCByZXF1ZXN0LnJhbmdlKTtcbiAgICAgIGlmIChub2Rlcy5maWVsZHMubGVuZ3RoID4gMCAmJiBlZGdlcy5maWVsZHMubGVuZ3RoID4gMCkge1xuICAgICAgICBjb25zdCBub2RlTGVuZ3RoID0gbm9kZXMuZmllbGRzWzBdLnZhbHVlcy5sZW5ndGg7XG4gICAgICAgIGNvbnN0IGVkZ2VMZW5ndGggPSBlZGdlcy5maWVsZHNbMF0udmFsdWVzLmxlbmd0aDtcblxuICAgICAgICByZXBvcnRJbnRlcmFjdGlvbignZ3JhZmFuYV90cmFjZXNfc2VydmljZV9ncmFwaF9zaXplJywge1xuICAgICAgICAgIGRhdGFzb3VyY2VUeXBlOiAndGVtcG8nLFxuICAgICAgICAgIGdyYWZhbmFfdmVyc2lvbjogY29uZmlnLmJ1aWxkSW5mby52ZXJzaW9uLFxuICAgICAgICAgIG5vZGVMZW5ndGgsXG4gICAgICAgICAgZWRnZUxlbmd0aCxcbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgIC8vIE5vIGhhbmRsaW5nIG9mIG11bHRpcGxlIHRhcmdldHMgYXNzdW1lIGp1c3Qgb25lLiBOb2RlR3JhcGggZG9lcyBub3Qgc3VwcG9ydCBpdCBhbnl3YXksIGJ1dCBzdGlsbCBzaG91bGQgYmVcbiAgICAgIC8vIGZpeGVkIGF0IHNvbWUgcG9pbnQuXG4gICAgICBub2Rlcy5yZWZJZCA9IHJlcXVlc3QudGFyZ2V0c1swXS5yZWZJZDtcbiAgICAgIGVkZ2VzLnJlZklkID0gcmVxdWVzdC50YXJnZXRzWzBdLnJlZklkO1xuXG4gICAgICBub2Rlcy5maWVsZHNbMF0uY29uZmlnID0gZ2V0RmllbGRDb25maWcoXG4gICAgICAgIGRhdGFzb3VyY2VVaWQsXG4gICAgICAgIHRlbXBvRGF0YXNvdXJjZVVpZCxcbiAgICAgICAgJ19fZGF0YS5maWVsZHMuaWQnLFxuICAgICAgICAnX19kYXRhLmZpZWxkc1swXSdcbiAgICAgICk7XG4gICAgICBlZGdlcy5maWVsZHNbMF0uY29uZmlnID0gZ2V0RmllbGRDb25maWcoXG4gICAgICAgIGRhdGFzb3VyY2VVaWQsXG4gICAgICAgIHRlbXBvRGF0YXNvdXJjZVVpZCxcbiAgICAgICAgJ19fZGF0YS5maWVsZHMudGFyZ2V0JyxcbiAgICAgICAgJ19fZGF0YS5maWVsZHMudGFyZ2V0JyxcbiAgICAgICAgJ19fZGF0YS5maWVsZHMuc291cmNlJ1xuICAgICAgKTtcblxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgZGF0YTogW25vZGVzLCBlZGdlc10sXG4gICAgICAgIHN0YXRlOiBMb2FkaW5nU3RhdGUuRG9uZSxcbiAgICAgIH07XG4gICAgfSlcbiAgKTtcbn1cblxuZnVuY3Rpb24gcmF0ZVF1ZXJ5KFxuICByZXF1ZXN0OiBEYXRhUXVlcnlSZXF1ZXN0PFRlbXBvUXVlcnk+LFxuICBzZXJ2aWNlTWFwUmVzcG9uc2U6IERhdGFRdWVyeVJlc3BvbnNlLFxuICBkYXRhc291cmNlVWlkOiBzdHJpbmdcbikge1xuICBjb25zdCBzZXJ2aWNlTWFwUmVxdWVzdCA9IG1ha2VQcm9tU2VydmljZU1hcFJlcXVlc3QocmVxdWVzdCk7XG4gIHNlcnZpY2VNYXBSZXF1ZXN0LnRhcmdldHMgPSBtYWtlU2VydmljZUdyYXBoVmlld1JlcXVlc3QoW2J1aWxkRXhwcihyYXRlTWV0cmljLCBkZWZhdWx0VGFibGVGaWx0ZXIsIHJlcXVlc3QpXSk7XG5cbiAgcmV0dXJuIHF1ZXJ5UHJvbWV0aGV1cyhzZXJ2aWNlTWFwUmVxdWVzdCwgZGF0YXNvdXJjZVVpZCkucGlwZShcbiAgICB0b0FycmF5KCksXG4gICAgbWFwKChyZXNwb25zZXM6IERhdGFRdWVyeVJlc3BvbnNlW10pID0+IHtcbiAgICAgIGNvbnN0IGVycm9yUmVzID0gcmVzcG9uc2VzLmZpbmQoKHJlcykgPT4gISFyZXMuZXJyb3IpO1xuICAgICAgaWYgKGVycm9yUmVzKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihnZXRFcnJvck1lc3NhZ2UoZXJyb3JSZXMuZXJyb3I/Lm1lc3NhZ2UpKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB7XG4gICAgICAgIGRhdGE6IFtyZXNwb25zZXNbMF0/LmRhdGEgPz8gW10sIHNlcnZpY2VNYXBSZXNwb25zZS5kYXRhWzBdLCBzZXJ2aWNlTWFwUmVzcG9uc2UuZGF0YVsxXV0sXG4gICAgICAgIHN0YXRlOiBMb2FkaW5nU3RhdGUuRG9uZSxcbiAgICAgIH07XG4gICAgfSlcbiAgKTtcbn1cblxuLy8gd2UgbmVlZCB0aGUgcmVzcG9uc2UgZnJvbSB0aGUgcmF0ZSBxdWVyeSB0byBnZXQgdGhlIHJhdGUgc3Bhbl9uYW1lKHMpLFxuLy8gLT4gd2hpY2ggZGV0ZXJtaW5lIHRoZSBlcnJvclJhdGUvZHVyYXRpb24gc3Bhbl9uYW1lKHMpIHdlIG5lZWQgdG8gcXVlcnlcbmZ1bmN0aW9uIGVycm9yQW5kRHVyYXRpb25RdWVyeShcbiAgcmVxdWVzdDogRGF0YVF1ZXJ5UmVxdWVzdDxUZW1wb1F1ZXJ5PixcbiAgcmF0ZVJlc3BvbnNlOiBEYXRhUXVlcnlSZXNwb25zZSxcbiAgZGF0YXNvdXJjZVVpZDogc3RyaW5nLFxuICB0ZW1wb0RhdGFzb3VyY2VVaWQ6IHN0cmluZ1xuKSB7XG4gIGxldCBzZXJ2aWNlR3JhcGhWaWV3TWV0cmljcyA9IFtdO1xuICBsZXQgZXJyb3JSYXRlQnlTcGFuTmFtZSA9ICcnO1xuICBsZXQgZHVyYXRpb25zQnlTcGFuTmFtZTogc3RyaW5nW10gPSBbXTtcblxuICBsZXQgbGFiZWxzID0gW107XG4gIGlmIChyYXRlUmVzcG9uc2UuZGF0YVswXVswXSAmJiByZXF1ZXN0LmFwcCA9PT0gQ29yZUFwcC5FeHBsb3JlKSB7XG4gICAgY29uc3Qgc3Bhbk5hbWVGaWVsZCA9IHJhdGVSZXNwb25zZS5kYXRhWzBdWzBdLmZpZWxkcy5maW5kKChmaWVsZDogRmllbGQpID0+IGZpZWxkLm5hbWUgPT09ICdzcGFuX25hbWUnKTtcbiAgICBpZiAoc3Bhbk5hbWVGaWVsZCAmJiBzcGFuTmFtZUZpZWxkLnZhbHVlcykge1xuICAgICAgbGFiZWxzID0gc3Bhbk5hbWVGaWVsZC52YWx1ZXM7XG4gICAgfVxuICB9IGVsc2UgaWYgKHJhdGVSZXNwb25zZS5kYXRhWzBdKSB7XG4gICAgcmF0ZVJlc3BvbnNlLmRhdGFbMF0ubWFwKChkZjogRGF0YUZyYW1lKSA9PiB7XG4gICAgICBjb25zdCBzcGFuTmFtZUxhYmVscyA9IGRmLmZpZWxkcy5maW5kKChmaWVsZDogRmllbGQpID0+IGZpZWxkLmxhYmVscz8uWydzcGFuX25hbWUnXSk7XG4gICAgICBpZiAoc3Bhbk5hbWVMYWJlbHMpIHtcbiAgICAgICAgbGFiZWxzLnB1c2goc3Bhbk5hbWVMYWJlbHMubGFiZWxzPy5bJ3NwYW5fbmFtZSddKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuICBjb25zdCBzcGFuTmFtZXMgPSBnZXRFc2NhcGVkU3Bhbk5hbWVzKGxhYmVscyk7XG5cbiAgaWYgKHNwYW5OYW1lcy5sZW5ndGggPiAwKSB7XG4gICAgZXJyb3JSYXRlQnlTcGFuTmFtZSA9IGJ1aWxkRXhwcihlcnJvclJhdGVNZXRyaWMsICdzcGFuX25hbWU9flwiJyArIHNwYW5OYW1lcy5qb2luKCd8JykgKyAnXCInLCByZXF1ZXN0KTtcbiAgICBzZXJ2aWNlR3JhcGhWaWV3TWV0cmljcy5wdXNoKGVycm9yUmF0ZUJ5U3Bhbk5hbWUpO1xuICAgIHNwYW5OYW1lcy5tYXAoKG5hbWU6IHN0cmluZykgPT4ge1xuICAgICAgY29uc3QgbWV0cmljID0gYnVpbGRFeHByKGR1cmF0aW9uTWV0cmljLCAnc3Bhbl9uYW1lPX5cIicgKyBuYW1lICsgJ1wiJywgcmVxdWVzdCk7XG4gICAgICBkdXJhdGlvbnNCeVNwYW5OYW1lLnB1c2gobWV0cmljKTtcbiAgICAgIHNlcnZpY2VHcmFwaFZpZXdNZXRyaWNzLnB1c2gobWV0cmljKTtcbiAgICB9KTtcbiAgfVxuXG4gIGNvbnN0IHNlcnZpY2VNYXBSZXF1ZXN0ID0gbWFrZVByb21TZXJ2aWNlTWFwUmVxdWVzdChyZXF1ZXN0KTtcbiAgc2VydmljZU1hcFJlcXVlc3QudGFyZ2V0cyA9IG1ha2VTZXJ2aWNlR3JhcGhWaWV3UmVxdWVzdChzZXJ2aWNlR3JhcGhWaWV3TWV0cmljcyk7XG5cbiAgcmV0dXJuIHF1ZXJ5UHJvbWV0aGV1cyhzZXJ2aWNlTWFwUmVxdWVzdCwgZGF0YXNvdXJjZVVpZCkucGlwZShcbiAgICAvLyBKdXN0IGNvbGxlY3QgYWxsIHRoZSByZXNwb25zZXMgZmlyc3QgYmVmb3JlIHByb2Nlc3NpbmcgaW50byBub2RlIGdyYXBoIGRhdGFcbiAgICB0b0FycmF5KCksXG4gICAgbWFwKChlcnJvckFuZER1cmF0aW9uUmVzcG9uc2U6IERhdGFRdWVyeVJlc3BvbnNlW10pID0+IHtcbiAgICAgIGNvbnN0IGVycm9yUmVzID0gZXJyb3JBbmREdXJhdGlvblJlc3BvbnNlLmZpbmQoKHJlcykgPT4gISFyZXMuZXJyb3IpO1xuICAgICAgaWYgKGVycm9yUmVzKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihnZXRFcnJvck1lc3NhZ2UoZXJyb3JSZXMuZXJyb3I/Lm1lc3NhZ2UpKTtcbiAgICAgIH1cblxuICAgICAgY29uc3Qgc2VydmljZUdyYXBoVmlldyA9IGdldFNlcnZpY2VHcmFwaFZpZXcoXG4gICAgICAgIHJlcXVlc3QsXG4gICAgICAgIHJhdGVSZXNwb25zZSxcbiAgICAgICAgZXJyb3JBbmREdXJhdGlvblJlc3BvbnNlWzBdLFxuICAgICAgICBlcnJvclJhdGVCeVNwYW5OYW1lLFxuICAgICAgICBkdXJhdGlvbnNCeVNwYW5OYW1lLFxuICAgICAgICBkYXRhc291cmNlVWlkLFxuICAgICAgICB0ZW1wb0RhdGFzb3VyY2VVaWRcbiAgICAgICk7XG5cbiAgICAgIGlmIChzZXJ2aWNlR3JhcGhWaWV3LmZpZWxkcy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBkYXRhOiBbcmF0ZVJlc3BvbnNlLmRhdGFbMV0sIHJhdGVSZXNwb25zZS5kYXRhWzJdXSxcbiAgICAgICAgICBzdGF0ZTogTG9hZGluZ1N0YXRlLkRvbmUsXG4gICAgICAgIH07XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB7XG4gICAgICAgIGRhdGE6IFtzZXJ2aWNlR3JhcGhWaWV3LCByYXRlUmVzcG9uc2UuZGF0YVsxXSwgcmF0ZVJlc3BvbnNlLmRhdGFbMl1dLFxuICAgICAgICBzdGF0ZTogTG9hZGluZ1N0YXRlLkRvbmUsXG4gICAgICB9O1xuICAgIH0pXG4gICk7XG59XG5cbmZ1bmN0aW9uIG1ha2VQcm9tTGluayh0aXRsZTogc3RyaW5nLCBleHByOiBzdHJpbmcsIGRhdGFzb3VyY2VVaWQ6IHN0cmluZywgaW5zdGFudDogYm9vbGVhbikge1xuICByZXR1cm4ge1xuICAgIHVybDogJycsXG4gICAgdGl0bGUsXG4gICAgaW50ZXJuYWw6IHtcbiAgICAgIHF1ZXJ5OiB7XG4gICAgICAgIGV4cHI6IGV4cHIsXG4gICAgICAgIHJhbmdlOiAhaW5zdGFudCxcbiAgICAgICAgZXhlbXBsYXI6ICFpbnN0YW50LFxuICAgICAgICBpbnN0YW50OiBpbnN0YW50LFxuICAgICAgfSBhcyBQcm9tUXVlcnksXG4gICAgICBkYXRhc291cmNlVWlkLFxuICAgICAgZGF0YXNvdXJjZU5hbWU6IGdldERhdGFzb3VyY2VTcnYoKS5nZXREYXRhU291cmNlU2V0dGluZ3NCeVVpZChkYXRhc291cmNlVWlkKT8ubmFtZSA/PyAnJyxcbiAgICB9LFxuICB9O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0RXNjYXBlZFNwYW5OYW1lcyh2YWx1ZXM6IHN0cmluZ1tdKSB7XG4gIHJldHVybiB2YWx1ZXMubWFwKCh2YWx1ZTogc3RyaW5nKSA9PiB2YWx1ZS5yZXBsYWNlKC9bLiorP14ke30oKXxbXFxdXFxcXF0vZywgJ1xcXFxcXFxcJCYnKSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRGaWVsZENvbmZpZyhcbiAgZGF0YXNvdXJjZVVpZDogc3RyaW5nLFxuICB0ZW1wb0RhdGFzb3VyY2VVaWQ6IHN0cmluZyxcbiAgdGFyZ2V0RmllbGQ6IHN0cmluZyxcbiAgdGVtcG9GaWVsZDogc3RyaW5nLFxuICBzb3VyY2VGaWVsZD86IHN0cmluZ1xuKSB7XG4gIHNvdXJjZUZpZWxkID0gc291cmNlRmllbGQgPyBgY2xpZW50PVwiXFwkeyR7c291cmNlRmllbGR9fVwiLGAgOiAnJztcbiAgcmV0dXJuIHtcbiAgICBsaW5rczogW1xuICAgICAgbWFrZVByb21MaW5rKFxuICAgICAgICAnUmVxdWVzdCByYXRlJyxcbiAgICAgICAgYHN1bSBieSAoY2xpZW50LCBzZXJ2ZXIpKHJhdGUoJHt0b3RhbHNNZXRyaWN9eyR7c291cmNlRmllbGR9c2VydmVyPVwiXFwkeyR7dGFyZ2V0RmllbGR9fVwifVskX19yYXRlX2ludGVydmFsXSkpYCxcbiAgICAgICAgZGF0YXNvdXJjZVVpZCxcbiAgICAgICAgZmFsc2VcbiAgICAgICksXG4gICAgICBtYWtlUHJvbUxpbmsoXG4gICAgICAgICdSZXF1ZXN0IGhpc3RvZ3JhbScsXG4gICAgICAgIGBoaXN0b2dyYW1fcXVhbnRpbGUoMC45LCBzdW0ocmF0ZSgke2hpc3RvZ3JhbU1ldHJpY317JHtzb3VyY2VGaWVsZH1zZXJ2ZXI9XCJcXCR7JHt0YXJnZXRGaWVsZH19XCJ9WyRfX3JhdGVfaW50ZXJ2YWxdKSkgYnkgKGxlLCBjbGllbnQsIHNlcnZlcikpYCxcbiAgICAgICAgZGF0YXNvdXJjZVVpZCxcbiAgICAgICAgZmFsc2VcbiAgICAgICksXG4gICAgICBtYWtlUHJvbUxpbmsoXG4gICAgICAgICdGYWlsZWQgcmVxdWVzdCByYXRlJyxcbiAgICAgICAgYHN1bSBieSAoY2xpZW50LCBzZXJ2ZXIpKHJhdGUoJHtmYWlsZWRNZXRyaWN9eyR7c291cmNlRmllbGR9c2VydmVyPVwiXFwkeyR7dGFyZ2V0RmllbGR9fVwifVskX19yYXRlX2ludGVydmFsXSkpYCxcbiAgICAgICAgZGF0YXNvdXJjZVVpZCxcbiAgICAgICAgZmFsc2VcbiAgICAgICksXG4gICAgICBtYWtlVGVtcG9MaW5rKCdWaWV3IHRyYWNlcycsIGBcXCR7JHt0ZW1wb0ZpZWxkfX1gLCAnJywgdGVtcG9EYXRhc291cmNlVWlkKSxcbiAgICBdLFxuICB9O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gbWFrZVRlbXBvTGluayh0aXRsZTogc3RyaW5nLCBzZXJ2aWNlTmFtZTogc3RyaW5nLCBzcGFuTmFtZTogc3RyaW5nLCBkYXRhc291cmNlVWlkOiBzdHJpbmcpIHtcbiAgbGV0IHF1ZXJ5ID0geyBxdWVyeVR5cGU6ICduYXRpdmVTZWFyY2gnIH0gYXMgVGVtcG9RdWVyeTtcbiAgaWYgKHNlcnZpY2VOYW1lICE9PSAnJykge1xuICAgIHF1ZXJ5LnNlcnZpY2VOYW1lID0gc2VydmljZU5hbWU7XG4gIH1cbiAgaWYgKHNwYW5OYW1lICE9PSAnJykge1xuICAgIHF1ZXJ5LnNwYW5OYW1lID0gc3Bhbk5hbWU7XG4gIH1cblxuICByZXR1cm4ge1xuICAgIHVybDogJycsXG4gICAgdGl0bGUsXG4gICAgaW50ZXJuYWw6IHtcbiAgICAgIHF1ZXJ5LFxuICAgICAgZGF0YXNvdXJjZVVpZCxcbiAgICAgIGRhdGFzb3VyY2VOYW1lOiBnZXREYXRhc291cmNlU3J2KCkuZ2V0RGF0YVNvdXJjZVNldHRpbmdzQnlVaWQoZGF0YXNvdXJjZVVpZCk/Lm5hbWUgPz8gJycsXG4gICAgfSxcbiAgfTtcbn1cblxuZnVuY3Rpb24gbWFrZVByb21TZXJ2aWNlTWFwUmVxdWVzdChvcHRpb25zOiBEYXRhUXVlcnlSZXF1ZXN0PFRlbXBvUXVlcnk+KTogRGF0YVF1ZXJ5UmVxdWVzdDxQcm9tUXVlcnk+IHtcbiAgcmV0dXJuIHtcbiAgICAuLi5vcHRpb25zLFxuICAgIHRhcmdldHM6IHNlcnZpY2VNYXBNZXRyaWNzLm1hcCgobWV0cmljKSA9PiB7XG4gICAgICBjb25zdCB7IHNlcnZpY2VNYXBRdWVyeSwgc2VydmljZU1hcEluY2x1ZGVOYW1lc3BhY2U6IHNlcnZpY2VNYXBJbmNsdWRlTmFtZXNwYWNlIH0gPSBvcHRpb25zLnRhcmdldHNbMF07XG4gICAgICBjb25zdCBleHRyYVN1bUJ5RmllbGRzID0gc2VydmljZU1hcEluY2x1ZGVOYW1lc3BhY2UgPyAnLCBjbGllbnRfc2VydmljZV9uYW1lc3BhY2UsIHNlcnZlcl9zZXJ2aWNlX25hbWVzcGFjZScgOiAnJztcbiAgICAgIHJldHVybiB7XG4gICAgICAgIGZvcm1hdDogJ3RhYmxlJyxcbiAgICAgICAgcmVmSWQ6IG1ldHJpYyxcbiAgICAgICAgLy8gb3B0aW9ucy50YXJnZXRzWzBdIGlzIG5vdCBjb3JyZWN0IGhlcmUsIGJ1dCBub3Qgc3VyZSB3aGF0IHNob3VsZCBoYXBwZW4gaWYgeW91IGhhdmUgbXVsdGlwbGUgcXVlcmllcyBmb3JcbiAgICAgICAgLy8gc2VydmljZSBtYXAgYXQgdGhlIHNhbWUgdGltZSBhbnl3YXlcbiAgICAgICAgZXhwcjogYHN1bSBieSAoY2xpZW50LCBzZXJ2ZXIke2V4dHJhU3VtQnlGaWVsZHN9KSAocmF0ZSgke21ldHJpY30ke3NlcnZpY2VNYXBRdWVyeSB8fCAnJ31bJF9fcmFuZ2VdKSlgLFxuICAgICAgICBpbnN0YW50OiB0cnVlLFxuICAgICAgfTtcbiAgICB9KSxcbiAgfTtcbn1cblxuZnVuY3Rpb24gZ2V0U2VydmljZUdyYXBoVmlldyhcbiAgcmVxdWVzdDogRGF0YVF1ZXJ5UmVxdWVzdDxUZW1wb1F1ZXJ5PixcbiAgcmF0ZVJlc3BvbnNlOiBEYXRhUXVlcnlSZXNwb25zZSxcbiAgc2Vjb25kUmVzcG9uc2U6IERhdGFRdWVyeVJlc3BvbnNlLFxuICBlcnJvclJhdGVCeVNwYW5OYW1lOiBzdHJpbmcsXG4gIGR1cmF0aW9uc0J5U3Bhbk5hbWU6IHN0cmluZ1tdLFxuICBkYXRhc291cmNlVWlkOiBzdHJpbmcsXG4gIHRlbXBvRGF0YXNvdXJjZVVpZDogc3RyaW5nXG4pIHtcbiAgbGV0IGRmOiBhbnkgPSB7IGZpZWxkczogW10gfTtcbiAgY29uc3QgcmF0ZSA9IHJhdGVSZXNwb25zZS5kYXRhWzBdPy5maWx0ZXIoKHg6IHsgcmVmSWQ6IHN0cmluZyB9KSA9PiB7XG4gICAgcmV0dXJuIHgucmVmSWQgPT09IGJ1aWxkRXhwcihyYXRlTWV0cmljLCBkZWZhdWx0VGFibGVGaWx0ZXIsIHJlcXVlc3QpO1xuICB9KTtcbiAgY29uc3QgZXJyb3JSYXRlID0gc2Vjb25kUmVzcG9uc2UuZGF0YS5maWx0ZXIoKHgpID0+IHtcbiAgICByZXR1cm4geC5yZWZJZCA9PT0gZXJyb3JSYXRlQnlTcGFuTmFtZTtcbiAgfSk7XG4gIGNvbnN0IGR1cmF0aW9uID0gc2Vjb25kUmVzcG9uc2UuZGF0YS5maWx0ZXIoKHgpID0+IHtcbiAgICByZXR1cm4gZHVyYXRpb25zQnlTcGFuTmFtZS5pbmNsdWRlcyh4LnJlZklkKTtcbiAgfSk7XG5cbiAgaWYgKHJhdGUubGVuZ3RoID4gMCAmJiByYXRlWzBdLmZpZWxkcz8ubGVuZ3RoID4gMikge1xuICAgIGRmLmZpZWxkcy5wdXNoKHtcbiAgICAgIC4uLnJhdGVbMF0uZmllbGRzWzFdLFxuICAgICAgbmFtZTogJ05hbWUnLFxuICAgICAgY29uZmlnOiB7XG4gICAgICAgIGZpbHRlcmFibGU6IGZhbHNlLFxuICAgICAgfSxcbiAgICB9KTtcblxuICAgIGRmLmZpZWxkcy5wdXNoKHtcbiAgICAgIC4uLnJhdGVbMF0uZmllbGRzWzJdLFxuICAgICAgbmFtZTogJ1JhdGUnLFxuICAgICAgY29uZmlnOiB7XG4gICAgICAgIGxpbmtzOiBbXG4gICAgICAgICAgbWFrZVByb21MaW5rKFxuICAgICAgICAgICAgJ1JhdGUnLFxuICAgICAgICAgICAgYnVpbGRMaW5rRXhwcihidWlsZEV4cHIocmF0ZU1ldHJpYywgJ3NwYW5fbmFtZT1cIiR7X19kYXRhLmZpZWxkc1swXX1cIicsIHJlcXVlc3QpKSxcbiAgICAgICAgICAgIGRhdGFzb3VyY2VVaWQsXG4gICAgICAgICAgICBmYWxzZVxuICAgICAgICAgICksXG4gICAgICAgIF0sXG4gICAgICAgIGRlY2ltYWxzOiAyLFxuICAgICAgfSxcbiAgICB9KTtcblxuICAgIGRmLmZpZWxkcy5wdXNoKHtcbiAgICAgIC4uLnJhdGVbMF0uZmllbGRzWzJdLFxuICAgICAgbmFtZTogJyAgJyxcbiAgICAgIGxhYmVsczogbnVsbCxcbiAgICAgIGNvbmZpZzoge1xuICAgICAgICBjb2xvcjoge1xuICAgICAgICAgIG1vZGU6ICdjb250aW51b3VzLUJsUHUnLFxuICAgICAgICB9LFxuICAgICAgICBjdXN0b206IHtcbiAgICAgICAgICBjZWxsT3B0aW9uczoge1xuICAgICAgICAgICAgbW9kZTogQmFyR2F1Z2VEaXNwbGF5TW9kZS5MY2QsXG4gICAgICAgICAgICB0eXBlOiBUYWJsZUNlbGxEaXNwbGF5TW9kZS5HYXVnZSxcbiAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgICAgICBkZWNpbWFsczogMyxcbiAgICAgIH0sXG4gICAgfSk7XG4gIH1cblxuICBpZiAoZXJyb3JSYXRlLmxlbmd0aCA+IDAgJiYgZXJyb3JSYXRlWzBdLmZpZWxkcz8ubGVuZ3RoID4gMikge1xuICAgIGNvbnN0IGVycm9yUmF0ZU5hbWVzID0gZXJyb3JSYXRlWzBdLmZpZWxkc1sxXT8udmFsdWVzID8/IFtdO1xuICAgIGNvbnN0IGVycm9yUmF0ZVZhbHVlcyA9IGVycm9yUmF0ZVswXS5maWVsZHNbMl0/LnZhbHVlcyA/PyBbXTtcbiAgICBsZXQgZXJyb3JSYXRlT2JqOiBhbnkgPSB7fTtcbiAgICBlcnJvclJhdGVOYW1lcy5tYXAoKG5hbWU6IHN0cmluZywgaW5kZXg6IG51bWJlcikgPT4ge1xuICAgICAgZXJyb3JSYXRlT2JqW25hbWVdID0geyB2YWx1ZTogZXJyb3JSYXRlVmFsdWVzW2luZGV4XSB9O1xuICAgIH0pO1xuXG4gICAgY29uc3QgdmFsdWVzID0gZ2V0UmF0ZUFsaWduZWRWYWx1ZXMoeyAuLi5yYXRlIH0sIGVycm9yUmF0ZU9iaik7XG5cbiAgICBkZi5maWVsZHMucHVzaCh7XG4gICAgICAuLi5lcnJvclJhdGVbMF0uZmllbGRzWzJdLFxuICAgICAgbmFtZTogJ0Vycm9yIFJhdGUnLFxuICAgICAgdmFsdWVzOiB2YWx1ZXMsXG4gICAgICBjb25maWc6IHtcbiAgICAgICAgbGlua3M6IFtcbiAgICAgICAgICBtYWtlUHJvbUxpbmsoXG4gICAgICAgICAgICAnRXJyb3IgUmF0ZScsXG4gICAgICAgICAgICBidWlsZExpbmtFeHByKGJ1aWxkRXhwcihlcnJvclJhdGVNZXRyaWMsICdzcGFuX25hbWU9XCIke19fZGF0YS5maWVsZHNbMF19XCInLCByZXF1ZXN0KSksXG4gICAgICAgICAgICBkYXRhc291cmNlVWlkLFxuICAgICAgICAgICAgZmFsc2VcbiAgICAgICAgICApLFxuICAgICAgICBdLFxuICAgICAgICBkZWNpbWFsczogMixcbiAgICAgIH0sXG4gICAgfSk7XG5cbiAgICBkZi5maWVsZHMucHVzaCh7XG4gICAgICAuLi5lcnJvclJhdGVbMF0uZmllbGRzWzJdLFxuICAgICAgbmFtZTogJyAgICcsXG4gICAgICB2YWx1ZXM6IHZhbHVlcyxcbiAgICAgIGxhYmVsczogbnVsbCxcbiAgICAgIGNvbmZpZzoge1xuICAgICAgICBjb2xvcjoge1xuICAgICAgICAgIG1vZGU6ICdjb250aW51b3VzLVJkWWxHcicsXG4gICAgICAgIH0sXG4gICAgICAgIGN1c3RvbToge1xuICAgICAgICAgIGNlbGxPcHRpb25zOiB7XG4gICAgICAgICAgICBtb2RlOiBCYXJHYXVnZURpc3BsYXlNb2RlLkxjZCxcbiAgICAgICAgICAgIHR5cGU6IFRhYmxlQ2VsbERpc3BsYXlNb2RlLkdhdWdlLFxuICAgICAgICAgIH0sXG4gICAgICAgIH0sXG4gICAgICAgIGRlY2ltYWxzOiAzLFxuICAgICAgfSxcbiAgICB9KTtcbiAgfVxuXG4gIGlmIChkdXJhdGlvbi5sZW5ndGggPiAwICYmIGR1cmF0aW9uWzBdLmZpZWxkcz8ubGVuZ3RoID4gMSkge1xuICAgIGxldCBkdXJhdGlvbk9iajogYW55ID0ge307XG4gICAgZHVyYXRpb24ubWFwKChkKSA9PiB7XG4gICAgICBjb25zdCBkZWxpbWl0ZXIgPSBkLnJlZklkPy5pbmNsdWRlcygnc3Bhbl9uYW1lPX5cIicpID8gJ3NwYW5fbmFtZT1+XCInIDogJ3NwYW5fbmFtZT1cIic7XG4gICAgICBjb25zdCBuYW1lID0gZC5yZWZJZD8uc3BsaXQoZGVsaW1pdGVyKVsxXS5zcGxpdCgnXCJ9JylbMF07XG4gICAgICBkdXJhdGlvbk9ialtuYW1lXSA9IHsgdmFsdWU6IGQuZmllbGRzWzFdLnZhbHVlc1swXSB9O1xuICAgIH0pO1xuXG4gICAgZGYuZmllbGRzLnB1c2goe1xuICAgICAgLi4uZHVyYXRpb25bMF0uZmllbGRzWzFdLFxuICAgICAgbmFtZTogJ0R1cmF0aW9uIChwOTApJyxcbiAgICAgIHZhbHVlczogZ2V0UmF0ZUFsaWduZWRWYWx1ZXMoeyAuLi5yYXRlIH0sIGR1cmF0aW9uT2JqKSxcbiAgICAgIGNvbmZpZzoge1xuICAgICAgICBsaW5rczogW1xuICAgICAgICAgIG1ha2VQcm9tTGluayhcbiAgICAgICAgICAgICdEdXJhdGlvbicsXG4gICAgICAgICAgICBidWlsZExpbmtFeHByKGJ1aWxkRXhwcihkdXJhdGlvbk1ldHJpYywgJ3NwYW5fbmFtZT1cIiR7X19kYXRhLmZpZWxkc1swXX1cIicsIHJlcXVlc3QpKSxcbiAgICAgICAgICAgIGRhdGFzb3VyY2VVaWQsXG4gICAgICAgICAgICBmYWxzZVxuICAgICAgICAgICksXG4gICAgICAgIF0sXG4gICAgICAgIHVuaXQ6ICdzJyxcbiAgICAgIH0sXG4gICAgfSk7XG4gIH1cblxuICBpZiAoZGYuZmllbGRzLmxlbmd0aCA+IDAgJiYgZGYuZmllbGRzWzBdLnZhbHVlcykge1xuICAgIGRmLmZpZWxkcy5wdXNoKHtcbiAgICAgIG5hbWU6ICdMaW5rcycsXG4gICAgICB0eXBlOiBGaWVsZFR5cGUuc3RyaW5nLFxuICAgICAgdmFsdWVzOiBkZi5maWVsZHNbMF0udmFsdWVzLm1hcCgoKSA9PiB7XG4gICAgICAgIHJldHVybiAnVGVtcG8nO1xuICAgICAgfSksXG4gICAgICBjb25maWc6IHtcbiAgICAgICAgbGlua3M6IFttYWtlVGVtcG9MaW5rKCdUZW1wbycsICcnLCBgXFwke19fZGF0YS5maWVsZHNbMF19YCwgdGVtcG9EYXRhc291cmNlVWlkKV0sXG4gICAgICB9LFxuICAgIH0pO1xuICB9XG5cbiAgcmV0dXJuIGRmO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gYnVpbGRFeHByKFxuICBtZXRyaWM6IHsgZXhwcjogc3RyaW5nOyBwYXJhbXM6IHN0cmluZ1tdIH0sXG4gIGV4dHJhUGFyYW1zOiBzdHJpbmcsXG4gIHJlcXVlc3Q6IERhdGFRdWVyeVJlcXVlc3Q8VGVtcG9RdWVyeT5cbikge1xuICBsZXQgc2VydmljZU1hcFF1ZXJ5ID0gcmVxdWVzdC50YXJnZXRzWzBdPy5zZXJ2aWNlTWFwUXVlcnkgPz8gJyc7XG4gIGNvbnN0IHNlcnZpY2VNYXBRdWVyeU1hdGNoID0gc2VydmljZU1hcFF1ZXJ5Lm1hdGNoKC9eeyguKil9JC8pO1xuICBpZiAoc2VydmljZU1hcFF1ZXJ5TWF0Y2g/Lmxlbmd0aCkge1xuICAgIHNlcnZpY2VNYXBRdWVyeSA9IHNlcnZpY2VNYXBRdWVyeU1hdGNoWzFdO1xuICB9XG4gIC8vIG1hcCBzZXJ2aWNlR3JhcGggbWV0cmljIHRhZ3MgdG8gc2VydmljZUdyYXBoVmlldyBtZXRyaWMgdGFnc1xuICBzZXJ2aWNlTWFwUXVlcnkgPSBzZXJ2aWNlTWFwUXVlcnkucmVwbGFjZSgnY2xpZW50JywgJ3NlcnZpY2UnKS5yZXBsYWNlKCdzZXJ2ZXInLCAnc2VydmljZScpO1xuICBjb25zdCBtZXRyaWNQYXJhbXMgPSBzZXJ2aWNlTWFwUXVlcnkuaW5jbHVkZXMoJ3NwYW5fbmFtZScpXG4gICAgPyBtZXRyaWMucGFyYW1zLmNvbmNhdChzZXJ2aWNlTWFwUXVlcnkpXG4gICAgOiBtZXRyaWMucGFyYW1zXG4gICAgICAgIC5jb25jYXQoc2VydmljZU1hcFF1ZXJ5KVxuICAgICAgICAuY29uY2F0KGV4dHJhUGFyYW1zKVxuICAgICAgICAuZmlsdGVyKChpdGVtOiBzdHJpbmcpID0+IGl0ZW0pO1xuICByZXR1cm4gbWV0cmljLmV4cHIucmVwbGFjZSgne30nLCAneycgKyBtZXRyaWNQYXJhbXMuam9pbignLCcpICsgJ30nKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGJ1aWxkTGlua0V4cHIoZXhwcjogc3RyaW5nKSB7XG4gIC8vIGRvbid0IHdhbnQgdG9wIDUgb3IgYnkgc3BhbiBuYW1lIGluIGxpbmtzXG4gIGV4cHIgPSBleHByLnJlcGxhY2UoJ3RvcGsoNSwgJywgJycpLnJlcGxhY2UoJyBieSAoc3Bhbl9uYW1lKSknLCAnJyk7XG4gIHJldHVybiBleHByLnJlcGxhY2UoJ19fcmFuZ2UnLCAnX19yYXRlX2ludGVydmFsJyk7XG59XG5cbi8vIHF1ZXJ5IHJlc3VsdCBmcmFtZXMgY2FuIGNvbWUgYmFjayBpbiBhbnkgb3JkZXJcbi8vIGhlcmUgd2UgYWxpZ24gdGhlIHRhYmxlIGNvbCB2YWx1ZXMgdG8gdGhlIHNhbWUgcm93IG5hbWUgKHJhdGVOYW1lKSBhY3Jvc3MgdGhlIHRhYmxlXG5leHBvcnQgZnVuY3Rpb24gZ2V0UmF0ZUFsaWduZWRWYWx1ZXMoXG4gIHJhdGVSZXNwOiBEYXRhUXVlcnlSZXNwb25zZURhdGFbXSxcbiAgb2JqVG9BbGlnbjogeyBbeDogc3RyaW5nXTogeyB2YWx1ZTogc3RyaW5nIH0gfVxuKSB7XG4gIGNvbnN0IHJhdGVOYW1lcyA9IHJhdGVSZXNwWzBdPy5maWVsZHNbMV0/LnZhbHVlcyA/PyBbXTtcbiAgbGV0IHZhbHVlczogc3RyaW5nW10gPSBbXTtcblxuICBmb3IgKGxldCBpID0gMDsgaSA8IHJhdGVOYW1lcy5sZW5ndGg7IGkrKykge1xuICAgIGlmIChPYmplY3Qua2V5cyhvYmpUb0FsaWduKS5pbmNsdWRlcyhyYXRlTmFtZXNbaV0pKSB7XG4gICAgICB2YWx1ZXMucHVzaChvYmpUb0FsaWduW3JhdGVOYW1lc1tpXV0udmFsdWUpO1xuICAgIH0gZWxzZSB7XG4gICAgICB2YWx1ZXMucHVzaCgnMCcpO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiB2YWx1ZXM7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBtYWtlU2VydmljZUdyYXBoVmlld1JlcXVlc3QobWV0cmljczogYW55W10pIHtcbiAgcmV0dXJuIG1ldHJpY3MubWFwKChtZXRyaWMpID0+IHtcbiAgICByZXR1cm4ge1xuICAgICAgcmVmSWQ6IG1ldHJpYyxcbiAgICAgIGV4cHI6IG1ldHJpYyxcbiAgICAgIGluc3RhbnQ6IHRydWUsXG4gICAgfTtcbiAgfSk7XG59XG4iXSwibmFtZXMiOlsicmVzdWx0Iiwic2VydmljZU1hcFF1ZXJ5Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./public/app/plugins/datasource/tempo/datasource.ts\n");

/***/ }),

/***/ "./public/app/plugins/datasource/tempo/language_provider.ts":
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ TempoLanguageProvider)\n/* harmony export */ });\n/* harmony import */ var _grafana_data__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(\"./.yarn/__virtual__/@grafana-data-virtual-0996183232/1/packages/grafana-data/src/types/datasource.ts\");\n/* harmony import */ var _SearchTraceQLEditor_utils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"./public/app/plugins/datasource/tempo/SearchTraceQLEditor/utils.ts\");\n/* harmony import */ var _dataquery_gen__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(\"./public/app/plugins/datasource/tempo/dataquery.gen.ts\");\n\n\n\n\nclass TempoLanguageProvider extends _grafana_data__WEBPACK_IMPORTED_MODULE_2__.LanguageProvider {\n  constructor(datasource, initialValues) {\n    super();\n    this.request = async (url, params = {}) => {\n      const res = await this.datasource.metadataRequest(url, params);\n      return res?.data;\n    };\n    this.start = async () => {\n      if (!this.startTask) {\n        this.startTask = this.fetchTags().then(() => {\n          return [];\n        });\n      }\n      return this.startTask;\n    };\n    this.setV1Tags = (tags) => {\n      this.tagsV1 = tags;\n    };\n    this.setV2Tags = (tags) => {\n      this.tagsV2 = tags;\n    };\n    this.getTags = (scope) => {\n      if (this.tagsV2 && scope) {\n        if (scope === _dataquery_gen__WEBPACK_IMPORTED_MODULE_1__.TraceqlSearchScope.Unscoped) {\n          return (0,_SearchTraceQLEditor_utils__WEBPACK_IMPORTED_MODULE_0__.getUnscopedTags)(this.tagsV2);\n        }\n        return (0,_SearchTraceQLEditor_utils__WEBPACK_IMPORTED_MODULE_0__.getTagsByScope)(this.tagsV2, scope);\n      } else if (this.tagsV1) {\n        if (!this.tagsV1.find((t) => t === \"status\")) {\n          this.tagsV1.push(\"status\");\n        }\n        return this.tagsV1;\n      }\n      return [];\n    };\n    this.getTraceqlAutocompleteTags = (scope) => {\n      if (this.tagsV2) {\n        if (!scope) {\n          return (0,_SearchTraceQLEditor_utils__WEBPACK_IMPORTED_MODULE_0__.getUnscopedTags)(this.tagsV2);\n        } else if (scope === _dataquery_gen__WEBPACK_IMPORTED_MODULE_1__.TraceqlSearchScope.Unscoped) {\n          return (0,_SearchTraceQLEditor_utils__WEBPACK_IMPORTED_MODULE_0__.getUnscopedTags)(this.tagsV2);\n        }\n        return (0,_SearchTraceQLEditor_utils__WEBPACK_IMPORTED_MODULE_0__.getTagsByScope)(this.tagsV2, scope);\n      } else if (this.tagsV1) {\n        if (!this.tagsV1.find((t) => t === \"status\")) {\n          this.tagsV1.push(\"status\");\n        }\n        return this.tagsV1;\n      }\n      return [];\n    };\n    this.getAutocompleteTags = () => {\n      if (this.tagsV2) {\n        return (0,_SearchTraceQLEditor_utils__WEBPACK_IMPORTED_MODULE_0__.getAllTags)(this.tagsV2);\n      } else if (this.tagsV1) {\n        if (!this.tagsV1.find((t) => t === \"status.code\")) {\n          this.tagsV1.push(\"status.code\");\n        }\n        return this.tagsV1;\n      }\n      return [];\n    };\n    this.datasource = datasource;\n    Object.assign(this, initialValues);\n  }\n  async fetchTags() {\n    let v1Resp, v2Resp;\n    try {\n      v2Resp = await this.request(\"/api/v2/search/tags\", []);\n    } catch (error) {\n      v1Resp = await this.request(\"/api/search/tags\", []);\n    }\n    if (v2Resp && v2Resp.scopes) {\n      this.setV2Tags(v2Resp.scopes);\n    } else if (v1Resp) {\n      this.setV1Tags(v1Resp.tagNames);\n    }\n  }\n  async getOptionsV1(tag) {\n    const response = await this.request(`/api/search/tag/${tag}/values`);\n    let options = [];\n    if (response && response.tagValues) {\n      options = response.tagValues.map((v) => ({\n        value: v,\n        label: v\n      }));\n    }\n    return options;\n  }\n  async getOptionsV2(tag) {\n    const response = await this.request(`/api/v2/search/tag/${tag}/values`);\n    let options = [];\n    if (response && response.tagValues) {\n      options = response.tagValues.map((v) => ({\n        type: v.type,\n        value: v.value,\n        label: v.value\n      }));\n    }\n    return options;\n  }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9wdWJsaWMvYXBwL3BsdWdpbnMvZGF0YXNvdXJjZS90ZW1wby9sYW5ndWFnZV9wcm92aWRlci50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUFrRDtBQUVVO0FBQ3pCO0FBSXBCLE1BQU0sOEJBQThCLDJEQUFnQixDQUFDO0FBQUEsRUFJbEUsWUFBWSxZQUE2QixlQUFxQjtBQUM1RCxVQUFNO0FBTVIsbUJBQVUsT0FBTyxLQUFhLFNBQVMsQ0FBQyxNQUFNO0FBQzVDLFlBQU0sTUFBTSxNQUFNLEtBQUssV0FBVyxnQkFBZ0IsS0FBSyxNQUFNO0FBQzdELGFBQU8sS0FBSztBQUFBLElBQ2Q7QUFFQSxpQkFBUSxZQUFZO0FBQ2xCLFVBQUksQ0FBQyxLQUFLLFdBQVc7QUFDbkIsYUFBSyxZQUFZLEtBQUssVUFBVSxFQUFFLEtBQUssTUFBTTtBQUMzQyxpQkFBTyxDQUFDO0FBQUEsUUFDVixDQUFDO0FBQUEsTUFDSDtBQUVBLGFBQU8sS0FBSztBQUFBLElBQ2Q7QUFpQkEscUJBQVksQ0FBQyxTQUFtQjtBQUM5QixXQUFLLFNBQVM7QUFBQSxJQUNoQjtBQUVBLHFCQUFZLENBQUMsU0FBa0I7QUFDN0IsV0FBSyxTQUFTO0FBQUEsSUFDaEI7QUFFQSxtQkFBVSxDQUFDLFVBQStCO0FBQ3hDLFVBQUksS0FBSyxVQUFVLE9BQU87QUFDeEIsWUFBSSxVQUFVLDhEQUFrQixDQUFDLFVBQVU7QUFDekMsaUJBQU8sMkVBQWUsQ0FBQyxLQUFLLE1BQU07QUFBQSxRQUNwQztBQUNBLGVBQU8sMEVBQWMsQ0FBQyxLQUFLLFFBQVEsS0FBSztBQUFBLE1BQzFDLFdBQVcsS0FBSyxRQUFRO0FBR3RCLFlBQUksQ0FBQyxLQUFLLE9BQU8sS0FBSyxDQUFDLE1BQU0sTUFBTSxRQUFRLEdBQUc7QUFDNUMsZUFBSyxPQUFPLEtBQUssUUFBUTtBQUFBLFFBQzNCO0FBQ0EsZUFBTyxLQUFLO0FBQUEsTUFDZDtBQUNBLGFBQU8sQ0FBQztBQUFBLElBQ1Y7QUFFQSxzQ0FBNkIsQ0FBQyxVQUFtQjtBQUMvQyxVQUFJLEtBQUssUUFBUTtBQUNmLFlBQUksQ0FBQyxPQUFPO0FBRVYsaUJBQU8sMkVBQWUsQ0FBQyxLQUFLLE1BQU07QUFBQSxRQUNwQyxXQUFXLFVBQVUsOERBQWtCLENBQUMsVUFBVTtBQUNoRCxpQkFBTywyRUFBZSxDQUFDLEtBQUssTUFBTTtBQUFBLFFBQ3BDO0FBQ0EsZUFBTywwRUFBYyxDQUFDLEtBQUssUUFBUSxLQUFLO0FBQUEsTUFDMUMsV0FBVyxLQUFLLFFBQVE7QUFHdEIsWUFBSSxDQUFDLEtBQUssT0FBTyxLQUFLLENBQUMsTUFBTSxNQUFNLFFBQVEsR0FBRztBQUM1QyxlQUFLLE9BQU8sS0FBSyxRQUFRO0FBQUEsUUFDM0I7QUFDQSxlQUFPLEtBQUs7QUFBQSxNQUNkO0FBQ0EsYUFBTyxDQUFDO0FBQUEsSUFDVjtBQUVBLCtCQUFzQixNQUFNO0FBQzFCLFVBQUksS0FBSyxRQUFRO0FBQ2YsZUFBTyxzRUFBVSxDQUFDLEtBQUssTUFBTTtBQUFBLE1BQy9CLFdBQVcsS0FBSyxRQUFRO0FBR3RCLFlBQUksQ0FBQyxLQUFLLE9BQU8sS0FBSyxDQUFDLE1BQU0sTUFBTSxhQUFhLEdBQUc7QUFDakQsZUFBSyxPQUFPLEtBQUssYUFBYTtBQUFBLFFBQ2hDO0FBQ0EsZUFBTyxLQUFLO0FBQUEsTUFDZDtBQUNBLGFBQU8sQ0FBQztBQUFBLElBQ1Y7QUEzRkUsU0FBSyxhQUFhO0FBQ2xCLFdBQU8sT0FBTyxNQUFNLGFBQWE7QUFBQSxFQUNuQztBQUFBLEVBaUJBLE1BQU0sWUFBWTtBQUNoQixRQUFJLFFBQVE7QUFDWixRQUFJO0FBQ0YsZUFBUyxNQUFNLEtBQUssUUFBUSx1QkFBdUIsQ0FBQyxDQUFDO0FBQUEsSUFDdkQsU0FBUyxPQUFQO0FBQ0EsZUFBUyxNQUFNLEtBQUssUUFBUSxvQkFBb0IsQ0FBQyxDQUFDO0FBQUEsSUFDcEQ7QUFFQSxRQUFJLFVBQVUsT0FBTyxRQUFRO0FBQzNCLFdBQUssVUFBVSxPQUFPLE1BQU07QUFBQSxJQUM5QixXQUFXLFFBQVE7QUFDakIsV0FBSyxVQUFVLE9BQU8sUUFBUTtBQUFBLElBQ2hDO0FBQUEsRUFDRjtBQUFBLEVBNkRBLE1BQU0sYUFBYSxLQUFzRDtBQUN2RSxVQUFNLFdBQVcsTUFBTSxLQUFLLFFBQVEsbUJBQW1CLFlBQVk7QUFDbkUsUUFBSSxVQUEwQyxDQUFDO0FBQy9DLFFBQUksWUFBWSxTQUFTLFdBQVc7QUFDbEMsZ0JBQVUsU0FBUyxVQUFVLElBQUksQ0FBQyxPQUFlO0FBQUEsUUFDL0MsT0FBTztBQUFBLFFBQ1AsT0FBTztBQUFBLE1BQ1QsRUFBRTtBQUFBLElBQ0o7QUFDQSxXQUFPO0FBQUEsRUFDVDtBQUFBLEVBRUEsTUFBTSxhQUFhLEtBQXNEO0FBQ3ZFLFVBQU0sV0FBVyxNQUFNLEtBQUssUUFBUSxzQkFBc0IsWUFBWTtBQUN0RSxRQUFJLFVBQTBDLENBQUM7QUFDL0MsUUFBSSxZQUFZLFNBQVMsV0FBVztBQUNsQyxnQkFBVSxTQUFTLFVBQVUsSUFBSSxDQUFDLE9BQXdDO0FBQUEsUUFDeEUsTUFBTSxFQUFFO0FBQUEsUUFDUixPQUFPLEVBQUU7QUFBQSxRQUNULE9BQU8sRUFBRTtBQUFBLE1BQ1gsRUFBRTtBQUFBLElBQ0o7QUFDQSxXQUFPO0FBQUEsRUFDVDtBQUNGIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZ3JhZmFuYS8uL3B1YmxpYy9hcHAvcGx1Z2lucy9kYXRhc291cmNlL3RlbXBvL2xhbmd1YWdlX3Byb3ZpZGVyLnRzPzQ0MDUiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgTGFuZ3VhZ2VQcm92aWRlciwgU2VsZWN0YWJsZVZhbHVlIH0gZnJvbSAnQGdyYWZhbmEvZGF0YSc7XG5cbmltcG9ydCB7IGdldEFsbFRhZ3MsIGdldFRhZ3NCeVNjb3BlLCBnZXRVbnNjb3BlZFRhZ3MgfSBmcm9tICcuL1NlYXJjaFRyYWNlUUxFZGl0b3IvdXRpbHMnO1xuaW1wb3J0IHsgVHJhY2VxbFNlYXJjaFNjb3BlIH0gZnJvbSAnLi9kYXRhcXVlcnkuZ2VuJztcbmltcG9ydCB7IFRlbXBvRGF0YXNvdXJjZSB9IGZyb20gJy4vZGF0YXNvdXJjZSc7XG5pbXBvcnQgeyBTY29wZSB9IGZyb20gJy4vdHlwZXMnO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBUZW1wb0xhbmd1YWdlUHJvdmlkZXIgZXh0ZW5kcyBMYW5ndWFnZVByb3ZpZGVyIHtcbiAgZGF0YXNvdXJjZTogVGVtcG9EYXRhc291cmNlO1xuICB0YWdzVjE/OiBzdHJpbmdbXTtcbiAgdGFnc1YyPzogU2NvcGVbXTtcbiAgY29uc3RydWN0b3IoZGF0YXNvdXJjZTogVGVtcG9EYXRhc291cmNlLCBpbml0aWFsVmFsdWVzPzogYW55KSB7XG4gICAgc3VwZXIoKTtcblxuICAgIHRoaXMuZGF0YXNvdXJjZSA9IGRhdGFzb3VyY2U7XG4gICAgT2JqZWN0LmFzc2lnbih0aGlzLCBpbml0aWFsVmFsdWVzKTtcbiAgfVxuXG4gIHJlcXVlc3QgPSBhc3luYyAodXJsOiBzdHJpbmcsIHBhcmFtcyA9IHt9KSA9PiB7XG4gICAgY29uc3QgcmVzID0gYXdhaXQgdGhpcy5kYXRhc291cmNlLm1ldGFkYXRhUmVxdWVzdCh1cmwsIHBhcmFtcyk7XG4gICAgcmV0dXJuIHJlcz8uZGF0YTtcbiAgfTtcblxuICBzdGFydCA9IGFzeW5jICgpID0+IHtcbiAgICBpZiAoIXRoaXMuc3RhcnRUYXNrKSB7XG4gICAgICB0aGlzLnN0YXJ0VGFzayA9IHRoaXMuZmV0Y2hUYWdzKCkudGhlbigoKSA9PiB7XG4gICAgICAgIHJldHVybiBbXTtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzLnN0YXJ0VGFzaztcbiAgfTtcblxuICBhc3luYyBmZXRjaFRhZ3MoKSB7XG4gICAgbGV0IHYxUmVzcCwgdjJSZXNwO1xuICAgIHRyeSB7XG4gICAgICB2MlJlc3AgPSBhd2FpdCB0aGlzLnJlcXVlc3QoJy9hcGkvdjIvc2VhcmNoL3RhZ3MnLCBbXSk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIHYxUmVzcCA9IGF3YWl0IHRoaXMucmVxdWVzdCgnL2FwaS9zZWFyY2gvdGFncycsIFtdKTtcbiAgICB9XG5cbiAgICBpZiAodjJSZXNwICYmIHYyUmVzcC5zY29wZXMpIHtcbiAgICAgIHRoaXMuc2V0VjJUYWdzKHYyUmVzcC5zY29wZXMpO1xuICAgIH0gZWxzZSBpZiAodjFSZXNwKSB7XG4gICAgICB0aGlzLnNldFYxVGFncyh2MVJlc3AudGFnTmFtZXMpO1xuICAgIH1cbiAgfVxuXG4gIHNldFYxVGFncyA9ICh0YWdzOiBzdHJpbmdbXSkgPT4ge1xuICAgIHRoaXMudGFnc1YxID0gdGFncztcbiAgfTtcblxuICBzZXRWMlRhZ3MgPSAodGFnczogU2NvcGVbXSkgPT4ge1xuICAgIHRoaXMudGFnc1YyID0gdGFncztcbiAgfTtcblxuICBnZXRUYWdzID0gKHNjb3BlPzogVHJhY2VxbFNlYXJjaFNjb3BlKSA9PiB7XG4gICAgaWYgKHRoaXMudGFnc1YyICYmIHNjb3BlKSB7XG4gICAgICBpZiAoc2NvcGUgPT09IFRyYWNlcWxTZWFyY2hTY29wZS5VbnNjb3BlZCkge1xuICAgICAgICByZXR1cm4gZ2V0VW5zY29wZWRUYWdzKHRoaXMudGFnc1YyKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBnZXRUYWdzQnlTY29wZSh0aGlzLnRhZ3NWMiwgc2NvcGUpO1xuICAgIH0gZWxzZSBpZiAodGhpcy50YWdzVjEpIHtcbiAgICAgIC8vIFRoaXMgaXMgbmVlZGVkIGJlY2F1c2UgdGhlIC9hcGkvdjIvc2VhcmNoL3RhZy8ke3RhZ30vdmFsdWVzIEFQSSBleHBlY3RzIFwic3RhdHVzXCIgYW5kIHRoZSB2MSBBUEkgZXhwZWN0cyBcInN0YXR1cy5jb2RlXCJcbiAgICAgIC8vIHNvIFRlbXBvIGRvZXNuJ3Qgc2VuZCBhbnl0aGluZyBhbmQgd2UgaW5qZWN0IGl0IGhlcmUgZm9yIHRoZSBhdXRvY29tcGxldGVcbiAgICAgIGlmICghdGhpcy50YWdzVjEuZmluZCgodCkgPT4gdCA9PT0gJ3N0YXR1cycpKSB7XG4gICAgICAgIHRoaXMudGFnc1YxLnB1c2goJ3N0YXR1cycpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRoaXMudGFnc1YxO1xuICAgIH1cbiAgICByZXR1cm4gW107XG4gIH07XG5cbiAgZ2V0VHJhY2VxbEF1dG9jb21wbGV0ZVRhZ3MgPSAoc2NvcGU/OiBzdHJpbmcpID0+IHtcbiAgICBpZiAodGhpcy50YWdzVjIpIHtcbiAgICAgIGlmICghc2NvcGUpIHtcbiAgICAgICAgLy8gaGF2ZSBub3QgdHlwZWQgYSBzY29wZSB5ZXQgfHwgdW5zY29wZWQgKC4pIHR5cGVkXG4gICAgICAgIHJldHVybiBnZXRVbnNjb3BlZFRhZ3ModGhpcy50YWdzVjIpO1xuICAgICAgfSBlbHNlIGlmIChzY29wZSA9PT0gVHJhY2VxbFNlYXJjaFNjb3BlLlVuc2NvcGVkKSB7XG4gICAgICAgIHJldHVybiBnZXRVbnNjb3BlZFRhZ3ModGhpcy50YWdzVjIpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGdldFRhZ3NCeVNjb3BlKHRoaXMudGFnc1YyLCBzY29wZSk7XG4gICAgfSBlbHNlIGlmICh0aGlzLnRhZ3NWMSkge1xuICAgICAgLy8gVGhpcyBpcyBuZWVkZWQgYmVjYXVzZSB0aGUgL2FwaS92Mi9zZWFyY2gvdGFnLyR7dGFnfS92YWx1ZXMgQVBJIGV4cGVjdHMgXCJzdGF0dXNcIiBhbmQgdGhlIHYxIEFQSSBleHBlY3RzIFwic3RhdHVzLmNvZGVcIlxuICAgICAgLy8gc28gVGVtcG8gZG9lc24ndCBzZW5kIGFueXRoaW5nIGFuZCB3ZSBpbmplY3QgaXQgaGVyZSBmb3IgdGhlIGF1dG9jb21wbGV0ZVxuICAgICAgaWYgKCF0aGlzLnRhZ3NWMS5maW5kKCh0KSA9PiB0ID09PSAnc3RhdHVzJykpIHtcbiAgICAgICAgdGhpcy50YWdzVjEucHVzaCgnc3RhdHVzJyk7XG4gICAgICB9XG4gICAgICByZXR1cm4gdGhpcy50YWdzVjE7XG4gICAgfVxuICAgIHJldHVybiBbXTtcbiAgfTtcblxuICBnZXRBdXRvY29tcGxldGVUYWdzID0gKCkgPT4ge1xuICAgIGlmICh0aGlzLnRhZ3NWMikge1xuICAgICAgcmV0dXJuIGdldEFsbFRhZ3ModGhpcy50YWdzVjIpO1xuICAgIH0gZWxzZSBpZiAodGhpcy50YWdzVjEpIHtcbiAgICAgIC8vIFRoaXMgaXMgbmVlZGVkIGJlY2F1c2UgdGhlIC9hcGkvc2VhcmNoL3RhZy8ke3RhZ30vdmFsdWVzIEFQSSBleHBlY3RzIFwic3RhdHVzLmNvZGVcIiBhbmQgdGhlIHYyIEFQSSBleHBlY3RzIFwic3RhdHVzXCJcbiAgICAgIC8vIHNvIFRlbXBvIGRvZXNuJ3Qgc2VuZCBhbnl0aGluZyBhbmQgd2UgaW5qZWN0IGl0IGhlcmUgZm9yIHRoZSBhdXRvY29tcGxldGVcbiAgICAgIGlmICghdGhpcy50YWdzVjEuZmluZCgodCkgPT4gdCA9PT0gJ3N0YXR1cy5jb2RlJykpIHtcbiAgICAgICAgdGhpcy50YWdzVjEucHVzaCgnc3RhdHVzLmNvZGUnKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB0aGlzLnRhZ3NWMTtcbiAgICB9XG4gICAgcmV0dXJuIFtdO1xuICB9O1xuXG4gIGFzeW5jIGdldE9wdGlvbnNWMSh0YWc6IHN0cmluZyk6IFByb21pc2U8QXJyYXk8U2VsZWN0YWJsZVZhbHVlPHN0cmluZz4+PiB7XG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLnJlcXVlc3QoYC9hcGkvc2VhcmNoL3RhZy8ke3RhZ30vdmFsdWVzYCk7XG4gICAgbGV0IG9wdGlvbnM6IEFycmF5PFNlbGVjdGFibGVWYWx1ZTxzdHJpbmc+PiA9IFtdO1xuICAgIGlmIChyZXNwb25zZSAmJiByZXNwb25zZS50YWdWYWx1ZXMpIHtcbiAgICAgIG9wdGlvbnMgPSByZXNwb25zZS50YWdWYWx1ZXMubWFwKCh2OiBzdHJpbmcpID0+ICh7XG4gICAgICAgIHZhbHVlOiB2LFxuICAgICAgICBsYWJlbDogdixcbiAgICAgIH0pKTtcbiAgICB9XG4gICAgcmV0dXJuIG9wdGlvbnM7XG4gIH1cblxuICBhc3luYyBnZXRPcHRpb25zVjIodGFnOiBzdHJpbmcpOiBQcm9taXNlPEFycmF5PFNlbGVjdGFibGVWYWx1ZTxzdHJpbmc+Pj4ge1xuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgdGhpcy5yZXF1ZXN0KGAvYXBpL3YyL3NlYXJjaC90YWcvJHt0YWd9L3ZhbHVlc2ApO1xuICAgIGxldCBvcHRpb25zOiBBcnJheTxTZWxlY3RhYmxlVmFsdWU8c3RyaW5nPj4gPSBbXTtcbiAgICBpZiAocmVzcG9uc2UgJiYgcmVzcG9uc2UudGFnVmFsdWVzKSB7XG4gICAgICBvcHRpb25zID0gcmVzcG9uc2UudGFnVmFsdWVzLm1hcCgodjogeyB0eXBlOiBzdHJpbmc7IHZhbHVlOiBzdHJpbmcgfSkgPT4gKHtcbiAgICAgICAgdHlwZTogdi50eXBlLFxuICAgICAgICB2YWx1ZTogdi52YWx1ZSxcbiAgICAgICAgbGFiZWw6IHYudmFsdWUsXG4gICAgICB9KSk7XG4gICAgfVxuICAgIHJldHVybiBvcHRpb25zO1xuICB9XG59XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./public/app/plugins/datasource/tempo/language_provider.ts\n");

/***/ }),

/***/ "./public/app/plugins/datasource/tempo/module.ts":
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   plugin: () => (/* binding */ plugin)\n/* harmony export */ });\n/* harmony import */ var _grafana_data__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(\"./.yarn/__virtual__/@grafana-data-virtual-0996183232/1/packages/grafana-data/src/types/datasource.ts\");\n/* harmony import */ var _grafana_data__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(\"./.yarn/__virtual__/@grafana-data-virtual-0996183232/1/packages/grafana-data/src/events/common.ts\");\n/* harmony import */ var _grafana_runtime__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(\"./.yarn/__virtual__/@grafana-runtime-virtual-68c57d4c0c/1/packages/grafana-runtime/src/services/appEvents.ts\");\n/* harmony import */ var _CheatSheet__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"./public/app/plugins/datasource/tempo/CheatSheet.tsx\");\n/* harmony import */ var _QueryField__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(\"./public/app/plugins/datasource/tempo/QueryField.tsx\");\n/* harmony import */ var _configuration_ConfigEditor__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(\"./public/app/plugins/datasource/tempo/configuration/ConfigEditor.tsx\");\n/* harmony import */ var _datasource__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(\"./public/app/plugins/datasource/tempo/datasource.ts\");\n/* harmony import */ var _tracking__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(\"./public/app/plugins/datasource/tempo/tracking.ts\");\n\n\n\n\n\n\n\n\nconst plugin = new _grafana_data__WEBPACK_IMPORTED_MODULE_5__.DataSourcePlugin(_datasource__WEBPACK_IMPORTED_MODULE_3__.TempoDatasource).setQueryEditor(_QueryField__WEBPACK_IMPORTED_MODULE_1__.TempoQueryField).setConfigEditor(_configuration_ConfigEditor__WEBPACK_IMPORTED_MODULE_2__.ConfigEditor).setQueryEditorHelp(_CheatSheet__WEBPACK_IMPORTED_MODULE_0__[\"default\"]);\n(0,_grafana_runtime__WEBPACK_IMPORTED_MODULE_6__.getAppEvents)().subscribe(_grafana_data__WEBPACK_IMPORTED_MODULE_7__.DashboardLoadedEvent, _tracking__WEBPACK_IMPORTED_MODULE_4__.onDashboardLoadedHandler);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9wdWJsaWMvYXBwL3BsdWdpbnMvZGF0YXNvdXJjZS90ZW1wby9tb2R1bGUudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7OztBQUF1RDtBQUMxQjtBQUVOO0FBQ1M7QUFDSDtBQUNHO0FBQ1M7QUFHbEMsTUFBTSxTQUFTLElBQUksMkRBQWdCLENBQUMsd0RBQWUsRUFDdkQsZUFBZSx3REFBZSxFQUM5QixnQkFBZ0IscUVBQVksRUFDNUIsbUJBQW1CLG1EQUFVO0FBR2hDLDhEQUFZLENBQUMsRUFBRSxVQUE0QywrREFBb0IsRUFBRSwrREFBd0IiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9ncmFmYW5hLy4vcHVibGljL2FwcC9wbHVnaW5zL2RhdGFzb3VyY2UvdGVtcG8vbW9kdWxlLnRzPzRhMzMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgRGF0YVNvdXJjZVBsdWdpbiwgRGFzaGJvYXJkTG9hZGVkRXZlbnQgfSBmcm9tICdAZ3JhZmFuYS9kYXRhJztcbmltcG9ydCB7IGdldEFwcEV2ZW50cyB9IGZyb20gJ0BncmFmYW5hL3J1bnRpbWUnO1xuXG5pbXBvcnQgQ2hlYXRTaGVldCBmcm9tICcuL0NoZWF0U2hlZXQnO1xuaW1wb3J0IHsgVGVtcG9RdWVyeUZpZWxkIH0gZnJvbSAnLi9RdWVyeUZpZWxkJztcbmltcG9ydCB7IENvbmZpZ0VkaXRvciB9IGZyb20gJy4vY29uZmlndXJhdGlvbi9Db25maWdFZGl0b3InO1xuaW1wb3J0IHsgVGVtcG9EYXRhc291cmNlIH0gZnJvbSAnLi9kYXRhc291cmNlJztcbmltcG9ydCB7IG9uRGFzaGJvYXJkTG9hZGVkSGFuZGxlciB9IGZyb20gJy4vdHJhY2tpbmcnO1xuaW1wb3J0IHsgVGVtcG9RdWVyeSB9IGZyb20gJy4vdHlwZXMnO1xuXG5leHBvcnQgY29uc3QgcGx1Z2luID0gbmV3IERhdGFTb3VyY2VQbHVnaW4oVGVtcG9EYXRhc291cmNlKVxuICAuc2V0UXVlcnlFZGl0b3IoVGVtcG9RdWVyeUZpZWxkKVxuICAuc2V0Q29uZmlnRWRpdG9yKENvbmZpZ0VkaXRvcilcbiAgLnNldFF1ZXJ5RWRpdG9ySGVscChDaGVhdFNoZWV0KTtcblxuLy8gU3Vic2NyaWJlIHRvIG9uIGRhc2hib2FyZCBsb2FkZWQgZXZlbnQgc28gdGhhdCB3ZSBjYW4gdHJhY2sgcGx1Z2luIGFkb3B0aW9uXG5nZXRBcHBFdmVudHMoKS5zdWJzY3JpYmU8RGFzaGJvYXJkTG9hZGVkRXZlbnQ8VGVtcG9RdWVyeT4+KERhc2hib2FyZExvYWRlZEV2ZW50LCBvbkRhc2hib2FyZExvYWRlZEhhbmRsZXIpO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./public/app/plugins/datasource/tempo/module.ts\n");

/***/ }),

/***/ "./public/app/plugins/datasource/tempo/streaming.ts":
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   doTempoChannelStream: () => (/* binding */ doTempoChannelStream),\n/* harmony export */   getLiveStreamKey: () => (/* binding */ getLiveStreamKey)\n/* harmony export */ });\n/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"./.yarn/cache/lodash-npm-4.17.21-6382451519-eb835a2e51.zip/node_modules/lodash/lodash.js\");\n/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(\"./.yarn/cache/rxjs-npm-7.8.0-722f1c7172-61b4d4fd32.zip/node_modules/rxjs/dist/esm5/internal/observable/defer.js\");\n/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(\"./.yarn/cache/rxjs-npm-7.8.0-722f1c7172-61b4d4fd32.zip/node_modules/rxjs/dist/esm5/internal/operators/mergeMap.js\");\n/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(\"./.yarn/cache/rxjs-npm-7.8.0-722f1c7172-61b4d4fd32.zip/node_modules/rxjs/dist/esm5/internal/operators/map.js\");\n/* harmony import */ var uuid__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(\"./.yarn/cache/uuid-npm-9.0.0-46c41e3e43-8dd2c83c43.zip/node_modules/uuid/dist/esm-browser/v4.js\");\n/* harmony import */ var _grafana_data__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(\"./.yarn/__virtual__/@grafana-data-virtual-0996183232/1/packages/grafana-data/src/types/data.ts\");\n/* harmony import */ var _grafana_data__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(\"./.yarn/__virtual__/@grafana-data-virtual-0996183232/1/packages/grafana-data/src/types/live.ts\");\n/* harmony import */ var _grafana_data__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(\"./.yarn/__virtual__/@grafana-data-virtual-0996183232/1/packages/grafana-data/src/types/thresholds.ts\");\n/* harmony import */ var _grafana_data__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(\"./.yarn/__virtual__/@grafana-data-virtual-0996183232/1/packages/grafana-data/src/types/dataFrame.ts\");\n/* harmony import */ var _grafana_runtime__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(\"./.yarn/__virtual__/@grafana-runtime-virtual-68c57d4c0c/1/packages/grafana-runtime/src/services/live.ts\");\n/* harmony import */ var _dataquery_gen__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(\"./public/app/plugins/datasource/tempo/dataquery.gen.ts\");\n/* harmony import */ var _resultTransformer__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(\"./public/app/plugins/datasource/tempo/resultTransformer.ts\");\n\n\n\n\n\n\n\n\nasync function getLiveStreamKey() {\n  return (0,uuid__WEBPACK_IMPORTED_MODULE_3__[\"default\"])();\n}\nfunction doTempoChannelStream(query, ds, options, instanceSettings) {\n  const range = options.range;\n  let frames = void 0;\n  let state = _grafana_data__WEBPACK_IMPORTED_MODULE_4__.LoadingState.NotStarted;\n  return (0,rxjs__WEBPACK_IMPORTED_MODULE_5__.defer)(() => getLiveStreamKey()).pipe(\n    (0,rxjs__WEBPACK_IMPORTED_MODULE_6__.mergeMap)((key) => {\n      const requestTime = performance.now();\n      return (0,_grafana_runtime__WEBPACK_IMPORTED_MODULE_7__.getGrafanaLiveSrv)().getStream({\n        scope: _grafana_data__WEBPACK_IMPORTED_MODULE_8__.LiveChannelScope.DataSource,\n        namespace: ds.uid,\n        path: `search/${key}`,\n        data: {\n          ...query,\n          timeRange: {\n            from: range.from.toISOString(),\n            to: range.to.toISOString()\n          }\n        }\n      }).pipe(\n        (0,rxjs__WEBPACK_IMPORTED_MODULE_9__.map)((evt) => {\n          if (\"message\" in evt && evt?.message) {\n            const currentTime = performance.now();\n            const elapsedTime = currentTime - requestTime;\n            const traces = evt.message.data.values[0][0];\n            const metrics = evt.message.data.values[1][0];\n            const frameState = evt.message.data.values[2][0];\n            const error = evt.message.data.values[3][0];\n            switch (frameState) {\n              case _dataquery_gen__WEBPACK_IMPORTED_MODULE_1__.SearchStreamingState.Done:\n                state = _grafana_data__WEBPACK_IMPORTED_MODULE_4__.LoadingState.Done;\n                break;\n              case _dataquery_gen__WEBPACK_IMPORTED_MODULE_1__.SearchStreamingState.Streaming:\n                state = _grafana_data__WEBPACK_IMPORTED_MODULE_4__.LoadingState.Streaming;\n                break;\n              case _dataquery_gen__WEBPACK_IMPORTED_MODULE_1__.SearchStreamingState.Error:\n                throw new Error(error);\n            }\n            frames = [\n              metricsDataFrame(metrics, frameState, elapsedTime),\n              ...(0,_resultTransformer__WEBPACK_IMPORTED_MODULE_2__.createTableFrameFromTraceQlQuery)(traces, instanceSettings)\n            ];\n          }\n          return {\n            data: frames || [],\n            state\n          };\n        })\n      );\n    })\n  );\n}\nfunction metricsDataFrame(metrics, state, elapsedTime) {\n  const progressThresholds = {\n    steps: [\n      {\n        color: \"blue\",\n        value: -Infinity\n      },\n      {\n        color: \"green\",\n        value: 75\n      }\n    ],\n    mode: _grafana_data__WEBPACK_IMPORTED_MODULE_10__.ThresholdsMode.Absolute\n  };\n  const frame = {\n    refId: \"streaming-progress\",\n    name: \"Streaming Progress\",\n    length: 1,\n    fields: [\n      {\n        name: \"state\",\n        type: _grafana_data__WEBPACK_IMPORTED_MODULE_11__.FieldType.string,\n        values: [(0,lodash__WEBPACK_IMPORTED_MODULE_0__.capitalize)(state.toString())],\n        config: {\n          displayNameFromDS: \"State\"\n        }\n      },\n      {\n        name: \"elapsedTime\",\n        type: _grafana_data__WEBPACK_IMPORTED_MODULE_11__.FieldType.number,\n        values: [elapsedTime],\n        config: {\n          unit: \"ms\",\n          displayNameFromDS: \"Elapsed Time\"\n        }\n      },\n      {\n        name: \"totalBlocks\",\n        type: _grafana_data__WEBPACK_IMPORTED_MODULE_11__.FieldType.number,\n        values: [metrics.totalBlocks],\n        config: {\n          displayNameFromDS: \"Total Blocks\"\n        }\n      },\n      {\n        name: \"completedJobs\",\n        type: _grafana_data__WEBPACK_IMPORTED_MODULE_11__.FieldType.number,\n        values: [metrics.completedJobs],\n        config: {\n          displayNameFromDS: \"Completed Jobs\"\n        }\n      },\n      {\n        name: \"totalJobs\",\n        type: _grafana_data__WEBPACK_IMPORTED_MODULE_11__.FieldType.number,\n        values: [metrics.totalJobs],\n        config: {\n          displayNameFromDS: \"Total Jobs\"\n        }\n      },\n      {\n        name: \"progress\",\n        type: _grafana_data__WEBPACK_IMPORTED_MODULE_11__.FieldType.number,\n        values: [\n          state === _dataquery_gen__WEBPACK_IMPORTED_MODULE_1__.SearchStreamingState.Done ? 100 : (metrics.completedJobs || 0) / (metrics.totalJobs || 1) * 100\n        ],\n        config: {\n          displayNameFromDS: \"Progress\",\n          unit: \"percent\",\n          min: 0,\n          max: 100,\n          custom: {\n            cellOptions: {\n              type: \"gauge\",\n              mode: \"gradient\"\n            }\n          },\n          thresholds: progressThresholds\n        }\n      }\n    ],\n    meta: {\n      preferredVisualisationType: \"table\"\n    }\n  };\n  return frame;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9wdWJsaWMvYXBwL3BsdWdpbnMvZGF0YXNvdXJjZS90ZW1wby9zdHJlYW1pbmcudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUEyQjtBQUNzQjtBQUNwQjtBQWF0QjtBQUMyQjtBQUVHO0FBRVk7QUFFMUMsZUFBZSxtQkFBb0M7QUFDeEQsU0FBTyxnREFBTSxDQUFDO0FBQ2hCO0FBRU8sU0FBUyxxQkFDZCxPQUNBLElBQ0EsU0FDQSxrQkFDK0I7QUFDL0IsUUFBTSxRQUFRLFFBQVE7QUFFdEIsTUFBSSxTQUFrQztBQUN0QyxNQUFJLFFBQXNCLHVEQUFZLENBQUM7QUFFdkMsU0FBTywyQ0FBSyxDQUFDLE1BQU0saUJBQWlCLENBQUMsRUFBRTtBQUFBLElBQ3JDLDhDQUFRLENBQUMsQ0FBQyxRQUFRO0FBQ2hCLFlBQU0sY0FBYyxZQUFZLElBQUk7QUFDcEMsYUFBTyxtRUFBaUIsQ0FBQyxFQUN0QixVQUE0QjtBQUFBLFFBQzNCLE9BQU8sMkRBQWdCLENBQUM7QUFBQSxRQUN4QixXQUFXLEdBQUc7QUFBQSxRQUNkLE1BQU0sVUFBVTtBQUFBLFFBQ2hCLE1BQU07QUFBQSxVQUNKLEdBQUc7QUFBQSxVQUNILFdBQVc7QUFBQSxZQUNULE1BQU0sTUFBTSxLQUFLLFlBQVk7QUFBQSxZQUM3QixJQUFJLE1BQU0sR0FBRyxZQUFZO0FBQUEsVUFDM0I7QUFBQSxRQUNGO0FBQUEsTUFDRixDQUFDLEVBQ0E7QUFBQSxRQUNDLHlDQUFHLENBQUMsQ0FBQyxRQUFRO0FBQ1gsY0FBSSxhQUFhLE9BQU8sS0FBSyxTQUFTO0FBQ3BDLGtCQUFNLGNBQWMsWUFBWSxJQUFJO0FBQ3BDLGtCQUFNLGNBQWMsY0FBYztBQUVsQyxrQkFBTSxTQUFTLElBQUksUUFBUSxLQUFLLE9BQU8sQ0FBQyxFQUFFLENBQUM7QUFDM0Msa0JBQU0sVUFBVSxJQUFJLFFBQVEsS0FBSyxPQUFPLENBQUMsRUFBRSxDQUFDO0FBQzVDLGtCQUFNLGFBQW1DLElBQUksUUFBUSxLQUFLLE9BQU8s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WTtBQUFBLFFBQ2Q7QUFBQSxNQUNGO0FBQUEsSUFDRjtBQUFBLElBQ0EsTUFBTTtBQUFBLE1BQ0osNEJBQTRCO0FBQUEsSUFDOUI7QUFBQSxFQUNGO0FBQ0EsU0FBTztBQUNUIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZ3JhZmFuYS8uL3B1YmxpYy9hcHAvcGx1Z2lucy9kYXRhc291cmNlL3RlbXBvL3N0cmVhbWluZy50cz8yMjBlIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGNhcGl0YWxpemUgfSBmcm9tICdsb2Rhc2gnO1xuaW1wb3J0IHsgbWFwLCBPYnNlcnZhYmxlLCBkZWZlciwgbWVyZ2VNYXAgfSBmcm9tICdyeGpzJztcbmltcG9ydCB7IHY0IGFzIHV1aWR2NCB9IGZyb20gJ3V1aWQnO1xuXG5pbXBvcnQge1xuICBEYXRhRnJhbWUsXG4gIERhdGFRdWVyeVJlcXVlc3QsXG4gIERhdGFRdWVyeVJlc3BvbnNlLFxuICBEYXRhU291cmNlSW5zdGFuY2VTZXR0aW5ncyxcbiAgRmllbGRUeXBlLFxuICBMaXZlQ2hhbm5lbFNjb3BlLFxuICBMb2FkaW5nU3RhdGUsXG4gIE11dGFibGVEYXRhRnJhbWUsXG4gIFRocmVzaG9sZHNDb25maWcsXG4gIFRocmVzaG9sZHNNb2RlLFxufSBmcm9tICdAZ3JhZmFuYS9kYXRhJztcbmltcG9ydCB7IGdldEdyYWZhbmFMaXZlU3J2IH0gZnJvbSAnQGdyYWZhbmEvcnVudGltZSc7XG5cbmltcG9ydCB7IFNlYXJjaFN0cmVhbWluZ1N0YXRlIH0gZnJvbSAnLi9kYXRhcXVlcnkuZ2VuJztcbmltcG9ydCB7IFRlbXBvRGF0YXNvdXJjZSB9IGZyb20gJy4vZGF0YXNvdXJjZSc7XG5pbXBvcnQgeyBjcmVhdGVUYWJsZUZyYW1lRnJvbVRyYWNlUWxRdWVyeSB9IGZyb20gJy4vcmVzdWx0VHJhbnNmb3JtZXInO1xuaW1wb3J0IHsgU2VhcmNoTWV0cmljcywgVGVtcG9Kc29uRGF0YSwgVGVtcG9RdWVyeSB9IGZyb20gJy4vdHlwZXMnO1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldExpdmVTdHJlYW1LZXkoKTogUHJvbWlzZTxzdHJpbmc+IHtcbiAgcmV0dXJuIHV1aWR2NCgpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZG9UZW1wb0NoYW5uZWxTdHJlYW0oXG4gIHF1ZXJ5OiBUZW1wb1F1ZXJ5LFxuICBkczogVGVtcG9EYXRhc291cmNlLFxuICBvcHRpb25zOiBEYXRhUXVlcnlSZXF1ZXN0PFRlbXBvUXVlcnk+LFxuICBpbnN0YW5jZVNldHRpbmdzOiBEYXRhU291cmNlSW5zdGFuY2VTZXR0aW5nczxUZW1wb0pzb25EYXRhPlxuKTogT2JzZXJ2YWJsZTxEYXRhUXVlcnlSZXNwb25zZT4ge1xuICBjb25zdCByYW5nZSA9IG9wdGlvbnMucmFuZ2U7XG5cbiAgbGV0IGZyYW1lczogRGF0YUZyYW1lW10gfCB1bmRlZmluZWQgPSB1bmRlZmluZWQ7XG4gIGxldCBzdGF0ZTogTG9hZGluZ1N0YXRlID0gTG9hZGluZ1N0YXRlLk5vdFN0YXJ0ZWQ7XG5cbiAgcmV0dXJuIGRlZmVyKCgpID0+IGdldExpdmVTdHJlYW1LZXkoKSkucGlwZShcbiAgICBtZXJnZU1hcCgoa2V5KSA9PiB7XG4gICAgICBjb25zdCByZXF1ZXN0VGltZSA9IHBlcmZvcm1hbmNlLm5vdygpO1xuICAgICAgcmV0dXJuIGdldEdyYWZhbmFMaXZlU3J2KClcbiAgICAgICAgLmdldFN0cmVhbTxNdXRhYmxlRGF0YUZyYW1lPih7XG4gICAgICAgICAgc2NvcGU6IExpdmVDaGFubmVsU2NvcGUuRGF0YVNvdXJjZSxcbiAgICAgICAgICBuYW1lc3BhY2U6IGRzLnVpZCxcbiAgICAgICAgICBwYXRoOiBgc2VhcmNoLyR7a2V5fWAsXG4gICAgICAgICAgZGF0YToge1xuICAgICAgICAgICAgLi4ucXVlcnksXG4gICAgICAgICAgICB0aW1lUmFuZ2U6IHtcbiAgICAgICAgICAgICAgZnJvbTogcmFuZ2UuZnJvbS50b0lTT1N0cmluZygpLFxuICAgICAgICAgICAgICB0bzogcmFuZ2UudG8udG9JU09TdHJpbmcoKSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgfSxcbiAgICAgICAgfSlcbiAgICAgICAgLnBpcGUoXG4gICAgICAgICAgbWFwKChldnQpID0+IHtcbiAgICAgICAgICAgIGlmICgnbWVzc2FnZScgaW4gZXZ0ICYmIGV2dD8ubWVzc2FnZSkge1xuICAgICAgICAgICAgICBjb25zdCBjdXJyZW50VGltZSA9IHBlcmZvcm1hbmNlLm5vdygpO1xuICAgICAgICAgICAgICBjb25zdCBlbGFwc2VkVGltZSA9IGN1cnJlbnRUaW1lIC0gcmVxdWVzdFRpbWU7XG4gICAgICAgICAgICAgIC8vIFNjaGVtYSBzaG91bGQgYmUgW3RyYWNlcywgbWV0cmljcywgc3RhdGUsIGVycm9yXVxuICAgICAgICAgICAgICBjb25zdCB0cmFjZXMgPSBldnQubWVzc2FnZS5kYXRhLnZhbHVlc1swXVswXTtcbiAgICAgICAgICAgICAgY29uc3QgbWV0cmljcyA9IGV2dC5tZXNzYWdlLmRhdGEudmFsdWVzWzFdWzBdO1xuICAgICAgICAgICAgICBjb25zdCBmcmFtZVN0YXRlOiBTZWFyY2hTdHJlYW1pbmdTdGF0ZSA9IGV2dC5tZXNzYWdlLmRhdGEudmFsdWVzWzJdWzBdO1xuICAgICAgICAgICAgICBjb25zdCBlcnJvciA9IGV2dC5tZXNzYWdlLmRhdGEudmFsdWVzWzNdWzBdO1xuXG4gICAgICAgICAgICAgIHN3aXRjaCAoZnJhbWVTdGF0ZSkge1xuICAgICAgICAgICAgICAgIGNhc2UgU2VhcmNoU3RyZWFtaW5nU3RhdGUuRG9uZTpcbiAgICAgICAgICAgICAgICAgIHN0YXRlID0gTG9hZGluZ1N0YXRlLkRvbmU7XG4gICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIFNlYXJjaFN0cmVhbWluZ1N0YXRlLlN0cmVhbWluZzpcbiAgICAgICAgICAgICAgICAgIHN0YXRlID0gTG9hZGluZ1N0YXRlLlN0cmVhbWluZztcbiAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgU2VhcmNoU3RyZWFtaW5nU3RhdGUuRXJyb3I6XG4gICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoZXJyb3IpO1xuICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgZnJhbWVzID0gW1xuICAgICAgICAgICAgICAgIG1ldHJpY3NEYXRhRnJhbWUobWV0cmljcywgZnJhbWVTdGF0ZSwgZWxhcHNlZFRpbWUpLFxuICAgICAgICAgICAgICAgIC4uLmNyZWF0ZVRhYmxlRnJhbWVGcm9tVHJhY2VRbFF1ZXJ5KHRyYWNlcywgaW5zdGFuY2VTZXR0aW5ncyksXG4gICAgICAgICAgICAgIF07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICBkYXRhOiBmcmFtZXMgfHwgW10sXG4gICAgICAgICAgICAgIHN0YXRlLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICB9KVxuICAgICAgICApO1xuICAgIH0pXG4gICk7XG59XG5cbmZ1bmN0aW9uIG1ldHJpY3NEYXRhRnJhbWUobWV0cmljczogU2VhcmNoTWV0cmljcywgc3RhdGU6IFNlYXJjaFN0cmVhbWluZ1N0YXRlLCBlbGFwc2VkVGltZTogbnVtYmVyKSB7XG4gIGNvbnN0IHByb2dyZXNzVGhyZXNob2xkczogVGhyZXNob2xkc0NvbmZpZyA9IHtcbiAgICBzdGVwczogW1xuICAgICAge1xuICAgICAgICBjb2xvcjogJ2JsdWUnLFxuICAgICAgICB2YWx1ZTogLUluZmluaXR5LFxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgY29sb3I6ICdncmVlbicsXG4gICAgICAgIHZhbHVlOiA3NSxcbiAgICAgIH0sXG4gICAgXSxcbiAgICBtb2RlOiBUaHJlc2hvbGRzTW9kZS5BYnNvbHV0ZSxcbiAgfTtcblxuICBjb25zdCBmcmFtZTogRGF0YUZyYW1lID0ge1xuICAgIHJlZklkOiAnc3RyZWFtaW5nLXByb2dyZXNzJyxcbiAgICBuYW1lOiAnU3RyZWFtaW5nIFByb2dyZXNzJyxcbiAgICBsZW5ndGg6IDEsXG4gICAgZmllbGRzOiBbXG4gICAgICB7XG4gICAgICAgIG5hbWU6ICdzdGF0ZScsXG4gICAgICAgIHR5cGU6IEZpZWxkVHlwZS5zdHJpbmcsXG4gICAgICAgIHZhbHVlczogW2NhcGl0YWxpemUoc3RhdGUudG9TdHJpbmcoKSldLFxuICAgICAgICBjb25maWc6IHtcbiAgICAgICAgICBkaXNwbGF5TmFtZUZyb21EUzogJ1N0YXRlJyxcbiAgICAgICAgfSxcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIG5hbWU6ICdlbGFwc2VkVGltZScsXG4gICAgICAgIHR5cGU6IEZpZWxkVHlwZS5udW1iZXIsXG4gICAgICAgIHZhbHVlczogW2VsYXBzZWRUaW1lXSxcbiAgICAgICAgY29uZmlnOiB7XG4gICAgICAgICAgdW5pdDogJ21zJyxcbiAgICAgICAgICBkaXNwbGF5TmFtZUZyb21EUzogJ0VsYXBzZWQgVGltZScsXG4gICAgICAgIH0sXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBuYW1lOiAndG90YWxCbG9ja3MnLFxuICAgICAgICB0eXBlOiBGaWVsZFR5cGUubnVtYmVyLFxuICAgICAgICB2YWx1ZXM6IFttZXRyaWNzLnRvdGFsQmxvY2tzXSxcbiAgICAgICAgY29uZmlnOiB7XG4gICAgICAgICAgZGlzcGxheU5hbWVGcm9tRFM6ICdUb3RhbCBCbG9ja3MnLFxuICAgICAgICB9LFxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgbmFtZTogJ2NvbXBsZXRlZEpvYnMnLFxuICAgICAgICB0eXBlOiBGaWVsZFR5cGUubnVtYmVyLFxuICAgICAgICB2YWx1ZXM6IFttZXRyaWNzLmNvbXBsZXRlZEpvYnNdLFxuICAgICAgICBjb25maWc6IHtcbiAgICAgICAgICBkaXNwbGF5TmFtZUZyb21EUzogJ0NvbXBsZXRlZCBKb2JzJyxcbiAgICAgICAgfSxcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIG5hbWU6ICd0b3RhbEpvYnMnLFxuICAgICAgICB0eXBlOiBGaWVsZFR5cGUubnVtYmVyLFxuICAgICAgICB2YWx1ZXM6IFttZXRyaWNzLnRvdGFsSm9ic10sXG4gICAgICAgIGNvbmZpZzoge1xuICAgICAgICAgIGRpc3BsYXlOYW1lRnJvbURTOiAnVG90YWwgSm9icycsXG4gICAgICAgIH0sXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBuYW1lOiAncHJvZ3Jlc3MnLFxuICAgICAgICB0eXBlOiBGaWVsZFR5cGUubnVtYmVyLFxuICAgICAgICB2YWx1ZXM6IFtcbiAgICAgICAgICBzdGF0ZSA9PT0gU2VhcmNoU3RyZWFtaW5nU3RhdGUuRG9uZSA/IDEwMCA6ICgobWV0cmljcy5jb21wbGV0ZWRKb2JzIHx8IDApIC8gKG1ldHJpY3MudG90YWxKb2JzIHx8IDEpKSAqIDEwMCxcbiAgICAgICAgXSxcbiAgICAgICAgY29uZmlnOiB7XG4gICAgICAgICAgZGlzcGxheU5hbWVGcm9tRFM6ICdQcm9ncmVzcycsXG4gICAgICAgICAgdW5pdDogJ3BlcmNlbnQnLFxuICAgICAgICAgIG1pbjogMCxcbiAgICAgICAgICBtYXg6IDEwMCxcbiAgICAgICAgICBjdXN0b206IHtcbiAgICAgICAgICAgIGNlbGxPcHRpb25zOiB7XG4gICAgICAgICAgICAgIHR5cGU6ICdnYXVnZScsXG4gICAgICAgICAgICAgIG1vZGU6ICdncmFkaWVudCcsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgIH0sXG4gICAgICAgICAgdGhyZXNob2xkczogcHJvZ3Jlc3NUaHJlc2hvbGRzLFxuICAgICAgICB9LFxuICAgICAgfSxcbiAgICBdLFxuICAgIG1ldGE6IHtcbiAgICAgIHByZWZlcnJlZFZpc3VhbGlzYXRpb25UeXBlOiAndGFibGUnLFxuICAgIH0sXG4gIH07XG4gIHJldHVybiBmcmFtZTtcbn1cbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./public/app/plugins/datasource/tempo/streaming.ts\n");

/***/ }),

/***/ "./public/app/plugins/datasource/tempo/traceql/QueryEditor.tsx":
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   QueryEditor: () => (/* binding */ QueryEditor)\n/* harmony export */ });\n/* harmony import */ var _emotion_css__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"./.yarn/cache/@emotion-css-npm-11.11.2-dbfa42cf83-1edea109df.zip/node_modules/@emotion/css/dist/emotion-css.esm.js\");\n/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(\"./.yarn/cache/lodash-npm-4.17.21-6382451519-eb835a2e51.zip/node_modules/lodash/lodash.js\");\n/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(\"./.yarn/cache/react-npm-18.2.0-1eae08fee2-88e38092da.zip/node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _grafana_ui__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(\"./.yarn/__virtual__/@grafana-ui-virtual-d722efae30/1/packages/grafana-ui/src/themes/ThemeContext.tsx\");\n/* harmony import */ var _grafana_ui__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(\"./.yarn/__virtual__/@grafana-ui-virtual-d722efae30/1/packages/grafana-ui/src/components/Forms/InlineLabel.tsx\");\n/* harmony import */ var _types__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(\"./public/app/plugins/datasource/tempo/types.ts\");\n/* harmony import */ var _TempoQueryBuilderOptions__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(\"./public/app/plugins/datasource/tempo/traceql/TempoQueryBuilderOptions.tsx\");\n/* harmony import */ var _TraceQLEditor__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(\"./public/app/plugins/datasource/tempo/traceql/TraceQLEditor.tsx\");\n\n\n\n\n\n\n\n\nfunction QueryEditor(props) {\n  const styles = (0,_grafana_ui__WEBPACK_IMPORTED_MODULE_6__.useStyles2)(getStyles);\n  const query = (0,lodash__WEBPACK_IMPORTED_MODULE_1__.defaults)(props.query, _types__WEBPACK_IMPORTED_MODULE_3__.defaultQuery);\n  const onEditorChange = (value) => {\n    props.onChange({ ...query, query: value });\n  };\n  return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_2___default().createElement((react__WEBPACK_IMPORTED_MODULE_2___default().Fragment), null, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_2___default().createElement(_grafana_ui__WEBPACK_IMPORTED_MODULE_7__.InlineLabel, null, \"Build complex queries using TraceQL to select a list of traces.\", \" \", /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_2___default().createElement(\"a\", { rel: \"noreferrer\", target: \"_blank\", href: \"https://grafana.com/docs/tempo/latest/traceql/\" }, \"Documentation\")), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_2___default().createElement(\n    _TraceQLEditor__WEBPACK_IMPORTED_MODULE_5__.TraceQLEditor,\n    {\n      placeholder: \"Enter a TraceQL query or trace ID (run with Shift+Enter)\",\n      value: query.query,\n      onChange: onEditorChange,\n      datasource: props.datasource,\n      onRunQuery: props.onRunQuery\n    }\n  ), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_2___default().createElement(\"div\", { className: styles.optionsContainer }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_2___default().createElement(_TempoQueryBuilderOptions__WEBPACK_IMPORTED_MODULE_4__.TempoQueryBuilderOptions, { query, onChange: props.onChange })));\n}\nconst getStyles = () => ({\n  optionsContainer: (0,_emotion_css__WEBPACK_IMPORTED_MODULE_0__.css)`\n    margin-top: 10px;\n  `\n});\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9wdWJsaWMvYXBwL3BsdWdpbnMvZGF0YXNvdXJjZS90ZW1wby90cmFjZXFsL1F1ZXJ5RWRpdG9yLnRzeCIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7QUFBb0I7QUFDSztBQUNQO0FBR3NCO0FBR3NCO0FBRXJCO0FBQ1g7QUFJdkIsU0FBUyxZQUFZLE9BQWM7QUFDeEMsUUFBTSxTQUFTLHVEQUFVLENBQUMsU0FBUztBQUNuQyxRQUFNLFFBQVEsZ0RBQVEsQ0FBQyxNQUFNLE9BQU8sZ0RBQVk7QUFFaEQsUUFBTSxpQkFBaUIsQ0FBQyxVQUFrQjtBQUN4QyxVQUFNLFNBQVMsRUFBRSxHQUFHLE9BQU8sT0FBTyxNQUFNLENBQUM7QUFBQSxFQUMzQztBQUVBLFNBQ0UsMElBQ0UsMkVBQUMsb0RBQVcsUUFBQyxtRUFDcUQsS0FDaEUsMkVBQUMsT0FBRSxLQUFJLGNBQWEsUUFBTyxVQUFTLE1BQUssb0RBQWlELGVBRTFGLENBQ0YsR0FDQTtBQUFBLElBQUMseURBQWE7QUFBYjtBQUFBLE1BQ0MsYUFBWTtBQUFBLE1BQ1osT0FBTyxNQUFNO0FBQUEsTUFDYixVQUFVO0FBQUEsTUFDVixZQUFZLE1BQU07QUFBQSxNQUNsQixZQUFZLE1BQU07QUFBQTtBQUFBLEVBQ3BCLEdBQ0EsMkVBQUMsU0FBSSxXQUFXLE9BQU8sb0JBQ3JCLDJFQUFDLCtFQUF3QixJQUFDLE9BQWMsVUFBVSxNQUFNLFVBQVUsQ0FDcEUsQ0FDRjtBQUVKO0FBRUEsTUFBTSxZQUFZLE9BQU87QUFBQSxFQUN2QixrQkFBa0IsaURBQUc7QUFBSDtBQUFBO0FBR3BCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZ3JhZmFuYS8uL3B1YmxpYy9hcHAvcGx1Z2lucy9kYXRhc291cmNlL3RlbXBvL3RyYWNlcWwvUXVlcnlFZGl0b3IudHN4Pzk0NDUiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgY3NzIH0gZnJvbSAnQGVtb3Rpb24vY3NzJztcbmltcG9ydCB7IGRlZmF1bHRzIH0gZnJvbSAnbG9kYXNoJztcbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5cbmltcG9ydCB7IFF1ZXJ5RWRpdG9yUHJvcHMgfSBmcm9tICdAZ3JhZmFuYS9kYXRhJztcbmltcG9ydCB7IElubGluZUxhYmVsLCB1c2VTdHlsZXMyIH0gZnJvbSAnQGdyYWZhbmEvdWknO1xuXG5pbXBvcnQgeyBUZW1wb0RhdGFzb3VyY2UgfSBmcm9tICcuLi9kYXRhc291cmNlJztcbmltcG9ydCB7IGRlZmF1bHRRdWVyeSwgTXlEYXRhU291cmNlT3B0aW9ucywgVGVtcG9RdWVyeSB9IGZyb20gJy4uL3R5cGVzJztcblxuaW1wb3J0IHsgVGVtcG9RdWVyeUJ1aWxkZXJPcHRpb25zIH0gZnJvbSAnLi9UZW1wb1F1ZXJ5QnVpbGRlck9wdGlvbnMnO1xuaW1wb3J0IHsgVHJhY2VRTEVkaXRvciB9IGZyb20gJy4vVHJhY2VRTEVkaXRvcic7XG5cbnR5cGUgUHJvcHMgPSBRdWVyeUVkaXRvclByb3BzPFRlbXBvRGF0YXNvdXJjZSwgVGVtcG9RdWVyeSwgTXlEYXRhU291cmNlT3B0aW9ucz47XG5cbmV4cG9ydCBmdW5jdGlvbiBRdWVyeUVkaXRvcihwcm9wczogUHJvcHMpIHtcbiAgY29uc3Qgc3R5bGVzID0gdXNlU3R5bGVzMihnZXRTdHlsZXMpO1xuICBjb25zdCBxdWVyeSA9IGRlZmF1bHRzKHByb3BzLnF1ZXJ5LCBkZWZhdWx0UXVlcnkpO1xuXG4gIGNvbnN0IG9uRWRpdG9yQ2hhbmdlID0gKHZhbHVlOiBzdHJpbmcpID0+IHtcbiAgICBwcm9wcy5vbkNoYW5nZSh7IC4uLnF1ZXJ5LCBxdWVyeTogdmFsdWUgfSk7XG4gIH07XG5cbiAgcmV0dXJuIChcbiAgICA8PlxuICAgICAgPElubGluZUxhYmVsPlxuICAgICAgICBCdWlsZCBjb21wbGV4IHF1ZXJpZXMgdXNpbmcgVHJhY2VRTCB0byBzZWxlY3QgYSBsaXN0IG9mIHRyYWNlcy57JyAnfVxuICAgICAgICA8YSByZWw9XCJub3JlZmVycmVyXCIgdGFyZ2V0PVwiX2JsYW5rXCIgaHJlZj1cImh0dHBzOi8vZ3JhZmFuYS5jb20vZG9jcy90ZW1wby9sYXRlc3QvdHJhY2VxbC9cIj5cbiAgICAgICAgICBEb2N1bWVudGF0aW9uXG4gICAgICAgIDwvYT5cbiAgICAgIDwvSW5saW5lTGFiZWw+XG4gICAgICA8VHJhY2VRTEVkaXRvclxuICAgICAgICBwbGFjZWhvbGRlcj1cIkVudGVyIGEgVHJhY2VRTCBxdWVyeSBvciB0cmFjZSBJRCAocnVuIHdpdGggU2hpZnQrRW50ZXIpXCJcbiAgICAgICAgdmFsdWU9e3F1ZXJ5LnF1ZXJ5fVxuICAgICAgICBvbkNoYW5nZT17b25FZGl0b3JDaGFuZ2V9XG4gICAgICAgIGRhdGFzb3VyY2U9e3Byb3BzLmRhdGFzb3VyY2V9XG4gICAgICAgIG9uUnVuUXVlcnk9e3Byb3BzLm9uUnVuUXVlcnl9XG4gICAgICAvPlxuICAgICAgPGRpdiBjbGFzc05hbWU9e3N0eWxlcy5vcHRpb25zQ29udGFpbmVyfT5cbiAgICAgICAgPFRlbXBvUXVlcnlCdWlsZGVyT3B0aW9ucyBxdWVyeT17cXVlcnl9IG9uQ2hhbmdlPXtwcm9wcy5vbkNoYW5nZX0gLz5cbiAgICAgIDwvZGl2PlxuICAgIDwvPlxuICApO1xufVxuXG5jb25zdCBnZXRTdHlsZXMgPSAoKSA9PiAoe1xuICBvcHRpb25zQ29udGFpbmVyOiBjc3NgXG4gICAgbWFyZ2luLXRvcDogMTBweDtcbiAgYCxcbn0pO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./public/app/plugins/datasource/tempo/traceql/QueryEditor.tsx\n");

/***/ }),

/***/ "./public/app/plugins/datasource/tempo/traceql/TempoQueryBuilderOptions.tsx":
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   TempoQueryBuilderOptions: () => (/* binding */ TempoQueryBuilderOptions)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"./.yarn/cache/react-npm-18.2.0-1eae08fee2-88e38092da.zip/node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _grafana_experimental__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(\"./.yarn/__virtual__/@grafana-experimental-virtual-ba767552fe/0/cache/@grafana-experimental-npm-1.6.1-f052d2ae51-64c32bc9e3.zip/node_modules/@grafana/experimental/dist/esm/QueryEditor/EditorRow.js\");\n/* harmony import */ var _grafana_experimental__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(\"./.yarn/__virtual__/@grafana-experimental-virtual-ba767552fe/0/cache/@grafana-experimental-npm-1.6.1-f052d2ae51-64c32bc9e3.zip/node_modules/@grafana/experimental/dist/esm/QueryEditor/EditorField.js\");\n/* harmony import */ var _grafana_ui__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(\"./.yarn/__virtual__/@grafana-ui-virtual-d722efae30/1/packages/grafana-ui/src/components/Input/AutoSizeInput.tsx\");\n/* harmony import */ var app_plugins_datasource_prometheus_querybuilder_shared_QueryOptionGroup__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(\"./public/app/plugins/datasource/prometheus/querybuilder/shared/QueryOptionGroup.tsx\");\n/* harmony import */ var _datasource__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(\"./public/app/plugins/datasource/tempo/datasource.ts\");\n\n\n\n\n\n\nconst TempoQueryBuilderOptions = react__WEBPACK_IMPORTED_MODULE_0___default().memo(({ onChange, query }) => {\n  if (!query.hasOwnProperty(\"limit\")) {\n    query.limit = _datasource__WEBPACK_IMPORTED_MODULE_2__.DEFAULT_LIMIT;\n  }\n  const onLimitChange = (e) => {\n    onChange({ ...query, limit: parseInt(e.currentTarget.value, 10) });\n  };\n  const collapsedInfoList = [`Limit: ${query.limit || _datasource__WEBPACK_IMPORTED_MODULE_2__.DEFAULT_LIMIT}`];\n  return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0___default().createElement((react__WEBPACK_IMPORTED_MODULE_0___default().Fragment), null, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_grafana_experimental__WEBPACK_IMPORTED_MODULE_3__.EditorRow, null, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0___default().createElement(app_plugins_datasource_prometheus_querybuilder_shared_QueryOptionGroup__WEBPACK_IMPORTED_MODULE_1__.QueryOptionGroup, { title: \"Options\", collapsedInfo: collapsedInfoList }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_grafana_experimental__WEBPACK_IMPORTED_MODULE_4__.EditorField, { label: \"Limit\", tooltip: \"Maximum number of traces to return.\" }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\n    _grafana_ui__WEBPACK_IMPORTED_MODULE_5__.AutoSizeInput,\n    {\n      className: \"width-4\",\n      placeholder: \"auto\",\n      type: \"number\",\n      min: 1,\n      defaultValue: query.limit || _datasource__WEBPACK_IMPORTED_MODULE_2__.DEFAULT_LIMIT,\n      onCommitChange: onLimitChange,\n      value: query.limit\n    }\n  )))));\n});\nTempoQueryBuilderOptions.displayName = \"TempoQueryBuilderOptions\";\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9wdWJsaWMvYXBwL3BsdWdpbnMvZGF0YXNvdXJjZS90ZW1wby90cmFjZXFsL1RlbXBvUXVlcnlCdWlsZGVyT3B0aW9ucy50c3giLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7O0FBQWtCO0FBRXFCO0FBQ1Q7QUFDRztBQUVIO0FBUXZCLE1BQU0sMkJBQTJCLGlEQUFVLENBQVEsQ0FBQyxFQUFFLFVBQVUsTUFBTSxNQUFNO0FBQ2pGLE1BQUksQ0FBQyxNQUFNLGVBQWUsT0FBTyxHQUFHO0FBQ2xDLFVBQU0sUUFBUSxzREFBYTtBQUFiLEVBQ2hCO0FBRUEsUUFBTSxnQkFBZ0IsQ0FBQyxNQUF5QztBQUM5RCxhQUFTLEVBQUUsR0FBRyxPQUFPLE9BQU8sU0FBUyxFQUFFLGNBQWMsT0FBTyxFQUFFLEVBQUUsQ0FBQztBQUFBLEVBQ25FO0FBRUEsUUFBTSxvQkFBb0IsQ0FBQyxVQUFVLE1BQU0sU0FBUyxzREFBYSxFQUFFO0FBRW5FLFNBQ0UsMElBQ0UsMkVBQUMsNERBQVMsUUFDUiwyRUFBQyxvSEFBZ0IsSUFBQyxPQUFNLFdBQVUsZUFBZSxxQkFDL0MsMkVBQUMsOERBQVcsSUFBQyxPQUFNLFNBQVEsU0FBUSx5Q0FDakM7QUFBQSxJQUFDLHNEQUFhO0FBQWI7QUFBQSxNQUNDLFdBQVU7QUFBQSxNQUNWLGFBQVk7QUFBQSxNQUNaLE1BQUs7QUFBQSxNQUNMLEtBQUs7QUFBQSxNQUNMLGNBQWMsTUFBTSxTQUFTLHNEQUFhO0FBQWIsTUFDN0IsZ0JBQWdCO0FBQUEsTUFDaEIsT0FBTyxNQUFNO0FBQUE7QUFBQSxFQUNmLENBQ0YsQ0FDRixDQUNGLENBQ0Y7QUFFSixDQUFDO0FBRUQseUJBQXlCLGNBQWMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9ncmFmYW5hLy4vcHVibGljL2FwcC9wbHVnaW5zL2RhdGFzb3VyY2UvdGVtcG8vdHJhY2VxbC9UZW1wb1F1ZXJ5QnVpbGRlck9wdGlvbnMudHN4PzQwZjgiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcblxuaW1wb3J0IHsgRWRpdG9yRmllbGQsIEVkaXRvclJvdyB9IGZyb20gJ0BncmFmYW5hL2V4cGVyaW1lbnRhbCc7XG5pbXBvcnQgeyBBdXRvU2l6ZUlucHV0IH0gZnJvbSAnQGdyYWZhbmEvdWknO1xuaW1wb3J0IHsgUXVlcnlPcHRpb25Hcm91cCB9IGZyb20gJ2FwcC9wbHVnaW5zL2RhdGFzb3VyY2UvcHJvbWV0aGV1cy9xdWVyeWJ1aWxkZXIvc2hhcmVkL1F1ZXJ5T3B0aW9uR3JvdXAnO1xuXG5pbXBvcnQgeyBERUZBVUxUX0xJTUlUIH0gZnJvbSAnLi4vZGF0YXNvdXJjZSc7XG5pbXBvcnQgeyBUZW1wb1F1ZXJ5IH0gZnJvbSAnLi4vdHlwZXMnO1xuXG5pbnRlcmZhY2UgUHJvcHMge1xuICBvbkNoYW5nZTogKHZhbHVlOiBUZW1wb1F1ZXJ5KSA9PiB2b2lkO1xuICBxdWVyeTogUGFydGlhbDxUZW1wb1F1ZXJ5PiAmIFRlbXBvUXVlcnk7XG59XG5cbmV4cG9ydCBjb25zdCBUZW1wb1F1ZXJ5QnVpbGRlck9wdGlvbnMgPSBSZWFjdC5tZW1vPFByb3BzPigoeyBvbkNoYW5nZSwgcXVlcnkgfSkgPT4ge1xuICBpZiAoIXF1ZXJ5Lmhhc093blByb3BlcnR5KCdsaW1pdCcpKSB7XG4gICAgcXVlcnkubGltaXQgPSBERUZBVUxUX0xJTUlUO1xuICB9XG5cbiAgY29uc3Qgb25MaW1pdENoYW5nZSA9IChlOiBSZWFjdC5Gb3JtRXZlbnQ8SFRNTElucHV0RWxlbWVudD4pID0+IHtcbiAgICBvbkNoYW5nZSh7IC4uLnF1ZXJ5LCBsaW1pdDogcGFyc2VJbnQoZS5jdXJyZW50VGFyZ2V0LnZhbHVlLCAxMCkgfSk7XG4gIH07XG5cbiAgY29uc3QgY29sbGFwc2VkSW5mb0xpc3QgPSBbYExpbWl0OiAke3F1ZXJ5LmxpbWl0IHx8IERFRkFVTFRfTElNSVR9YF07XG5cbiAgcmV0dXJuIChcbiAgICA8PlxuICAgICAgPEVkaXRvclJvdz5cbiAgICAgICAgPFF1ZXJ5T3B0aW9uR3JvdXAgdGl0bGU9XCJPcHRpb25zXCIgY29sbGFwc2VkSW5mbz17Y29sbGFwc2VkSW5mb0xpc3R9PlxuICAgICAgICAgIDxFZGl0b3JGaWVsZCBsYWJlbD1cIkxpbWl0XCIgdG9vbHRpcD1cIk1heGltdW0gbnVtYmVyIG9mIHRyYWNlcyB0byByZXR1cm4uXCI+XG4gICAgICAgICAgICA8QXV0b1NpemVJbnB1dFxuICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ3aWR0aC00XCJcbiAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCJhdXRvXCJcbiAgICAgICAgICAgICAgdHlwZT1cIm51bWJlclwiXG4gICAgICAgICAgICAgIG1pbj17MX1cbiAgICAgICAgICAgICAgZGVmYXVsdFZhbHVlPXtxdWVyeS5saW1pdCB8fCBERUZBVUxUX0xJTUlUfVxuICAgICAgICAgICAgICBvbkNvbW1pdENoYW5nZT17b25MaW1pdENoYW5nZX1cbiAgICAgICAgICAgICAgdmFsdWU9e3F1ZXJ5LmxpbWl0fVxuICAgICAgICAgICAgLz5cbiAgICAgICAgICA8L0VkaXRvckZpZWxkPlxuICAgICAgICA8L1F1ZXJ5T3B0aW9uR3JvdXA+XG4gICAgICA8L0VkaXRvclJvdz5cbiAgICA8Lz5cbiAgKTtcbn0pO1xuXG5UZW1wb1F1ZXJ5QnVpbGRlck9wdGlvbnMuZGlzcGxheU5hbWUgPSAnVGVtcG9RdWVyeUJ1aWxkZXJPcHRpb25zJztcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./public/app/plugins/datasource/tempo/traceql/TempoQueryBuilderOptions.tsx\n");

/***/ }),

/***/ "./public/app/plugins/datasource/tempo/traceql/TraceQLEditor.tsx":
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   TraceQLEditor: () => (/* binding */ TraceQLEditor)\n/* harmony export */ });\n/* harmony import */ var _emotion_css__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"./.yarn/cache/@emotion-css-npm-11.11.2-dbfa42cf83-1edea109df.zip/node_modules/@emotion/css/dist/emotion-css.esm.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(\"./.yarn/cache/react-npm-18.2.0-1eae08fee2-88e38092da.zip/node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _grafana_runtime__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(\"./.yarn/__virtual__/@grafana-runtime-virtual-68c57d4c0c/1/packages/grafana-runtime/src/analytics/utils.ts\");\n/* harmony import */ var _grafana_ui__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(\"./.yarn/__virtual__/@grafana-ui-virtual-d722efae30/1/packages/grafana-ui/src/themes/ThemeContext.tsx\");\n/* harmony import */ var _grafana_ui__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(\"./.yarn/__virtual__/@grafana-ui-virtual-d722efae30/1/packages/grafana-ui/src/components/Monaco/CodeEditor.tsx\");\n/* harmony import */ var _core_copy_appNotification__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(\"./public/app/core/copy/appNotification.ts\");\n/* harmony import */ var _core_reducers_appNotification__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(\"./public/app/core/reducers/appNotification.ts\");\n/* harmony import */ var _store_store__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(\"./public/app/store/store.ts\");\n/* harmony import */ var _autocomplete__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(\"./public/app/plugins/datasource/tempo/traceql/autocomplete.ts\");\n/* harmony import */ var _traceql__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(\"./public/app/plugins/datasource/tempo/traceql/traceql.ts\");\n\n\n\n\n\n\n\n\n\n\nfunction TraceQLEditor(props) {\n  const { onChange, onRunQuery, placeholder } = props;\n  const setupAutocompleteFn = useAutocomplete(props.datasource);\n  const theme = (0,_grafana_ui__WEBPACK_IMPORTED_MODULE_7__.useTheme2)();\n  const styles = getStyles(theme, placeholder);\n  const onRunQueryRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(onRunQuery);\n  onRunQueryRef.current = onRunQuery;\n  return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_1___default().createElement(\n    _grafana_ui__WEBPACK_IMPORTED_MODULE_8__.CodeEditor,\n    {\n      value: props.value,\n      language: langId,\n      onBlur: onChange,\n      onChange,\n      containerStyles: styles.queryField,\n      readOnly: props.readOnly,\n      monacoOptions: {\n        folding: false,\n        fontSize: 14,\n        lineNumbers: \"off\",\n        overviewRulerLanes: 0,\n        renderLineHighlight: \"none\",\n        scrollbar: {\n          vertical: \"hidden\",\n          verticalScrollbarSize: 8,\n          // used as \"padding-right\"\n          horizontal: \"hidden\",\n          horizontalScrollbarSize: 0\n        },\n        scrollBeyondLastLine: false,\n        wordWrap: \"on\"\n      },\n      onBeforeEditorMount: ensureTraceQL,\n      onEditorDidMount: (editor, monaco) => {\n        if (!props.readOnly) {\n          setupAutocompleteFn(editor, monaco, setupRegisterInteractionCommand(editor));\n          setupActions(editor, monaco, () => onRunQueryRef.current());\n          setupPlaceholder(editor, monaco, styles);\n        }\n        setupAutoSize(editor);\n      }\n    }\n  );\n}\nfunction setupPlaceholder(editor, monaco, styles) {\n  const placeholderDecorators = [\n    {\n      range: new monaco.Range(1, 1, 1, 1),\n      options: {\n        className: styles.placeholder,\n        // The placeholder text is in styles.placeholder\n        isWholeLine: true\n      }\n    }\n  ];\n  let decorators = [];\n  const checkDecorators = () => {\n    const model = editor.getModel();\n    if (!model) {\n      return;\n    }\n    const newDecorators = model.getValueLength() === 0 ? placeholderDecorators : [];\n    decorators = model.deltaDecorations(decorators, newDecorators);\n  };\n  checkDecorators();\n  editor.onDidChangeModelContent(checkDecorators);\n}\nfunction setupActions(editor, monaco, onRunQuery) {\n  editor.addAction({\n    id: \"run-query\",\n    label: \"Run Query\",\n    keybindings: [monaco.KeyMod.Shift | monaco.KeyCode.Enter],\n    contextMenuGroupId: \"navigation\",\n    contextMenuOrder: 1.5,\n    run: function() {\n      onRunQuery();\n    }\n  });\n}\nfunction setupRegisterInteractionCommand(editor) {\n  return editor.addCommand(0, function(_, label, type) {\n    const properties = { datasourceType: \"tempo\", type };\n    if (type !== \"TAG_VALUE\") {\n      properties.label = label;\n    }\n    (0,_grafana_runtime__WEBPACK_IMPORTED_MODULE_9__.reportInteraction)(\"grafana_traces_traceql_completion\", properties);\n  });\n}\nfunction setupAutoSize(editor) {\n  const container = editor.getDomNode();\n  const updateHeight = () => {\n    if (container) {\n      const contentHeight = Math.min(1e3, editor.getContentHeight());\n      const width = parseInt(container.style.width, 10);\n      container.style.width = `${width}px`;\n      container.style.height = `${contentHeight}px`;\n      editor.layout({ width, height: contentHeight });\n    }\n  };\n  editor.onDidContentSizeChange(updateHeight);\n  updateHeight();\n}\nfunction useAutocomplete(datasource) {\n  const providerRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(\n    new _autocomplete__WEBPACK_IMPORTED_MODULE_5__.CompletionProvider({ languageProvider: datasource.languageProvider })\n  );\n  (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(() => {\n    const fetchTags = async () => {\n      try {\n        await datasource.languageProvider.start();\n      } catch (error) {\n        if (error instanceof Error) {\n          (0,_store_store__WEBPACK_IMPORTED_MODULE_4__.dispatch)((0,_core_reducers_appNotification__WEBPACK_IMPORTED_MODULE_3__.notifyApp)((0,_core_copy_appNotification__WEBPACK_IMPORTED_MODULE_2__.createErrorNotification)(\"Error\", error)));\n        }\n      }\n    };\n    fetchTags();\n  }, [datasource]);\n  const autocompleteDisposeFun = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n  (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(() => {\n    return () => {\n      autocompleteDisposeFun.current?.();\n    };\n  }, []);\n  return (editor, monaco, registerInteractionCommandId) => {\n    providerRef.current.editor = editor;\n    providerRef.current.monaco = monaco;\n    providerRef.current.setRegisterInteractionCommandId(registerInteractionCommandId);\n    const { dispose } = monaco.languages.registerCompletionItemProvider(langId, providerRef.current);\n    autocompleteDisposeFun.current = dispose;\n  };\n}\nlet traceqlSetupDone = false;\nconst langId = \"traceql\";\nfunction ensureTraceQL(monaco) {\n  if (!traceqlSetupDone) {\n    traceqlSetupDone = true;\n    const { aliases, extensions, mimetypes, def } = _traceql__WEBPACK_IMPORTED_MODULE_6__.languageDefinition;\n    monaco.languages.register({ id: langId, aliases, extensions, mimetypes });\n    monaco.languages.setMonarchTokensProvider(langId, def.language);\n    monaco.languages.setLanguageConfiguration(langId, def.languageConfiguration);\n  }\n}\nconst getStyles = (theme, placeholder) => {\n  return {\n    queryField: (0,_emotion_css__WEBPACK_IMPORTED_MODULE_0__.css)`\n      border-radius: ${theme.shape.borderRadius()};\n      border: 1px solid ${theme.components.input.borderColor};\n      flex: 1;\n    `,\n    placeholder: (0,_emotion_css__WEBPACK_IMPORTED_MODULE_0__.css)`\n      ::after {\n        content: '${placeholder}';\n        font-family: ${theme.typography.fontFamilyMonospace};\n        opacity: 0.3;\n      }\n    `\n  };\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9wdWJsaWMvYXBwL3BsdWdpbnMvZGF0YXNvdXJjZS90ZW1wby90cmFjZXFsL1RyYWNlUUxFZGl0b3IudHN4IiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBb0I7QUFFcUI7QUFHUDtBQUN5QjtBQUVuQjtBQUNkO0FBQ0Q7QUFHMEI7QUFDaEI7QUFXNUIsU0FBUyxjQUFjLE9BQWM7QUFDMUMsUUFBTSxFQUFFLFVBQVUsWUFBWSxZQUFZLElBQUk7QUFDOUMsUUFBTSxzQkFBc0IsZ0JBQWdCLE1BQU0sVUFBVTtBQUM1RCxRQUFNLFFBQVEsc0RBQVMsQ0FBQztBQUN4QixRQUFNLFNBQVMsVUFBVSxPQUFPLFdBQVc7QUFHM0MsUUFBTSxnQkFBZ0IsNkNBQU0sQ0FBQyxVQUFVO0FBQ3ZDLGdCQUFjLFVBQVU7QUFFeEIsU0FDRTtBQUFBLElBQUMsbURBQVU7QUFBVjtBQUFBLE1BQ0MsT0FBTyxNQUFNO0FBQUEsTUFDYixVQUFVO0FBQUEsTUFDVixRQUFRO0FBQUEsTUFDUjtBQUFBLE1BQ0EsaUJBQWlCLE9BQU87QUFBQSxNQUN4QixVQUFVLE1BQU07QUFBQSxNQUNoQixlQUFlO0FBQUEsUUFDYixTQUFTO0FBQUEsUUFDVCxVQUFVO0FBQUEsUUFDVixhQUFhO0FBQUEsUUFDYixvQkFBb0I7QUFBQSxRQUNwQixxQkFBcUI7QUFBQSxRQUNyQixXQUFXO0FBQUEsVUFDVCxVQUFVO0FBQUEsVUFDVix1QkFBdUI7QUFBQTtBQUFBLFVBQ3ZCLFlBQVk7QUFBQSxVQUNaLHlCQUF5QjtBQUFBLFFBQzNCO0FBQUEsUUFDQSxzQkFBc0I7QUFBQSxRQUN0QixVQUFVO0FBQUEsTUFDWjtBQUFBLE1BQ0EscUJBQXFCO0FBQUEsTUFDckIsa0JBQWtCLENBQUMsUUFBUSxXQUFXO0FBQ3BDLFlBQUksQ0FBQyxNQUFNLFVBQVU7QUFDbkIsOEJBQW9CLFFBQVEsUUFBUSxnQ0FBZ0MsTUFBTSxDQUFDO0FBQzNFLHVCQUFhLFFBQVEsUUFBUSxNQUFNLGNBQWMsUUFBUSxDQUFDO0FBQzFE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LGlDQUNHO0FBQ0gsZ0JBQVksUUFBUSxTQUFTO0FBQzdCLGdCQUFZLFFBQVEsU0FBUztBQUM3QixnQkFBWSxRQUFRLGdDQUFnQyw0QkFBNEI7QUFFaEYsVUFBTSxFQUFFLFFBQVEsSUFBSSxPQUFPLFVBQVUsK0JBQStCLFFBQVEsWUFBWSxPQUFPO0FBQy9GLDJCQUF1QixVQUFVO0FBQUEsRUFDbkM7QUFDRjtBQUdBLElBQUksbUJBQW1CO0FBQ3ZCLE1BQU0sU0FBUztBQUVmLFNBQVMsY0FBYyxRQUFnQjtBQUNyQyxNQUFJLENBQUMsa0JBQWtCO0FBQ3JCLHVCQUFtQjtBQUNuQixVQUFNLEVBQUUsU0FBUyxZQUFZLFdBQVcsSUFBSSxJQUFJLHdEQUFrQjtBQUNsRSxXQUFPLFVBQVUsU0FBUyxFQUFFLElBQUksUUFBUSxTQUFTLFlBQVksVUFBVSxDQUFDO0FBQ3hFLFdBQU8sVUFBVSx5QkFBeUIsUUFBUSxJQUFJLFFBQXNDO0FBQzVGLFdBQU8sVUFBVSx5QkFBeUIsUUFBUSxJQUFJLHFCQUF3RDtBQUFBLEVBQ2hIO0FBQ0Y7QUFPQSxNQUFNLFlBQVksQ0FBQyxPQUFzQixnQkFBc0M7QUFDN0UsU0FBTztBQUFBLElBQ0wsWUFBWSxpREFBRztBQUFILHVCQUNPLE1BQU0sTUFBTSxhQUFhO0FBQUEsMEJBQ3RCLE1BQU0sV0FBVyxNQUFNO0FBQUE7QUFBQTtBQUFBLElBRzdDLGFBQWEsaURBQUc7QUFBSDtBQUFBLG9CQUVHO0FBQUEsdUJBQ0csTUFBTSxXQUFXO0FBQUE7QUFBQTtBQUFBO0FBQUEsRUFJdEM7QUFDRiIsInNvdXJjZXMiOlsid2VicGFjazovL2dyYWZhbmEvLi9wdWJsaWMvYXBwL3BsdWdpbnMvZGF0YXNvdXJjZS90ZW1wby90cmFjZXFsL1RyYWNlUUxFZGl0b3IudHN4P2RkNWIiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgY3NzIH0gZnJvbSAnQGVtb3Rpb24vY3NzJztcbmltcG9ydCB0eXBlIHsgbGFuZ3VhZ2VzIH0gZnJvbSAnbW9uYWNvLWVkaXRvcic7XG5pbXBvcnQgUmVhY3QsIHsgdXNlRWZmZWN0LCB1c2VSZWYgfSBmcm9tICdyZWFjdCc7XG5cbmltcG9ydCB7IEdyYWZhbmFUaGVtZTIgfSBmcm9tICdAZ3JhZmFuYS9kYXRhJztcbmltcG9ydCB7IHJlcG9ydEludGVyYWN0aW9uIH0gZnJvbSAnQGdyYWZhbmEvcnVudGltZSc7XG5pbXBvcnQgeyBDb2RlRWRpdG9yLCBNb25hY28sIG1vbmFjb1R5cGVzLCB1c2VUaGVtZTIgfSBmcm9tICdAZ3JhZmFuYS91aSc7XG5cbmltcG9ydCB7IGNyZWF0ZUVycm9yTm90aWZpY2F0aW9uIH0gZnJvbSAnLi4vLi4vLi4vLi4vY29yZS9jb3B5L2FwcE5vdGlmaWNhdGlvbic7XG5pbXBvcnQgeyBub3RpZnlBcHAgfSBmcm9tICcuLi8uLi8uLi8uLi9jb3JlL3JlZHVjZXJzL2FwcE5vdGlmaWNhdGlvbic7XG5pbXBvcnQgeyBkaXNwYXRjaCB9IGZyb20gJy4uLy4uLy4uLy4uL3N0b3JlL3N0b3JlJztcbmltcG9ydCB7IFRlbXBvRGF0YXNvdXJjZSB9IGZyb20gJy4uL2RhdGFzb3VyY2UnO1xuXG5pbXBvcnQgeyBDb21wbGV0aW9uUHJvdmlkZXIsIENvbXBsZXRpb25UeXBlIH0gZnJvbSAnLi9hdXRvY29tcGxldGUnO1xuaW1wb3J0IHsgbGFuZ3VhZ2VEZWZpbml0aW9uIH0gZnJvbSAnLi90cmFjZXFsJztcblxuaW50ZXJmYWNlIFByb3BzIHtcbiAgcGxhY2Vob2xkZXI6IHN0cmluZztcbiAgdmFsdWU6IHN0cmluZztcbiAgb25DaGFuZ2U6ICh2YWw6IHN0cmluZykgPT4gdm9pZDtcbiAgb25SdW5RdWVyeTogKCkgPT4gdm9pZDtcbiAgZGF0YXNvdXJjZTogVGVtcG9EYXRhc291cmNlO1xuICByZWFkT25seT86IGJvb2xlYW47XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBUcmFjZVFMRWRpdG9yKHByb3BzOiBQcm9wcykge1xuICBjb25zdCB7IG9uQ2hhbmdlLCBvblJ1blF1ZXJ5LCBwbGFjZWhvbGRlciB9ID0gcHJvcHM7XG4gIGNvbnN0IHNldHVwQXV0b2NvbXBsZXRlRm4gPSB1c2VBdXRvY29tcGxldGUocHJvcHMuZGF0YXNvdXJjZSk7XG4gIGNvbnN0IHRoZW1lID0gdXNlVGhlbWUyKCk7XG4gIGNvbnN0IHN0eWxlcyA9IGdldFN0eWxlcyh0aGVtZSwgcGxhY2Vob2xkZXIpO1xuICAvLyB3b3JrIGFyb3VuZCB0aGUgcHJvYmxlbSB0aGF0IGBvbkVkaXRvckRpZE1vdW50YCBpcyBjYWxsZWQgb25jZVxuICAvLyBhbmQgd291bGRuJ3QgZ2V0IG5ldyB2ZXJzaW9uIG9mIG9uUnVuUXVlcnlcbiAgY29uc3Qgb25SdW5RdWVyeVJlZiA9IHVzZVJlZihvblJ1blF1ZXJ5KTtcbiAgb25SdW5RdWVyeVJlZi5jdXJyZW50ID0gb25SdW5RdWVyeTtcblxuICByZXR1cm4gKFxuICAgIDxDb2RlRWRpdG9yXG4gICAgICB2YWx1ZT17cHJvcHMudmFsdWV9XG4gICAgICBsYW5ndWFnZT17bGFuZ0lkfVxuICAgICAgb25CbHVyPXtvbkNoYW5nZX1cbiAgICAgIG9uQ2hhbmdlPXtvbkNoYW5nZX1cbiAgICAgIGNvbnRhaW5lclN0eWxlcz17c3R5bGVzLnF1ZXJ5RmllbGR9XG4gICAgICByZWFkT25seT17cHJvcHMucmVhZE9ubHl9XG4gICAgICBtb25hY29PcHRpb25zPXt7XG4gICAgICAgIGZvbGRpbmc6IGZhbHNlLFxuICAgICAgICBmb250U2l6ZTogMTQsXG4gICAgICAgIGxpbmVOdW1iZXJzOiAnb2ZmJyxcbiAgICAgICAgb3ZlcnZpZXdSdWxlckxhbmVzOiAwLFxuICAgICAgICByZW5kZXJMaW5lSGlnaGxpZ2h0OiAnbm9uZScsXG4gICAgICAgIHNjcm9sbGJhcjoge1xuICAgICAgICAgIHZlcnRpY2FsOiAnaGlkZGVuJyxcbiAgICAgICAgICB2ZXJ0aWNhbFNjcm9sbGJhclNpemU6IDgsIC8vIHVzZWQgYXMgXCJwYWRkaW5nLXJpZ2h0XCJcbiAgICAgICAgICBob3Jpem9udGFsOiAnaGlkZGVuJyxcbiAgICAgICAgICBob3Jpem9udGFsU2Nyb2xsYmFyU2l6ZTogMCxcbiAgICAgICAgfSxcbiAgICAgICAgc2Nyb2xsQmV5b25kTGFzdExpbmU6IGZhbHNlLFxuICAgICAgICB3b3JkV3JhcDogJ29uJyxcbiAgICAgIH19XG4gICAgICBvbkJlZm9yZUVkaXRvck1vdW50PXtlbnN1cmVUcmFjZVFMfVxuICAgICAgb25FZGl0b3JEaWRNb3VudD17KGVkaXRvciwgbW9uYWNvKSA9PiB7XG4gICAgICAgIGlmICghcHJvcHMucmVhZE9ubHkpIHtcbiAgICAgICAgICBzZXR1cEF1dG9jb21wbGV0ZUZuKGVkaXRvciwgbW9uYWNvLCBzZXR1cFJlZ2lzdGVySW50ZXJhY3Rpb25Db21tYW5kKGVkaXRvcikpO1xuICAgICAgICAgIHNldHVwQWN0aW9ucyhlZGl0b3IsIG1vbmFjbywgKCkgPT4gb25SdW5RdWVyeVJlZi5jdXJyZW50KCkpO1xuICAgICAgICAgIHNldHVwUGxhY2Vob2xkZXIoZWRpdG9yLCBtb25hY28sIHN0eWxlcyk7XG4gICAgICAgIH1cbiAgICAgICAgc2V0dXBBdXRvU2l6ZShlZGl0b3IpO1xuICAgICAgfX1cbiAgICAvPlxuICApO1xufVxuXG5mdW5jdGlvbiBzZXR1cFBsYWNlaG9sZGVyKGVkaXRvcjogbW9uYWNvVHlwZXMuZWRpdG9yLklTdGFuZGFsb25lQ29kZUVkaXRvciwgbW9uYWNvOiBNb25hY28sIHN0eWxlczogRWRpdG9yU3R5bGVzKSB7XG4gIGNvbnN0IHBsYWNlaG9sZGVyRGVjb3JhdG9ycyA9IFtcbiAgICB7XG4gICAgICByYW5nZTogbmV3IG1vbmFjby5SYW5nZSgxLCAxLCAxLCAxKSxcbiAgICAgIG9wdGlvbnM6IHtcbiAgICAgICAgY2xhc3NOYW1lOiBzdHlsZXMucGxhY2Vob2xkZXIsIC8vIFRoZSBwbGFjZWhvbGRlciB0ZXh0IGlzIGluIHN0eWxlcy5wbGFjZWhvbGRlclxuICAgICAgICBpc1dob2xlTGluZTogdHJ1ZSxcbiAgICAgIH0sXG4gICAgfSxcbiAgXTtcblxuICBsZXQgZGVjb3JhdG9yczogc3RyaW5nW10gPSBbXTtcblxuICBjb25zdCBjaGVja0RlY29yYXRvcnMgPSAoKTogdm9pZCA9PiB7XG4gICAgY29uc3QgbW9kZWwgPSBlZGl0b3IuZ2V0TW9kZWwoKTtcblxuICAgIGlmICghbW9kZWwpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjb25zdCBuZXdEZWNvcmF0b3JzID0gbW9kZWwuZ2V0VmFsdWVMZW5ndGgoKSA9PT0gMCA/IHBsYWNlaG9sZGVyRGVjb3JhdG9ycyA6IFtdO1xuICAgIGRlY29yYXRvcnMgPSBtb2RlbC5kZWx0YURlY29yYXRpb25zKGRlY29yYXRvcnMsIG5ld0RlY29yYXRvcnMpO1xuICB9O1xuXG4gIGNoZWNrRGVjb3JhdG9ycygpO1xuICBlZGl0b3Iub25EaWRDaGFuZ2VNb2RlbENvbnRlbnQoY2hlY2tEZWNvcmF0b3JzKTtcbn1cblxuZnVuY3Rpb24gc2V0dXBBY3Rpb25zKGVkaXRvcjogbW9uYWNvVHlwZXMuZWRpdG9yLklTdGFuZGFsb25lQ29kZUVkaXRvciwgbW9uYWNvOiBNb25hY28sIG9uUnVuUXVlcnk6ICgpID0+IHZvaWQpIHtcbiAgZWRpdG9yLmFkZEFjdGlvbih7XG4gICAgaWQ6ICdydW4tcXVlcnknLFxuICAgIGxhYmVsOiAnUnVuIFF1ZXJ5JyxcbiAgICBrZXliaW5kaW5nczogW21vbmFjby5LZXlNb2QuU2hpZnQgfCBtb25hY28uS2V5Q29kZS5FbnRlcl0sXG4gICAgY29udGV4dE1lbnVHcm91cElkOiAnbmF2aWdhdGlvbicsXG4gICAgY29udGV4dE1lbnVPcmRlcjogMS41LFxuICAgIHJ1bjogZnVuY3Rpb24gKCkge1xuICAgICAgb25SdW5RdWVyeSgpO1xuICAgIH0sXG4gIH0pO1xufVxuXG5mdW5jdGlvbiBzZXR1cFJlZ2lzdGVySW50ZXJhY3Rpb25Db21tYW5kKGVkaXRvcjogbW9uYWNvVHlwZXMuZWRpdG9yLklTdGFuZGFsb25lQ29kZUVkaXRvcik6IHN0cmluZyB8IG51bGwge1xuICByZXR1cm4gZWRpdG9yLmFkZENvbW1hbmQoMCwgZnVuY3Rpb24gKF8sIGxhYmVsLCB0eXBlOiBDb21wbGV0aW9uVHlwZSkge1xuICAgIGNvbnN0IHByb3BlcnRpZXM6IFJlY29yZDxzdHJpbmcsIHVua25vd24+ID0geyBkYXRhc291cmNlVHlwZTogJ3RlbXBvJywgdHlwZSB9O1xuICAgIC8vIEZpbHRlciBvdXQgdGhlIGxhYmVsIGZvciBUQUdfVkFMVUUgY29tcGxldGlvbnMgdG8gYXZvaWQgcG90ZW50aWFsbHkgZXhwb3Npbmcgc2Vuc2l0aXZlIGRhdGFcbiAgICBpZiAodHlwZSAhPT0gJ1RBR19WQUxVRScpIHtcbiAgICAgIHByb3BlcnRpZXMubGFiZWwgPSBsYWJlbDtcbiAgICB9XG4gICAgcmVwb3J0SW50ZXJhY3Rpb24oJ2dyYWZhbmFfdHJhY2VzX3RyYWNlcWxfY29tcGxldGlvbicsIHByb3BlcnRpZXMpO1xuICB9KTtcbn1cblxuZnVuY3Rpb24gc2V0dXBBdXRvU2l6ZShlZGl0b3I6IG1vbmFjb1R5cGVzLmVkaXRvci5JU3RhbmRhbG9uZUNvZGVFZGl0b3IpIHtcbiAgY29uc3QgY29udGFpbmVyID0gZWRpdG9yLmdldERvbU5vZGUoKTtcbiAgY29uc3QgdXBkYXRlSGVpZ2h0ID0gKCkgPT4ge1xuICAgIGlmIChjb250YWluZXIpIHtcbiAgICAgIGNvbnN0IGNvbnRlbnRIZWlnaHQgPSBNYXRoLm1pbigxMDAwLCBlZGl0b3IuZ2V0Q29udGVudEhlaWdodCgpKTtcbiAgICAgIGNvbnN0IHdpZHRoID0gcGFyc2VJbnQoY29udGFpbmVyLnN0eWxlLndpZHRoLCAxMCk7XG4gICAgICBjb250YWluZXIuc3R5bGUud2lkdGggPSBgJHt3aWR0aH1weGA7XG4gICAgICBjb250YWluZXIuc3R5bGUuaGVpZ2h0ID0gYCR7Y29udGVudEhlaWdodH1weGA7XG4gICAgICBlZGl0b3IubGF5b3V0KHsgd2lkdGgsIGhlaWdodDogY29udGVudEhlaWdodCB9KTtcbiAgICB9XG4gIH07XG4gIGVkaXRvci5vbkRpZENvbnRlbnRTaXplQ2hhbmdlKHVwZGF0ZUhlaWdodCk7XG4gIHVwZGF0ZUhlaWdodCgpO1xufVxuXG4vKipcbiAqIEhvb2sgdGhhdCByZXR1cm5zIGZ1bmN0aW9uIHRoYXQgd2lsbCBzZXQgdXAgbW9uYWNvIGF1dG9jb21wbGV0ZSBmb3IgdGhlIGxhYmVsIHNlbGVjdG9yXG4gKiBAcGFyYW0gZGF0YXNvdXJjZVxuICovXG5mdW5jdGlvbiB1c2VBdXRvY29tcGxldGUoZGF0YXNvdXJjZTogVGVtcG9EYXRhc291cmNlKSB7XG4gIC8vIFdlIG5lZWQgdGhlIHByb3ZpZGVyIHJlZiBzbyB3ZSBjYW4gcGFzcyBpdCB0aGUgbGFiZWwvdmFsdWVzIGRhdGEgbGF0ZXIuIFRoaXMgaXMgYmVjYXVzZSB3ZSBydW4gdGhlIGNhbGwgZm9yIHRoZVxuICAvLyB2YWx1ZXMgaGVyZSBidXQgdGhlcmUgaXMgYWRkaXRpb25hbCBzZXR1cCBuZWVkZWQgZm9yIHRoZSBwcm92aWRlciBsYXRlciBvbi4gV2UgY291bGQgcnVuIHRoZSBnZXRTZXJpZXMoKSBpbiB0aGVcbiAgLy8gcmV0dXJuZWQgZnVuY3Rpb24gYnV0IHRoYXQgaXMgcnVuIGFmdGVyIHRoZSBtb25hY28gaXMgbW91bnRlZCBzbyB3b3VsZCBkZWxheSB0aGUgcmVxdWVzdCBhIGJpdCB3aGVuIGl0IGRvZXMgbm90XG4gIC8vIG5lZWQgdG8uXG4gIGNvbnN0IHByb3ZpZGVyUmVmID0gdXNlUmVmPENvbXBsZXRpb25Qcm92aWRlcj4oXG4gICAgbmV3IENvbXBsZXRpb25Qcm92aWRlcih7IGxhbmd1YWdlUHJvdmlkZXI6IGRhdGFzb3VyY2UubGFuZ3VhZ2VQcm92aWRlciB9KVxuICApO1xuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgY29uc3QgZmV0Y2hUYWdzID0gYXN5bmMgKCkgPT4ge1xuICAgICAgdHJ5IHtcbiAgICAgICAgYXdhaXQgZGF0YXNvdXJjZS5sYW5ndWFnZVByb3ZpZGVyLnN0YXJ0KCk7XG4gICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICBpZiAoZXJyb3IgaW5zdGFuY2VvZiBFcnJvcikge1xuICAgICAgICAgIGRpc3BhdGNoKG5vdGlmeUFwcChjcmVhdGVFcnJvck5vdGlmaWNhdGlvbignRXJyb3InLCBlcnJvcikpKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH07XG4gICAgZmV0Y2hUYWdzKCk7XG4gIH0sIFtkYXRhc291cmNlXSk7XG5cbiAgY29uc3QgYXV0b2NvbXBsZXRlRGlzcG9zZUZ1biA9IHVzZVJlZjwoKCkgPT4gdm9pZCkgfCBudWxsPihudWxsKTtcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAvLyB3aGVuIHdlIHVubW91bnQsIHdlIHVucmVnaXN0ZXIgdGhlIGF1dG9jb21wbGV0ZS1mdW5jdGlvbiwgaWYgaXQgd2FzIHJlZ2lzdGVyZWRcbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgYXV0b2NvbXBsZXRlRGlzcG9zZUZ1bi5jdXJyZW50Py4oKTtcbiAgICB9O1xuICB9LCBbXSk7XG5cbiAgLy8gVGhpcyBzaG91bGQgYmUgcnVuIGluIG1vbmFjbyBvbkVkaXRvckRpZE1vdW50XG4gIHJldHVybiAoXG4gICAgZWRpdG9yOiBtb25hY29UeXBlcy5lZGl0b3IuSVN0YW5kYWxvbmVDb2RlRWRpdG9yLFxuICAgIG1vbmFjbzogTW9uYWNvLFxuICAgIHJlZ2lzdGVySW50ZXJhY3Rpb25Db21tYW5kSWQ6IHN0cmluZyB8IG51bGxcbiAgKSA9PiB7XG4gICAgcHJvdmlkZXJSZWYuY3VycmVudC5lZGl0b3IgPSBlZGl0b3I7XG4gICAgcHJvdmlkZXJSZWYuY3VycmVudC5tb25hY28gPSBtb25hY287XG4gICAgcHJvdmlkZXJSZWYuY3VycmVudC5zZXRSZWdpc3RlckludGVyYWN0aW9uQ29tbWFuZElkKHJlZ2lzdGVySW50ZXJhY3Rpb25Db21tYW5kSWQpO1xuXG4gICAgY29uc3QgeyBkaXNwb3NlIH0gPSBtb25hY28ubGFuZ3VhZ2VzLnJlZ2lzdGVyQ29tcGxldGlvbkl0ZW1Qcm92aWRlcihsYW5nSWQsIHByb3ZpZGVyUmVmLmN1cnJlbnQpO1xuICAgIGF1dG9jb21wbGV0ZURpc3Bvc2VGdW4uY3VycmVudCA9IGRpc3Bvc2U7XG4gIH07XG59XG5cbi8vIHdlIG11c3Qgb25seSBydW4gdGhlIHNldHVwIGNvZGUgb25jZVxubGV0IHRyYWNlcWxTZXR1cERvbmUgPSBmYWxzZTtcbmNvbnN0IGxhbmdJZCA9ICd0cmFjZXFsJztcblxuZnVuY3Rpb24gZW5zdXJlVHJhY2VRTChtb25hY286IE1vbmFjbykge1xuICBpZiAoIXRyYWNlcWxTZXR1cERvbmUpIHtcbiAgICB0cmFjZXFsU2V0dXBEb25lID0gdHJ1ZTtcbiAgICBjb25zdCB7IGFsaWFzZXMsIGV4dGVuc2lvbnMsIG1pbWV0eXBlcywgZGVmIH0gPSBsYW5ndWFnZURlZmluaXRpb247XG4gICAgbW9uYWNvLmxhbmd1YWdlcy5yZWdpc3Rlcih7IGlkOiBsYW5nSWQsIGFsaWFzZXMsIGV4dGVuc2lvbnMsIG1pbWV0eXBlcyB9KTtcbiAgICBtb25hY28ubGFuZ3VhZ2VzLnNldE1vbmFyY2hUb2tlbnNQcm92aWRlcihsYW5nSWQsIGRlZi5sYW5ndWFnZSBhcyBsYW5ndWFnZXMuSU1vbmFyY2hMYW5ndWFnZSk7XG4gICAgbW9uYWNvLmxhbmd1YWdlcy5zZXRMYW5ndWFnZUNvbmZpZ3VyYXRpb24obGFuZ0lkLCBkZWYubGFuZ3VhZ2VDb25maWd1cmF0aW9uIGFzIGxhbmd1YWdlcy5MYW5ndWFnZUNvbmZpZ3VyYXRpb24pO1xuICB9XG59XG5cbmludGVyZmFjZSBFZGl0b3JTdHlsZXMge1xuICBwbGFjZWhvbGRlcjogc3RyaW5nO1xuICBxdWVyeUZpZWxkOiBzdHJpbmc7XG59XG5cbmNvbnN0IGdldFN0eWxlcyA9ICh0aGVtZTogR3JhZmFuYVRoZW1lMiwgcGxhY2Vob2xkZXI6IHN0cmluZyk6IEVkaXRvclN0eWxlcyA9PiB7XG4gIHJldHVybiB7XG4gICAgcXVlcnlGaWVsZDogY3NzYFxuICAgICAgYm9yZGVyLXJhZGl1czogJHt0aGVtZS5zaGFwZS5ib3JkZXJSYWRpdXMoKX07XG4gICAgICBib3JkZXI6IDFweCBzb2xpZCAke3RoZW1lLmNvbXBvbmVudHMuaW5wdXQuYm9yZGVyQ29sb3J9O1xuICAgICAgZmxleDogMTtcbiAgICBgLFxuICAgIHBsYWNlaG9sZGVyOiBjc3NgXG4gICAgICA6OmFmdGVyIHtcbiAgICAgICAgY29udGVudDogJyR7cGxhY2Vob2xkZXJ9JztcbiAgICAgICAgZm9udC1mYW1pbHk6ICR7dGhlbWUudHlwb2dyYXBoeS5mb250RmFtaWx5TW9ub3NwYWNlfTtcbiAgICAgICAgb3BhY2l0eTogMC4zO1xuICAgICAgfVxuICAgIGAsXG4gIH07XG59O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./public/app/plugins/datasource/tempo/traceql/TraceQLEditor.tsx\n");

/***/ }),

/***/ "./public/app/plugins/datasource/tempo/traceql/autocomplete.ts":
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   CompletionProvider: () => (/* binding */ CompletionProvider)\n/* harmony export */ });\n/* harmony import */ var _grafana_runtime__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(\"./.yarn/__virtual__/@grafana-runtime-virtual-68c57d4c0c/1/packages/grafana-runtime/src/services/backendSrv.ts\");\n/* harmony import */ var _core_copy_appNotification__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"./public/app/core/copy/appNotification.ts\");\n/* harmony import */ var _core_reducers_appNotification__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(\"./public/app/core/reducers/appNotification.ts\");\n/* harmony import */ var _store_store__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(\"./public/app/store/store.ts\");\n/* harmony import */ var _traceql__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(\"./public/app/plugins/datasource/tempo/traceql/traceql.ts\");\n\n\n\n\n\n\nconst _CompletionProvider = class {\n  constructor(props) {\n    this.triggerCharacters = [\"{\", \".\", \"[\", \"(\", \"=\", \"~\", \" \", '\"'];\n    this.cachedValues = {};\n    this.languageProvider = props.languageProvider;\n    this.registerInteractionCommandId = null;\n  }\n  provideCompletionItems(model, position) {\n    if (!(this.monaco && this.editor)) {\n      throw new Error(\"provideCompletionItems called before CompletionProvider was initialized\");\n    }\n    if (this.editor.getModel()?.id !== model.id) {\n      return { suggestions: [] };\n    }\n    const { range, offset } = getRangeAndOffset(this.monaco, model, position);\n    const situation = this.getSituation(model.getValue(), offset);\n    const completionItems = this.getCompletions(situation);\n    return completionItems.then((items) => {\n      const maxIndexDigits = items.length.toString().length;\n      const suggestions = items.map((item, index) => {\n        const suggestion = {\n          kind: getMonacoCompletionItemKind(item.type, this.monaco),\n          label: item.label,\n          insertText: item.insertText,\n          sortText: index.toString().padStart(maxIndexDigits, \"0\"),\n          // to force the order we have\n          range,\n          command: {\n            id: this.registerInteractionCommandId || \"noOp\",\n            title: \"Report Interaction\",\n            arguments: [item.label, item.type]\n          }\n        };\n        fixSuggestion(suggestion, item.type, model, offset);\n        return suggestion;\n      });\n      return { suggestions };\n    });\n  }\n  /**\n   * Set the ID for the registerInteraction command, to be used to keep track of how many completions are used by the users\n   */\n  setRegisterInteractionCommandId(id) {\n    this.registerInteractionCommandId = id;\n  }\n  async getTagValues(tagName) {\n    let tagValues;\n    if (this.cachedValues.hasOwnProperty(tagName)) {\n      tagValues = this.cachedValues[tagName];\n    } else {\n      tagValues = await this.languageProvider.getOptionsV2(tagName);\n      this.cachedValues[tagName] = tagValues;\n    }\n    return tagValues;\n  }\n  /**\n   * Get suggestion based on the situation we are in like whether we should suggest tag names or values.\n   * @param situation\n   * @private\n   */\n  async getCompletions(situation) {\n    switch (situation.type) {\n      case \"UNKNOWN\": {\n        return [];\n      }\n      case \"EMPTY\": {\n        return this.getScopesCompletions(\"{ \").concat(this.getIntrinsicsCompletions(\"{ \")).concat(this.getTagsCompletions(\"{ .\"));\n      }\n      case \"SPANSET_EMPTY\":\n        return this.getScopesCompletions().concat(this.getIntrinsicsCompletions()).concat(this.getTagsCompletions(\".\"));\n      case \"SPANSET_ONLY_DOT\": {\n        return this.getTagsCompletions();\n      }\n      case \"SPANSET_IN_NAME\":\n        return this.getScopesCompletions().concat(this.getIntrinsicsCompletions()).concat(this.getTagsCompletions());\n      case \"SPANSET_IN_NAME_SCOPE\":\n        return this.getTagsCompletions(void 0, situation.scope);\n      case \"SPANSET_AFTER_NAME\":\n        return _CompletionProvider.operators.map((key) => ({\n          label: key,\n          insertText: key,\n          type: \"OPERATOR\"\n        }));\n      case \"SPANSET_IN_VALUE\":\n        let tagValues;\n        try {\n          tagValues = await this.getTagValues(situation.tagName);\n        } catch (error) {\n          if ((0,_grafana_runtime__WEBPACK_IMPORTED_MODULE_4__.isFetchError)(error)) {\n            (0,_store_store__WEBPACK_IMPORTED_MODULE_2__.dispatch)((0,_core_reducers_appNotification__WEBPACK_IMPORTED_MODULE_1__.notifyApp)((0,_core_copy_appNotification__WEBPACK_IMPORTED_MODULE_0__.createErrorNotification)(error.data.error, new Error(error.data.message))));\n          } else if (error instanceof Error) {\n            (0,_store_store__WEBPACK_IMPORTED_MODULE_2__.dispatch)((0,_core_reducers_appNotification__WEBPACK_IMPORTED_MODULE_1__.notifyApp)((0,_core_copy_appNotification__WEBPACK_IMPORTED_MODULE_0__.createErrorNotification)(\"Error\", error)));\n          }\n        }\n        const items = [];\n        const getInsertionText = (val) => {\n          if (situation.betweenQuotes) {\n            return val.label;\n          }\n          return val.type === \"string\" ? `\"${val.label}\"` : val.label;\n        };\n        tagValues?.forEach((val) => {\n          if (val?.label) {\n            items.push({\n              label: val.label,\n              insertText: getInsertionText(val),\n              type: \"TAG_VALUE\"\n            });\n          }\n        });\n        return items;\n      case \"SPANSET_AFTER_VALUE\":\n        return _CompletionProvider.logicalOps.concat(\"}\").map((key) => ({\n          label: key,\n          insertText: key,\n          type: \"OPERATOR\"\n        }));\n      default:\n        throw new Error(`Unexpected situation ${situation}`);\n    }\n  }\n  getTagsCompletions(prepend, scope) {\n    const tags = this.languageProvider.getTraceqlAutocompleteTags(scope);\n    return tags.sort((a, b) => a.localeCompare(b, void 0, { sensitivity: \"accent\" })).map((key) => ({\n      label: key,\n      insertText: (prepend || \"\") + key,\n      type: \"TAG_NAME\"\n    }));\n  }\n  getIntrinsicsCompletions(prepend) {\n    return _traceql__WEBPACK_IMPORTED_MODULE_3__.intrinsics.map((key) => ({\n      label: key,\n      insertText: (prepend || \"\") + key,\n      type: \"KEYWORD\"\n    }));\n  }\n  getScopesCompletions(prepend) {\n    return _traceql__WEBPACK_IMPORTED_MODULE_3__.scopes.map((key) => ({\n      label: key,\n      insertText: (prepend || \"\") + key,\n      type: \"SCOPE\"\n    }));\n  }\n  getSituationInSpanSet(textUntilCaret) {\n    const nameRegex = /(?<name>[\\w./-]+)?/;\n    const opRegex = /(?<op>[!=+\\-<>]+)/;\n    const valueRegex = /(?<value>(?<open_quote>\")([^\"\\n&|]+)?(?<close_quote>\")?|([^\"\\n\\s&|]+))?/;\n    const fullRegex = new RegExp(\n      \"([\\\\s{])(\" + // Open full set group\n      nameRegex.source + \"(?<space1>\\\\s*)(\" + // Open operator + value group\n      opRegex.source + \"(?<space2>\\\\s*)\" + // Optional space(s) between operator and value\n      valueRegex.source + \")?)(?<space3>\\\\s*)$\"\n      // Optional space(s) at the end of the set\n    );\n    const matched = textUntilCaret.match(fullRegex);\n    if (matched) {\n      const nameFull = matched.groups?.name;\n      const op = matched.groups?.op;\n      if (!nameFull) {\n        return {\n          type: \"SPANSET_EMPTY\"\n        };\n      }\n      if (nameFull === \".\") {\n        return {\n          type: \"SPANSET_ONLY_DOT\"\n        };\n      }\n      const nameMatched = nameFull.match(/^(?<pre_dot>\\.)?(?<word>\\w[\\w./-]*\\w)(?<post_dot>\\.)?$/);\n      if (!op) {\n        if (_traceql__WEBPACK_IMPORTED_MODULE_3__.scopes.filter((w) => w === nameMatched?.groups?.word) && nameMatched?.groups?.post_dot) {\n          return {\n            type: \"SPANSET_IN_NAME_SCOPE\",\n            scope: nameMatched?.groups?.word || \"\"\n          };\n        }\n        return {\n          type: matched.groups?.space1 ? \"SPANSET_AFTER_NAME\" : \"SPANSET_IN_NAME\"\n        };\n      }\n      if (matched.groups?.space3 && matched.groups.open_quote === matched.groups.close_quote) {\n        return {\n          type: \"SPANSET_AFTER_VALUE\"\n        };\n      }\n      return {\n        type: \"SPANSET_IN_VALUE\",\n        tagName: nameFull,\n        betweenQuotes: !!matched.groups?.open_quote\n      };\n    }\n    return {\n      type: \"EMPTY\"\n    };\n  }\n  /**\n   * Figure out where is the cursor and what kind of suggestions are appropriate.\n   * @param text\n   * @param offset\n   */\n  getSituation(text, offset) {\n    if (text === \"\" || offset === 0) {\n      return {\n        type: \"EMPTY\"\n      };\n    }\n    const textUntilCaret = text.substring(0, offset);\n    let isInSpanSet = textUntilCaret.lastIndexOf(\"{\") > textUntilCaret.lastIndexOf(\"}\");\n    if (isInSpanSet) {\n      return this.getSituationInSpanSet(textUntilCaret);\n    }\n    return {\n      type: \"UNKNOWN\"\n    };\n  }\n};\nlet CompletionProvider = _CompletionProvider;\nCompletionProvider.operators = [\"=\", \"-\", \"+\", \"<\", \">\", \">=\", \"<=\", \"=~\"];\nCompletionProvider.logicalOps = [\"&&\", \"||\"];\nfunction getMonacoCompletionItemKind(type, monaco) {\n  switch (type) {\n    case \"TAG_NAME\":\n      return monaco.languages.CompletionItemKind.Enum;\n    case \"KEYWORD\":\n      return monaco.languages.CompletionItemKind.Keyword;\n    case \"OPERATOR\":\n      return monaco.languages.CompletionItemKind.Operator;\n    case \"TAG_VALUE\":\n      return monaco.languages.CompletionItemKind.EnumMember;\n    case \"SCOPE\":\n      return monaco.languages.CompletionItemKind.Class;\n    default:\n      throw new Error(`Unexpected CompletionType: ${type}`);\n  }\n}\nfunction getRangeAndOffset(monaco, model, position) {\n  const word = model.getWordAtPosition(position);\n  const range = word != null ? monaco.Range.lift({\n    startLineNumber: position.lineNumber,\n    endLineNumber: position.lineNumber,\n    startColumn: word.startColumn,\n    endColumn: word.endColumn\n  }) : monaco.Range.fromPositions(position);\n  const positionClone = {\n    column: position.column,\n    lineNumber: position.lineNumber\n  };\n  const offset = model.getOffsetAt(positionClone);\n  return { offset, range };\n}\nfunction fixSuggestion(suggestion, itemType, model, offset) {\n  if (itemType === \"TAG_NAME\") {\n    const match = model.getValue().substring(0, offset).match(/(span\\.|resource\\.|\\.)?([\\w./-]*)$/);\n    if (match) {\n      const scope = match[1];\n      const tag = match[2];\n      if (tag) {\n        if (!scope && suggestion.insertText[0] !== \".\") {\n          suggestion.insertText = \".\" + suggestion.insertText;\n        }\n        suggestion.range = {\n          ...suggestion.range,\n          startColumn: offset - tag.length + 1\n        };\n      }\n    }\n  }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9wdWJsaWMvYXBwL3BsdWdpbnMvZGF0YXNvdXJjZS90ZW1wby90cmFjZXFsL2F1dG9jb21wbGV0ZS50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7O0FBQzZCO0FBR1c7QUFDZDtBQUNEO0FBR1U7QUFVNUIsTUFBTSxzQkFBTixNQUFpRjtBQUFBLEVBSXRGLFlBQVksT0FBYztBQUsxQiw2QkFBb0IsQ0FBQyxLQUFLLEtBQUssS0FBSyxLQUFLLEtBQUssS0FBSyxLQUFLLEdBQUc7QUFRM0QsU0FBUSxlQUFrRSxDQUFDO0FBWnpFLFNBQUssbUJBQW1CLE1BQU07QUFDOUIsU0FBSywrQkFBK0I7QUFBQSxFQUN0QztBQUFBLEVBWUEsdUJBQ0UsT0FDQSxVQUM0RTtBQUU1RSxRQUFJLEVBQUUsS0FBSyxVQUFVLEtBQUssU0FBUztBQUNqQyxZQUFNLElBQUksTUFBTSx5RUFBeUU7QUFBQSxJQUMzRjtBQUlBLFFBQUksS0FBSyxPQUFPLFNBQVMsR0FBRyxPQUFPLE1BQU0sSUFBSTtBQUMzQyxhQUFPLEVBQUUsYUFBYSxDQUFDLEVBQUU7QUFBQSxJQUMzQjtBQUVBLFVBQU0sRUFBRSxPQUFPLE9BQU8sSUFBSSxrQkFBa0IsS0FBSyxRQUFRLE9BQU8sUUFBUTtBQUN4RSxVQUFNLFlBQVksS0FBSyxhQUFhLE1BQU0sU0FBUyxHQUFHLE1BQU07QUFDNUQsVUFBTSxrQkFBa0IsS0FBSyxlQUFlLFNBQVM7QUFFckQsV0FBTyxnQkFBZ0IsS0FBSyxDQUFDLFVBQVU7QUFJckMsWUFBTSxpQkFBaUIsTUFBTSxPQUFPLFNBQVMsRUFBRTtBQUMvQyxZQUFNLGNBQXNELE1BQU0sSUFBSSxDQUFDLE1BQU0sVUFBVTtBQUNyRixjQUFNLGFBQW1EO0FBQUEsVUFDdkQsTUFBTSw0QkFBNEIsS0FBSyxNQUFNLEtBQUssTUFBTztBQUFBLFVBQ3pELE9BQU8sS0FBSztBQUFBLFVBQ1osWUFBWSxLQUFLO0FBQUEsVUFDakIsVUFBVSxNQUFNLFNBQVMsRUFBRSxTQUFTLGdCQUFnQixHQUFHO0FBQUE7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LFNBQVM7QUFBQSxJQUNqQixZQUFZLFNBQVM7QUFBQSxFQUN2QjtBQUVBLFFBQU0sU0FBUyxNQUFNLFlBQVksYUFBYTtBQUM5QyxTQUFPLEVBQUUsUUFBUSxNQUFNO0FBQ3pCO0FBU0EsU0FBUyxjQUNQLFlBQ0EsVUFDQSxPQUNBLFFBQ0E7QUFDQSxNQUFJLGFBQWEsWUFBWTtBQUMzQixVQUFNLFFBQVEsTUFDWCxTQUFTLEVBQ1QsVUFBVSxHQUFHLE1BQU0sRUFDbkIsTUFBTSxvQ0FBb0M7QUFFN0MsUUFBSSxPQUFPO0FBQ1QsWUFBTSxRQUFRLE1BQU0sQ0FBQztBQUNyQixZQUFNLE1BQU0sTUFBTSxDQUFDO0FBRW5CLFVBQUksS0FBSztBQUVQLFlBQUksQ0FBQyxTQUFTLFdBQVcsV0FBVyxDQUFDLE1BQU0sS0FBSztBQUM5QyxxQkFBVyxhQUFhLE1BQU0sV0FBVztBQUFBLFFBQzNDO0FBR0EsbUJBQVcsUUFBUTtBQUFBLFVBQ2pCLEdBQUcsV0FBVztBQUFBLFVBQ2QsYUFBYSxTQUFTLElBQUksU0FBUztBQUFBLFFBQ3JDO0FBQUEsTUFDRjtBQUFBLElBQ0Y7QUFBQSxFQUNGO0FBQ0YiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9ncmFmYW5hLy4vcHVibGljL2FwcC9wbHVnaW5zL2RhdGFzb3VyY2UvdGVtcG8vdHJhY2VxbC9hdXRvY29tcGxldGUudHM/M2IzYiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBTZWxlY3RhYmxlVmFsdWUgfSBmcm9tICdAZ3JhZmFuYS9kYXRhJztcbmltcG9ydCB7IGlzRmV0Y2hFcnJvciB9IGZyb20gJ0BncmFmYW5hL3J1bnRpbWUnO1xuaW1wb3J0IHR5cGUgeyBNb25hY28sIG1vbmFjb1R5cGVzIH0gZnJvbSAnQGdyYWZhbmEvdWknO1xuXG5pbXBvcnQgeyBjcmVhdGVFcnJvck5vdGlmaWNhdGlvbiB9IGZyb20gJy4uLy4uLy4uLy4uL2NvcmUvY29weS9hcHBOb3RpZmljYXRpb24nO1xuaW1wb3J0IHsgbm90aWZ5QXBwIH0gZnJvbSAnLi4vLi4vLi4vLi4vY29yZS9yZWR1Y2Vycy9hcHBOb3RpZmljYXRpb24nO1xuaW1wb3J0IHsgZGlzcGF0Y2ggfSBmcm9tICcuLi8uLi8uLi8uLi9zdG9yZS9zdG9yZSc7XG5pbXBvcnQgVGVtcG9MYW5ndWFnZVByb3ZpZGVyIGZyb20gJy4uL2xhbmd1YWdlX3Byb3ZpZGVyJztcblxuaW1wb3J0IHsgaW50cmluc2ljcywgc2NvcGVzIH0gZnJvbSAnLi90cmFjZXFsJztcblxuaW50ZXJmYWNlIFByb3BzIHtcbiAgbGFuZ3VhZ2VQcm92aWRlcjogVGVtcG9MYW5ndWFnZVByb3ZpZGVyO1xufVxuXG4vKipcbiAqIENsYXNzIHRoYXQgaW1wbGVtZW50cyBDb21wbGV0aW9uSXRlbVByb3ZpZGVyIGludGVyZmFjZSBhbmQgYWxsb3dzIHVzIHRvIHByb3ZpZGUgc3VnZ2VzdGlvbiBmb3IgdGhlIE1vbmFjb1xuICogYXV0b2NvbXBsZXRlIHN5c3RlbS5cbiAqL1xuZXhwb3J0IGNsYXNzIENvbXBsZXRpb25Qcm92aWRlciBpbXBsZW1lbnRzIG1vbmFjb1R5cGVzLmxhbmd1YWdlcy5Db21wbGV0aW9uSXRlbVByb3ZpZGVyIHtcbiAgbGFuZ3VhZ2VQcm92aWRlcjogVGVtcG9MYW5ndWFnZVByb3ZpZGVyO1xuICByZWdpc3RlckludGVyYWN0aW9uQ29tbWFuZElkOiBzdHJpbmcgfCBudWxsO1xuXG4gIGNvbnN0cnVjdG9yKHByb3BzOiBQcm9wcykge1xuICAgIHRoaXMubGFuZ3VhZ2VQcm92aWRlciA9IHByb3BzLmxhbmd1YWdlUHJvdmlkZXI7XG4gICAgdGhpcy5yZWdpc3RlckludGVyYWN0aW9uQ29tbWFuZElkID0gbnVsbDtcbiAgfVxuXG4gIHRyaWdnZXJDaGFyYWN0ZXJzID0gWyd7JywgJy4nLCAnWycsICcoJywgJz0nLCAnficsICcgJywgJ1wiJ107XG4gIHN0YXRpYyByZWFkb25seSBvcGVyYXRvcnM6IHN0cmluZ1tdID0gWyc9JywgJy0nLCAnKycsICc8JywgJz4nLCAnPj0nLCAnPD0nLCAnPX4nXTtcbiAgc3RhdGljIHJlYWRvbmx5IGxvZ2ljYWxPcHM6IHN0cmluZ1tdID0gWycmJicsICd8fCddO1xuXG4gIC8vIFdlIHNldCB0aGVzZSBkaXJlY3RseSBhbmQgYWUgcmVxdWlyZWQgZm9yIHRoZSBwcm92aWRlciB0byBmdW5jdGlvbi5cbiAgbW9uYWNvOiBNb25hY28gfCB1bmRlZmluZWQ7XG4gIGVkaXRvcjogbW9uYWNvVHlwZXMuZWRpdG9yLklTdGFuZGFsb25lQ29kZUVkaXRvciB8IHVuZGVmaW5lZDtcblxuICBwcml2YXRlIGNhY2hlZFZhbHVlczogeyBba2V5OiBzdHJpbmddOiBBcnJheTxTZWxlY3RhYmxlVmFsdWU8c3RyaW5nPj4gfSA9IHt9O1xuXG4gIHByb3ZpZGVDb21wbGV0aW9uSXRlbXMoXG4gICAgbW9kZWw6IG1vbmFjb1R5cGVzLmVkaXRvci5JVGV4dE1vZGVsLFxuICAgIHBvc2l0aW9uOiBtb25hY29UeXBlcy5Qb3NpdGlvblxuICApOiBtb25hY29UeXBlcy5sYW5ndWFnZXMuUHJvdmlkZXJSZXN1bHQ8bW9uYWNvVHlwZXMubGFuZ3VhZ2VzLkNvbXBsZXRpb25MaXN0PiB7XG4gICAgLy8gU2hvdWxkIG5vdCBoYXBwZW4sIHRoaXMgc2hvdWxkIG5vdCBiZSBjYWxsZWQgYmVmb3JlIGl0IGlzIGluaXRpYWxpemVkXG4gICAgaWYgKCEodGhpcy5tb25hY28gJiYgdGhpcy5lZGl0b3IpKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ3Byb3ZpZGVDb21wbGV0aW9uSXRlbXMgY2FsbGVkIGJlZm9yZSBDb21wbGV0aW9uUHJvdmlkZXIgd2FzIGluaXRpYWxpemVkJyk7XG4gICAgfVxuXG4gICAgLy8gaWYgdGhlIG1vZGVsLWlkIGRvZXMgbm90IG1hdGNoLCB0aGVuIHRoaXMgY2FsbCBpcyBmcm9tIGEgZGlmZmVyZW50IGVkaXRvci1pbnN0YW5jZSxcbiAgICAvLyBub3QgXCJvdXIgaW5zdGFuY2VcIiwgc28gcmV0dXJuIG5vdGhpbmdcbiAgICBpZiAodGhpcy5lZGl0b3IuZ2V0TW9kZWwoKT8uaWQgIT09IG1vZGVsLmlkKSB7XG4gICAgICByZXR1cm4geyBzdWdnZXN0aW9uczogW10gfTtcbiAgICB9XG5cbiAgICBjb25zdCB7IHJhbmdlLCBvZmZzZXQgfSA9IGdldFJhbmdlQW5kT2Zmc2V0KHRoaXMubW9uYWNvLCBtb2RlbCwgcG9zaXRpb24pO1xuICAgIGNvbnN0IHNpdHVhdGlvbiA9IHRoaXMuZ2V0U2l0dWF0aW9uKG1vZGVsLmdldFZhbHVlKCksIG9mZnNldCk7XG4gICAgY29uc3QgY29tcGxldGlvbkl0ZW1zID0gdGhpcy5nZXRDb21wbGV0aW9ucyhzaXR1YXRpb24pO1xuXG4gICAgcmV0dXJuIGNvbXBsZXRpb25JdGVtcy50aGVuKChpdGVtcykgPT4ge1xuICAgICAgLy8gbW9uYWNvIGJ5LWRlZmF1bHQgYWxwaGFiZXRpY2FsbHkgb3JkZXJzIHRoZSBpdGVtcy5cbiAgICAgIC8vIHRvIHN0b3AgaXQsIHdlIHVzZSBhIG51bWJlci1hcy1zdHJpbmcgc29ydGtleSxcbiAgICAgIC8vIHNvIHRoYXQgbW9uYWNvIGtlZXBzIHRoZSBvcmRlciB3ZSB1c2VcbiAgICAgIGNvbnN0IG1heEluZGV4RGlnaXRzID0gaXRlbXMubGVuZ3RoLnRvU3RyaW5nKCkubGVuZ3RoO1xuICAgICAgY29uc3Qgc3VnZ2VzdGlvbnM6IG1vbmFjb1R5cGVzLmxhbmd1YWdlcy5Db21wbGV0aW9uSXRlbVtdID0gaXRlbXMubWFwKChpdGVtLCBpbmRleCkgPT4ge1xuICAgICAgICBjb25zdCBzdWdnZXN0aW9uOiBtb25hY29UeXBlcy5sYW5ndWFnZXMuQ29tcGxldGlvbkl0ZW0gPSB7XG4gICAgICAgICAga2luZDogZ2V0TW9uYWNvQ29tcGxldGlvbkl0ZW1LaW5kKGl0ZW0udHlwZSwgdGhpcy5tb25hY28hKSxcbiAgICAgICAgICBsYWJlbDogaXRlbS5sYWJlbCxcbiAgICAgICAgICBpbnNlcnRUZXh0OiBpdGVtLmluc2VydFRleHQsXG4gICAgICAgICAgc29ydFRleHQ6IGluZGV4LnRvU3RyaW5nKCkucGFkU3RhcnQobWF4SW5kZXhEaWdpdHMsICcwJyksIC8vIHRvIGZvcmNlIHRoZSBvcmRlciB3ZSBoYXZlXG4gICAgICAgICAgcmFuZ2UsXG4gICAgICAgICAgY29tbWFuZDoge1xuICAgICAgICAgICAgaWQ6IHRoaXMucmVnaXN0ZXJJbnRlcmFjdGlvbkNvbW1hbmRJZCB8fCAnbm9PcCcsXG4gICAgICAgICAgICB0aXRsZTogJ1JlcG9ydCBJbnRlcmFjdGlvbicsXG4gICAgICAgICAgICBhcmd1bWVudHM6IFtpdGVtLmxhYmVsLCBpdGVtLnR5cGVdLFxuICAgICAgICAgIH0sXG4gICAgICAgIH07XG4gICAgICAgIGZpeFN1Z2dlc3Rpb24oc3VnZ2VzdGlvbiwgaXRlbS50eXBlLCBtb2RlbCwgb2Zmc2V0KTtcbiAgICAgICAgcmV0dXJuIHN1Z2dlc3Rpb247XG4gICAgICB9KTtcbiAgICAgIHJldHVybiB7IHN1Z2dlc3Rpb25zIH07XG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogU2V0IHRoZSBJRCBmb3IgdGhlIHJlZ2lzdGVySW50ZXJhY3Rpb24gY29tbWFuZCwgdG8gYmUgdXNlZCB0byBrZWVwIHRyYWNrIG9mIGhvdyBtYW55IGNvbXBsZXRpb25zIGFyZSB1c2VkIGJ5IHRoZSB1c2Vyc1xuICAgKi9cbiAgc2V0UmVnaXN0ZXJJbnRlcmFjdGlvbkNvbW1hbmRJZChpZDogc3RyaW5nIHwgbnVsbCkge1xuICAgIHRoaXMucmVnaXN0ZXJJbnRlcmFjdGlvbkNvbW1hbmRJZCA9IGlkO1xuICB9XG5cbiAgcHJpdmF0ZSBhc3luYyBnZXRUYWdWYWx1ZXModGFnTmFtZTogc3RyaW5nKTogUHJvbWlzZTxBcnJheTxTZWxlY3RhYmxlVmFsdWU8c3RyaW5nPj4+IHtcbiAgICBsZXQgdGFnVmFsdWVzOiBBcnJheTxTZWxlY3RhYmxlVmFsdWU8c3RyaW5nPj47XG5cbiAgICBpZiAodGhpcy5jYWNoZWRWYWx1ZXMuaGFzT3duUHJvcGVydHkodGFnTmFtZSkpIHtcbiAgICAgIHRhZ1ZhbHVlcyA9IHRoaXMuY2FjaGVkVmFsdWVzW3RhZ05hbWVdO1xuICAgIH0gZWxzZSB7XG4gICAgICB0YWdWYWx1ZXMgPSBhd2FpdCB0aGlzLmxhbmd1YWdlUHJvdmlkZXIuZ2V0T3B0aW9uc1YyKHRhZ05hbWUpO1xuICAgICAgdGhpcy5jYWNoZWRWYWx1ZXNbdGFnTmFtZV0gPSB0YWdWYWx1ZXM7XG4gICAgfVxuICAgIHJldHVybiB0YWdWYWx1ZXM7XG4gIH1cblxuICAvKipcbiAgICogR2V0IHN1Z2dlc3Rpb24gYmFzZWQgb24gdGhlIHNpdHVhdGlvbiB3ZSBhcmUgaW4gbGlrZSB3aGV0aGVyIHdlIHNob3VsZCBzdWdnZXN0IHRhZyBuYW1lcyBvciB2YWx1ZXMuXG4gICAqIEBwYXJhbSBzaXR1YXRpb25cbiAgICogQHByaXZhdGVcbiAgICovXG4gIHByaXZhdGUgYXN5bmMgZ2V0Q29tcGxldGlvbnMoc2l0dWF0aW9uOiBTaXR1YXRpb24pOiBQcm9taXNlPENvbXBsZXRpb25bXT4ge1xuICAgIHN3aXRjaCAoc2l0dWF0aW9uLnR5cGUpIHtcbiAgICAgIC8vIE5vdCByZWFsbHkgc3VyZSB3aGF0IHdvdWxkIG1ha2Ugc2Vuc2UgdG8gc3VnZ2VzdCBpbiB0aGlzIGNhc2Ugc28ganVzdCBsZWF2ZSBpdFxuICAgICAgY2FzZSAnVU5LTk9XTic6IHtcbiAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgfVxuICAgICAgY2FzZSAnRU1QVFknOiB7XG4gICAgICAgIHJldHVybiB0aGlzLmdldFNjb3Blc0NvbXBsZXRpb25zKCd7ICcpXG4gICAgICAgICAgLmNvbmNhdCh0aGlzLmdldEludHJpbnNpY3NDb21wbGV0aW9ucygneyAnKSlcbiAgICAgICAgICAuY29uY2F0KHRoaXMuZ2V0VGFnc0NvbXBsZXRpb25zKCd7IC4nKSk7XG4gICAgICB9XG4gICAgICBjYXNlICdTUEFOU0VUX0VNUFRZJzpcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0U2NvcGVzQ29tcGxldGlvbnMoKS5jb25jYXQodGhpcy5nZXRJbnRyaW5zaWNzQ29tcGxldGlvbnMoKSkuY29uY2F0KHRoaXMuZ2V0VGFnc0NvbXBsZXRpb25zKCcuJykpO1xuICAgICAgY2FzZSAnU1BBTlNFVF9PTkxZX0RPVCc6IHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0VGFnc0NvbXBsZXRpb25zKCk7XG4gICAgICB9XG4gICAgICBjYXNlICdTUEFOU0VUX0lOX05BTUUnOlxuICAgICAgICByZXR1cm4gdGhpcy5nZXRTY29wZXNDb21wbGV0aW9ucygpLmNvbmNhdCh0aGlzLmdldEludHJpbnNpY3NDb21wbGV0aW9ucygpKS5jb25jYXQodGhpcy5nZXRUYWdzQ29tcGxldGlvbnMoKSk7XG4gICAgICBjYXNlICdTUEFOU0VUX0lOX05BTUVfU0NPUEUnOlxuICAgICAgICByZXR1cm4gdGhpcy5nZXRUYWdzQ29tcGxldGlvbnModW5kZWZpbmVkLCBzaXR1YXRpb24uc2NvcGUpO1xuICAgICAgY2FzZSAnU1BBTlNFVF9BRlRFUl9OQU1FJzpcbiAgICAgICAgcmV0dXJuIENvbXBsZXRpb25Qcm92aWRlci5vcGVyYXRvcnMubWFwKChrZXkpID0+ICh7XG4gICAgICAgICAgbGFiZWw6IGtleSxcbiAgICAgICAgICBpbnNlcnRUZXh0OiBrZXksXG4gICAgICAgICAgdHlwZTogJ09QRVJBVE9SJyxcbiAgICAgICAgfSkpO1xuICAgICAgY2FzZSAnU1BBTlNFVF9JTl9WQUxVRSc6XG4gICAgICAgIGxldCB0YWdWYWx1ZXM7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgdGFnVmFsdWVzID0gYXdhaXQgdGhpcy5nZXRUYWdWYWx1ZXMoc2l0dWF0aW9uLnRhZ05hbWUpO1xuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgIGlmIChpc0ZldGNoRXJyb3IoZXJyb3IpKSB7XG4gICAgICAgICAgICBkaXNwYXRjaChub3RpZnlBcHAoY3JlYXRlRXJyb3JOb3RpZmljYXRpb24oZXJyb3IuZGF0YS5lcnJvciwgbmV3IEVycm9yKGVycm9yLmRhdGEubWVzc2FnZSkpKSk7XG4gICAgICAgICAgfSBlbHNlIGlmIChlcnJvciBpbnN0YW5jZW9mIEVycm9yKSB7XG4gICAgICAgICAgICBkaXNwYXRjaChub3RpZnlBcHAoY3JlYXRlRXJyb3JOb3RpZmljYXRpb24oJ0Vycm9yJywgZXJyb3IpKSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgaXRlbXM6IENvbXBsZXRpb25bXSA9IFtdO1xuXG4gICAgICAgIGNvbnN0IGdldEluc2VydGlvblRleHQgPSAodmFsOiBTZWxlY3RhYmxlVmFsdWU8c3RyaW5nPik6IHN0cmluZyA9PiB7XG4gICAgICAgICAgaWYgKHNpdHVhdGlvbi5iZXR3ZWVuUXVvdGVzKSB7XG4gICAgICAgICAgICByZXR1cm4gdmFsLmxhYmVsITtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIHZhbC50eXBlID09PSAnc3RyaW5nJyA/IGBcIiR7dmFsLmxhYmVsfVwiYCA6IHZhbC5sYWJlbCE7XG4gICAgICAgIH07XG5cbiAgICAgICAgdGFnVmFsdWVzPy5mb3JFYWNoKCh2YWwpID0+IHtcbiAgICAgICAgICBpZiAodmFsPy5sYWJlbCkge1xuICAgICAgICAgICAgaXRlbXMucHVzaCh7XG4gICAgICAgICAgICAgIGxhYmVsOiB2YWwubGFiZWwsXG4gICAgICAgICAgICAgIGluc2VydFRleHQ6IGdldEluc2VydGlvblRleHQodmFsKSxcbiAgICAgICAgICAgICAgdHlwZTogJ1RBR19WQUxVRScsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gaXRlbXM7XG4gICAgICBjYXNlICdTUEFOU0VUX0FGVEVSX1ZBTFVFJzpcbiAgICAgICAgcmV0dXJuIENvbXBsZXRpb25Qcm92aWRlci5sb2dpY2FsT3BzLmNvbmNhdCgnfScpLm1hcCgoa2V5KSA9PiAoe1xuICAgICAgICAgIGxhYmVsOiBrZXksXG4gICAgICAgICAgaW5zZXJ0VGV4dDoga2V5LFxuICAgICAgICAgIHR5cGU6ICdPUEVSQVRPUicsXG4gICAgICAgIH0pKTtcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgVW5leHBlY3RlZCBzaXR1YXRpb24gJHtzaXR1YXRpb259YCk7XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBnZXRUYWdzQ29tcGxldGlvbnMocHJlcGVuZD86IHN0cmluZywgc2NvcGU/OiBzdHJpbmcpOiBDb21wbGV0aW9uW10ge1xuICAgIGNvbnN0IHRhZ3MgPSB0aGlzLmxhbmd1YWdlUHJvdmlkZXIuZ2V0VHJhY2VxbEF1dG9jb21wbGV0ZVRhZ3Moc2NvcGUpO1xuICAgIHJldHVybiB0YWdzXG4gICAgICAuc29ydCgoYSwgYikgPT4gYS5sb2NhbGVDb21wYXJlKGIsIHVuZGVmaW5lZCwgeyBzZW5zaXRpdml0eTogJ2FjY2VudCcgfSkpXG4gICAgICAubWFwKChrZXkpID0+ICh7XG4gICAgICAgIGxhYmVsOiBrZXksXG4gICAgICAgIGluc2VydFRleHQ6IChwcmVwZW5kIHx8ICcnKSArIGtleSxcbiAgICAgICAgdHlwZTogJ1RBR19OQU1FJyxcbiAgICAgIH0pKTtcbiAgfVxuXG4gIHByaXZhdGUgZ2V0SW50cmluc2ljc0NvbXBsZXRpb25zKHByZXBlbmQ/OiBzdHJpbmcpOiBDb21wbGV0aW9uW10ge1xuICAgIHJldHVybiBpbnRyaW5zaWNzLm1hcCgoa2V5KSA9PiAoe1xuICAgICAgbGFiZWw6IGtleSxcbiAgICAgIGluc2VydFRleHQ6IChwcmVwZW5kIHx8ICcnKSArIGtleSxcbiAgICAgIHR5cGU6ICdLRVlXT1JEJyxcbiAgICB9KSk7XG4gIH1cblxuICBwcml2YXRlIGdldFNjb3Blc0NvbXBsZXRpb25zKHByZXBlbmQ/OiBzdHJpbmcpOiBDb21wbGV0aW9uW10ge1xuICAgIHJldHVybiBzY29wZXMubWFwKChrZXkpID0+ICh7XG4gICAgICBsYWJlbDoga2V5LFxuICAgICAgaW5zZXJ0VGV4dDogKHByZXBlbmQgfHwgJycpICsga2V5LFxuICAgICAgdHlwZTogJ1NDT1BFJyxcbiAgICB9KSk7XG4gIH1cblxuICBwcml2YXRlIGdldFNpdHVhdGlvbkluU3BhblNldCh0ZXh0VW50aWxDYXJldDogc3RyaW5nKTogU2l0dWF0aW9uIHtcbiAgICBjb25zdCBuYW1lUmVnZXggPSAvKD88bmFtZT5bXFx3Li8tXSspPy87XG4gICAgY29uc3Qgb3BSZWdleCA9IC8oPzxvcD5bIT0rXFwtPD5dKykvO1xuICAgIC8vIG9ubHkgYWxsb3cgc3BhY2VzIGluIHRoZSB2YWx1ZSBpZiBpdCdzIGVuY2xvc2VkIGJ5IHF1b3Rlc1xuICAgIGNvbnN0IHZhbHVlUmVnZXggPSAvKD88dmFsdWU+KD88b3Blbl9xdW90ZT5cIikoW15cIlxcbiZ8XSspPyg/PGNsb3NlX3F1b3RlPlwiKT98KFteXCJcXG5cXHMmfF0rKSk/LztcblxuICAgIC8vIHByZXR0aWVyLWlnbm9yZVxuICAgIGNvbnN0IGZ1bGxSZWdleCA9IG5ldyBSZWdFeHAoXG4gICAgICAnKFtcXFxcc3tdKScgKyAgICAgIC8vIFNwYWNlKHMpIG9yIGluaXRpYWwgb3BlbmluZyBicmFja2V0IHtcbiAgICAgICcoJyArICAgICAgICAgICAgICAgICAgIC8vIE9wZW4gZnVsbCBzZXQgZ3JvdXBcbiAgICAgIG5hbWVSZWdleC5zb3VyY2UgK1xuICAgICAgJyg/PHNwYWNlMT5cXFxccyopJyArICAgICAvLyBPcHRpb25hbCBzcGFjZShzKSBiZXR3ZWVuIG5hbWUgYW5kIG9wZXJhdG9yXG4gICAgICAnKCcgKyAgICAgICAgICAgICAgICAgICAvLyBPcGVuIG9wZXJhdG9yICsgdmFsdWUgZ3JvdXBcbiAgICAgIG9wUmVnZXguc291cmNlICtcbiAgICAgICcoPzxzcGFjZTI+XFxcXHMqKScgKyAgICAgLy8gT3B0aW9uYWwgc3BhY2UocykgYmV0d2VlbiBvcGVyYXRvciBhbmQgdmFsdWVcbiAgICAgIHZhbHVlUmVnZXguc291cmNlICtcbiAgICAgICcpPycgKyAgICAgICAgICAgICAgICAgIC8vIENsb3NlIG9wZXJhdG9yICsgdmFsdWUgZ3JvdXBcbiAgICAgICcpJyArICAgICAgICAgICAgICAgICAgIC8vIENsb3NlIGZ1bGwgc2V0IGdyb3VwXG4gICAgICAnKD88c3BhY2UzPlxcXFxzKikkJyAgICAgIC8vIE9wdGlvbmFsIHNwYWNlKHMpIGF0IHRoZSBlbmQgb2YgdGhlIHNldFxuICAgICk7XG5cbiAgICBjb25zdCBtYXRjaGVkID0gdGV4dFVudGlsQ2FyZXQubWF0Y2goZnVsbFJlZ2V4KTtcblxuICAgIGlmIChtYXRjaGVkKSB7XG4gICAgICBjb25zdCBuYW1lRnVsbCA9IG1hdGNoZWQuZ3JvdXBzPy5uYW1lO1xuICAgICAgY29uc3Qgb3AgPSBtYXRjaGVkLmdyb3Vwcz8ub3A7XG5cbiAgICAgIGlmICghbmFtZUZ1bGwpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICB0eXBlOiAnU1BBTlNFVF9FTVBUWScsXG4gICAgICAgIH07XG4gICAgICB9XG5cbiAgICAgIGlmIChuYW1lRnVsbCA9PT0gJy4nKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgdHlwZTogJ1NQQU5TRVRfT05MWV9ET1QnLFxuICAgICAgICB9O1xuICAgICAgfVxuXG4gICAgICBjb25zdCBuYW1lTWF0Y2hlZCA9IG5hbWVGdWxsLm1hdGNoKC9eKD88cHJlX2RvdD5cXC4pPyg/PHdvcmQ+XFx3W1xcdy4vLV0qXFx3KSg/PHBvc3RfZG90PlxcLik/JC8pO1xuXG4gICAgICAvLyBXZSBhbHJlYWR5IGhhdmUgYSAocG90ZW50aWFsbHkgcGFydGlhbCkgdGFnIG5hbWUgc28gbGV0J3MgY2hlY2sgaWYgdGhlcmUncyBhbiBvcGVyYXRvciBkZWNsYXJlZFxuICAgICAgLy8geyAudGFnX25hbWV8XG4gICAgICBpZiAoIW9wKSB7XG4gICAgICAgIC8vIFRoZXJlJ3Mgbm8gb3BlcmF0b3Igc28gd2UgY2hlY2sgaWYgdGhlIG5hbWUgaXMgb25lIG9mIHRoZSBrbm93biBzY29wZXNcbiAgICAgICAgLy8geyByZXNvdXJjZS58XG4gICAgICAgIGlmIChzY29wZXMuZmlsdGVyKCh3KSA9PiB3ID09PSBuYW1lTWF0Y2hlZD8uZ3JvdXBzPy53b3JkKSAmJiBuYW1lTWF0Y2hlZD8uZ3JvdXBzPy5wb3N0X2RvdCkge1xuICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB0eXBlOiAnU1BBTlNFVF9JTl9OQU1FX1NDT1BFJyxcbiAgICAgICAgICAgIHNjb3BlOiBuYW1lTWF0Y2hlZD8uZ3JvdXBzPy53b3JkIHx8ICcnLFxuICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgLy8gSXQncyBub3Qgb25lIG9mIHRoZSBzY29wZXMsIHNvIHdlIG5vdyBjaGVjayBpZiB3ZSdyZSBhZnRlciB0aGUgbmFtZSAodGhlcmUncyBhIHNwYWNlIGFmdGVyIHRoZSB3b3JkKSBvciBpZiB3ZSBzdGlsbCBoYXZlIHRvIGF1dG9jb21wbGV0ZSB0aGUgcmVzdCBvZiB0aGUgbmFtZVxuICAgICAgICAvLyBJbiBjYXNlIHRoZXJlJ3MgYSBzcGFjZSB3ZSBzdGFydCBhdXRvY29tcGxldGluZyB0aGUgb3BlcmF0b3JzIHsgLmh0dHAubWV0aG9kIHxcbiAgICAgICAgLy8gT3RoZXJ3aXNlIHdlIGtlZXAgc2hvd2luZyB0aGUgdGFncy9pbnRyaW5zaWNzL3Njb3BlcyBsaXN0IHsgLmh0dHAubWV0fFxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIHR5cGU6IG1hdGNoZWQuZ3JvdXBzPy5zcGFjZTEgPyAnU1BBTlNFVF9BRlRFUl9OQU1FJyA6ICdTUEFOU0VUX0lOX05BTUUnLFxuICAgICAgICB9O1xuICAgICAgfVxuXG4gICAgICAvLyBJbiBjYXNlIHRoZXJlJ3MgYSBzcGFjZSBhZnRlciB0aGUgZnVsbCBbbmFtZSArIG9wZXJhdG9yICsgdmFsdWVdIGdyb3VwIHdlIGNhbiBzdGFydCBhdXRvY29tcGxldGluZyBsb2dpY2FsIG9wZXJhdG9ycyBvciBjbG9zZSB0aGUgc3BhbnNldFxuICAgICAgLy8gVG8gYXZvaWQgdHJpZ2dlcmluZyB0aGlzIHNpdHVhdGlvbiB3aGVuIHdlIGFyZSB3cml0aW5nIGEgc3BhY2UgaW5zaWRlIGEgc3RyaW5nIHdlIGNoZWNrIHRoZSBzdGF0ZSBvZiB0aGUgb3BlbiBhbmQgY2xvc2UgcXVvdGVzXG4gICAgICAvLyB7IC5odHRwLm1ldGhvZCA9IFwiR0VUXCIgfFxuICAgICAgaWYgKG1hdGNoZWQuZ3JvdXBzPy5zcGFjZTMgJiYgbWF0Y2hlZC5ncm91cHMub3Blbl9xdW90ZSA9PT0gbWF0Y2hlZC5ncm91cHMuY2xvc2VfcXVvdGUpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICB0eXBlOiAnU1BBTlNFVF9BRlRFUl9WQUxVRScsXG4gICAgICAgIH07XG4gICAgICB9XG5cbiAgICAgIC8vIFdlIGFscmVhZHkgaGF2ZSBhbiBvcGVyYXRvciBhbmQga25vdyB0aGF0IHRoZSBzZXQgaXNuJ3QgY29tcGxldGUgc28gbGV0J3MgYXV0b2NvbXBsZXRlIHRoZSBwb3NzaWJsZSB2YWx1ZXMgZm9yIHRoZSB0YWcgbmFtZVxuICAgICAgLy8geyAuaHR0cC5tZXRob2QgPSB8XG4gICAgICByZXR1cm4ge1xuICAgICAgICB0eXBlOiAnU1BBTlNFVF9JTl9WQUxVRScsXG4gICAgICAgIHRhZ05hbWU6IG5hbWVGdWxsLFxuICAgICAgICBiZXR3ZWVuUXVvdGVzOiAhIW1hdGNoZWQuZ3JvdXBzPy5vcGVuX3F1b3RlLFxuICAgICAgfTtcbiAgICB9XG5cbiAgICByZXR1cm4ge1xuICAgICAgdHlwZTogJ0VNUFRZJyxcbiAgICB9O1xuICB9XG5cbiAgLyoqXG4gICAqIEZpZ3VyZSBvdXQgd2hlcmUgaXMgdGhlIGN1cnNvciBhbmQgd2hhdCBraW5kIG9mIHN1Z2dlc3Rpb25zIGFyZSBhcHByb3ByaWF0ZS5cbiAgICogQHBhcmFtIHRleHRcbiAgICogQHBhcmFtIG9mZnNldFxuICAgKi9cbiAgcHJpdmF0ZSBnZXRTaXR1YXRpb24odGV4dDogc3RyaW5nLCBvZmZzZXQ6IG51bWJlcik6IFNpdHVhdGlvbiB7XG4gICAgaWYgKHRleHQgPT09ICcnIHx8IG9mZnNldCA9PT0gMCkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgdHlwZTogJ0VNUFRZJyxcbiAgICAgIH07XG4gICAgfVxuXG4gICAgY29uc3QgdGV4dFVudGlsQ2FyZXQgPSB0ZXh0LnN1YnN0cmluZygwLCBvZmZzZXQpO1xuXG4gICAgLy8gQ2hlY2sgaWYgd2UncmUgaW5zaWRlIGEgc3BhbiBzZXRcbiAgICBsZXQgaXNJblNwYW5TZXQgPSB0ZXh0VW50aWxDYXJldC5sYXN0SW5kZXhPZigneycpID4gdGV4dFVudGlsQ2FyZXQubGFzdEluZGV4T2YoJ30nKTtcbiAgICBpZiAoaXNJblNwYW5TZXQpIHtcbiAgICAgIHJldHVybiB0aGlzLmdldFNpdHVhdGlvbkluU3BhblNldCh0ZXh0VW50aWxDYXJldCk7XG4gICAgfVxuXG4gICAgLy8gV2lsbCBoYXBwZW4gb25seSBpZiB1c2VyIHdyaXRlcyBzb21ldGhpbmcgdGhhdCBpc24ndCByZWFsbHkgYSB0YWcgc2VsZWN0b3JcbiAgICByZXR1cm4ge1xuICAgICAgdHlwZTogJ1VOS05PV04nLFxuICAgIH07XG4gIH1cbn1cblxuLyoqXG4gKiBHZXQgaXRlbSBraW5kIHdoaWNoIGlzIHVzZWQgZm9yIGljb24gbmV4dCB0byB0aGUgc3VnZ2VzdGlvbi5cbiAqIEBwYXJhbSB0eXBlXG4gKiBAcGFyYW0gbW9uYWNvXG4gKi9cbmZ1bmN0aW9uIGdldE1vbmFjb0NvbXBsZXRpb25JdGVtS2luZCh0eXBlOiBDb21wbGV0aW9uVHlwZSwgbW9uYWNvOiBNb25hY28pOiBtb25hY29UeXBlcy5sYW5ndWFnZXMuQ29tcGxldGlvbkl0ZW1LaW5kIHtcbiAgc3dpdGNoICh0eXBlKSB7XG4gICAgY2FzZSAnVEFHX05BTUUnOlxuICAgICAgcmV0dXJuIG1vbmFjby5sYW5ndWFnZXMuQ29tcGxldGlvbkl0ZW1LaW5kLkVudW07XG4gICAgY2FzZSAnS0VZV09SRCc6XG4gICAgICByZXR1cm4gbW9uYWNvLmxhbmd1YWdlcy5Db21wbGV0aW9uSXRlbUtpbmQuS2V5d29yZDtcbiAgICBjYXNlICdPUEVSQVRPUic6XG4gICAgICByZXR1cm4gbW9uYWNvLmxhbmd1YWdlcy5Db21wbGV0aW9uSXRlbUtpbmQuT3BlcmF0b3I7XG4gICAgY2FzZSAnVEFHX1ZBTFVFJzpcbiAgICAgIHJldHVybiBtb25hY28ubGFuZ3VhZ2VzLkNvbXBsZXRpb25JdGVtS2luZC5FbnVtTWVtYmVyO1xuICAgIGNhc2UgJ1NDT1BFJzpcbiAgICAgIHJldHVybiBtb25hY28ubGFuZ3VhZ2VzLkNvbXBsZXRpb25JdGVtS2luZC5DbGFzcztcbiAgICBkZWZhdWx0OlxuICAgICAgdGhyb3cgbmV3IEVycm9yKGBVbmV4cGVjdGVkIENvbXBsZXRpb25UeXBlOiAke3R5cGV9YCk7XG4gIH1cbn1cblxuZXhwb3J0IHR5cGUgQ29tcGxldGlvblR5cGUgPSAnVEFHX05BTUUnIHwgJ1RBR19WQUxVRScgfCAnS0VZV09SRCcgfCAnT1BFUkFUT1InIHwgJ1NDT1BFJztcbnR5cGUgQ29tcGxldGlvbiA9IHtcbiAgdHlwZTogQ29tcGxldGlvblR5cGU7XG4gIGxhYmVsOiBzdHJpbmc7XG4gIGluc2VydFRleHQ6IHN0cmluZztcbn07XG5cbmV4cG9ydCB0eXBlIFRhZyA9IHtcbiAgbmFtZTogc3RyaW5nO1xuICB2YWx1ZTogc3RyaW5nO1xufTtcblxuZXhwb3J0IHR5cGUgU2l0dWF0aW9uID1cbiAgfCB7XG4gICAgICB0eXBlOiAnVU5LTk9XTic7XG4gICAgfVxuICB8IHtcbiAgICAgIHR5cGU6ICdFTVBUWSc7XG4gICAgfVxuICB8IHtcbiAgICAgIHR5cGU6ICdTUEFOU0VUX0VNUFRZJztcbiAgICB9XG4gIHwge1xuICAgICAgdHlwZTogJ1NQQU5TRVRfT05MWV9ET1QnO1xuICAgIH1cbiAgfCB7XG4gICAgICB0eXBlOiAnU1BBTlNFVF9BRlRFUl9OQU1FJztcbiAgICB9XG4gIHwge1xuICAgICAgdHlwZTogJ1NQQU5TRVRfSU5fTkFNRSc7XG4gICAgfVxuICB8IHtcbiAgICAgIHR5cGU6ICdTUEFOU0VUX0lOX05BTUVfU0NPUEUnO1xuICAgICAgc2NvcGU6IHN0cmluZztcbiAgICB9XG4gIHwge1xuICAgICAgdHlwZTogJ1NQQU5TRVRfSU5fVkFMVUUnO1xuICAgICAgdGFnTmFtZTogc3RyaW5nO1xuICAgICAgYmV0d2VlblF1b3RlczogYm9vbGVhbjtcbiAgICB9XG4gIHwge1xuICAgICAgdHlwZTogJ1NQQU5TRVRfQUZURVJfVkFMVUUnO1xuICAgIH07XG5cbmZ1bmN0aW9uIGdldFJhbmdlQW5kT2Zmc2V0KG1vbmFjbzogTW9uYWNvLCBtb2RlbDogbW9uYWNvVHlwZXMuZWRpdG9yLklUZXh0TW9kZWwsIHBvc2l0aW9uOiBtb25hY29UeXBlcy5Qb3NpdGlvbikge1xuICBjb25zdCB3b3JkID0gbW9kZWwuZ2V0V29yZEF0UG9zaXRpb24ocG9zaXRpb24pO1xuICBjb25zdCByYW5nZSA9XG4gICAgd29yZCAhPSBudWxsXG4gICAgICA/IG1vbmFjby5SYW5nZS5saWZ0KHtcbiAgICAgICAgICBzdGFydExpbmVOdW1iZXI6IHBvc2l0aW9uLmxpbmVOdW1iZXIsXG4gICAgICAgICAgZW5kTGluZU51bWJlcjogcG9zaXRpb24ubGluZU51bWJlcixcbiAgICAgICAgICBzdGFydENvbHVtbjogd29yZC5zdGFydENvbHVtbixcbiAgICAgICAgICBlbmRDb2x1bW46IHdvcmQuZW5kQ29sdW1uLFxuICAgICAgICB9KVxuICAgICAgOiBtb25hY28uUmFuZ2UuZnJvbVBvc2l0aW9ucyhwb3NpdGlvbik7XG5cbiAgLy8gZG9jdW1lbnRhdGlvbiBzYXlzIGBwb3NpdGlvbmAgd2lsbCBiZSBcImFkanVzdGVkXCIgaW4gYGdldE9mZnNldEF0YCBzbyB3ZSBjbG9uZSBpdCBoZXJlIGp1c3QgZm9yIHN1cmUuXG4gIGNvbnN0IHBvc2l0aW9uQ2xvbmUgPSB7XG4gICAgY29sdW1uOiBwb3NpdGlvbi5jb2x1bW4sXG4gICAgbGluZU51bWJlcjogcG9zaXRpb24ubGluZU51bWJlcixcbiAgfTtcblxuICBjb25zdCBvZmZzZXQgPSBtb2RlbC5nZXRPZmZzZXRBdChwb3NpdGlvbkNsb25lKTtcbiAgcmV0dXJuIHsgb2Zmc2V0LCByYW5nZSB9O1xufVxuXG4vKipcbiAqIEZpeCB0aGUgc3VnZ2VzdGlvbnMgcmFuZ2UgYW5kIGluc2VydCB0ZXh0LiBGb3IgdGhlIHJhbmdlIHdlIGhhdmUgdG8gYWRqdXN0IGJlY2F1c2UgbW9uYWNvIGJ5IGRlZmF1bHQgcmVwbGFjZXMganVzdFxuICogdGhlIGxhc3Qgd29yZCB3aGljaCBzdG9wcyBhdCBkb3Qgd2hpbGUgdHJhY2VRTCB0YWdzIGNvbnRhaW4gZG90cyB0aGVtc2VsdmVzIGFuZCB3ZSB3YW50IHRvIHJlcGxhY2UgdGhlIHdob2xlIHRhZ1xuICogbmFtZSB3aGVuIHN1Z2dlc3RpbmcuIFRoZSBpbnNlcnQgdGV4dCBuZWVkcyB0byBiZSBhZGp1c3RlZCBmb3Igc2NvcGUgKGxlYWRpbmcgZG90KSBpZiBzY29wZSBpcyBjdXJyZW50bHkgbWlzc2luZy5cbiAqIFRoaXMgbWF5IGJlIGRvYWJsZSBhbHNvIHdoZW4gY3JlYXRpbmcgdGhlIHN1Z2dlc3Rpb25zIGJ1dCBmb3IgYSBwYXJ0aWN1bGFyIHNpdHVhdGlvbiB0aGlzIHNlZW1zIHRvIGJlIGVhc2llciB0byBkb1xuICogaGVyZS5cbiAqL1xuZnVuY3Rpb24gZml4U3VnZ2VzdGlvbihcbiAgc3VnZ2VzdGlvbjogbW9uYWNvVHlwZXMubGFuZ3VhZ2VzLkNvbXBsZXRpb25JdGVtLFxuICBpdGVtVHlwZTogQ29tcGxldGlvblR5cGUsXG4gIG1vZGVsOiBtb25hY29UeXBlcy5lZGl0b3IuSVRleHRNb2RlbCxcbiAgb2Zmc2V0OiBudW1iZXJcbikge1xuICBpZiAoaXRlbVR5cGUgPT09ICdUQUdfTkFNRScpIHtcbiAgICBjb25zdCBtYXRjaCA9IG1vZGVsXG4gICAgICAuZ2V0VmFsdWUoKVxuICAgICAgLnN1YnN0cmluZygwLCBvZmZzZXQpXG4gICAgICAubWF0Y2goLyhzcGFuXFwufHJlc291cmNlXFwufFxcLik/KFtcXHcuLy1dKikkLyk7XG5cbiAgICBpZiAobWF0Y2gpIHtcbiAgICAgIGNvbnN0IHNjb3BlID0gbWF0Y2hbMV07XG4gICAgICBjb25zdCB0YWcgPSBtYXRjaFsyXTtcblxuICAgICAgaWYgKHRhZykge1xuICAgICAgICAvLyBBZGQgdGhlIGRlZmF1bHQgc2NvcGUgaWYgbmVlZGVkLlxuICAgICAgICBpZiAoIXNjb3BlICYmIHN1Z2dlc3Rpb24uaW5zZXJ0VGV4dFswXSAhPT0gJy4nKSB7XG4gICAgICAgICAgc3VnZ2VzdGlvbi5pbnNlcnRUZXh0ID0gJy4nICsgc3VnZ2VzdGlvbi5pbnNlcnRUZXh0O1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gQWRqdXN0IHRoZSByYW5nZSwgc28gdGhhdCB3ZSB3aWxsIHJlcGxhY2UgdGhlIHdob2xlIHRhZy5cbiAgICAgICAgc3VnZ2VzdGlvbi5yYW5nZSA9IHtcbiAgICAgICAgICAuLi5zdWdnZXN0aW9uLnJhbmdlLFxuICAgICAgICAgIHN0YXJ0Q29sdW1uOiBvZmZzZXQgLSB0YWcubGVuZ3RoICsgMSxcbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./public/app/plugins/datasource/tempo/traceql/autocomplete.ts\n");

/***/ }),

/***/ "./public/app/plugins/datasource/tempo/traceql/traceql.ts":
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   intrinsics: () => (/* binding */ intrinsics),\n/* harmony export */   language: () => (/* binding */ language),\n/* harmony export */   languageConfiguration: () => (/* binding */ languageConfiguration),\n/* harmony export */   languageDefinition: () => (/* binding */ languageDefinition),\n/* harmony export */   numberOperators: () => (/* binding */ numberOperators),\n/* harmony export */   operators: () => (/* binding */ operators),\n/* harmony export */   scopes: () => (/* binding */ scopes),\n/* harmony export */   stringOperators: () => (/* binding */ stringOperators),\n/* harmony export */   traceqlGrammar: () => (/* binding */ traceqlGrammar)\n/* harmony export */ });\n\nconst languageConfiguration = {\n  // the default separators except `@$`\n  wordPattern: /(-?\\d*\\.\\d\\w*)|([^`~!#%^&*()\\-=+\\[{\\]}\\\\|;:'\",.<>\\/?\\s]+)/g,\n  brackets: [\n    [\"{\", \"}\"],\n    [\"(\", \")\"]\n  ],\n  autoClosingPairs: [\n    { open: \"{\", close: \"}\" },\n    { open: \"(\", close: \")\" },\n    { open: '\"', close: '\"' },\n    { open: \"'\", close: \"'\" }\n  ],\n  surroundingPairs: [\n    { open: \"{\", close: \"}\" },\n    { open: \"(\", close: \")\" },\n    { open: '\"', close: '\"' },\n    { open: \"'\", close: \"'\" }\n  ],\n  folding: {}\n};\nconst operators = [\"=\", \"!=\", \">\", \"<\", \">=\", \"<=\", \"=~\"];\nconst stringOperators = [\"=\", \"!=\", \"=~\"];\nconst numberOperators = [\"=\", \"!=\", \">\", \"<\", \">=\", \"<=\"];\nconst intrinsics = [\"duration\", \"kind\", \"name\", \"status\"];\nconst scopes = [\"resource\", \"span\"];\nconst keywords = intrinsics.concat(scopes);\nconst statusValues = [\"ok\", \"unset\", \"error\", \"false\", \"true\"];\nconst language = {\n  ignoreCase: false,\n  defaultToken: \"\",\n  tokenPostfix: \".traceql\",\n  keywords,\n  operators,\n  statusValues,\n  // we include these common regular expressions\n  symbols: /[=><!~?:&|+\\-*\\/^%]+/,\n  escapes: /\\\\(?:[abfnrtv\\\\\"']|x[0-9A-Fa-f]{1,4}|u[0-9A-Fa-f]{4}|U[0-9A-Fa-f]{8})/,\n  digits: /\\d+(_+\\d+)*/,\n  octaldigits: /[0-7]+(_+[0-7]+)*/,\n  binarydigits: /[0-1]+(_+[0-1]+)*/,\n  tokenizer: {\n    root: [\n      // labels\n      [/[a-z_.][\\w./_-]*(?=\\s*(=|!=|>|<|>=|<=|=~|!~))/, \"tag\"],\n      [/[a-z_.][\\w./_-]*/, \"tag\"],\n      // durations\n      [/[0-9.]+(s|ms|ns|m)/, \"number\"],\n      // trace ID\n      [/^\\s*[0-9A-Fa-f]+\\s*$/, \"tag\"],\n      // all keywords have the same color\n      [\n        /[a-zA-Z_.]\\w*/,\n        {\n          cases: {\n            \"@keywords\": \"type\",\n            \"@statusValues\": \"type.identifier\",\n            \"@default\": \"identifier\"\n          }\n        }\n      ],\n      // strings\n      [/\"([^\"\\\\]|\\\\.)*$/, \"string.invalid\"],\n      // non-teminated string\n      [/'([^'\\\\]|\\\\.)*$/, \"string.invalid\"],\n      // non-teminated string\n      [/\"/, \"string\", \"@string_double\"],\n      [/'/, \"string\", \"@string_single\"],\n      // whitespace\n      { include: \"@whitespace\" },\n      // delimiters and operators\n      [/[{}()\\[\\]]/, \"@brackets\"],\n      [/[<>](?!@symbols)/, \"@brackets\"],\n      [\n        /@symbols/,\n        {\n          cases: {\n            \"@operators\": \"delimiter\",\n            \"@default\": \"\"\n          }\n        }\n      ],\n      // numbers\n      [/(@digits)[eE]([\\-+]?(@digits))?[fFdD]?/, \"number.float\"],\n      [/(@digits)\\.(@digits)([eE][\\-+]?(@digits))?[fFdD]?/, \"number.float\"],\n      [/0(@octaldigits)[Ll]?/, \"number.octal\"],\n      [/0[bB](@binarydigits)[Ll]?/, \"number.binary\"],\n      [/(@digits)[fFdD]/, \"number.float\"],\n      [/(@digits)[lL]?/, \"number\"]\n    ],\n    string_double: [\n      [/[^\\\\\"]+/, \"string\"],\n      [/@escapes/, \"string.escape\"],\n      [/\\\\./, \"string.escape.invalid\"],\n      [/\"/, \"string\", \"@pop\"]\n    ],\n    string_single: [\n      [/[^\\\\']+/, \"string\"],\n      [/@escapes/, \"string.escape\"],\n      [/\\\\./, \"string.escape.invalid\"],\n      [/'/, \"string\", \"@pop\"]\n    ],\n    clauses: [\n      [/[^(,)]/, \"tag\"],\n      [/\\)/, \"identifier\", \"@pop\"]\n    ],\n    whitespace: [[/[ \\t\\r\\n]+/, \"white\"]]\n  }\n};\nconst languageDefinition = {\n  id: \"traceql\",\n  extensions: [\".traceql\"],\n  aliases: [\"tempo\", \"traceql\"],\n  mimetypes: [],\n  def: {\n    language,\n    languageConfiguration\n  }\n};\nconst traceqlGrammar = {\n  comment: {\n    pattern: /#.*/\n  },\n  \"span-set\": {\n    pattern: /\\{[^}]*}/,\n    inside: {\n      filter: {\n        pattern: /([\\w.\\/-]+)?(\\s*)(([!=+\\-<>~]+)\\s*(\"([^\"\\n&]+)?\"?|([^\"\\n\\s&|}]+))?)/g,\n        inside: {\n          comment: {\n            pattern: /#.*/\n          },\n          \"label-key\": {\n            pattern: /[a-z_.][\\w./_-]*(?=\\s*(=|!=|>|<|>=|<=|=~|!~))/,\n            alias: \"attr-name\"\n          },\n          \"label-value\": {\n            pattern: /(\"(?:\\\\.|[^\\\\\"])*\")|(\\w+)/,\n            alias: \"attr-value\"\n          }\n        }\n      },\n      punctuation: /[}{&|]/\n    }\n  },\n  number: /\\b-?\\d+((\\.\\d*)?([eE][+-]?\\d+)?)?\\b/,\n  operator: new RegExp(`/[-+*/=%^~]|&&?|\\\\|?\\\\||!=?|<(?:=>?|<|>)?|>[>=]?|`, \"i\"),\n  punctuation: /[{};()`,.]/\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9wdWJsaWMvYXBwL3BsdWdpbnMvZGF0YXNvdXJjZS90ZW1wby90cmFjZXFsL3RyYWNlcWwudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7OztBQUVPLE1BQU0sd0JBQXdCO0FBQUE7QUFBQSxFQUVuQyxhQUFhO0FBQUEsRUFDYixVQUFVO0FBQUEsSUFDUixDQUFDLEtBQUssR0FBRztBQUFBLElBQ1QsQ0FBQyxLQUFLLEdBQUc7QUFBQSxFQUNYO0FBQUEsRUFDQSxrQkFBa0I7QUFBQSxJQUNoQixFQUFFLE1BQU0sS0FBSyxPQUFPLElBQUk7QUFBQSxJQUN4QixFQUFFLE1BQU0sS0FBSyxPQUFPLElBQUk7QUFBQSxJQUN4QixFQUFFLE1BQU0sS0FBSyxPQUFPLElBQUk7QUFBQSxJQUN4QixFQUFFLE1BQU0sS0FBSyxPQUFPLElBQUk7QUFBQSxFQUMxQjtBQUFBLEVBQ0Esa0JBQWtCO0FBQUEsSUFDaEIsRUFBRSxNQUFNLEtBQUssT0FBTyxJQUFJO0FBQUEsSUFDeEIsRUFBRSxNQUFNLEtBQUssT0FBTyxJQUFJO0FBQUEsSUFDeEIsRUFBRSxNQUFNLEtBQUssT0FBTyxJQUFJO0FBQUEsSUFDeEIsRUFBRSxNQUFNLEtBQUssT0FBTyxJQUFJO0FBQUEsRUFDMUI7QUFBQSxFQUNBLFNBQVMsQ0FBQztBQUNaO0FBRU8sTUFBTSxZQUFZLENBQUMsS0FBSyxNQUFNLEtBQUssS0FBSyxNQUFNLE1BQU0sSUFBSTtBQUN4RCxNQUFNLGtCQUFrQixDQUFDLEtBQUssTUFBTSxJQUFJO0FBQ3hDLE1BQU0sa0JBQWtCLENBQUMsS0FBSyxNQUFNLEtBQUssS0FBSyxNQUFNLElBQUk7QUFFeEQsTUFBTSxhQUFhLENBQUMsWUFBWSxRQUFRLFFBQVEsUUFBUTtBQUV4RCxNQUFNLFNBQW1CLENBQUMsWUFBWSxNQUFNO0FBRW5ELE1BQU0sV0FBVyxXQUFXLE9BQU8sTUFBTTtBQUV6QyxNQUFNLGVBQWUsQ0FBQyxNQUFNLFNBQVMsU0FBUyxTQUFTLE1BQU07QUFFdEQsTUFBTSxXQUFXO0FB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O0FBQUEsWUFDVCxPQUFPO0FBQUEsVUFDVDtBQUFBLFFBQ0Y7QUFBQSxNQUNGO0FBQUEsTUFDQSxhQUFhO0FBQUEsSUFDZjtBQUFBLEVBQ0Y7QUFBQSxFQUNBLFFBQVE7QUFBQSxFQUNSLFVBQVUsSUFBSSxPQUFPLHFEQUFxRCxHQUFHO0FBQUEsRUFDN0UsYUFBYTtBQUNmIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZ3JhZmFuYS8uL3B1YmxpYy9hcHAvcGx1Z2lucy9kYXRhc291cmNlL3RlbXBvL3RyYWNlcWwvdHJhY2VxbC50cz81ZTg0Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEdyYW1tYXIgfSBmcm9tICdwcmlzbWpzJztcblxuZXhwb3J0IGNvbnN0IGxhbmd1YWdlQ29uZmlndXJhdGlvbiA9IHtcbiAgLy8gdGhlIGRlZmF1bHQgc2VwYXJhdG9ycyBleGNlcHQgYEAkYFxuICB3b3JkUGF0dGVybjogLygtP1xcZCpcXC5cXGRcXHcqKXwoW15gfiEjJV4mKigpXFwtPStcXFt7XFxdfVxcXFx8OzonXCIsLjw+XFwvP1xcc10rKS9nLFxuICBicmFja2V0czogW1xuICAgIFsneycsICd9J10sXG4gICAgWycoJywgJyknXSxcbiAgXSxcbiAgYXV0b0Nsb3NpbmdQYWlyczogW1xuICAgIHsgb3BlbjogJ3snLCBjbG9zZTogJ30nIH0sXG4gICAgeyBvcGVuOiAnKCcsIGNsb3NlOiAnKScgfSxcbiAgICB7IG9wZW46ICdcIicsIGNsb3NlOiAnXCInIH0sXG4gICAgeyBvcGVuOiBcIidcIiwgY2xvc2U6IFwiJ1wiIH0sXG4gIF0sXG4gIHN1cnJvdW5kaW5nUGFpcnM6IFtcbiAgICB7IG9wZW46ICd7JywgY2xvc2U6ICd9JyB9LFxuICAgIHsgb3BlbjogJygnLCBjbG9zZTogJyknIH0sXG4gICAgeyBvcGVuOiAnXCInLCBjbG9zZTogJ1wiJyB9LFxuICAgIHsgb3BlbjogXCInXCIsIGNsb3NlOiBcIidcIiB9LFxuICBdLFxuICBmb2xkaW5nOiB7fSxcbn07XG5cbmV4cG9ydCBjb25zdCBvcGVyYXRvcnMgPSBbJz0nLCAnIT0nLCAnPicsICc8JywgJz49JywgJzw9JywgJz1+J107XG5leHBvcnQgY29uc3Qgc3RyaW5nT3BlcmF0b3JzID0gWyc9JywgJyE9JywgJz1+J107XG5leHBvcnQgY29uc3QgbnVtYmVyT3BlcmF0b3JzID0gWyc9JywgJyE9JywgJz4nLCAnPCcsICc+PScsICc8PSddO1xuXG5leHBvcnQgY29uc3QgaW50cmluc2ljcyA9IFsnZHVyYXRpb24nLCAna2luZCcsICduYW1lJywgJ3N0YXR1cyddO1xuXG5leHBvcnQgY29uc3Qgc2NvcGVzOiBzdHJpbmdbXSA9IFsncmVzb3VyY2UnLCAnc3BhbiddO1xuXG5jb25zdCBrZXl3b3JkcyA9IGludHJpbnNpY3MuY29uY2F0KHNjb3Blcyk7XG5cbmNvbnN0IHN0YXR1c1ZhbHVlcyA9IFsnb2snLCAndW5zZXQnLCAnZXJyb3InLCAnZmFsc2UnLCAndHJ1ZSddO1xuXG5leHBvcnQgY29uc3QgbGFuZ3VhZ2UgPSB7XG4gIGlnbm9yZUNhc2U6IGZhbHNlLFxuICBkZWZhdWx0VG9rZW46ICcnLFxuICB0b2tlblBvc3RmaXg6ICcudHJhY2VxbCcsXG5cbiAga2V5d29yZHMsXG4gIG9wZXJhdG9ycyxcbiAgc3RhdHVzVmFsdWVzLFxuXG4gIC8vIHdlIGluY2x1ZGUgdGhlc2UgY29tbW9uIHJlZ3VsYXIgZXhwcmVzc2lvbnNcbiAgc3ltYm9sczogL1s9Pjwhfj86JnwrXFwtKlxcL14lXSsvLFxuICBlc2NhcGVzOiAvXFxcXCg/OlthYmZucnR2XFxcXFwiJ118eFswLTlBLUZhLWZdezEsNH18dVswLTlBLUZhLWZdezR9fFVbMC05QS1GYS1mXXs4fSkvLFxuICBkaWdpdHM6IC9cXGQrKF8rXFxkKykqLyxcbiAgb2N0YWxkaWdpdHM6IC9bMC03XSsoXytbMC03XSspKi8sXG4gIGJpbmFyeWRpZ2l0czogL1swLTFdKyhfK1swLTFdKykqLyxcblxuICB0b2tlbml6ZXI6IHtcbiAgICByb290OiBbXG4gICAgICAvLyBsYWJlbHNcbiAgICAgIFsvW2Etel8uXVtcXHcuL18tXSooPz1cXHMqKD18IT18Pnw8fD49fDw9fD1+fCF+KSkvLCAndGFnJ10sXG4gICAgICBbL1thLXpfLl1bXFx3Li9fLV0qLywgJ3RhZyddLFxuXG4gICAgICAvLyBkdXJhdGlvbnNcbiAgICAgIFsvWzAtOS5dKyhzfG1zfG5zfG0pLywgJ251bWJlciddLFxuXG4gICAgICAvLyB0cmFjZSBJRFxuICAgICAgWy9eXFxzKlswLTlBLUZhLWZdK1xccyokLywgJ3RhZyddLFxuXG4gICAgICAvLyBhbGwga2V5d29yZHMgaGF2ZSB0aGUgc2FtZSBjb2xvclxuICAgICAgW1xuICAgICAgICAvW2EtekEtWl8uXVxcdyovLFxuICAgICAgICB7XG4gICAgICAgICAgY2FzZXM6IHtcbiAgICAgICAgICAgICdAa2V5d29yZHMnOiAndHlwZScsXG4gICAgICAgICAgICAnQHN0YXR1c1ZhbHVlcyc6ICd0eXBlLmlkZW50aWZpZXInLFxuICAgICAgICAgICAgJ0BkZWZhdWx0JzogJ2lkZW50aWZpZXInLFxuICAgICAgICAgIH0sXG4gICAgICAgIH0sXG4gICAgICBdLFxuXG4gICAgICAvLyBzdHJpbmdzXG4gICAgICBbL1wiKFteXCJcXFxcXXxcXFxcLikqJC8sICdzdHJpbmcuaW52YWxpZCddLCAvLyBub24tdGVtaW5hdGVkIHN0cmluZ1xuICAgICAgWy8nKFteJ1xcXFxdfFxcXFwuKSokLywgJ3N0cmluZy5pbnZhbGlkJ10sIC8vIG5vbi10ZW1pbmF0ZWQgc3RyaW5nXG4gICAgICBbL1wiLywgJ3N0cmluZycsICdAc3RyaW5nX2RvdWJsZSddLFxuICAgICAgWy8nLywgJ3N0cmluZycsICdAc3RyaW5nX3NpbmdsZSddLFxuXG4gICAgICAvLyB3aGl0ZXNwYWNlXG4gICAgICB7IGluY2x1ZGU6ICdAd2hpdGVzcGFjZScgfSxcblxuICAgICAgLy8gZGVsaW1pdGVycyBhbmQgb3BlcmF0b3JzXG4gICAgICBbL1t7fSgpXFxbXFxdXS8sICdAYnJhY2tldHMnXSxcbiAgICAgIFsvWzw+XSg/IUBzeW1ib2xzKS8sICdAYnJhY2tldHMnXSxcbiAgICAgIFtcbiAgICAgICAgL0BzeW1ib2xzLyxcbiAgICAgICAge1xuICAgICAgICAgIGNhc2VzOiB7XG4gICAgICAgICAgICAnQG9wZXJhdG9ycyc6ICdkZWxpbWl0ZXInLFxuICAgICAgICAgICAgJ0BkZWZhdWx0JzogJycsXG4gICAgICAgICAgfSxcbiAgICAgICAgfSxcbiAgICAgIF0sXG5cbiAgICAgIC8vIG51bWJlcnNcbiAgICAgIFsvKEBkaWdpdHMpW2VFXShbXFwtK10/KEBkaWdpdHMpKT9bZkZkRF0/LywgJ251bWJlci5mbG9hdCddLFxuICAgICAgWy8oQGRpZ2l0cylcXC4oQGRpZ2l0cykoW2VFXVtcXC0rXT8oQGRpZ2l0cykpP1tmRmREXT8vLCAnbnVtYmVyLmZsb2F0J10sXG4gICAgICBbLzAoQG9jdGFsZGlnaXRzKVtMbF0/LywgJ251bWJlci5vY3RhbCddLFxuICAgICAgWy8wW2JCXShAYmluYXJ5ZGlnaXRzKVtMbF0/LywgJ251bWJlci5iaW5hcnknXSxcbiAgICAgIFsvKEBkaWdpdHMpW2ZGZERdLywgJ251bWJlci5mbG9hdCddLFxuICAgICAgWy8oQGRpZ2l0cylbbExdPy8sICdudW1iZXInXSxcbiAgICBdLFxuXG4gICAgc3RyaW5nX2RvdWJsZTogW1xuICAgICAgWy9bXlxcXFxcIl0rLywgJ3N0cmluZyddLFxuICAgICAgWy9AZXNjYXBlcy8sICdzdHJpbmcuZXNjYXBlJ10sXG4gICAgICBbL1xcXFwuLywgJ3N0cmluZy5lc2NhcGUuaW52YWxpZCddLFxuICAgICAgWy9cIi8sICdzdHJpbmcnLCAnQHBvcCddLFxuICAgIF0sXG5cbiAgICBzdHJpbmdfc2luZ2xlOiBbXG4gICAgICBbL1teXFxcXCddKy8sICdzdHJpbmcnXSxcbiAgICAgIFsvQGVzY2FwZXMvLCAnc3RyaW5nLmVzY2FwZSddLFxuICAgICAgWy9cXFxcLi8sICdzdHJpbmcuZXNjYXBlLmludmFsaWQnXSxcbiAgICAgIFsvJy8sICdzdHJpbmcnLCAnQHBvcCddLFxuICAgIF0sXG5cbiAgICBjbGF1c2VzOiBbXG4gICAgICBbL1teKCwpXS8sICd0YWcnXSxcbiAgICAgIFsvXFwpLywgJ2lkZW50aWZpZXInLCAnQHBvcCddLFxuICAgIF0sXG5cbiAgICB3aGl0ZXNwYWNlOiBbWy9bIFxcdFxcclxcbl0rLywgJ3doaXRlJ11dLFxuICB9LFxufTtcblxuZXhwb3J0IGNvbnN0IGxhbmd1YWdlRGVmaW5pdGlvbiA9IHtcbiAgaWQ6ICd0cmFjZXFsJyxcbiAgZXh0ZW5zaW9uczogWycudHJhY2VxbCddLFxuICBhbGlhc2VzOiBbJ3RlbXBvJywgJ3RyYWNlcWwnXSxcbiAgbWltZXR5cGVzOiBbXSxcbiAgZGVmOiB7XG4gICAgbGFuZ3VhZ2UsXG4gICAgbGFuZ3VhZ2VDb25maWd1cmF0aW9uLFxuICB9LFxufTtcblxuZXhwb3J0IGNvbnN0IHRyYWNlcWxHcmFtbWFyOiBHcmFtbWFyID0ge1xuICBjb21tZW50OiB7XG4gICAgcGF0dGVybjogLyMuKi8sXG4gIH0sXG4gICdzcGFuLXNldCc6IHtcbiAgICBwYXR0ZXJuOiAvXFx7W159XSp9LyxcbiAgICBpbnNpZGU6IHtcbiAgICAgIGZpbHRlcjoge1xuICAgICAgICBwYXR0ZXJuOiAvKFtcXHcuXFwvLV0rKT8oXFxzKikoKFshPStcXC08Pn5dKylcXHMqKFwiKFteXCJcXG4mXSspP1wiP3woW15cIlxcblxccyZ8fV0rKSk/KS9nLFxuICAgICAgICBpbnNpZGU6IHtcbiAgICAgICAgICBjb21tZW50OiB7XG4gICAgICAgICAgICBwYXR0ZXJuOiAvIy4qLyxcbiAgICAgICAgICB9LFxuICAgICAgICAgICdsYWJlbC1rZXknOiB7XG4gICAgICAgICAgICBwYXR0ZXJuOiAvW2Etel8uXVtcXHcuL18tXSooPz1cXHMqKD18IT18Pnw8fD49fDw9fD1+fCF+KSkvLFxuICAgICAgICAgICAgYWxpYXM6ICdhdHRyLW5hbWUnLFxuICAgICAgICAgIH0sXG4gICAgICAgICAgJ2xhYmVsLXZhbHVlJzoge1xuICAgICAgICAgICAgcGF0dGVybjogLyhcIig/OlxcXFwufFteXFxcXFwiXSkqXCIpfChcXHcrKS8sXG4gICAgICAgICAgICBhbGlhczogJ2F0dHItdmFsdWUnLFxuICAgICAgICAgIH0sXG4gICAgICAgIH0sXG4gICAgICB9LFxuICAgICAgcHVuY3R1YXRpb246IC9bfXsmfF0vLFxuICAgIH0sXG4gIH0sXG4gIG51bWJlcjogL1xcYi0/XFxkKygoXFwuXFxkKik/KFtlRV1bKy1dP1xcZCspPyk/XFxiLyxcbiAgb3BlcmF0b3I6IG5ldyBSZWdFeHAoYC9bLSsqLz0lXn5dfCYmP3xcXFxcfD9cXFxcfHwhPT98PCg/Oj0+P3w8fD4pP3w+Wz49XT98YCwgJ2knKSxcbiAgcHVuY3R1YXRpb246IC9be307KClgLC5dLyxcbn07XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./public/app/plugins/datasource/tempo/traceql/traceql.ts\n");

/***/ }),

/***/ "./public/app/plugins/datasource/tempo/tracking.ts":
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   onDashboardLoadedHandler: () => (/* binding */ onDashboardLoadedHandler)\n/* harmony export */ });\n/* harmony import */ var _grafana_runtime__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(\"./.yarn/__virtual__/@grafana-runtime-virtual-68c57d4c0c/1/packages/grafana-runtime/src/analytics/utils.ts\");\n/* harmony import */ var _grafana_runtime__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(\"./.yarn/__virtual__/@grafana-runtime-virtual-68c57d4c0c/1/packages/grafana-runtime/src/services/templateSrv.ts\");\n/* harmony import */ var _plugin_json__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"./public/app/plugins/datasource/tempo/plugin.json\");\n\n\n\nconst onDashboardLoadedHandler = ({\n  payload: { dashboardId, orgId, grafanaVersion, queries }\n}) => {\n  try {\n    const tempoQueries = queries[_plugin_json__WEBPACK_IMPORTED_MODULE_0__.id];\n    if (!tempoQueries?.length) {\n      return;\n    }\n    let stats = {\n      grafana_version: grafanaVersion,\n      dashboard_id: dashboardId,\n      org_id: orgId,\n      native_search_query_count: 0,\n      search_query_count: 0,\n      service_map_query_count: 0,\n      traceql_query_count: 0,\n      upload_query_count: 0,\n      native_search_queries_with_template_variables_count: 0,\n      search_queries_with_template_variables_count: 0,\n      service_map_queries_with_template_variables_count: 0,\n      traceql_queries_with_template_variables_count: 0\n    };\n    for (const query of tempoQueries) {\n      if (query.hide) {\n        continue;\n      }\n      if (query.queryType === \"nativeSearch\") {\n        stats.native_search_query_count++;\n        if (query.serviceName && hasTemplateVariables(query.serviceName) || query.spanName && hasTemplateVariables(query.spanName) || query.search && hasTemplateVariables(query.search) || query.minDuration && hasTemplateVariables(query.minDuration) || query.maxDuration && hasTemplateVariables(query.maxDuration)) {\n          stats.native_search_queries_with_template_variables_count++;\n        }\n      } else if (query.queryType === \"search\") {\n        stats.search_query_count++;\n        if (query.linkedQuery && query.linkedQuery.expr && hasTemplateVariables(query.linkedQuery.expr)) {\n          stats.search_queries_with_template_variables_count++;\n        }\n      } else if (query.queryType === \"serviceMap\") {\n        stats.service_map_query_count++;\n        if (query.serviceMapQuery && hasTemplateVariables(query.serviceMapQuery)) {\n          stats.service_map_queries_with_template_variables_count++;\n        }\n      } else if (query.queryType === \"traceql\") {\n        stats.traceql_query_count++;\n        if (hasTemplateVariables(query.query)) {\n          stats.traceql_queries_with_template_variables_count++;\n        }\n      } else if (query.queryType === \"upload\") {\n        stats.upload_query_count++;\n      }\n    }\n    (0,_grafana_runtime__WEBPACK_IMPORTED_MODULE_1__.reportInteraction)(\"grafana_tempo_dashboard_loaded\", stats);\n  } catch (error) {\n    console.error(\"error in tempo tracking handler\", error);\n  }\n};\nconst hasTemplateVariables = (val) => {\n  return (0,_grafana_runtime__WEBPACK_IMPORTED_MODULE_2__.getTemplateSrv)().containsTemplate(val);\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9wdWJsaWMvYXBwL3BsdWdpbnMvZGF0YXNvdXJjZS90ZW1wby90cmFja2luZy50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUNrRDtBQUUzQjtBQWtCaEIsTUFBTSwyQkFBMkIsQ0FBQztBQUFBLEVBQ3ZDLFNBQVMsRUFBRSxhQUFhLE9BQU8sZ0JBQWdCLFFBQVE7QUFDekQsTUFBd0M7QUFDdEMsTUFBSTtBQUNGLFVBQU0sZUFBZSxRQUFRLDRDQUFhO0FBRTFDLFFBQUksQ0FBQyxjQUFjLFFBQVE7QUFDekI7QUFBQSxJQUNGO0FBRUEsUUFBSSxRQUE2QztBQUFBLE1BQy9DLGlCQUFpQjtBQUFBLE1BQ2pCLGNBQWM7QUFBQSxNQUNkLFFBQVE7QUFBQSxNQUNSLDJCQUEyQjtBQUFBLE1BQzNCLG9CQUFvQjtBQUFBLE1BQ3BCLHlCQUF5QjtBQUFBLE1BQ3pCLHFCQUFxQjtBQUFBLE1BQ3JCLG9CQUFvQjtBQUFBLE1BQ3BCLHFEQUFxRDtBQUFBLE1BQ3JELDhDQUE4QztBQUFBLE1BQzlDLG1EQUFtRDtBQUFBLE1BQ25ELCtDQUErQztBQUFBLElBQ2pEO0FBRUEsZUFBVyxTQUFTLGNBQWM7QUFDaEMsVUFBSSxNQUFNLE1BQU07QUFDZDtBQUFBLE1BQ0Y7QUFFQSxVQUFJLE1BQU0sY0FBYyxnQkFBZ0I7QUFDdEMsY0FBTTtBQUNOLFlBQ0csTUFBTSxlQUFlLHFCQUFxQixNQUFNLFdBQVcsS0FDM0QsTUFBTSxZQUFZLHFCQUFxQixNQUFNLFFBQVEsS0FDckQsTUFBTSxVQUFVLHFCQUFxQixNQUFNLE1BQU0sS0FDakQsTUFBTSxlQUFlLHFCQUFxQixNQUFNLFdBQVcsS0FDM0QsTUFBTSxlQUFlLHFCQUFxQixNQUFNLFdBQVcsR0FDNUQ7QUFDQSxnQkFBTTtBQUFBLFFBQ1I7QUFBQSxNQUNGLFdBQVcsTUFBTSxjQUFjLFVBQVU7QUFDdkMsY0FBTTtBQUNOLFlBQUksTUFBTSxlQUFlLE1BQU0sWUFBWSxRQUFRLHFCQUFxQixNQUFNLFlBQVksSUFBSSxHQUFHO0FBQy9GLGdCQUFNO0FBQUEsUUFDUjtBQUFBLE1BQ0YsV0FBVyxNQUFNLGNBQWMsY0FBYztBQUMzQyxjQUFNO0FBQ04sWUFBSSxNQUFNLG1CQUFtQixxQkFBcUIsTUFBTSxlQUFlLEdBQUc7QUFDeEUsZ0JBQU07QUFBQSxRQUNSO0FBQUEsTUFDRixXQUFXLE1BQU0sY0FBYyxXQUFXO0FBQ3hDLGNBQU07QUFDTixZQUFJLHFCQUFxQixNQUFNLEtBQUssR0FBRztBQUNyQyxnQkFBTTtBQUFBLFFBQ1I7QUFBQSxNQUNGLFdBQVcsTUFBTSxjQUFjLFVBQVU7QUFDdkMsY0FBTTtBQUFBLE1BQ1I7QUFBQSxJQUNGO0FBRUEsdUVBQWlCLENBQUMsa0NBQWtDLEtBQUs7QUFBQSxFQUMzRCxTQUFTLE9BQVA7QUFDQSxZQUFRLE1BQU0sbUNBQW1DLEtBQUs7QUFBQSxFQUN4RDtBQUNGO0FBRUEsTUFBTSx1QkFBdUIsQ0FBQyxRQUF5QjtBQUNyRCxTQUFPLGdFQUFjLENBQUMsRUFBRSxpQkFBaUIsR0FBRztBQUM5QyIsInNvdXJjZXMiOlsid2VicGFjazovL2dyYWZhbmEvLi9wdWJsaWMvYXBwL3BsdWdpbnMvZGF0YXNvdXJjZS90ZW1wby90cmFja2luZy50cz9iMmRlIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IERhc2hib2FyZExvYWRlZEV2ZW50IH0gZnJvbSAnQGdyYWZhbmEvZGF0YSc7XG5pbXBvcnQgeyBnZXRUZW1wbGF0ZVNydiwgcmVwb3J0SW50ZXJhY3Rpb24gfSBmcm9tICdAZ3JhZmFuYS9ydW50aW1lJztcblxuaW1wb3J0IHBsdWdpbkpzb24gZnJvbSAnLi9wbHVnaW4uanNvbic7XG5pbXBvcnQgeyBUZW1wb1F1ZXJ5IH0gZnJvbSAnLi90eXBlcyc7XG5cbnR5cGUgVGVtcG9PbkRhc2hib2FyZExvYWRlZFRyYWNraW5nRXZlbnQgPSB7XG4gIGdyYWZhbmFfdmVyc2lvbj86IHN0cmluZztcbiAgZGFzaGJvYXJkX2lkPzogc3RyaW5nO1xuICBvcmdfaWQ/OiBudW1iZXI7XG4gIG5hdGl2ZV9zZWFyY2hfcXVlcnlfY291bnQ6IG51bWJlcjtcbiAgc2VhcmNoX3F1ZXJ5X2NvdW50OiBudW1iZXI7XG4gIHNlcnZpY2VfbWFwX3F1ZXJ5X2NvdW50OiBudW1iZXI7XG4gIHRyYWNlcWxfcXVlcnlfY291bnQ6IG51bWJlcjtcbiAgdXBsb2FkX3F1ZXJ5X2NvdW50OiBudW1iZXI7XG4gIG5hdGl2ZV9zZWFyY2hfcXVlcmllc193aXRoX3RlbXBsYXRlX3ZhcmlhYmxlc19jb3VudDogbnVtYmVyO1xuICBzZWFyY2hfcXVlcmllc193aXRoX3RlbXBsYXRlX3ZhcmlhYmxlc19jb3VudDogbnVtYmVyO1xuICBzZXJ2aWNlX21hcF9xdWVyaWVzX3dpdGhfdGVtcGxhdGVfdmFyaWFibGVzX2NvdW50OiBudW1iZXI7XG4gIHRyYWNlcWxfcXVlcmllc193aXRoX3RlbXBsYXRlX3ZhcmlhYmxlc19jb3VudDogbnVtYmVyO1xufTtcblxuZXhwb3J0IGNvbnN0IG9uRGFzaGJvYXJkTG9hZGVkSGFuZGxlciA9ICh7XG4gIHBheWxvYWQ6IHsgZGFzaGJvYXJkSWQsIG9yZ0lkLCBncmFmYW5hVmVyc2lvbiwgcXVlcmllcyB9LFxufTogRGFzaGJvYXJkTG9hZGVkRXZlbnQ8VGVtcG9RdWVyeT4pID0+IHtcbiAgdHJ5IHtcbiAgICBjb25zdCB0ZW1wb1F1ZXJpZXMgPSBxdWVyaWVzW3BsdWdpbkpzb24uaWRdO1xuXG4gICAgaWYgKCF0ZW1wb1F1ZXJpZXM/Lmxlbmd0aCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGxldCBzdGF0czogVGVtcG9PbkRhc2hib2FyZExvYWRlZFRyYWNraW5nRXZlbnQgPSB7XG4gICAgICBncmFmYW5hX3ZlcnNpb246IGdyYWZhbmFWZXJzaW9uLFxuICAgICAgZGFzaGJvYXJkX2lkOiBkYXNoYm9hcmRJZCxcbiAgICAgIG9yZ19pZDogb3JnSWQsXG4gICAgICBuYXRpdmVfc2VhcmNoX3F1ZXJ5X2NvdW50OiAwLFxuICAgICAgc2VhcmNoX3F1ZXJ5X2NvdW50OiAwLFxuICAgICAgc2VydmljZV9tYXBfcXVlcnlfY291bnQ6IDAsXG4gICAgICB0cmFjZXFsX3F1ZXJ5X2NvdW50OiAwLFxuICAgICAgdXBsb2FkX3F1ZXJ5X2NvdW50OiAwLFxuICAgICAgbmF0aXZlX3NlYXJjaF9xdWVyaWVzX3dpdGhfdGVtcGxhdGVfdmFyaWFibGVzX2NvdW50OiAwLFxuICAgICAgc2VhcmNoX3F1ZXJpZXNfd2l0aF90ZW1wbGF0ZV92YXJpYWJsZXNfY291bnQ6IDAsXG4gICAgICBzZXJ2aWNlX21hcF9xdWVyaWVzX3dpdGhfdGVtcGxhdGVfdmFyaWFibGVzX2NvdW50OiAwLFxuICAgICAgdHJhY2VxbF9xdWVyaWVzX3dpdGhfdGVtcGxhdGVfdmFyaWFibGVzX2NvdW50OiAwLFxuICAgIH07XG5cbiAgICBmb3IgKGNvbnN0IHF1ZXJ5IG9mIHRlbXBvUXVlcmllcykge1xuICAgICAgaWYgKHF1ZXJ5LmhpZGUpIHtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG5cbiAgICAgIGlmIChxdWVyeS5xdWVyeVR5cGUgPT09ICduYXRpdmVTZWFyY2gnKSB7XG4gICAgICAgIHN0YXRzLm5hdGl2ZV9zZWFyY2hfcXVlcnlfY291bnQrKztcbiAgICAgICAgaWYgKFxuICAgICAgICAgIChxdWVyeS5zZXJ2aWNlTmFtZSAmJiBoYXNUZW1wbGF0ZVZhcmlhYmxlcyhxdWVyeS5zZXJ2aWNlTmFtZSkpIHx8XG4gICAgICAgICAgKHF1ZXJ5LnNwYW5OYW1lICYmIGhhc1RlbXBsYXRlVmFyaWFibGVzKHF1ZXJ5LnNwYW5OYW1lKSkgfHxcbiAgICAgICAgICAocXVlcnkuc2VhcmNoICYmIGhhc1RlbXBsYXRlVmFyaWFibGVzKHF1ZXJ5LnNlYXJjaCkpIHx8XG4gICAgICAgICAgKHF1ZXJ5Lm1pbkR1cmF0aW9uICYmIGhhc1RlbXBsYXRlVmFyaWFibGVzKHF1ZXJ5Lm1pbkR1cmF0aW9uKSkgfHxcbiAgICAgICAgICAocXVlcnkubWF4RHVyYXRpb24gJiYgaGFzVGVtcGxhdGVWYXJpYWJsZXMocXVlcnkubWF4RHVyYXRpb24pKVxuICAgICAgICApIHtcbiAgICAgICAgICBzdGF0cy5uYXRpdmVfc2VhcmNoX3F1ZXJpZXNfd2l0aF90ZW1wbGF0ZV92YXJpYWJsZXNfY291bnQrKztcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmIChxdWVyeS5xdWVyeVR5cGUgPT09ICdzZWFyY2gnKSB7XG4gICAgICAgIHN0YXRzLnNlYXJjaF9xdWVyeV9jb3VudCsrO1xuICAgICAgICBpZiAocXVlcnkubGlua2VkUXVlcnkgJiYgcXVlcnkubGlua2VkUXVlcnkuZXhwciAmJiBoYXNUZW1wbGF0ZVZhcmlhYmxlcyhxdWVyeS5saW5rZWRRdWVyeS5leHByKSkge1xuICAgICAgICAgIHN0YXRzLnNlYXJjaF9xdWVyaWVzX3dpdGhfdGVtcGxhdGVfdmFyaWFibGVzX2NvdW50Kys7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAocXVlcnkucXVlcnlUeXBlID09PSAnc2VydmljZU1hcCcpIHtcbiAgICAgICAgc3RhdHMuc2VydmljZV9tYXBfcXVlcnlfY291bnQrKztcbiAgICAgICAgaWYgKHF1ZXJ5LnNlcnZpY2VNYXBRdWVyeSAmJiBoYXNUZW1wbGF0ZVZhcmlhYmxlcyhxdWVyeS5zZXJ2aWNlTWFwUXVlcnkpKSB7XG4gICAgICAgICAgc3RhdHMuc2VydmljZV9tYXBfcXVlcmllc193aXRoX3RlbXBsYXRlX3ZhcmlhYmxlc19jb3VudCsrO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKHF1ZXJ5LnF1ZXJ5VHlwZSA9PT0gJ3RyYWNlcWwnKSB7XG4gICAgICAgIHN0YXRzLnRyYWNlcWxfcXVlcnlfY291bnQrKztcbiAgICAgICAgaWYgKGhhc1RlbXBsYXRlVmFyaWFibGVzKHF1ZXJ5LnF1ZXJ5KSkge1xuICAgICAgICAgIHN0YXRzLnRyYWNlcWxfcXVlcmllc193aXRoX3RlbXBsYXRlX3ZhcmlhYmxlc19jb3VudCsrO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKHF1ZXJ5LnF1ZXJ5VHlwZSA9PT0gJ3VwbG9hZCcpIHtcbiAgICAgICAgc3RhdHMudXBsb2FkX3F1ZXJ5X2NvdW50Kys7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmVwb3J0SW50ZXJhY3Rpb24oJ2dyYWZhbmFfdGVtcG9fZGFzaGJvYXJkX2xvYWRlZCcsIHN0YXRzKTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKCdlcnJvciBpbiB0ZW1wbyB0cmFja2luZyBoYW5kbGVyJywgZXJyb3IpO1xuICB9XG59O1xuXG5jb25zdCBoYXNUZW1wbGF0ZVZhcmlhYmxlcyA9ICh2YWw6IHN0cmluZyk6IGJvb2xlYW4gPT4ge1xuICByZXR1cm4gZ2V0VGVtcGxhdGVTcnYoKS5jb250YWluc1RlbXBsYXRlKHZhbCk7XG59O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./public/app/plugins/datasource/tempo/tracking.ts\n");

/***/ }),

/***/ "./public/app/plugins/datasource/tempo/types.ts":
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   SpanKind: () => (/* binding */ SpanKind),\n/* harmony export */   defaultQuery: () => (/* binding */ defaultQuery)\n/* harmony export */ });\n\nconst defaultQuery = {};\nvar SpanKind = /* @__PURE__ */ ((SpanKind2) => {\n  SpanKind2[SpanKind2[\"UNSPECIFIED\"] = 0] = \"UNSPECIFIED\";\n  SpanKind2[SpanKind2[\"INTERNAL\"] = 1] = \"INTERNAL\";\n  SpanKind2[SpanKind2[\"SERVER\"] = 2] = \"SERVER\";\n  SpanKind2[SpanKind2[\"CLIENT\"] = 3] = \"CLIENT\";\n  SpanKind2[SpanKind2[\"PRODUCER\"] = 4] = \"PRODUCER\";\n  SpanKind2[SpanKind2[\"CONSUMER\"] = 5] = \"CONSUMER\";\n  return SpanKind2;\n})(SpanKind || {});\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9wdWJsaWMvYXBwL3BsdWdpbnMvZGF0YXNvdXJjZS90ZW1wby90eXBlcy50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFpRE8sTUFBTSxlQUFvQyxDQUFDO0FBb0IzQyxJQUFLLFdBQUwsa0JBQUtBLGNBQUw7QUFDTCxFQUFBQSxvQkFBQTtBQUNBLEVBQUFBLG9CQUFBO0FBQ0EsRUFBQUEsb0JBQUE7QUFDQSxFQUFBQSxvQkFBQTtBQUNBLEVBQUFBLG9CQUFBO0FBQ0EsRUFBQUEsb0JBQUE7QUFOVSxTQUFBQTtBQUFBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZ3JhZmFuYS8uL3B1YmxpYy9hcHAvcGx1Z2lucy9kYXRhc291cmNlL3RlbXBvL3R5cGVzLnRzPzY2OWEiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgRGF0YVNvdXJjZUpzb25EYXRhLCBLZXlWYWx1ZSB9IGZyb20gJ0BncmFmYW5hL2RhdGEvc3JjJztcbmltcG9ydCB7IE5vZGVHcmFwaE9wdGlvbnMgfSBmcm9tICdhcHAvY29yZS9jb21wb25lbnRzL05vZGVHcmFwaFNldHRpbmdzJztcbmltcG9ydCB7IFRyYWNlVG9Mb2dzT3B0aW9ucyB9IGZyb20gJ2FwcC9jb3JlL2NvbXBvbmVudHMvVHJhY2VUb0xvZ3MvVHJhY2VUb0xvZ3NTZXR0aW5ncyc7XG5cbmltcG9ydCB7IExva2lRdWVyeSB9IGZyb20gJy4uL2xva2kvdHlwZXMnO1xuXG5pbXBvcnQgeyBUZW1wb1F1ZXJ5IGFzIFRlbXBvQmFzZSwgVGVtcG9RdWVyeVR5cGUsIFRyYWNlcWxGaWx0ZXIgfSBmcm9tICcuL2RhdGFxdWVyeS5nZW4nO1xuXG5leHBvcnQgaW50ZXJmYWNlIFNlYXJjaFF1ZXJ5UGFyYW1zIHtcbiAgbWluRHVyYXRpb24/OiBzdHJpbmc7XG4gIG1heER1cmF0aW9uPzogc3RyaW5nO1xuICBsaW1pdD86IG51bWJlcjtcbiAgdGFncz86IHN0cmluZztcbiAgc3RhcnQ/OiBudW1iZXI7XG4gIGVuZD86IG51bWJlcjtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBUZW1wb0pzb25EYXRhIGV4dGVuZHMgRGF0YVNvdXJjZUpzb25EYXRhIHtcbiAgdHJhY2VzVG9Mb2dzPzogVHJhY2VUb0xvZ3NPcHRpb25zO1xuICBzZXJ2aWNlTWFwPzoge1xuICAgIGRhdGFzb3VyY2VVaWQ/OiBzdHJpbmc7XG4gIH07XG4gIHNlYXJjaD86IHtcbiAgICBoaWRlPzogYm9vbGVhbjtcbiAgICBmaWx0ZXJzPzogVHJhY2VxbEZpbHRlcltdO1xuICB9O1xuICBub2RlR3JhcGg/OiBOb2RlR3JhcGhPcHRpb25zO1xuICBsb2tpU2VhcmNoPzoge1xuICAgIGRhdGFzb3VyY2VVaWQ/OiBzdHJpbmc7XG4gIH07XG4gIHNwYW5CYXI/OiB7XG4gICAgdGFnOiBzdHJpbmc7XG4gIH07XG4gIHRyYWNlUXVlcnk/OiB7XG4gICAgdGltZVNoaWZ0RW5hYmxlZD86IGJvb2xlYW47XG4gICAgc3BhblN0YXJ0VGltZVNoaWZ0Pzogc3RyaW5nO1xuICAgIHNwYW5FbmRUaW1lU2hpZnQ/OiBzdHJpbmc7XG4gIH07XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgVGVtcG9RdWVyeSBleHRlbmRzIFRlbXBvQmFzZSB7XG4gIC8vIFF1ZXJ5IHRvIGZpbmQgbGlzdCBvZiB0cmFjZXMsIGUuZy4sIHZpYSBMb2tpXG4gIC8vIFRPRE8gY2hhbmdlIHRoaXMgZmllbGQgdG8gdGhlIHNjaGVtYSB0eXBlIHdoZW4gTG9raVF1ZXJ5IGV4aXN0cyBpbiB0aGUgc2NoZW1hXG4gIGxpbmtlZFF1ZXJ5PzogTG9raVF1ZXJ5O1xuICBxdWVyeVR5cGU6IFRlbXBvUXVlcnlUeXBlO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIE15RGF0YVNvdXJjZU9wdGlvbnMgZXh0ZW5kcyBEYXRhU291cmNlSnNvbkRhdGEge31cblxuZXhwb3J0IGNvbnN0IGRlZmF1bHRRdWVyeTogUGFydGlhbDxUZW1wb1F1ZXJ5PiA9IHt9O1xuXG5leHBvcnQgdHlwZSBUcmFjZVNlYXJjaE1ldGFkYXRhID0ge1xuICB0cmFjZUlEOiBzdHJpbmc7XG4gIHJvb3RTZXJ2aWNlTmFtZTogc3RyaW5nO1xuICByb290VHJhY2VOYW1lOiBzdHJpbmc7XG4gIHN0YXJ0VGltZVVuaXhOYW5vPzogc3RyaW5nO1xuICBkdXJhdGlvbk1zPzogbnVtYmVyO1xuICBzcGFuU2V0PzogeyBzcGFuczogU3BhbltdIH07XG59O1xuXG5leHBvcnQgdHlwZSBTZWFyY2hNZXRyaWNzID0ge1xuICBpbnNwZWN0ZWRUcmFjZXM/OiBudW1iZXI7XG4gIGluc3BlY3RlZEJ5dGVzPzogbnVtYmVyO1xuICB0b3RhbEJsb2Nrcz86IG51bWJlcjtcbiAgY29tcGxldGVkSm9icz86IG51bWJlcjtcbiAgdG90YWxKb2JzPzogbnVtYmVyO1xuICB0b3RhbEJsb2NrQnl0ZXM/OiBudW1iZXI7XG59O1xuXG5leHBvcnQgZW51bSBTcGFuS2luZCB7XG4gIFVOU1BFQ0lGSUVELFxuICBJTlRFUk5BTCxcbiAgU0VSVkVSLFxuICBDTElFTlQsXG4gIFBST0RVQ0VSLFxuICBDT05TVU1FUixcbn1cblxuZXhwb3J0IHR5cGUgU3BhbiA9IHtcbiAgZHVyYXRpb25OYW5vczogc3RyaW5nO1xuICB0cmFjZUlkPzogc3RyaW5nO1xuICBzcGFuSUQ6IHN0cmluZztcbiAgdHJhY2VTdGF0ZT86IHN0cmluZztcbiAgcGFyZW50U3BhbklkPzogc3RyaW5nO1xuICBuYW1lPzogc3RyaW5nO1xuICBraW5kPzogU3BhbktpbmQ7XG4gIHN0YXJ0VGltZVVuaXhOYW5vOiBzdHJpbmc7XG4gIGVuZFRpbWVVbml4TmFubz86IHN0cmluZztcbiAgYXR0cmlidXRlcz86IEFycmF5PHtcbiAgICBrZXk6IHN0cmluZztcbiAgICB2YWx1ZToge1xuICAgICAgc3RyaW5nVmFsdWU/OiBzdHJpbmc7XG4gICAgICBpbnRWYWx1ZT86IHN0cmluZztcbiAgICAgIGJvb2xWYWx1ZT86IGJvb2xlYW47XG4gICAgICBkb3VibGVWYWx1ZT86IHN0cmluZztcbiAgICAgIFZhbHVlPzoge1xuICAgICAgICBzdHJpbmdfdmFsdWU/OiBzdHJpbmc7XG4gICAgICAgIGludF92YWx1ZT86IHN0cmluZztcbiAgICAgICAgYm9vbF92YWx1ZT86IGJvb2xlYW47XG4gICAgICAgIGRvdWJsZV92YWx1ZT86IHN0cmluZztcbiAgICAgIH07XG4gICAgfTtcbiAgfT47XG4gIGRyb3BwZWRfYXR0cmlidXRlc19jb3VudD86IG51bWJlcjtcbn07XG5cbmV4cG9ydCB0eXBlIFNwYW5zZXQgPSB7XG4gIGF0dHJpYnV0ZXM6IEtleVZhbHVlW107XG4gIHNwYW5zOiBTcGFuW107XG59O1xuXG5leHBvcnQgdHlwZSBTZWFyY2hSZXNwb25zZSA9IHtcbiAgdHJhY2VzOiBUcmFjZVNlYXJjaE1ldGFkYXRhW107XG4gIG1ldHJpY3M6IFNlYXJjaE1ldHJpY3M7XG59O1xuXG5leHBvcnQgdHlwZSBTY29wZSA9IHtcbiAgbmFtZTogc3RyaW5nO1xuICB0YWdzOiBzdHJpbmdbXTtcbn07XG4iXSwibmFtZXMiOlsiU3BhbktpbmQiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./public/app/plugins/datasource/tempo/types.ts\n");

/***/ }),

/***/ "./public/app/plugins/datasource/tempo/utils.ts":
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   getDS: () => (/* binding */ getDS),\n/* harmony export */   getErrorMessage: () => (/* binding */ getErrorMessage)\n/* harmony export */ });\n/* harmony import */ var _grafana_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"./.yarn/__virtual__/@grafana-runtime-virtual-68c57d4c0c/1/packages/grafana-runtime/src/services/dataSourceSrv.ts\");\n\n\nconst getErrorMessage = (message, prefix) => {\n  const err = message ? ` (${message})` : \"\";\n  let errPrefix = prefix ? prefix : \"Error\";\n  return `${errPrefix}${err}. Please check the server logs for more details.`;\n};\nasync function getDS(uid) {\n  if (!uid) {\n    return void 0;\n  }\n  const dsSrv = (0,_grafana_runtime__WEBPACK_IMPORTED_MODULE_0__.getDataSourceSrv)();\n  try {\n    return await dsSrv.get(uid);\n  } catch (error) {\n    console.error(\"Failed to load data source\", error);\n    return void 0;\n  }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9wdWJsaWMvYXBwL3BsdWdpbnMvZGF0YXNvdXJjZS90ZW1wby91dGlscy50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQ2lDO0FBRTFCLE1BQU0sa0JBQWtCLENBQUMsU0FBNkIsV0FBb0I7QUFDL0UsUUFBTSxNQUFNLFVBQVUsS0FBSyxhQUFhO0FBQ3hDLE1BQUksWUFBWSxTQUFTLFNBQVM7QUFDbEMsU0FBTyxHQUFHLFlBQVk7QUFDeEI7QUFFTyxlQUFlLE1BQU0sS0FBa0Q7QUFDNUUsTUFBSSxDQUFDLEtBQUs7QUFDUixXQUFPO0FBQUEsRUFDVDtBQUVBLFFBQU0sUUFBUSxrRUFBZ0IsQ0FBQztBQUMvQixNQUFJO0FBQ0YsV0FBTyxNQUFNLE1BQU0sSUFBSSxHQUFHO0FBQUEsRUFDNUIsU0FBUyxPQUFQO0FBQ0EsWUFBUSxNQUFNLDhCQUE4QixLQUFLO0FBQ2pELFdBQU87QUFBQSxFQUNUO0FBQ0YiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9ncmFmYW5hLy4vcHVibGljL2FwcC9wbHVnaW5zL2RhdGFzb3VyY2UvdGVtcG8vdXRpbHMudHM/ZDE2MiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBEYXRhU291cmNlQXBpIH0gZnJvbSAnQGdyYWZhbmEvZGF0YSc7XG5pbXBvcnQgeyBnZXREYXRhU291cmNlU3J2IH0gZnJvbSAnQGdyYWZhbmEvcnVudGltZSc7XG5cbmV4cG9ydCBjb25zdCBnZXRFcnJvck1lc3NhZ2UgPSAobWVzc2FnZTogc3RyaW5nIHwgdW5kZWZpbmVkLCBwcmVmaXg/OiBzdHJpbmcpID0+IHtcbiAgY29uc3QgZXJyID0gbWVzc2FnZSA/IGAgKCR7bWVzc2FnZX0pYCA6ICcnO1xuICBsZXQgZXJyUHJlZml4ID0gcHJlZml4ID8gcHJlZml4IDogJ0Vycm9yJztcbiAgcmV0dXJuIGAke2VyclByZWZpeH0ke2Vycn0uIFBsZWFzZSBjaGVjayB0aGUgc2VydmVyIGxvZ3MgZm9yIG1vcmUgZGV0YWlscy5gO1xufTtcblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldERTKHVpZD86IHN0cmluZyk6IFByb21pc2U8RGF0YVNvdXJjZUFwaSB8IHVuZGVmaW5lZD4ge1xuICBpZiAoIXVpZCkge1xuICAgIHJldHVybiB1bmRlZmluZWQ7XG4gIH1cblxuICBjb25zdCBkc1NydiA9IGdldERhdGFTb3VyY2VTcnYoKTtcbiAgdHJ5IHtcbiAgICByZXR1cm4gYXdhaXQgZHNTcnYuZ2V0KHVpZCk7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcignRmFpbGVkIHRvIGxvYWQgZGF0YSBzb3VyY2UnLCBlcnJvcik7XG4gICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgfVxufVxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./public/app/plugins/datasource/tempo/utils.ts\n");

/***/ }),

/***/ "./.yarn/__virtual__/react-use-virtual-dd7926f458/0/cache/react-use-npm-17.4.0-0ef4521544-0889da919b.zip/node_modules/react-use/lib/useAsync.js":
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nvar tslib_1 = __webpack_require__(\"./.yarn/cache/tslib-npm-2.3.1-0e21e18015-de17a98d46.zip/node_modules/tslib/tslib.es6.js\");\nvar react_1 = __webpack_require__(\"./.yarn/cache/react-npm-18.2.0-1eae08fee2-88e38092da.zip/node_modules/react/index.js\");\nvar useAsyncFn_1 = tslib_1.__importDefault(__webpack_require__(\"./.yarn/__virtual__/react-use-virtual-dd7926f458/0/cache/react-use-npm-17.4.0-0ef4521544-0889da919b.zip/node_modules/react-use/lib/useAsyncFn.js\"));\nfunction useAsync(fn, deps) {\n    if (deps === void 0) { deps = []; }\n    var _a = useAsyncFn_1.default(fn, deps, {\n        loading: true,\n    }), state = _a[0], callback = _a[1];\n    react_1.useEffect(function () {\n        callback();\n    }, [callback]);\n    return state;\n}\nexports[\"default\"] = useAsync;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi8ueWFybi9fX3ZpcnR1YWxfXy9yZWFjdC11c2UtdmlydHVhbC1kZDc5MjZmNDU4LzAvY2FjaGUvcmVhY3QtdXNlLW5wbS0xNy40LjAtMGVmNDUyMTU0NC0wODg5ZGE5MTliLnppcC9ub2RlX21vZHVsZXMvcmVhY3QtdXNlL2xpYi91c2VBc3luYy5qcyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiLDhDQUE2QyxFQUFFLGFBQWEsRUFBQztBQUM3RCxjQUFjLG1CQUFPLENBQUMseUZBQU87QUFDN0IsY0FBYyxtQkFBTyxDQUFDLHNGQUFPO0FBQzdCLDJDQUEyQyxtQkFBTyxDQUFDLGtKQUFjO0FBQ2pFO0FBQ0EsMkJBQTJCO0FBQzNCO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0Esa0JBQWUiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9ncmFmYW5hLy4vLnlhcm4vX192aXJ0dWFsX18vcmVhY3QtdXNlLXZpcnR1YWwtZGQ3OTI2ZjQ1OC8wL2NhY2hlL3JlYWN0LXVzZS1ucG0tMTcuNC4wLTBlZjQ1MjE1NDQtMDg4OWRhOTE5Yi56aXAvbm9kZV9tb2R1bGVzL3JlYWN0LXVzZS9saWIvdXNlQXN5bmMuanM/NzQwNyJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbnZhciB0c2xpYl8xID0gcmVxdWlyZShcInRzbGliXCIpO1xudmFyIHJlYWN0XzEgPSByZXF1aXJlKFwicmVhY3RcIik7XG52YXIgdXNlQXN5bmNGbl8xID0gdHNsaWJfMS5fX2ltcG9ydERlZmF1bHQocmVxdWlyZShcIi4vdXNlQXN5bmNGblwiKSk7XG5mdW5jdGlvbiB1c2VBc3luYyhmbiwgZGVwcykge1xuICAgIGlmIChkZXBzID09PSB2b2lkIDApIHsgZGVwcyA9IFtdOyB9XG4gICAgdmFyIF9hID0gdXNlQXN5bmNGbl8xLmRlZmF1bHQoZm4sIGRlcHMsIHtcbiAgICAgICAgbG9hZGluZzogdHJ1ZSxcbiAgICB9KSwgc3RhdGUgPSBfYVswXSwgY2FsbGJhY2sgPSBfYVsxXTtcbiAgICByZWFjdF8xLnVzZUVmZmVjdChmdW5jdGlvbiAoKSB7XG4gICAgICAgIGNhbGxiYWNrKCk7XG4gICAgfSwgW2NhbGxiYWNrXSk7XG4gICAgcmV0dXJuIHN0YXRlO1xufVxuZXhwb3J0cy5kZWZhdWx0ID0gdXNlQXN5bmM7XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./.yarn/__virtual__/react-use-virtual-dd7926f458/0/cache/react-use-npm-17.4.0-0ef4521544-0889da919b.zip/node_modules/react-use/lib/useAsync.js\n");

/***/ }),

/***/ "./public/app/plugins/datasource/tempo/plugin.json":
/***/ ((module) => {

module.exports = JSON.parse('{"type":"datasource","name":"Tempo","id":"tempo","category":"tracing","metrics":true,"alerting":false,"annotations":false,"logs":false,"streaming":false,"tracing":true,"backend":true,"info":{"description":"High volume, minimal dependency trace storage.  OSS tracing solution from Grafana Labs.","author":{"name":"Grafana Labs","url":"https://grafana.com"},"logos":{"small":"img/tempo_logo.svg","large":"img/tempo_logo.svg"},"links":[{"name":"GitHub Project","url":"https://github.com/grafana/tempo"}]}}');

/***/ })

}]);